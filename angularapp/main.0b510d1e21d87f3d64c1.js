(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{8255:Ut=>{function Le(ie){return Promise.resolve().then(()=>{var x=new Error("Cannot find module '"+ie+"'");throw x.code="MODULE_NOT_FOUND",x})}Le.keys=()=>[],Le.resolve=Le,Le.id=8255,Ut.exports=Le},8583:(Ut,Le,ie)=>{"use strict";ie.d(Le,{mr:()=>Qe,ez:()=>gn,K0:()=>De,x:()=>ue,Do:()=>Gt,V_:()=>X,Ye:()=>mn,S$:()=>et,sg:()=>Tn,O5:()=>$r,tP:()=>Pi,b0:()=>Dt,Zx:()=>Xr,lw:()=>Fe,OU:()=>hi,Tn:()=>Q,EM:()=>bo,JF:()=>Vr,p6:()=>ze,Mn:()=>xt,ol:()=>dt,UT:()=>Ke,NF:()=>ai,PM:()=>vo,w_:()=>Ve,bD:()=>Wr,q:()=>J,Mx:()=>Sr,HT:()=>Se});var x=ie(7716);let u=null;function J(){return u}function Se(U){u||(u=U)}class Ve{}const De=new x.OlP("DocumentToken");let Fe=(()=>{class U{historyGo(j){throw new Error("Not implemented")}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275prov=(0,x.Yz7)({factory:te,token:U,providedIn:"platform"}),U})();function te(){return(0,x.LFG)(Ee)}const X=new x.OlP("Location Initialized");let Ee=(()=>{class U extends Fe{constructor(j){super(),this._doc=j,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(j){const le=J().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",j,!1),()=>le.removeEventListener("popstate",j)}onHashChange(j){const le=J().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",j,!1),()=>le.removeEventListener("hashchange",j)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(j){this.location.pathname=j}pushState(j,le,Ae){_e()?this._history.pushState(j,le,Ae):this.location.hash=Ae}replaceState(j,le,Ae){_e()?this._history.replaceState(j,le,Ae):this.location.hash=Ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return U.\u0275fac=function(j){return new(j||U)(x.LFG(De))},U.\u0275prov=(0,x.Yz7)({factory:ye,token:U,providedIn:"platform"}),U})();function _e(){return!!window.history.pushState}function ye(){return new Ee((0,x.LFG)(De))}function tt(U,ne){if(0==U.length)return ne;if(0==ne.length)return U;let j=0;return U.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?U+ne.substring(1):1==j?U+ne:U+"/"+ne}function ct(U){const ne=U.match(/#|\?|$/),j=ne&&ne.index||U.length;return U.slice(0,j-("/"===U[j-1]?1:0))+U.slice(j)}function it(U){return U&&"?"!==U[0]?"?"+U:U}let et=(()=>{class U{historyGo(j){throw new Error("Not implemented")}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275prov=(0,x.Yz7)({factory:we,token:U,providedIn:"root"}),U})();function we(U){const ne=(0,x.LFG)(De).location;return new Dt((0,x.LFG)(Fe),ne&&ne.origin||"")}const Qe=new x.OlP("appBaseHref");let Dt=(()=>{class U extends et{constructor(j,le){if(super(),this._platformLocation=j,this._removeListenerFns=[],null==le&&(le=this._platformLocation.getBaseHrefFromDOM()),null==le)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=le}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return tt(this._baseHref,j)}path(j=!1){const le=this._platformLocation.pathname+it(this._platformLocation.search),Ae=this._platformLocation.hash;return Ae&&j?`${le}${Ae}`:le}pushState(j,le,Ae,st){const bt=this.prepareExternalUrl(Ae+it(st));this._platformLocation.pushState(j,le,bt)}replaceState(j,le,Ae,st){const bt=this.prepareExternalUrl(Ae+it(st));this._platformLocation.replaceState(j,le,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var le,Ae;null===(Ae=(le=this._platformLocation).historyGo)||void 0===Ae||Ae.call(le,j)}}return U.\u0275fac=function(j){return new(j||U)(x.LFG(Fe),x.LFG(Qe,8))},U.\u0275prov=x.Yz7({token:U,factory:U.\u0275fac}),U})(),Gt=(()=>{class U extends et{constructor(j,le){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(j){const le=tt(this._baseHref,j);return le.length>0?"#"+le:le}pushState(j,le,Ae,st){let bt=this.prepareExternalUrl(Ae+it(st));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(j,le,bt)}replaceState(j,le,Ae,st){let bt=this.prepareExternalUrl(Ae+it(st));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(j,le,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var le,Ae;null===(Ae=(le=this._platformLocation).historyGo)||void 0===Ae||Ae.call(le,j)}}return U.\u0275fac=function(j){return new(j||U)(x.LFG(Fe),x.LFG(Qe,8))},U.\u0275prov=x.Yz7({token:U,factory:U.\u0275fac}),U})(),mn=(()=>{class U{constructor(j,le){this._subject=new x.vpe,this._urlChangeListeners=[],this._platformStrategy=j;const Ae=this._platformStrategy.getBaseHref();this._platformLocation=le,this._baseHref=ct($(Ae)),this._platformStrategy.onPopState(st=>{this._subject.emit({url:this.path(!0),pop:!0,state:st.state,type:st.type})})}path(j=!1){return this.normalize(this._platformStrategy.path(j))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(j,le=""){return this.path()==this.normalize(j+it(le))}normalize(j){return U.stripTrailingSlash(function(U,ne){return U&&ne.startsWith(U)?ne.substring(U.length):ne}(this._baseHref,$(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._platformStrategy.prepareExternalUrl(j)}go(j,le="",Ae=null){this._platformStrategy.pushState(Ae,"",j,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+it(le)),Ae)}replaceState(j,le="",Ae=null){this._platformStrategy.replaceState(Ae,"",j,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+it(le)),Ae)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(j=0){var le,Ae;null===(Ae=(le=this._platformStrategy).historyGo)||void 0===Ae||Ae.call(le,j)}onUrlChange(j){this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)}))}_notifyUrlChangeListeners(j="",le){this._urlChangeListeners.forEach(Ae=>Ae(j,le))}subscribe(j,le,Ae){return this._subject.subscribe({next:j,error:le,complete:Ae})}}return U.\u0275fac=function(j){return new(j||U)(x.LFG(et),x.LFG(Fe))},U.normalizeQueryParams=it,U.joinWithSlash=tt,U.stripTrailingSlash=ct,U.\u0275prov=(0,x.Yz7)({factory:Vt,token:U,providedIn:"root"}),U})();function Vt(){return new mn((0,x.LFG)(et),(0,x.LFG)(Fe))}function $(U){return U.replace(/\/index.html$/,"")}var z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Percent=1]="Percent",z[z.Currency=2]="Currency",z[z.Scientific=3]="Scientific",z))(),ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))(),ue=(()=>((ue=ue||{})[ue.Format=0]="Format",ue[ue.Standalone=1]="Standalone",ue))(),Q=(()=>((Q=Q||{})[Q.Narrow=0]="Narrow",Q[Q.Abbreviated=1]="Abbreviated",Q[Q.Wide=2]="Wide",Q[Q.Short=3]="Short",Q))(),Ie=(()=>((Ie=Ie||{})[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function dt(U,ne,j){const le=(0,x.cg1)(U),st=Ln([le[x.wAp.DayPeriodsFormat],le[x.wAp.DayPeriodsStandalone]],ne);return Ln(st,j)}function xt(U,ne,j){const le=(0,x.cg1)(U),st=Ln([le[x.wAp.DaysFormat],le[x.wAp.DaysStandalone]],ne);return Ln(st,j)}function Ke(U,ne,j){const le=(0,x.cg1)(U),st=Ln([le[x.wAp.MonthsFormat],le[x.wAp.MonthsStandalone]],ne);return Ln(st,j)}function Qr(U,ne){return Ln((0,x.cg1)(U)[x.wAp.DateFormat],ne)}function on(U,ne){return Ln((0,x.cg1)(U)[x.wAp.TimeFormat],ne)}function Hn(U,ne){return Ln((0,x.cg1)(U)[x.wAp.DateTimeFormat],ne)}function dn(U,ne){const j=(0,x.cg1)(U),le=j[x.wAp.NumberSymbols][ne];if(void 0===le){if(ne===Ne.CurrencyDecimal)return j[x.wAp.NumberSymbols][Ne.Decimal];if(ne===Ne.CurrencyGroup)return j[x.wAp.NumberSymbols][Ne.Group]}return le}const Gn=x.kL8;function Fn(U){if(!U[x.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[x.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ln(U,ne){for(let j=ne;j>-1;j--)if(void 0!==U[j])return U[j];throw new Error("Locale data API: locale data undefined")}function Sn(U){const[ne,j]=U.split(":");return{hours:+ne,minutes:+j}}const be=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nt={},mt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Te=(()=>((Te=Te||{})[Te.Short=0]="Short",Te[Te.ShortGMT=1]="ShortGMT",Te[Te.Long=2]="Long",Te[Te.Extended=3]="Extended",Te))(),me=(()=>((me=me||{})[me.FullYear=0]="FullYear",me[me.Month=1]="Month",me[me.Date=2]="Date",me[me.Hours=3]="Hours",me[me.Minutes=4]="Minutes",me[me.Seconds=5]="Seconds",me[me.FractionalSeconds=6]="FractionalSeconds",me[me.Day=7]="Day",me))(),Oe=(()=>((Oe=Oe||{})[Oe.DayPeriods=0]="DayPeriods",Oe[Oe.Days=1]="Days",Oe[Oe.Months=2]="Months",Oe[Oe.Eras=3]="Eras",Oe))();function ze(U,ne,j,le){let Ae=function(U){if(_o(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Ae,st=1,bt=1]=U.split("-").map(Ht=>+Ht);return $e(Ae,st-1,bt)}const j=parseFloat(U);if(!isNaN(U-j))return new Date(j);let le;if(le=U.match(be))return function(U){const ne=new Date(0);let j=0,le=0;const Ae=U[8]?ne.setUTCFullYear:ne.setFullYear,st=U[8]?ne.setUTCHours:ne.setHours;U[9]&&(j=Number(U[9]+U[10]),le=Number(U[9]+U[11])),Ae.call(ne,Number(U[1]),Number(U[2])-1,Number(U[3]));const bt=Number(U[4]||0)-j,Ht=Number(U[5]||0)-le,sn=Number(U[6]||0),Qn=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return st.call(ne,bt,Ht,sn,Qn),ne}(le)}const ne=new Date(U);if(!_o(ne))throw new Error(`Unable to convert "${U}" into a date`);return ne}(U);ne=wt(j,ne)||ne;let Ht,bt=[];for(;ne;){if(Ht=mt.exec(ne),!Ht){bt.push(ne);break}{bt=bt.concat(Ht.slice(1));const On=bt.pop();if(!On)break;ne=On}}let sn=Ae.getTimezoneOffset();le&&(sn=Ur(le,sn),Ae=function(U,ne,j){const Ae=U.getTimezoneOffset();return function(U,ne){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ne),U}(U,-1*(Ur(ne,Ae)-Ae))}(Ae,le));let Qn="";return bt.forEach(On=>{const ln=function(U){if(ao[U])return ao[U];let ne;switch(U){case"G":case"GG":case"GGG":ne=Wt(Oe.Eras,Q.Abbreviated);break;case"GGGG":ne=Wt(Oe.Eras,Q.Wide);break;case"GGGGG":ne=Wt(Oe.Eras,Q.Narrow);break;case"y":ne=Pt(me.FullYear,1,0,!1,!0);break;case"yy":ne=Pt(me.FullYear,2,0,!0,!0);break;case"yyy":ne=Pt(me.FullYear,3,0,!1,!0);break;case"yyyy":ne=Pt(me.FullYear,4,0,!1,!0);break;case"Y":ne=Jr(1);break;case"YY":ne=Jr(2,!0);break;case"YYY":ne=Jr(3);break;case"YYYY":ne=Jr(4);break;case"M":case"L":ne=Pt(me.Month,1,1);break;case"MM":case"LL":ne=Pt(me.Month,2,1);break;case"MMM":ne=Wt(Oe.Months,Q.Abbreviated);break;case"MMMM":ne=Wt(Oe.Months,Q.Wide);break;case"MMMMM":ne=Wt(Oe.Months,Q.Narrow);break;case"LLL":ne=Wt(Oe.Months,Q.Abbreviated,ue.Standalone);break;case"LLLL":ne=Wt(Oe.Months,Q.Wide,ue.Standalone);break;case"LLLLL":ne=Wt(Oe.Months,Q.Narrow,ue.Standalone);break;case"w":ne=Io(1);break;case"ww":ne=Io(2);break;case"W":ne=Io(1,!0);break;case"d":ne=Pt(me.Date,1);break;case"dd":ne=Pt(me.Date,2);break;case"c":case"cc":ne=Pt(me.Day,1);break;case"ccc":ne=Wt(Oe.Days,Q.Abbreviated,ue.Standalone);break;case"cccc":ne=Wt(Oe.Days,Q.Wide,ue.Standalone);break;case"ccccc":ne=Wt(Oe.Days,Q.Narrow,ue.Standalone);break;case"cccccc":ne=Wt(Oe.Days,Q.Short,ue.Standalone);break;case"E":case"EE":case"EEE":ne=Wt(Oe.Days,Q.Abbreviated);break;case"EEEE":ne=Wt(Oe.Days,Q.Wide);break;case"EEEEE":ne=Wt(Oe.Days,Q.Narrow);break;case"EEEEEE":ne=Wt(Oe.Days,Q.Short);break;case"a":case"aa":case"aaa":ne=Wt(Oe.DayPeriods,Q.Abbreviated);break;case"aaaa":ne=Wt(Oe.DayPeriods,Q.Wide);break;case"aaaaa":ne=Wt(Oe.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":ne=Wt(Oe.DayPeriods,Q.Abbreviated,ue.Standalone,!0);break;case"bbbb":ne=Wt(Oe.DayPeriods,Q.Wide,ue.Standalone,!0);break;case"bbbbb":ne=Wt(Oe.DayPeriods,Q.Narrow,ue.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Wt(Oe.DayPeriods,Q.Abbreviated,ue.Format,!0);break;case"BBBB":ne=Wt(Oe.DayPeriods,Q.Wide,ue.Format,!0);break;case"BBBBB":ne=Wt(Oe.DayPeriods,Q.Narrow,ue.Format,!0);break;case"h":ne=Pt(me.Hours,1,-12);break;case"hh":ne=Pt(me.Hours,2,-12);break;case"H":ne=Pt(me.Hours,1);break;case"HH":ne=Pt(me.Hours,2);break;case"m":ne=Pt(me.Minutes,1);break;case"mm":ne=Pt(me.Minutes,2);break;case"s":ne=Pt(me.Seconds,1);break;case"ss":ne=Pt(me.Seconds,2);break;case"S":ne=Pt(me.FractionalSeconds,1);break;case"SS":ne=Pt(me.FractionalSeconds,2);break;case"SSS":ne=Pt(me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Nn(Te.Short);break;case"ZZZZZ":ne=Nn(Te.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Nn(Te.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Nn(Te.Long);break;default:return null}return ao[U]=ne,ne}(On);Qn+=ln?ln(Ae,j,sn):"''"===On?"'":On.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qn}function $e(U,ne,j){const le=new Date(0);return le.setFullYear(U,ne,j),le.setHours(0,0,0),le}function wt(U,ne){const j=function(U){return(0,x.cg1)(U)[x.wAp.LocaleId]}(U);if(nt[j]=nt[j]||{},nt[j][ne])return nt[j][ne];let le="";switch(ne){case"shortDate":le=Qr(U,Ie.Short);break;case"mediumDate":le=Qr(U,Ie.Medium);break;case"longDate":le=Qr(U,Ie.Long);break;case"fullDate":le=Qr(U,Ie.Full);break;case"shortTime":le=on(U,Ie.Short);break;case"mediumTime":le=on(U,Ie.Medium);break;case"longTime":le=on(U,Ie.Long);break;case"fullTime":le=on(U,Ie.Full);break;case"short":const Ae=wt(U,"shortTime"),st=wt(U,"shortDate");le=Tt(Hn(U,Ie.Short),[Ae,st]);break;case"medium":const bt=wt(U,"mediumTime"),Ht=wt(U,"mediumDate");le=Tt(Hn(U,Ie.Medium),[bt,Ht]);break;case"long":const sn=wt(U,"longTime"),Qn=wt(U,"longDate");le=Tt(Hn(U,Ie.Long),[sn,Qn]);break;case"full":const On=wt(U,"fullTime"),ln=wt(U,"fullDate");le=Tt(Hn(U,Ie.Full),[On,ln])}return le&&(nt[j][ne]=le),le}function Tt(U,ne){return ne&&(U=U.replace(/\{([^}]+)}/g,function(j,le){return null!=ne&&le in ne?ne[le]:j})),U}function jt(U,ne,j="-",le,Ae){let st="";(U<0||Ae&&U<=0)&&(Ae?U=1-U:(U=-U,st=j));let bt=String(U);for(;bt.length<ne;)bt="0"+bt;return le&&(bt=bt.substr(bt.length-ne)),st+bt}function Pt(U,ne,j=0,le=!1,Ae=!1){return function(st,bt){let Ht=function(U,ne){switch(U){case me.FullYear:return ne.getFullYear();case me.Month:return ne.getMonth();case me.Date:return ne.getDate();case me.Hours:return ne.getHours();case me.Minutes:return ne.getMinutes();case me.Seconds:return ne.getSeconds();case me.FractionalSeconds:return ne.getMilliseconds();case me.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,st);if((j>0||Ht>-j)&&(Ht+=j),U===me.Hours)0===Ht&&-12===j&&(Ht=12);else if(U===me.FractionalSeconds)return function(U,ne){return jt(U,3).substr(0,ne)}(Ht,ne);const sn=dn(bt,Ne.MinusSign);return jt(Ht,ne,sn,le,Ae)}}function Wt(U,ne,j=ue.Format,le=!1){return function(Ae,st){return function(U,ne,j,le,Ae,st){switch(j){case Oe.Months:return Ke(ne,Ae,le)[U.getMonth()];case Oe.Days:return xt(ne,Ae,le)[U.getDay()];case Oe.DayPeriods:const bt=U.getHours(),Ht=U.getMinutes();if(st){const Qn=function(U){const ne=(0,x.cg1)(U);return Fn(ne),(ne[x.wAp.ExtraData][2]||[]).map(le=>"string"==typeof le?Sn(le):[Sn(le[0]),Sn(le[1])])}(ne),On=function(U,ne,j){const le=(0,x.cg1)(U);Fn(le);const st=Ln([le[x.wAp.ExtraData][0],le[x.wAp.ExtraData][1]],ne)||[];return Ln(st,j)||[]}(ne,Ae,le),ln=Qn.findIndex(Mn=>{if(Array.isArray(Mn)){const[sr,Nr]=Mn,ui=bt>=sr.hours&&Ht>=sr.minutes,hr=bt<Nr.hours||bt===Nr.hours&&Ht<Nr.minutes;if(sr.hours<Nr.hours){if(ui&&hr)return!0}else if(ui||hr)return!0}else if(Mn.hours===bt&&Mn.minutes===Ht)return!0;return!1});if(-1!==ln)return On[ln]}return dt(ne,Ae,le)[bt<12?0:1];case Oe.Eras:return function(U,ne){return Ln((0,x.cg1)(U)[x.wAp.Eras],ne)}(ne,le)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ae,st,U,ne,j,le)}}function Nn(U){return function(ne,j,le){const Ae=-1*le,st=dn(j,Ne.MinusSign),bt=Ae>0?Math.floor(Ae/60):Math.ceil(Ae/60);switch(U){case Te.Short:return(Ae>=0?"+":"")+jt(bt,2,st)+jt(Math.abs(Ae%60),2,st);case Te.ShortGMT:return"GMT"+(Ae>=0?"+":"")+jt(bt,1,st);case Te.Long:return"GMT"+(Ae>=0?"+":"")+jt(bt,2,st)+":"+jt(Math.abs(Ae%60),2,st);case Te.Extended:return 0===le?"Z":(Ae>=0?"+":"")+jt(bt,2,st)+":"+jt(Math.abs(Ae%60),2,st);default:throw new Error(`Unknown zone width "${U}"`)}}}function so(U){return $e(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Io(U,ne=!1){return function(j,le){let Ae;if(ne){const st=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,bt=j.getDate();Ae=1+Math.floor((bt+st)/7)}else{const st=so(j),bt=function(U){const ne=$e(U,0,1).getDay();return $e(U,0,1+(ne<=4?4:11)-ne)}(st.getFullYear()),Ht=st.getTime()-bt.getTime();Ae=1+Math.round(Ht/6048e5)}return jt(Ae,U,dn(le,Ne.MinusSign))}}function Jr(U,ne=!1){return function(j,le){return jt(so(j).getFullYear(),U,dn(le,Ne.MinusSign),ne)}}const ao={};function Ur(U,ne){U=U.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(j)?ne:j}function _o(U){return U instanceof Date&&!isNaN(U.valueOf())}const $o=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tn(U){const ne=parseInt(U);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+U);return ne}class Ir{}let qi=(()=>{class U extends Ir{constructor(j){super(),this.locale=j}getPluralCategory(j,le){switch(Gn(le||this.locale)(j)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return U.\u0275fac=function(j){return new(j||U)(x.LFG(x.soG))},U.\u0275prov=x.Yz7({token:U,factory:U.\u0275fac}),U})();function Sr(U,ne){ne=encodeURIComponent(ne);for(const j of U.split(";")){const le=j.indexOf("="),[Ae,st]=-1==le?[j,""]:[j.slice(0,le),j.slice(le+1)];if(Ae.trim()===ne)return decodeURIComponent(st)}return null}class er{constructor(ne,j,le,Ae){this.$implicit=ne,this.ngForOf=j,this.index=le,this.count=Ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class U{constructor(j,le,Ae){this._viewContainer=j,this._template=le,this._differs=Ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;if(!this._differ&&j)try{this._differ=this._differs.find(j).create(this.ngForTrackBy)}catch(le){throw new Error(`Cannot find a differ supporting object '${j}' of type '${function(U){return U.name||typeof U}(j)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const le=[];j.forEachOperation((Ae,st,bt)=>{if(null==Ae.previousIndex){const Ht=this._viewContainer.createEmbeddedView(this._template,new er(null,this._ngForOf,-1,-1),null===bt?void 0:bt),sn=new en(Ae,Ht);le.push(sn)}else if(null==bt)this._viewContainer.remove(null===st?void 0:st);else if(null!==st){const Ht=this._viewContainer.get(st);this._viewContainer.move(Ht,bt);const sn=new en(Ae,Ht);le.push(sn)}});for(let Ae=0;Ae<le.length;Ae++)this._perViewChange(le[Ae].view,le[Ae].record);for(let Ae=0,st=this._viewContainer.length;Ae<st;Ae++){const bt=this._viewContainer.get(Ae);bt.context.index=Ae,bt.context.count=st,bt.context.ngForOf=this._ngForOf}j.forEachIdentityChange(Ae=>{this._viewContainer.get(Ae.currentIndex).context.$implicit=Ae.item})}_perViewChange(j,le){j.context.$implicit=le.item}static ngTemplateContextGuard(j,le){return!0}}return U.\u0275fac=function(j){return new(j||U)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(x.ZZ4))},U.\u0275dir=x.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class en{constructor(ne,j){this.record=ne,this.view=j}}let $r=(()=>{class U{constructor(j,le){this._viewContainer=j,this._context=new Kr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ii("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ii("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,le){return!0}}return U.\u0275fac=function(j){return new(j||U)(x.Y36(x.s_b),x.Y36(x.Rgc))},U.\u0275dir=x.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Kr{constructor(){this.$implicit=null,this.ngIf=null}}function ii(U,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,x.AaK)(ne)}'.`)}let Pi=(()=>{class U{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(j){if(j.ngTemplateOutlet){const le=this._viewContainerRef;this._viewRef&&le.remove(le.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?le.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(j){return new(j||U)(x.Y36(x.s_b))},U.\u0275dir=x.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[x.TTD]}),U})();function Zr(U,ne){return Error(`InvalidPipeArgument: '${ne}' for pipe '${(0,x.AaK)(U)}'`)}let Xr=(()=>{class U{constructor(j){this._locale=j}transform(j,le,Ae){if(!function(U){return!(null==U||""===U||U!=U)}(j))return null;Ae=Ae||this._locale;try{return function(U,ne,j){return function(U,ne,j,le,Ae,st,bt=!1){let Ht="",sn=!1;if(isFinite(U)){let Qn=function(U){let le,Ae,st,bt,Ht,ne=Math.abs(U)+"",j=0;for((Ae=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(st=ne.search(/e/i))>0?(Ae<0&&(Ae=st),Ae+=+ne.slice(st+1),ne=ne.substring(0,st)):Ae<0&&(Ae=ne.length),st=0;"0"===ne.charAt(st);st++);if(st===(Ht=ne.length))le=[0],Ae=1;else{for(Ht--;"0"===ne.charAt(Ht);)Ht--;for(Ae-=st,le=[],bt=0;st<=Ht;st++,bt++)le[bt]=Number(ne.charAt(st))}return Ae>22&&(le=le.splice(0,21),j=Ae-1,Ae=1),{digits:le,exponent:j,integerLen:Ae}}(U);bt&&(Qn=function(U){if(0===U.digits[0])return U;const ne=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===ne?U.digits.push(0,0):1===ne&&U.digits.push(0),U.integerLen+=2),U}(Qn));let On=ne.minInt,ln=ne.minFrac,Mn=ne.maxFrac;if(st){const tr=st.match($o);if(null===tr)throw new Error(`${st} is not a valid digit info`);const Mt=tr[1],ar=tr[3],Vi=tr[5];null!=Mt&&(On=tn(Mt)),null!=ar&&(ln=tn(ar)),null!=Vi?Mn=tn(Vi):null!=ar&&ln>Mn&&(Mn=ln)}!function(U,ne,j){if(ne>j)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${j}).`);let le=U.digits,Ae=le.length-U.integerLen;const st=Math.min(Math.max(ne,Ae),j);let bt=st+U.integerLen,Ht=le[bt];if(bt>0){le.splice(Math.max(U.integerLen,bt));for(let ln=bt;ln<le.length;ln++)le[ln]=0}else{Ae=Math.max(0,Ae),U.integerLen=1,le.length=Math.max(1,bt=st+1),le[0]=0;for(let ln=1;ln<bt;ln++)le[ln]=0}if(Ht>=5)if(bt-1<0){for(let ln=0;ln>bt;ln--)le.unshift(0),U.integerLen++;le.unshift(1),U.integerLen++}else le[bt-1]++;for(;Ae<Math.max(0,st);Ae++)le.push(0);let sn=0!==st;const Qn=ne+U.integerLen,On=le.reduceRight(function(ln,Mn,sr,Nr){return Nr[sr]=(Mn+=ln)<10?Mn:Mn-10,sn&&(0===Nr[sr]&&sr>=Qn?Nr.pop():sn=!1),Mn>=10?1:0},0);On&&(le.unshift(On),U.integerLen++)}(Qn,ln,Mn);let sr=Qn.digits,Nr=Qn.integerLen;const ui=Qn.exponent;let hr=[];for(sn=sr.every(tr=>!tr);Nr<On;Nr++)sr.unshift(0);for(;Nr<0;Nr++)sr.unshift(0);Nr>0?hr=sr.splice(Nr,sr.length):(hr=sr,sr=[0]);const zi=[];for(sr.length>=ne.lgSize&&zi.unshift(sr.splice(-ne.lgSize,sr.length).join(""));sr.length>ne.gSize;)zi.unshift(sr.splice(-ne.gSize,sr.length).join(""));sr.length&&zi.unshift(sr.join("")),Ht=zi.join(dn(j,le)),hr.length&&(Ht+=dn(j,Ae)+hr.join("")),ui&&(Ht+=dn(j,Ne.Exponential)+"+"+ui)}else Ht=dn(j,Ne.Infinity);return Ht=U<0&&!sn?ne.negPre+Ht+ne.negSuf:ne.posPre+Ht+ne.posSuf,Ht}(U,function(U,ne="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},le=U.split(";"),Ae=le[0],st=le[1],bt=-1!==Ae.indexOf(".")?Ae.split("."):[Ae.substring(0,Ae.lastIndexOf("0")+1),Ae.substring(Ae.lastIndexOf("0")+1)],Ht=bt[0],sn=bt[1]||"";j.posPre=Ht.substr(0,Ht.indexOf("#"));for(let On=0;On<sn.length;On++){const ln=sn.charAt(On);"0"===ln?j.minFrac=j.maxFrac=On+1:"#"===ln?j.maxFrac=On+1:j.posSuf+=ln}const Qn=Ht.split(",");if(j.gSize=Qn[1]?Qn[1].length:0,j.lgSize=Qn[2]||Qn[1]?(Qn[2]||Qn[1]).length:0,st){const On=Ae.length-j.posPre.length-j.posSuf.length,ln=st.indexOf("#");j.negPre=st.substr(0,ln).replace(/'/g,""),j.negSuf=st.substr(ln+On).replace(/'/g,"")}else j.negPre=ne+j.posPre,j.negSuf=j.posSuf;return j}(function(U,ne){return(0,x.cg1)(U)[x.wAp.NumberFormats][ne]}(ne,z.Percent),dn(ne,Ne.MinusSign)),ne,Ne.Group,Ne.Decimal,j,!0).replace(new RegExp("%","g"),dn(ne,Ne.PercentSign))}(function(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(j),Ae,le)}catch(st){throw Zr(U,st.message)}}}return U.\u0275fac=function(j){return new(j||U)(x.Y36(x.soG,16))},U.\u0275pipe=x.Yjl({name:"percent",type:U,pure:!0}),U})();let hi=(()=>{class U{transform(j,le,Ae){if(null==j)return null;if(!this.supports(j))throw Zr(U,j);return j.slice(le,Ae)}supports(j){return"string"==typeof j||Array.isArray(j)}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275pipe=x.Yjl({name:"slice",type:U,pure:!1}),U})(),gn=(()=>{class U{}return U.\u0275fac=function(j){return new(j||U)},U.\u0275mod=x.oAB({type:U}),U.\u0275inj=x.cJS({providers:[{provide:Ir,useClass:qi}]}),U})();const Wr="browser";function ai(U){return U===Wr}function vo(U){return"server"===U}let bo=(()=>{class U{}return U.\u0275prov=(0,x.Yz7)({token:U,providedIn:"root",factory:()=>new Xi((0,x.LFG)(De),window)}),U})();class Xi{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function(U,ne){const j=U.getElementById(ne)||U.getElementsByName(ne)[0];if(j)return j;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const le=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ae=le.currentNode;for(;Ae;){const st=Ae.shadowRoot;if(st){const bt=st.getElementById(ne)||st.querySelector(`[name="${ne}"]`);if(bt)return bt}Ae=le.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),this.attemptFocus(j))}setHistoryScrollRestoration(ne){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=ne)}}scrollToElement(ne){const j=ne.getBoundingClientRect(),le=j.left+this.window.pageXOffset,Ae=j.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(le-st[0],Ae-st[1])}attemptFocus(ne){return ne.focus(),this.document.activeElement===ne}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ne=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!ne||!ne.writable&&!ne.set)}catch(ne){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ne){return!1}}}function Lr(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Vr{}},1841:(Ut,Le,ie)=>{"use strict";ie.d(Le,{eN:()=>Ne,JF:()=>Ln});var x=ie(8583),u=ie(7716),J=ie(5917),He=ie(7574),Se=ie(4612),Ve=ie(5435),De=ie(8002);class Fe{}class te{}class X{constructor(je){this.normalizedNames=new Map,this.lazyUpdate=null,je?this.lazyInit="string"==typeof je?()=>{this.headers=new Map,je.split("\n").forEach(be=>{const nt=be.indexOf(":");if(nt>0){const mt=be.slice(0,nt),Te=mt.toLowerCase(),me=be.slice(nt+1).trim();this.maybeSetNormalizedName(mt,Te),this.headers.has(Te)?this.headers.get(Te).push(me):this.headers.set(Te,[me])}})}:()=>{this.headers=new Map,Object.keys(je).forEach(be=>{let nt=je[be];const mt=be.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(mt,nt),this.maybeSetNormalizedName(be,mt))})}:this.headers=new Map}has(je){return this.init(),this.headers.has(je.toLowerCase())}get(je){this.init();const be=this.headers.get(je.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(je){return this.init(),this.headers.get(je.toLowerCase())||null}append(je,be){return this.clone({name:je,value:be,op:"a"})}set(je,be){return this.clone({name:je,value:be,op:"s"})}delete(je,be){return this.clone({name:je,value:be,op:"d"})}maybeSetNormalizedName(je,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,je)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(je=>this.applyUpdate(je)),this.lazyUpdate=null))}copyFrom(je){je.init(),Array.from(je.headers.keys()).forEach(be=>{this.headers.set(be,je.headers.get(be)),this.normalizedNames.set(be,je.normalizedNames.get(be))})}clone(je){const be=new X;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([je]),be}applyUpdate(je){const be=je.name.toLowerCase();switch(je.op){case"a":case"s":let nt=je.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(je.name,be);const mt=("a"===je.op?this.headers.get(be):void 0)||[];mt.push(...nt),this.headers.set(be,mt);break;case"d":const Te=je.value;if(Te){let me=this.headers.get(be);if(!me)return;me=me.filter(Oe=>-1===Te.indexOf(Oe)),0===me.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,me)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(je){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>je(this.normalizedNames.get(be),this.headers.get(be)))}}class Ee{encodeKey(je){return ct(je)}encodeValue(je){return ct(je)}decodeKey(je){return decodeURIComponent(je)}decodeValue(je){return decodeURIComponent(je)}}const ye=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ct(ft){return encodeURIComponent(ft).replace(ye,(je,be)=>{var nt;return null!==(nt=tt[be])&&void 0!==nt?nt:je})}function it(ft){return`${ft}`}class et{constructor(je={}){if(this.updates=null,this.cloneFrom=null,this.encoder=je.encoder||new Ee,je.fromString){if(je.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ft,je){const be=new Map;return ft.length>0&&ft.replace(/^\?/,"").split("&").forEach(mt=>{const Te=mt.indexOf("="),[me,Oe]=-1==Te?[je.decodeKey(mt),""]:[je.decodeKey(mt.slice(0,Te)),je.decodeValue(mt.slice(Te+1))],ze=be.get(me)||[];ze.push(Oe),be.set(me,ze)}),be}(je.fromString,this.encoder)}else je.fromObject?(this.map=new Map,Object.keys(je.fromObject).forEach(be=>{const nt=je.fromObject[be];this.map.set(be,Array.isArray(nt)?nt:[nt])})):this.map=null}has(je){return this.init(),this.map.has(je)}get(je){this.init();const be=this.map.get(je);return be?be[0]:null}getAll(je){return this.init(),this.map.get(je)||null}keys(){return this.init(),Array.from(this.map.keys())}append(je,be){return this.clone({param:je,value:be,op:"a"})}appendAll(je){const be=[];return Object.keys(je).forEach(nt=>{const mt=je[nt];Array.isArray(mt)?mt.forEach(Te=>{be.push({param:nt,value:Te,op:"a"})}):be.push({param:nt,value:mt,op:"a"})}),this.clone(be)}set(je,be){return this.clone({param:je,value:be,op:"s"})}delete(je,be){return this.clone({param:je,value:be,op:"d"})}toString(){return this.init(),this.keys().map(je=>{const be=this.encoder.encodeKey(je);return this.map.get(je).map(nt=>be+"="+this.encoder.encodeValue(nt)).join("&")}).filter(je=>""!==je).join("&")}clone(je){const be=new et({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(je),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(je=>this.map.set(je,this.cloneFrom.map.get(je))),this.updates.forEach(je=>{switch(je.op){case"a":case"s":const be=("a"===je.op?this.map.get(je.param):void 0)||[];be.push(it(je.value)),this.map.set(je.param,be);break;case"d":if(void 0===je.value){this.map.delete(je.param);break}{let nt=this.map.get(je.param)||[];const mt=nt.indexOf(it(je.value));-1!==mt&&nt.splice(mt,1),nt.length>0?this.map.set(je.param,nt):this.map.delete(je.param)}}}),this.cloneFrom=this.updates=null)}}class Qe{constructor(){this.map=new Map}set(je,be){return this.map.set(je,be),this}get(je){return this.map.has(je)||this.map.set(je,je.defaultValue()),this.map.get(je)}delete(je){return this.map.delete(je),this}keys(){return this.map.keys()}}function Gt(ft){return"undefined"!=typeof ArrayBuffer&&ft instanceof ArrayBuffer}function mn(ft){return"undefined"!=typeof Blob&&ft instanceof Blob}function Vt(ft){return"undefined"!=typeof FormData&&ft instanceof FormData}class ${constructor(je,be,nt,mt){let Te;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=je.toUpperCase(),function(ft){switch(ft){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==nt?nt:null,Te=mt):Te=nt,Te&&(this.reportProgress=!!Te.reportProgress,this.withCredentials=!!Te.withCredentials,Te.responseType&&(this.responseType=Te.responseType),Te.headers&&(this.headers=Te.headers),Te.context&&(this.context=Te.context),Te.params&&(this.params=Te.params)),this.headers||(this.headers=new X),this.context||(this.context=new Qe),this.params){const me=this.params.toString();if(0===me.length)this.urlWithParams=be;else{const Oe=be.indexOf("?");this.urlWithParams=be+(-1===Oe?"?":Oe<be.length-1?"&":"")+me}}else this.params=new et,this.urlWithParams=be}serializeBody(){return null===this.body?null:Gt(this.body)||mn(this.body)||Vt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof et?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vt(this.body)?null:mn(this.body)?this.body.type||null:Gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof et?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(je={}){var be;const nt=je.method||this.method,mt=je.url||this.url,Te=je.responseType||this.responseType,me=void 0!==je.body?je.body:this.body,Oe=void 0!==je.withCredentials?je.withCredentials:this.withCredentials,ze=void 0!==je.reportProgress?je.reportProgress:this.reportProgress;let $e=je.headers||this.headers,wt=je.params||this.params;const Tt=null!==(be=je.context)&&void 0!==be?be:this.context;return void 0!==je.setHeaders&&($e=Object.keys(je.setHeaders).reduce((jt,Et)=>jt.set(Et,je.setHeaders[Et]),$e)),je.setParams&&(wt=Object.keys(je.setParams).reduce((jt,Et)=>jt.set(Et,je.setParams[Et]),wt)),new $(nt,mt,me,{params:wt,headers:$e,context:Tt,reportProgress:ze,responseType:Te,withCredentials:Oe})}}var Z=(()=>((Z=Z||{})[Z.Sent=0]="Sent",Z[Z.UploadProgress=1]="UploadProgress",Z[Z.ResponseHeader=2]="ResponseHeader",Z[Z.DownloadProgress=3]="DownloadProgress",Z[Z.Response=4]="Response",Z[Z.User=5]="User",Z))();class z{constructor(je,be=200,nt="OK"){this.headers=je.headers||new X,this.status=void 0!==je.status?je.status:be,this.statusText=je.statusText||nt,this.url=je.url||null,this.ok=this.status>=200&&this.status<300}}class ae extends z{constructor(je={}){super(je),this.type=Z.ResponseHeader}clone(je={}){return new ae({headers:je.headers||this.headers,status:void 0!==je.status?je.status:this.status,statusText:je.statusText||this.statusText,url:je.url||this.url||void 0})}}class ue extends z{constructor(je={}){super(je),this.type=Z.Response,this.body=void 0!==je.body?je.body:null}clone(je={}){return new ue({body:void 0!==je.body?je.body:this.body,headers:je.headers||this.headers,status:void 0!==je.status?je.status:this.status,statusText:je.statusText||this.statusText,url:je.url||this.url||void 0})}}class Q extends z{constructor(je){super(je,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${je.url||"(unknown url)"}`:`Http failure response for ${je.url||"(unknown url)"}: ${je.status} ${je.statusText}`,this.error=je.error||null}}function Ie(ft,je){return{body:je,headers:ft.headers,context:ft.context,observe:ft.observe,params:ft.params,reportProgress:ft.reportProgress,responseType:ft.responseType,withCredentials:ft.withCredentials}}let Ne=(()=>{class ft{constructor(be){this.handler=be}request(be,nt,mt={}){let Te;if(be instanceof $)Te=be;else{let ze,$e;ze=mt.headers instanceof X?mt.headers:new X(mt.headers),mt.params&&($e=mt.params instanceof et?mt.params:new et({fromObject:mt.params})),Te=new $(be,nt,void 0!==mt.body?mt.body:null,{headers:ze,context:mt.context,params:$e,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials})}const me=(0,J.of)(Te).pipe((0,Se.b)(ze=>this.handler.handle(ze)));if(be instanceof $||"events"===mt.observe)return me;const Oe=me.pipe((0,Ve.h)(ze=>ze instanceof ue));switch(mt.observe||"body"){case"body":switch(Te.responseType){case"arraybuffer":return Oe.pipe((0,De.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ze.body}));case"blob":return Oe.pipe((0,De.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof Blob))throw new Error("Response is not a Blob.");return ze.body}));case"text":return Oe.pipe((0,De.U)(ze=>{if(null!==ze.body&&"string"!=typeof ze.body)throw new Error("Response is not a string.");return ze.body}));case"json":default:return Oe.pipe((0,De.U)(ze=>ze.body))}case"response":return Oe;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(be,nt={}){return this.request("DELETE",be,nt)}get(be,nt={}){return this.request("GET",be,nt)}head(be,nt={}){return this.request("HEAD",be,nt)}jsonp(be,nt){return this.request("JSONP",be,{params:(new et).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,nt={}){return this.request("OPTIONS",be,nt)}patch(be,nt,mt={}){return this.request("PATCH",be,Ie(mt,nt))}post(be,nt,mt={}){return this.request("POST",be,Ie(mt,nt))}put(be,nt,mt={}){return this.request("PUT",be,Ie(mt,nt))}}return ft.\u0275fac=function(be){return new(be||ft)(u.LFG(Fe))},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class St{constructor(je,be){this.next=je,this.interceptor=be}handle(je){return this.interceptor.intercept(je,this.next)}}const Ue=new u.OlP("HTTP_INTERCEPTORS");let dt=(()=>{class ft{intercept(be,nt){return nt.handle(be)}}return ft.\u0275fac=function(be){return new(be||ft)},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const Hn=/^\)\]\}',?\n/;let ht=(()=>{class ft{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new He.y(nt=>{const mt=this.xhrFactory.build();if(mt.open(be.method,be.urlWithParams),be.withCredentials&&(mt.withCredentials=!0),be.headers.forEach((Et,Pt)=>mt.setRequestHeader(Et,Pt.join(","))),be.headers.has("Accept")||mt.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const Et=be.detectContentTypeHeader();null!==Et&&mt.setRequestHeader("Content-Type",Et)}if(be.responseType){const Et=be.responseType.toLowerCase();mt.responseType="json"!==Et?Et:"text"}const Te=be.serializeBody();let me=null;const Oe=()=>{if(null!==me)return me;const Et=1223===mt.status?204:mt.status,Pt=mt.statusText||"OK",Bt=new X(mt.getAllResponseHeaders()),Wt=function(ft){return"responseURL"in ft&&ft.responseURL?ft.responseURL:/^X-Request-URL:/m.test(ft.getAllResponseHeaders())?ft.getResponseHeader("X-Request-URL"):null}(mt)||be.url;return me=new ae({headers:Bt,status:Et,statusText:Pt,url:Wt}),me},ze=()=>{let{headers:Et,status:Pt,statusText:Bt,url:Wt}=Oe(),wn=null;204!==Pt&&(wn=void 0===mt.response?mt.responseText:mt.response),0===Pt&&(Pt=wn?200:0);let Nn=Pt>=200&&Pt<300;if("json"===be.responseType&&"string"==typeof wn){const Ei=wn;wn=wn.replace(Hn,"");try{wn=""!==wn?JSON.parse(wn):null}catch(Xn){wn=Ei,Nn&&(Nn=!1,wn={error:Xn,text:wn})}}Nn?(nt.next(new ue({body:wn,headers:Et,status:Pt,statusText:Bt,url:Wt||void 0})),nt.complete()):nt.error(new Q({error:wn,headers:Et,status:Pt,statusText:Bt,url:Wt||void 0}))},$e=Et=>{const{url:Pt}=Oe(),Bt=new Q({error:Et,status:mt.status||0,statusText:mt.statusText||"Unknown Error",url:Pt||void 0});nt.error(Bt)};let wt=!1;const Tt=Et=>{wt||(nt.next(Oe()),wt=!0);let Pt={type:Z.DownloadProgress,loaded:Et.loaded};Et.lengthComputable&&(Pt.total=Et.total),"text"===be.responseType&&!!mt.responseText&&(Pt.partialText=mt.responseText),nt.next(Pt)},jt=Et=>{let Pt={type:Z.UploadProgress,loaded:Et.loaded};Et.lengthComputable&&(Pt.total=Et.total),nt.next(Pt)};return mt.addEventListener("load",ze),mt.addEventListener("error",$e),mt.addEventListener("timeout",$e),mt.addEventListener("abort",$e),be.reportProgress&&(mt.addEventListener("progress",Tt),null!==Te&&mt.upload&&mt.upload.addEventListener("progress",jt)),mt.send(Te),nt.next({type:Z.Sent}),()=>{mt.removeEventListener("error",$e),mt.removeEventListener("abort",$e),mt.removeEventListener("load",ze),mt.removeEventListener("timeout",$e),be.reportProgress&&(mt.removeEventListener("progress",Tt),null!==Te&&mt.upload&&mt.upload.removeEventListener("progress",jt)),mt.readyState!==mt.DONE&&mt.abort()}})}}return ft.\u0275fac=function(be){return new(be||ft)(u.LFG(x.JF))},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const vr=new u.OlP("XSRF_COOKIE_NAME"),di=new u.OlP("XSRF_HEADER_NAME");class an{}let Lt=(()=>{class ft{constructor(be,nt,mt){this.doc=be,this.platform=nt,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,x.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return ft.\u0275fac=function(be){return new(be||ft)(u.LFG(x.K0),u.LFG(u.Lbi),u.LFG(vr))},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),Gn=(()=>{class ft{constructor(be,nt){this.tokenService=be,this.headerName=nt}intercept(be,nt){const mt=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||mt.startsWith("http://")||mt.startsWith("https://"))return nt.handle(be);const Te=this.tokenService.getToken();return null!==Te&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,Te)})),nt.handle(be)}}return ft.\u0275fac=function(be){return new(be||ft)(u.LFG(an),u.LFG(di))},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),Fn=(()=>{class ft{constructor(be,nt){this.backend=be,this.injector=nt,this.chain=null}handle(be){if(null===this.chain){const nt=this.injector.get(Ue,[]);this.chain=nt.reduceRight((mt,Te)=>new St(mt,Te),this.backend)}return this.chain.handle(be)}}return ft.\u0275fac=function(be){return new(be||ft)(u.LFG(te),u.LFG(u.zs3))},ft.\u0275prov=u.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),Rt=(()=>{class ft{static disable(){return{ngModule:ft,providers:[{provide:Gn,useClass:dt}]}}static withOptions(be={}){return{ngModule:ft,providers:[be.cookieName?{provide:vr,useValue:be.cookieName}:[],be.headerName?{provide:di,useValue:be.headerName}:[]]}}}return ft.\u0275fac=function(be){return new(be||ft)},ft.\u0275mod=u.oAB({type:ft}),ft.\u0275inj=u.cJS({providers:[Gn,{provide:Ue,useExisting:Gn,multi:!0},{provide:an,useClass:Lt},{provide:vr,useValue:"XSRF-TOKEN"},{provide:di,useValue:"X-XSRF-TOKEN"}]}),ft})(),Ln=(()=>{class ft{}return ft.\u0275fac=function(be){return new(be||ft)},ft.\u0275mod=u.oAB({type:ft}),ft.\u0275inj=u.cJS({providers:[Ne,{provide:Fe,useClass:Fn},ht,{provide:te,useExisting:ht}],imports:[[Rt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ft})()},7716:(Ut,Le,ie)=>{"use strict";ie.d(Le,{deG:()=>wa,tb:()=>Nw,AFp:()=>Tw,ip1:()=>m_,CZH:()=>uf,hGG:()=>xI,z2F:()=>jh,sBO:()=>EE,Sil:()=>Uh,_Vd:()=>Gc,EJc:()=>Mw,SBq:()=>wu,qLn:()=>Qa,vpe:()=>Cu,gxx:()=>Pc,tBr:()=>Na,XFs:()=>Rt,OlP:()=>Er,zs3:()=>Ar,ZZ4:()=>Ng,aQg:()=>Ag,soG:()=>Ug,YKP:()=>hb,v3s:()=>cI,h0i:()=>$c,PXZ:()=>iI,R0b:()=>_a,FiY:()=>Xs,Lbi:()=>Sw,g9A:()=>Iw,Qsj:()=>uE,FYo:()=>Sg,JOm:()=>H,Tiy:()=>Gy,q3G:()=>xi,tp0:()=>Aa,EAV:()=>pI,Rgc:()=>Nh,dDg:()=>Pw,DyG:()=>tl,q4F:()=>$y,GfV:()=>sb,s_b:()=>Rg,ifc:()=>me,eFA:()=>Uw,G48:()=>KT,Gpc:()=>Ee,_c5:()=>DI,VLi:()=>JT,c2e:()=>Aw,zSh:()=>Fd,wAp:()=>In,vHH:()=>ct,EiD:()=>ad,mCW:()=>ti,qzn:()=>uu,JVY:()=>Xh,pB0:()=>Df,eBb:()=>Ga,L6k:()=>dl,LAX:()=>Pu,cg1:()=>Oy,Tjo:()=>CI,kL8:()=>S0,yhl:()=>ic,dqk:()=>Tt,sIi:()=>Pl,CqO:()=>Dy,QGY:()=>Ey,F4k:()=>Rv,RDi:()=>_r,AaK:()=>Fe,z3N:()=>ea,qOj:()=>dh,TTD:()=>gn,_Bn:()=>tb,xp6:()=>bp,uIk:()=>fh,Tol:()=>e0,DjV:()=>m0,ekj:()=>Ay,Suo:()=>nw,Xpm:()=>Jr,lG2:()=>_o,Yz7:()=>on,cJS:()=>dn,oAB:()=>En,Yjl:()=>$o,Y36:()=>jl,_UZ:()=>Mv,BQk:()=>Cy,ynx:()=>wy,qZA:()=>by,TgZ:()=>vy,EpF:()=>xv,n5z:()=>Fo,Ikx:()=>Ry,SDv:()=>Z0,QtT:()=>X0,pQV:()=>Ly,LFG:()=>ci,$8M:()=>Ko,NdJ:()=>Ty,CRH:()=>rw,kcU:()=>F,O4$:()=>Rr,oxw:()=>Fv,ALo:()=>Qb,lcZ:()=>Jb,Dn7:()=>Kb,Hsn:()=>Vv,F$t:()=>Lv,Q6J:()=>Qd,s9C:()=>Sy,MGl:()=>_g,VKq:()=>jb,WLB:()=>Hb,kEZ:()=>Gb,iGM:()=>ew,MAs:()=>cg,CHM:()=>Ii,LSH:()=>lc,kYT:()=>Bn,Udp:()=>Ny,YNc:()=>lg,W1O:()=>aw,_uU:()=>a0,Oqu:()=>xy,hij:()=>bg,Gf:()=>tw});var x=ie(9765),u=ie(5319),J=ie(7574),He=ie(6682),Se=ie(8819);function Ve(e){for(let t in e)if(e[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function De(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const X=Ve({__forward_ref__:Ve});function Ee(e){return e.__forward_ref__=Ee,e.toString=function(){return Fe(this())},e}function _e(e){return ye(e)?e():e}function ye(e){return"function"==typeof e&&e.hasOwnProperty(X)&&e.__forward_ref__===Ee}class ct extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function we(e){return"string"==typeof e?e:null==e?"":String(e)}function Qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():we(e)}function Vt(e,t){const n=t?` in ${t}`:"";throw new ct("201",`No provider for ${Qe(e)} found${n}`)}function vt(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}function on(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ht(e){return vr(e,Gn)||vr(e,kt)}function vr(e,t){return e.hasOwnProperty(t)?e[t]:null}function Lt(e){return e&&(e.hasOwnProperty(Fn)||e.hasOwnProperty(Zn))?e[Fn]:null}const Gn=Ve({\u0275prov:Ve}),Fn=Ve({\u0275inj:Ve}),kt=Ve({ngInjectableDef:Ve}),Zn=Ve({ngInjectorDef:Ve});var Rt=(()=>((Rt=Rt||{})[Rt.Default=0]="Default",Rt[Rt.Host=1]="Host",Rt[Rt.Self=2]="Self",Rt[Rt.SkipSelf=4]="SkipSelf",Rt[Rt.Optional=8]="Optional",Rt))();let Ln;function Vn(e){const t=Ln;return Ln=e,t}function ft(e,t,n){const o=ht(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Rt.Optional?null:void 0!==t?t:void Vt(Fe(e),"Injector")}function be(e){return{toString:e}.toString()}var nt=(()=>((nt=nt||{})[nt.OnPush=0]="OnPush",nt[nt.Default=1]="Default",nt))(),me=(()=>((me=me||{})[me.Emulated=0]="Emulated",me[me.None=2]="None",me[me.ShadowDom=3]="ShadowDom",me))();const Oe="undefined"!=typeof globalThis&&globalThis,ze="undefined"!=typeof window&&window,$e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wt="undefined"!=typeof global&&global,Tt=Oe||wt||ze||$e,Pt={},Bt=[],Wt=Ve({\u0275cmp:Ve}),wn=Ve({\u0275dir:Ve}),Nn=Ve({\u0275pipe:Ve}),Ei=Ve({\u0275mod:Ve}),Xn=Ve({\u0275loc:Ve}),ir=Ve({\u0275fac:Ve}),so=Ve({__NG_ELEMENT_ID__:Ve});let Io=0;function Jr(e){return be(()=>{const n={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Bt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||me.Emulated,id:"c",styles:e.styles||Bt,_:null,setInput:null,schemas:e.schemas||null,tView:null},f=e.directives,g=e.features,w=e.pipes;return o.id+=Io++,o.inputs=Hi(e.inputs,n),o.outputs=Hi(e.outputs),g&&g.forEach(D=>D(o)),o.directiveDefs=f?()=>("function"==typeof f?f():f).map(rn):null,o.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ur):null,o})}function rn(e){return kr(e)||function(e){return e[wn]||null}(e)}function Ur(e){return function(e){return e[Nn]||null}(e)}const yn={};function En(e){return be(()=>{const t={type:e.type,bootstrap:e.bootstrap||Bt,declarations:e.declarations||Bt,imports:e.imports||Bt,exports:e.exports||Bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(yn[e.id]=e.type),t})}function Bn(e,t){return be(()=>{const n=mr(e,!0);n.declarations=t.declarations||Bt,n.imports=t.imports||Bt,n.exports=t.exports||Bt})}function Hi(e,t){if(null==e)return Pt;const n={};for(const o in e)if(e.hasOwnProperty(o)){let f=e[o],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),n[f]=o,t&&(t[f]=g)}return n}const _o=Jr;function $o(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function kr(e){return e[Wt]||null}function mr(e,t){const n=e[Ei]||null;if(!n&&!0===t)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return n}function zn(e){return Array.isArray(e)&&"object"==typeof e[1]}function or(e){return Array.isArray(e)&&!0===e[1]}function uo(e){return 0!=(8&e.flags)}function lo(e){return 2==(2&e.flags)}function Pi(e){return 1==(1&e.flags)}function xr(e){return null!==e.template}function Zr(e){return 0!=(512&e[2])}function hi(e,t){return e.hasOwnProperty(ir)?e[ir]:null}class Li{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function gn(){return Wr}function Wr(e){return e.type.prototype.ngOnChanges&&(e.setInput=As),zo}function zo(){const e=ai(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Pt)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function As(e,t,n,o){const f=ai(e)||function(e,t){return e[Di]=t}(e,{previous:Pt,current:null}),g=f.current||(f.current={}),w=f.previous,D=this.declaredInputs[n],M=w[D];g[D]=new Li(M&&M.currentValue,t,w===Pt),e[o]=t}gn.ngInherit=!0;const Di="__ngSimpleChanges__";function ai(e){return e[Di]||null}const bo="http://www.w3.org/2000/svg";let Lr;function _r(e){Lr=e}function wo(){return void 0!==Lr?Lr:"undefined"!=typeof document?document:void 0}function U(e){return!!e.listen}const j={createRenderer:(e,t)=>wo()};function Ae(e){for(;Array.isArray(e);)e=e[0];return e}function Ht(e,t){return Ae(t[e])}function sn(e,t){return Ae(t[e.index])}function On(e,t){return e.data[t]}function ln(e,t){return e[t]}function Mn(e,t){const n=t[e];return zn(n)?n:n[0]}function sr(e){return 4==(4&e[2])}function Nr(e){return 128==(128&e[2])}function hr(e,t){return null==t?null:e[t]}function zi(e){e[18]=0}function tr(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const Mt={lFrame:bs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ti(){return Mt.bindingsEnabled}function yt(){return Mt.lFrame.lView}function Pn(){return Mt.lFrame.tView}function Ii(e){return Mt.lFrame.contextLView=e,e[8]}function nr(){let e=zr();for(;null!==e&&64===e.type;)e=e.parent;return e}function zr(){return Mt.lFrame.currentTNode}function eo(){const e=Mt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function to(e,t){const n=Mt.lFrame;n.currentTNode=e,n.isParent=t}function us(){return Mt.lFrame.isParent}function Si(){Mt.lFrame.isParent=!1}function Ui(){return Mt.isInCheckNoChangesMode}function Yo(e){Mt.isInCheckNoChangesMode=e}function ur(){const e=Mt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ni(){return Mt.lFrame.bindingIndex}function Co(){return Mt.lFrame.bindingIndex++}function Ai(e){const t=Mt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ms(e){Mt.lFrame.inI18n=e}function xo(e,t){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Mi(t)}function Mi(e){Mt.lFrame.currentDirectiveIndex=e}function _s(){return Mt.lFrame.currentQueryIndex}function ds(e){Mt.lFrame.currentQueryIndex=e}function Qo(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vs(e,t,n){if(n&Rt.SkipSelf){let f=t,g=e;for(;!(f=f.parent,null!==f||n&Rt.Host||(f=Qo(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;t=f,e=g}const o=Mt.lFrame=xn();return o.currentTNode=t,o.lView=e,!0}function Jo(e){const t=xn(),n=e[1];Mt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xn(){const e=Mt.lFrame,t=null===e?null:e.child;return null===t?bs(e):t}function bs(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ct(){const e=Mt.lFrame;return Mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const lr=Ct;function Ro(){const e=Ct();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function rr(){return Mt.lFrame.selectedIndex}function po(e){Mt.lFrame.selectedIndex=e}function cr(){const e=Mt.lFrame;return On(e.tView,e.selectedIndex)}function Rr(){Mt.lFrame.currentNamespace=bo}function F(){Mt.lFrame.currentNamespace=null}function Je(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const g=e.data[n].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:B,ngOnDestroy:q}=g;w&&(e.contentHooks||(e.contentHooks=[])).push(-n,w),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),M&&(e.viewHooks||(e.viewHooks=[])).push(-n,M),B&&((e.viewHooks||(e.viewHooks=[])).push(n,B),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,B)),null!=q&&(e.destroyHooks||(e.destroyHooks=[])).push(n,q)}}function Nt(e,t,n){O(e,t,3,n)}function fn(e,t,n,o){(3&e[2])===n&&O(e,t,n,o)}function un(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function O(e,t,n,o){const g=null!=o?o:-1,w=t.length-1;let D=0;for(let M=void 0!==o?65535&e[18]:0;M<w;M++)if("number"==typeof t[M+1]){if(D=t[M],null!=o&&D>=o)break}else t[M]<0&&(e[18]+=65536),(D<g||-1==g)&&(k(e,n,t,M),e[18]=(4294901760&e[18])+M+2),M++}function k(e,t,n,o){const f=n[o]<0,g=n[o+1],D=e[f?-n[o]:n[o]];if(f){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}const K=-1;class xe{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function Fs(e,t,n){const o=U(e);let f=0;for(;f<n.length;){const g=n[f];if("number"==typeof g){if(0!==g)break;f++;const w=n[f++],D=n[f++],M=n[f++];o?e.setAttribute(t,D,M,w):t.setAttributeNS(w,D,M)}else{const w=g,D=n[++f];qs(w)?o&&e.setProperty(t,w,D):o?e.setAttribute(t,w,D):t.setAttribute(w,D),f++}}return f}function ou(e){return 3===e||4===e||6===e}function qs(e){return 64===e.charCodeAt(0)}function aa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const f=t[o];"number"==typeof f?n=f:0===n||va(e,n,f,null,-1===n||2===n?t[++o]:null)}}return e}function va(e,t,n,o,f){let g=0,w=e.length;if(-1===t)w=-1;else for(;g<e.length;){const D=e[g++];if("number"==typeof D){if(D===t){w=-1;break}if(D>t){w=g-1;break}}}for(;g<e.length;){const D=e[g];if("number"==typeof D)break;if(D===n){if(null===o)return void(null!==f&&(e[g+1]=f));if(o===e[g+1])return void(e[g+2]=f)}g++,null!==o&&g++,null!==f&&g++}-1!==w&&(e.splice(w,0,t),g=w+1),e.splice(g++,0,n),null!==o&&e.splice(g++,0,o),null!==f&&e.splice(g++,0,f)}function ba(e){return e!==K}function _(e){return 32767&e}function m(e,t){let n=function(e){return e>>16}(e),o=t;for(;n>0;)o=o[15],n--;return o}let b=!0;function N(e){const t=b;return b=e,t}let he=0;function Ge(e,t){const n=A(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Ze(o.data,e),Ze(t,null),Ze(o.blueprint,null));const f=S(e,t),g=e.injectorIndex;if(ba(f)){const w=_(f),D=m(f,t),M=D[1].data;for(let B=0;B<8;B++)t[g+B]=D[w+B]|M[w+B]}return t[g+8]=f,g}function Ze(e,t){e.push(0,0,0,0,0,0,0,0,t)}function A(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function S(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,f=t;for(;null!==f;){const g=f[1],w=g.type;if(o=2===w?g.declTNode:1===w?f[6]:null,null===o)return K;if(n++,f=f[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return K}function T(e,t,n){!function(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(so)&&(o=n[so]),null==o&&(o=n[so]=he++);const f=255&o;t.data[e+(f>>5)]|=1<<f}(e,t,n)}function G(e,t,n){if(n&Rt.Optional)return e;Vt(t,"NodeInjector")}function ee(e,t,n,o){if(n&Rt.Optional&&void 0===o&&(o=null),0==(n&(Rt.Self|Rt.Host))){const f=e[9],g=Vn(void 0);try{return f?f.get(t,o,n&Rt.Optional):ft(t,o,n&Rt.Optional)}finally{Vn(g)}}return G(o,t,n)}function Ce(e,t,n,o=Rt.Default,f){if(null!==e){const g=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(so)?e[so]:void 0;return"number"==typeof t?t>=0?255&t:at:t}(n);if("function"==typeof g){if(!vs(t,e,o))return o&Rt.Host?G(f,n,o):ee(t,n,o,f);try{const w=g(o);if(null!=w||o&Rt.Optional)return w;Vt(n)}finally{lr()}}else if("number"==typeof g){let w=null,D=A(e,t),M=K,B=o&Rt.Host?t[16][6]:null;for((-1===D||o&Rt.SkipSelf)&&(M=-1===D?S(e,t):t[D+8],M!==K&&Qs(o,!1)?(w=t[1],D=_(M),t=m(M,t)):D=-1);-1!==D;){const q=t[1];if(pr(g,D,q.data)){const ce=Ft(D,t,n,w,o,B);if(ce!==Be)return ce}M=t[D+8],M!==K&&Qs(o,t[1].data[D+8]===B)&&pr(g,D,t)?(w=q,D=_(M),t=m(M,t)):D=-1}}}return ee(t,n,o,f)}const Be={};function at(){return new no(nr(),yt())}function Ft(e,t,n,o,f,g){const w=t[1],D=w.data[e+8],q=Xt(D,w,n,null==o?lo(D)&&b:o!=w&&0!=(3&D.type),f&Rt.Host&&g===D);return null!==q?Dn(t,w,q,D):Be}function Xt(e,t,n,o,f){const g=e.providerIndexes,w=t.data,D=1048575&g,M=e.directiveStart,q=g>>20,pe=f?D+q:e.directiveEnd;for(let Re=o?D:D+q;Re<pe;Re++){const We=w[Re];if(Re<M&&n===We||Re>=M&&We.type===n)return Re}if(f){const Re=w[M];if(Re&&xr(Re)&&Re.type===n)return M}return null}function Dn(e,t,n,o){let f=e[n];const g=t.data;if(function(e){return e instanceof xe}(f)){const w=f;w.resolving&&function(e,t){throw new ct("200",`Circular dependency in DI detected for ${e}`)}(Qe(g[n]));const D=N(w.canSeeViewProviders);w.resolving=!0;const M=w.injectImpl?Vn(w.injectImpl):null;vs(e,o,Rt.Default);try{f=e[n]=w.factory(void 0,g,e,o),t.firstCreatePass&&n>=o.directiveStart&&function(e,t,n){const{ngOnChanges:o,ngOnInit:f,ngDoCheck:g}=t.type.prototype;if(o){const w=Wr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,w),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,w)}f&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,f),g&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g))}(n,g[n],t)}finally{null!==M&&Vn(M),N(D),w.resolving=!1,lr()}}return f}function pr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Qs(e,t){return!(e&Rt.Self||e&Rt.Host&&t)}class no{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return Ce(this._tNode,this._lView,t,void 0,n)}}function Fo(e){return be(()=>{const t=e.prototype.constructor,n=t[ir]||ro(t),o=Object.prototype;let f=Object.getPrototypeOf(e.prototype).constructor;for(;f&&f!==o;){const g=f[ir]||ro(f);if(g&&g!==n)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ro(e){return ye(e)?()=>{const t=ro(_e(e));return t&&t()}:hi(e)}function Ko(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let f=0;for(;f<o;){const g=n[f];if(ou(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<o&&"string"==typeof n[f];)f++;else{if(g===t)return n[f+1];f+=2}}}return null}(nr(),e)}const Zo="__parameters__";function Ks(e,t,n){return be(()=>{const o=function(e){return function(...n){if(e){const o=e(...n);for(const f in o)this[f]=o[f]}}}(t);function f(...g){if(this instanceof f)return o.apply(this,g),this;const w=new f(...g);return D.annotation=w,D;function D(M,B,q){const ce=M.hasOwnProperty(Zo)?M[Zo]:Object.defineProperty(M,Zo,{value:[]})[Zo];for(;ce.length<=q;)ce.push(null);return(ce[q]=ce[q]||[]).push(w),M}}return n&&(f.prototype=Object.create(n.prototype)),f.prototype.ngMetadataName=e,f.annotationCls=f,f})}class Er{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=on({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wa=new Er("AnalyzeForEntryComponents"),tl=Function;function ji(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(t===e&&(t=e.slice(0,n)),ji(o,t)):t!==e&&t.push(o)}return t}function li(e,t){e.forEach(n=>Array.isArray(n)?li(n,t):t(n))}function Zs(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ua(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bs(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}function fs(e,t,n){let o=Da(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){let f=e.length;if(f==t)e.push(n,o);else if(1===f)e.push(o,e[0]),e[0]=n;else{for(f--,e.push(e[f-1],e[f]);f>t;)e[f]=e[f-2],f--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function rl(e,t){const n=Da(e,t);if(n>=0)return e[1|n]}function Da(e,t){return function(e,t,n){let o=0,f=e.length>>n;for(;f!==o;){const g=o+(f-o>>1),w=e[g<<n];if(t===w)return g<<n;w>t?f=g:o=g+1}return~(f<<n)}(e,t,1)}const il={},Ql="__NG_DI_FLAG__",Su="ngTempTokenPath",Kh=/\n/gm,Ba="__source",Ua=Ve({provide:String,useValue:Ve});let es;function wi(e){const t=es;return es=e,t}function Nu(e,t=Rt.Default){if(void 0===es)throw new Error("inject() must be called from an injection context");return null===es?ft(e,void 0,t):es.get(e,t&Rt.Optional?null:void 0,t)}function ci(e,t=Rt.Default){return(Ln||Nu)(_e(e),t)}function Us(e){const t=[];for(let n=0;n<e.length;n++){const o=_e(e[n]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let f,g=Rt.Default;for(let w=0;w<o.length;w++){const D=o[w],M=Jc(D);"number"==typeof M?-1===M?f=D.token:g|=M:f=D}t.push(ci(f,g))}else t.push(ci(o))}return t}function ja(e,t){return e[Ql]=t,e.prototype[Ql]=t,e}function Jc(e){return e[Ql]}function Ha(e,t,n,o){const f=e[Su];throw t[Ba]&&f.unshift(t[Ba]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let f=Fe(t);if(Array.isArray(t))f=t.map(Fe).join(" -> ");else if("object"==typeof t){let g=[];for(let w in t)if(t.hasOwnProperty(w)){let D=t[w];g.push(w+":"+("string"==typeof D?JSON.stringify(D):Fe(D)))}f=`{${g.join(", ")}}`}return`${n}${o?"("+o+")":""}[${f}]: ${e.replace(Kh,"\n  ")}`}("\n"+e.message,f,n,o),e.ngTokenPath=f,e[Su]=null,e}const Na=ja(Ks("Inject",e=>({token:e})),-1),Xs=ja(Ks("Optional"),8),Aa=ja(Ks("SkipSelf"),4);let sl;function gi(e){var t;return(null===(t=function(){if(void 0===sl&&(sl=null,Tt.trustedTypes))try{sl=Tt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return sl}())||void 0===t?void 0:t.createHTML(e))||e}class Ts{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nc extends Ts{getTypeName(){return"HTML"}}class cl extends Ts{getTypeName(){return"Style"}}class Ef extends Ts{getTypeName(){return"Script"}}class rc extends Ts{getTypeName(){return"URL"}}class hs extends Ts{getTypeName(){return"ResourceURL"}}function ea(e){return e instanceof Ts?e.changingThisBreaksApplicationSecurity:e}function uu(e,t){const n=ic(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function ic(e){return e instanceof Ts&&e.getTypeName()||null}function Xh(e){return new nc(e)}function dl(e){return new cl(e)}function Ga(e){return new Ef(e)}function Pu(e){return new rc(e)}function Df(e){return new hs(e)}function id(e){const t=new oc(e);return function(){try{return!!(new window.DOMParser).parseFromString(gi(""),"text/html")}catch(e){return!1}}()?new Tf(t):t}class Tf{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(gi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class oc{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const o=this.inertDocument.createElement("body");n.appendChild(o)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=gi(t),n;const o=this.inertDocument.createElement("body");return o.innerHTML=gi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(t){const n=t.attributes;for(let f=n.length-1;0<f;f--){const w=n.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&t.removeAttribute(w)}let o=t.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const fl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,If=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ti(e){return(e=String(e)).match(fl)||e.match(If)?e:"unsafe:"+e}function od(e){return(e=String(e)).split(",").map(t=>ti(t.trim())).join(", ")}function ta(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Uo(...e){const t={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}const hl=ta("area,br,col,hr,img,wbr"),ku=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sd=ta("rp,rt"),Fu=Uo(hl,Uo(ku,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uo(sd,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uo(sd,ku)),gl=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$a=ta("srcset"),Vu=Uo(gl,$a,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ac=ta("script,style,template");class Wa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let f=this.checkClobberedElement(n,n.nextSibling);if(f){n=f;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Fu.hasOwnProperty(n))return this.sanitizedSomething=!0,!ac.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=t.attributes;for(let f=0;f<o.length;f++){const g=o.item(f),w=g.name,D=w.toLowerCase();if(!Vu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=g.value;gl[D]&&(M=ti(M)),$a[D]&&(M=od(M)),this.buf.push(" ",w,'="',Ya(M),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Fu.hasOwnProperty(n)&&!hl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Ya(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Sf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,za=/([^\#-~ |!])/g;function Ya(e){return e.replace(/&/g,"&amp;").replace(Sf,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(za,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bu;function ad(e,t){let n=null;try{Bu=Bu||id(e);let o=t?String(t):"";n=Bu.getInertBodyElement(o);let f=5,g=o;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,o=g,g=n.innerHTML,n=Bu.getInertBodyElement(o)}while(o!==g);return gi((new Wa).sanitizeChildren(uc(n)||n))}finally{if(n){const o=uc(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function uc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xi=(()=>((xi=xi||{})[xi.NONE=0]="NONE",xi[xi.HTML=1]="HTML",xi[xi.STYLE=2]="STYLE",xi[xi.SCRIPT=3]="SCRIPT",xi[xi.URL=4]="URL",xi[xi.RESOURCE_URL=5]="RESOURCE_URL",xi))();function lc(e){const t=function(){const e=yt();return e&&e[12]}();return t?t.sanitize(xi.URL,e)||"":uu(e,"URL")?ea(e):ti(we(e))}const dc="__ngContext__";function mo(e,t){e[dc]=t}function Uu(e){const t=function(e){return e[dc]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function bl(e){return e.ngOriginalError}function vd(e,...t){e.error(...t)}class Qa{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),o=this._findContext(t),f=(e=t)&&e.ngErrorLogger||vd;var e;f(this._console,"ERROR",t),n&&f(this._console,"ORIGINAL ERROR",n),o&&f(this._console,"ERROR CONTEXT",o)}_findContext(t){return t?t.ngDebugContext||this._findContext(bl(t)):null}_findOriginalError(t){let n=t&&bl(t);for(;n&&bl(n);)n=bl(n);return n||null}}const wl=/^>|^->|<!--|-->|--!>|<!-$/g,mc=/(<|>)/;const Cd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function p(e){return e instanceof Function?e():e}var H=(()=>((H=H||{})[H.Important=1]="Important",H[H.DashCase=2]="DashCase",H))();let se;function ge(e,t){return se(e,t)}function Ye(e){const t=e[3];return or(t)?t[3]:t}function Qt(e){return hn(e[13])}function $t(e){return hn(e[4])}function hn(e){for(;null!==e&&!or(e);)e=e[4];return e}function Jn(e,t,n,o,f){if(null!=o){let g,w=!1;or(o)?g=o:zn(o)&&(w=!0,o=o[0]);const D=Ae(o);0===e&&null!==n?null==f?ap(t,n,D):Gu(t,n,D,f||null,!0):1===e&&null!==n?Gu(t,n,D,f||null,!0):2===e?cp(t,D,w):3===e&&t.destroyNode(D),null!=g&&function(e,t,n,o,f){const g=n[7];g!==Ae(n)&&Jn(t,e,o,g,f);for(let D=10;D<n.length;D++){const M=n[D];wc(M[1],M,e,t,o,g)}}(t,e,g,n,f)}}function Pr(e,t){return U(e)?e.createText(t):e.createTextNode(t)}function ni(e,t,n){U(e)?e.setValue(t,n):t.textContent=n}function na(e,t){return e.createComment(function(e){return e.replace(wl,t=>t.replace(mc,"\u200b$1\u200b"))}(t))}function Hs(e,t,n){return U(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Dd(e,t){const n=e[9],o=n.indexOf(t),f=t[3];1024&t[2]&&(t[2]&=-1025,tr(f,-1)),n.splice(o,1)}function Ss(e,t){if(e.length<=10)return;const n=10+t,o=e[n];if(o){const f=o[17];null!==f&&f!==e&&Dd(f,o),t>0&&(e[n-1][4]=o[4]);const g=ua(e,10+t);!function(e,t){wc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const w=g[19];null!==w&&w.detachView(g[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function pa(e,t){if(!(256&t[2])){const n=t[11];U(n)&&n.destroyNode&&wc(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Pf(e[1],e);for(;t;){let n=null;if(zn(t))n=t[13];else{const o=t[10];o&&(n=o)}if(!n){for(;t&&!t[4]&&t!==e;)zn(t)&&Pf(t[1],t),t=t[3];null===t&&(t=e),zn(t)&&Pf(t[1],t),n=t&&t[4]}t=n}}(t)}}function Pf(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const f=t[n[o]];if(!(f instanceof xe)){const g=n[o+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const D=f[g[w]],M=g[w+1];try{M.call(D)}finally{}}else try{g.call(f)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,o=t[7];let f=-1;if(null!==n)for(let g=0;g<n.length-1;g+=2)if("string"==typeof n[g]){const w=n[g+1],D="function"==typeof w?w(t):Ae(t[w]),M=o[f=n[g+2]],B=n[g+3];"boolean"==typeof B?D.removeEventListener(n[g],M,B):B>=0?o[f=B]():o[f=-B].unsubscribe(),g+=2}else{const w=o[f=n[g+1]];n[g].call(w)}if(null!==o){for(let g=f+1;g<o.length;g++)o[g]();t[7]=null}}(e,t),1===t[1].type&&U(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&or(t[3])){n!==t[3]&&Dd(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function op(e,t,n){return sp(e,t.parent,n)}function sp(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(2&o.flags){const f=e.data[o.directiveStart].encapsulation;if(f===me.None||f===me.Emulated)return null}return sn(o,n)}function Gu(e,t,n,o,f){U(e)?e.insertBefore(t,n,o,f):t.insertBefore(n,o,f)}function ap(e,t,n){U(e)?e.appendChild(t,n):t.appendChild(n)}function up(e,t,n,o,f){null!==o?Gu(e,t,n,o,f):ap(e,t,n)}function Td(e,t){return U(e)?e.parentNode(t):t.parentNode}function lp(e,t,n){return Tl(e,t,n)}function Ho(e,t,n){return 40&e.type?sn(e,n):null}let Il,Tl=Ho;function bc(e,t){Tl=e,Il=t}function Ci(e,t,n,o){const f=op(e,o,t),g=t[11],D=lp(o.parent||t[6],o,t);if(null!=f)if(Array.isArray(n))for(let M=0;M<n.length;M++)up(g,f,n[M],D,!1);else up(g,f,n,D,!1);void 0!==Il&&Il(g,o,t,n,f)}function mi(e,t){if(null!==t){const n=t.type;if(3&n)return sn(t,e);if(4&n)return hu(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return mi(e,o);{const f=e[t.index];return or(f)?hu(-1,f):Ae(f)}}if(32&n)return ge(t,e)()||Ae(e[t.index]);{const o=Ja(e,t);return null!==o?Array.isArray(o)?o[0]:mi(Ye(e[16]),o):mi(e,t.next)}}return null}function Ja(e,t){return null!==t?e[16][6].projection[t.projection]:null}function hu(e,t){const n=10+e+1;if(n<t.length){const o=t[n],f=o[1].firstChild;if(null!==f)return mi(o,f)}return t[7]}function cp(e,t,n){const o=Td(e,t);o&&function(e,t,n,o){U(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}function Id(e,t,n,o,f,g,w){for(;null!=n;){const D=o[n.index],M=n.type;if(w&&0===t&&(D&&mo(Ae(D),o),n.flags|=4),64!=(64&n.flags))if(8&M)Id(e,t,n.child,o,f,g,!1),Jn(t,e,f,D,g);else if(32&M){const B=ge(n,o);let q;for(;q=B();)Jn(t,e,f,q,g);Jn(t,e,f,D,g)}else 16&M?dp(e,t,o,n,f,g):Jn(t,e,f,D,g);n=w?n.projectionNext:n.next}}function wc(e,t,n,o,f,g){Id(n,o,e.firstChild,t,f,g,!1)}function dp(e,t,n,o,f,g){const w=n[16],M=w[6].projection[o.projection];if(Array.isArray(M))for(let B=0;B<M.length;B++)Jn(t,e,f,M[B],g);else Id(e,t,M,w[3],f,g,!0)}function Do(e,t,n){U(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function kf(e,t,n){U(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function pp(e,t,n){let o=e.length;for(;;){const f=e.indexOf(t,n);if(-1===f)return f;if(0===f||e.charCodeAt(f-1)<=32){const g=t.length;if(f+g===o||e.charCodeAt(f+g)<=32)return f}n=f+1}}const tm="ng-template";function nm(e,t,n){let o=0;for(;o<e.length;){let f=e[o++];if(n&&"class"===f){if(f=e[o],-1!==pp(f.toLowerCase(),t,0))return!0}else if(1===f){for(;o<e.length&&"string"==typeof(f=e[o++]);)if(f.toLowerCase()===t)return!0;return!1}}return!1}function Nl(e){return 4===e.type&&e.value!==tm}function To(e,t,n){return t===(4!==e.type||n?e.value:tm)}function rm(e,t,n){let o=4;const f=e.attrs||[],g=function(e){for(let t=0;t<e.length;t++)if(ou(e[t]))return t;return e.length}(f);let w=!1;for(let D=0;D<t.length;D++){const M=t[D];if("number"!=typeof M){if(!w)if(4&o){if(o=2|1&o,""!==M&&!To(e,M,n)||""===M&&1===t.length){if(ga(o))return!1;w=!0}}else{const B=8&o?M:t[++D];if(8&o&&null!==e.attrs){if(!nm(e.attrs,B,n)){if(ga(o))return!1;w=!0}continue}const ce=Ff(8&o?"class":M,f,Nl(e),n);if(-1===ce){if(ga(o))return!1;w=!0;continue}if(""!==B){let pe;pe=ce>g?"":f[ce+1].toLowerCase();const Re=8&o?pe:null;if(Re&&-1!==pp(Re,B,0)||2&o&&B!==pe){if(ga(o))return!1;w=!0}}}}else{if(!w&&!ga(o)&&!ga(M))return!1;if(w&&ga(M))continue;w=!1,o=M|1&o}}return ga(o)||w}function ga(e){return 0==(1&e)}function Ff(e,t,n,o){if(null===t)return-1;let f=0;if(o||!n){let g=!1;for(;f<t.length;){const w=t[f];if(w===e)return f;if(3===w||6===w)g=!0;else{if(1===w||2===w){let D=t[++f];for(;"string"==typeof D;)D=t[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=g?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function gp(e,t,n=!1){for(let o=0;o<t.length;o++)if(rm(e,t[o],n))return!0;return!1}function Vf(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let f=0;f<e.length;f++)if(e[f]!==o[f])continue e;return!0}}return!1}function Bf(e,t){return e?":not("+t.trim()+")":t}function _p(e){let t=e[0],n=1,o=2,f="",g=!1;for(;n<e.length;){let w=e[n];if("string"==typeof w)if(2&o){const D=e[++n];f+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&o?f+="."+w:4&o&&(f+=" "+w);else""!==f&&!ga(w)&&(t+=Bf(g,f),f=""),o=w,g=g||!ga(o);n++}return""!==f&&(t+=Bf(g,f)),t}const jn={};function bp(e){im(Pn(),yt(),rr()+e,Ui())}function im(e,t,n,o){if(!o)if(3==(3&t[2])){const g=e.preOrderCheckHooks;null!==g&&Nt(t,g,n)}else{const g=e.preOrderHooks;null!==g&&fn(t,g,0,n)}po(n)}function Cc(e,t){return e<<17|t<<2}function Gs(e){return e>>17&32767}function Sd(e){return 2|e}function Ka(e){return(131068&e)>>2}function Cp(e,t){return-131069&e|t<<2}function jf(e){return 1|e}function Nd(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const f=n[o],g=n[o+1];if(-1!==g){const w=e.data[g];ds(f),w.contentQueries(2,t[g],g)}}}function Ic(e,t,n,o,f,g,w,D,M,B){const q=t.blueprint.slice();return q[0]=f,q[2]=140|o,zi(q),q[3]=q[15]=e,q[8]=n,q[10]=w||e&&e[10],q[11]=D||e&&e[11],q[12]=M||e&&e[12]||null,q[9]=B||e&&e[9]||null,q[6]=g,q[16]=2==t.type?e[16]:q,q}function xl(e,t,n,o,f){let g=e.data[t];if(null===g)g=Ad(e,t,n,o,f),Mt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=n,g.value=o,g.attrs=f;const w=eo();g.injectorIndex=null===w?-1:w.injectorIndex}return to(g,!0),g}function Ad(e,t,n,o,f){const g=zr(),w=us(),M=e.data[t]=function(e,t,n,o,f,g){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,n,t,o,f);return null===e.firstChild&&(e.firstChild=M),null!==g&&(w?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M)),M}function Yn(e,t,n,o){if(0===n)return-1;const f=t.length;for(let g=0;g<n;g++)t.push(o),e.blueprint.push(o),e.data.push(null);return f}function Sc(e,t,n){Jo(t);try{const o=e.viewQuery;null!==o&&Pd(1,o,n);const f=e.template;null!==f&&Nc(e,t,f,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Nd(e,t),e.staticViewQueries&&Pd(2,e.viewQuery,n);const g=e.components;null!==g&&function(e,t){for(let n=0;n<t.length;n++)Ri(e,t[n])}(t,g)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,Ro()}}function Rl(e,t,n,o){const f=t[2];if(256==(256&f))return;Jo(t);const g=Ui();try{zi(t),function(e){Mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Nc(e,t,n,2,o);const w=3==(3&f);if(!g)if(w){const B=e.preOrderCheckHooks;null!==B&&Nt(t,B,null)}else{const B=e.preOrderHooks;null!==B&&fn(t,B,0,null),un(t,0)}if(function(e){for(let t=Qt(e);null!==t;t=$t(t)){if(!t[2])continue;const n=t[9];for(let o=0;o<n.length;o++){const f=n[o],g=f[3];0==(1024&f[2])&&tr(g,1),f[2]|=1024}}}(t),function(e){for(let t=Qt(e);null!==t;t=$t(t))for(let n=10;n<t.length;n++){const o=t[n],f=o[1];Nr(o)&&Rl(f,o,f.template,o[8])}}(t),null!==e.contentQueries&&Nd(e,t),!g)if(w){const B=e.contentCheckHooks;null!==B&&Nt(t,B)}else{const B=e.contentHooks;null!==B&&fn(t,B,1),un(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const f=n[o];if(f<0)po(~f);else{const g=f,w=n[++o],D=n[++o];xo(w,g),D(2,t[g])}}}finally{po(-1)}}(e,t);const D=e.components;null!==D&&function(e,t){for(let n=0;n<t.length;n++)lv(e,t[n])}(t,D);const M=e.viewQuery;if(null!==M&&Pd(2,M,o),!g)if(w){const B=e.viewCheckHooks;null!==B&&Nt(t,B)}else{const B=e.viewHooks;null!==B&&fn(t,B,2),un(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),g||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,tr(t[3],-1))}finally{Ro()}}function ym(e,t,n,o){const f=t[10],g=!Ui(),w=sr(t);try{g&&!w&&f.begin&&f.begin(),w&&Sc(e,t,o),Rl(e,t,n,o)}finally{g&&!w&&f.end&&f.end()}}function Nc(e,t,n,o,f){const g=rr(),w=2&o;try{po(-1),w&&t.length>20&&im(e,t,20,Ui()),n(o,f)}finally{po(g)}}function _m(e,t,n){if(uo(t)){const f=t.directiveEnd;for(let g=t.directiveStart;g<f;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,n[g],g)}}}function Md(e,t,n){!Ti()||(function(e,t,n,o){const f=n.directiveStart,g=n.directiveEnd;e.firstCreatePass||Ge(n,t),mo(o,t);const w=n.initialInputs;for(let D=f;D<g;D++){const M=e.data[D],B=xr(M);B&&ov(t,n,M);const q=Dn(t,e,D,n);mo(q,t),null!==w&&sv(0,D-f,q,M,0,w),B&&(Mn(n.index,t)[8]=q)}}(e,t,n,sn(n,t)),128==(128&n.flags)&&function(e,t,n){const o=n.directiveStart,f=n.directiveEnd,w=n.index,D=Mt.lFrame.currentDirectiveIndex;try{po(w);for(let M=o;M<f;M++){const B=e.data[M],q=t[M];Mi(M),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Nm(B,q)}}finally{po(-1),Mi(D)}}(e,t,n))}function Ap(e,t,n=sn){const o=t.localNames;if(null!==o){let f=t.index+1;for(let g=0;g<o.length;g+=2){const w=o[g+1],D=-1===w?n(t,e):e[w];e[f++]=D}}}function vm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xd(e,t,n,o,f,g,w,D,M,B){const q=20+o,ce=q+f,pe=function(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:jn);return n}(q,ce),Re="function"==typeof B?B():B;return pe[1]={type:e,blueprint:pe,template:n,queries:null,viewQuery:D,declTNode:t,data:pe.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:M,consts:Re,incompleteFirstPass:!1}}function Kf(e,t,n,o){const f=Lp(t);null===n?f.push(o):(f.push(n),e.firstCreatePass&&Vp(e).push(o,f.length-1))}function xp(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){const f=e[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(t,f):n[o]=[t,f]}return n}function ts(e,t,n,o,f,g,w,D){const M=sn(t,n);let q,B=t.inputs;!D&&null!=B&&(q=B[o])?(Ol(e,n,q,o,f),lo(t)&&function(e,t){const n=Mn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(o=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),f=null!=w?w(f,t.value||"",o):f,U(g)?g.setProperty(M,o,f):qs(o)||(M.setProperty?M.setProperty(o,f):M[o]=f))}function Pp(e,t,n,o){let f=!1;if(Ti()){const g=function(e,t,n){const o=e.directiveRegistry;let f=null;if(o)for(let g=0;g<o.length;g++){const w=o[g];gp(n,w.selectors,!1)&&(f||(f=[]),T(Ge(n,t),e,w.type),xr(w)?(Am(e,n),f.unshift(w)):f.push(w))}return f}(e,t,n),w=null===o?null:{"":-1};if(null!==g){f=!0,Mm(n,e.data.length,g.length);for(let q=0;q<g.length;q++){const ce=g[q];ce.providersResolver&&ce.providersResolver(ce)}let D=!1,M=!1,B=Yn(e,t,g.length,null);for(let q=0;q<g.length;q++){const ce=g[q];n.mergedAttrs=aa(n.mergedAttrs,ce.hostAttrs),xm(e,n,t,B,ce),iv(B,ce,w),null!==ce.contentQueries&&(n.flags|=8),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(n.flags|=128);const pe=ce.type.prototype;!D&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),D=!0),!M&&(pe.ngOnChanges||pe.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),M=!0),B++}!function(e,t){const o=t.directiveEnd,f=e.data,g=t.attrs,w=[];let D=null,M=null;for(let B=t.directiveStart;B<o;B++){const q=f[B],ce=q.inputs,pe=null===g||Nl(t)?null:av(ce,g);w.push(pe),D=xp(ce,B,D),M=xp(q.outputs,B,M)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=16),D.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=w,t.inputs=D,t.outputs=M}(e,n)}w&&function(e,t,n){if(t){const o=e.localNames=[];for(let f=0;f<t.length;f+=2){const g=n[t[f+1]];if(null==g)throw new ct("301",`Export of name '${t[f+1]}' not found!`);o.push(t[f],g)}}}(n,o,w)}return n.mergedAttrs=aa(n.mergedAttrs,n.attrs),f}function Sm(e,t,n,o,f,g){const w=g.hostBindings;if(w){let D=e.hostBindingOpCodes;null===D&&(D=e.hostBindingOpCodes=[]);const M=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(D)!=M&&D.push(M),D.push(o,f,w)}}function Nm(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Am(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function iv(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;xr(t)&&(n[""]=e)}}function Mm(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function xm(e,t,n,o,f){e.data[o]=f;const g=f.factory||(f.factory=hi(f.type)),w=new xe(g,xr(f),null);e.blueprint[o]=w,n[o]=w,Sm(e,t,0,o,Yn(e,n,f.hostVars,jn),f)}function ov(e,t,n){const o=sn(t,e),f=vm(n),g=e[10],w=Ac(e,Ic(e,f,null,n.onPush?64:16,o,t,g,g.createRenderer(o,n),null,null));e[t.index]=w}function kp(e,t,n,o,f,g,w){if(null==g)U(e)?e.removeAttribute(t,f,n):t.removeAttribute(f);else{const D=null==w?we(g):w(g,o||"",f);U(e)?e.setAttribute(t,f,D,n):n?t.setAttributeNS(n,f,D):t.setAttribute(f,D)}}function sv(e,t,n,o,f,g){const w=g[t];if(null!==w){const D=o.setInput;for(let M=0;M<w.length;){const B=w[M++],q=w[M++],ce=w[M++];null!==D?o.setInput(n,ce,B,q):n[q]=ce}}}function av(e,t){let n=null,o=0;for(;o<t.length;){const f=t[o];if(0!==f)if(5!==f){if("number"==typeof f)break;e.hasOwnProperty(f)&&(null===n&&(n=[]),n.push(f,e[f],t[o+1])),o+=2}else o+=2;else o+=4}return n}function Rm(e,t,n,o){return new Array(e,!0,!1,t,null,0,o,n,null,null)}function lv(e,t){const n=Mn(t,e);if(Nr(n)){const o=n[1];80&n[2]?Rl(o,n,o.template,n[8]):n[5]>0&&Ws(n)}}function Ws(e){for(let o=Qt(e);null!==o;o=$t(o))for(let f=10;f<o.length;f++){const g=o[f];if(1024&g[2]){const w=g[1];Rl(w,g,w.template,g[8])}else g[5]>0&&Ws(g)}const n=e[1].components;if(null!==n)for(let o=0;o<n.length;o++){const f=Mn(n[o],e);Nr(f)&&f[5]>0&&Ws(f)}}function Ri(e,t){const n=Mn(t,e),o=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),Sc(o,n,n[8])}function Ac(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Mc(e){for(;e;){e[2]|=64;const t=Ye(e);if(Zr(e)&&!t)return e;e=t}return null}function xc(e,t,n){const o=t[10];o.begin&&o.begin();try{Rl(e,t,e.template,n)}catch(f){throw gu(t,f),f}finally{o.end&&o.end()}}function Pm(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=Uu(n),f=o[1];ym(f,o,f.template,n)}}(e[8])}function Pd(e,t,n){ds(0),t(e,n)}const km=(()=>Promise.resolve(null))();function Lp(e){return e[7]||(e[7]=[])}function Vp(e){return e.cleanup||(e.cleanup=[])}function gu(e,t){const n=e[9],o=n?n.get(Qa,null):null;o&&o.handleError(t)}function Ol(e,t,n,o,f){for(let g=0;g<n.length;){const w=n[g++],D=n[g++],M=t[w],B=e.data[w];null!==B.setInput?B.setInput(M,f,o,D):M[D]=f}}function Oc(e,t,n){let o=n?e.styles:null,f=n?e.classes:null,g=0;if(null!==t)for(let w=0;w<t.length;w++){const D=t[w];"number"==typeof D?g=D:1==g?f=te(f,D):2==g&&(o=te(o,D+": "+t[++w]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=f:e.classesWithoutHost=f}const Pc=new Er("INJECTOR",-1);class Lm{get(t,n=il){if(n===il){const o=new Error(`NullInjectorError: No provider for ${Fe(t)}!`);throw o.name="NullInjectorError",o}return n}}const Fd=new Er("Set Injector scope."),Ld={},dv={};let Bp;function Vm(){return void 0===Bp&&(Bp=new Lm),Bp}function Bm(e,t=null,n=null,o){return new hv(e,n,t||Vm(),o)}class hv{constructor(t,n,o,f=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];n&&li(n,D=>this.processProvider(D,t,n)),li([t],D=>this.processInjectorType(D,[],g)),this.records.set(Pc,kc(void 0,this));const w=this.records.get(Fd);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof t?null:Fe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=il,o=Rt.Default){this.assertNotDestroyed();const f=wi(this),g=Vn(void 0);try{if(!(o&Rt.SkipSelf)){let D=this.records.get(t);if(void 0===D){const M=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Er)&&ht(t);D=M&&this.injectableDefInScope(M)?kc(Up(t),Ld):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(o&Rt.Self?Vm():this.parent).get(t,n=o&Rt.Optional&&n===il?null:n)}catch(w){if("NullInjectorError"===w.name){if((w[Su]=w[Su]||[]).unshift(Fe(t)),f)throw w;return Ha(w,t,"R3InjectorError",this.source)}throw w}finally{Vn(g),wi(f)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,f)=>t.push(Fe(f))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,o){if(!(t=_e(t)))return!1;let f=Lt(t);const g=null==f&&t.ngModule||void 0,w=void 0===g?t:g,D=-1!==o.indexOf(w);if(void 0!==g&&(f=Lt(g)),null==f)return!1;if(null!=f.imports&&!D){let q;o.push(w);try{li(f.imports,ce=>{this.processInjectorType(ce,n,o)&&(void 0===q&&(q=[]),q.push(ce))})}finally{}if(void 0!==q)for(let ce=0;ce<q.length;ce++){const{ngModule:pe,providers:Re}=q[ce];li(Re,We=>this.processProvider(We,pe,Re||Bt))}}this.injectorDefTypes.add(w);const M=hi(w)||(()=>new w);this.records.set(w,kc(M,Ld));const B=f.providers;if(null!=B&&!D){const q=t;li(B,ce=>this.processProvider(ce,q,B))}return void 0!==g&&void 0!==t.providers}processProvider(t,n,o){let f=Qu(t=_e(t))?t:_e(t&&t.provide);const g=eh(e=t)?kc(void 0,e.useValue):kc(Um(e),Ld);var e;if(Qu(t)||!0!==t.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=kc(void 0,Ld,!0),w.factory=()=>Us(w.multi),this.records.set(f,w)),f=t,w.multi.push(t)}this.records.set(f,g)}hydrate(t,n){return n.value===Ld&&(n.value=dv,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Up(e){const t=ht(e),n=null!==t?t.factory:hi(e);if(null!==n)return n;if(e instanceof Er)throw new Error(`Token ${Fe(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=Bs(t,"?");throw new Error(`Can't resolve all parameters for ${Fe(e)}: (${o.join(", ")}).`)}const n=function(e){const t=e&&(e[Gn]||e[kt]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Um(e,t,n){let o;if(Qu(e)){const f=_e(e);return hi(f)||Up(f)}if(eh(e))o=()=>_e(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Us(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>ci(_e(e.useExisting));else{const f=_e(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return hi(f)||Up(f);o=()=>new f(...Us(e.deps))}return o}function kc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function eh(e){return null!==e&&"object"==typeof e&&Ua in e}function Qu(e){return"function"==typeof e}const th=function(e,t,n){return function(e,t=null,n=null,o){const f=Bm(e,t,n,o);return f._resolveInjectorDefTypes(),f}({name:n},t,e,n)};class Ar{static create(t,n){return Array.isArray(t)?th(t,n,""):th(t.providers,t.parent,t.name||"")}}function ey(e,t){Je(Uu(e)[1],nr())}function dh(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let f;if(xr(e))f=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");f=t.\u0275dir}if(f){if(n){o.push(f);const w=e;w.inputs=eg(e.inputs),w.declaredInputs=eg(e.declaredInputs),w.outputs=eg(e.outputs);const D=f.hostBindings;D&&bv(e,D);const M=f.viewQuery,B=f.contentQueries;if(M&&tg(e,M),B&&ry(e,B),De(e.inputs,f.inputs),De(e.declaredInputs,f.declaredInputs),De(e.outputs,f.outputs),xr(f)&&f.data.animation){const q=e.data;q.animation=(q.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let w=0;w<g.length;w++){const D=g[w];D&&D.ngInherit&&D(e),D===dh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const f=e[o];f.hostVars=t+=f.hostVars,f.hostAttrs=aa(f.hostAttrs,n=aa(n,f.hostAttrs))}}(o)}function eg(e){return e===Pt?{}:e===Bt?[]:e}function tg(e,t){const n=e.viewQuery;e.viewQuery=n?(o,f)=>{t(o,f),n(o,f)}:t}function ry(e,t){const n=e.contentQueries;e.contentQueries=n?(o,f,g)=>{t(o,f,g),n(o,f,g)}:t}function bv(e,t){const n=e.hostBindings;e.hostBindings=n?(o,f)=>{t(o,f),n(o,f)}:t}Ar.THROW_IF_NOT_FOUND=il,Ar.NULL=new Lm,Ar.\u0275prov=on({token:Ar,providedIn:"any",factory:()=>ci(Pc)}),Ar.__NG_ELEMENT_ID__=-1;let Vc=null;function Ju(){if(!Vc){const e=Tt.Symbol;if(e&&e.iterator)Vc=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const o=t[n];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Vc=o)}}}return Vc}class ya{constructor(t){this.wrapped=t}static wrap(t){return new ya(t)}static unwrap(t){return ya.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ya}}function Pl(e){return!!Wd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ju()in e)}function Wd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ra(e,t,n){return e[t]=n}function Ns(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function yu(e,t,n,o){const f=Ns(e,t,n);return Ns(e,t+1,o)||f}function fh(e,t,n,o){const f=yt();return Ns(f,Co(),t)&&(Pn(),function(e,t,n,o,f,g){const w=sn(e,t);kp(t[11],w,g,e.value,n,o,f)}(cr(),f,e,t,n,o)),fh}function Uc(e,t,n,o){return Ns(e,Co(),n)?t+we(n)+o:jn}function Ll(e,t,n,o,f,g,w,D,M,B){const ce=function(e,t,n,o,f,g){const w=yu(e,t,n,o);return yu(e,t+2,f,g)||w}(e,Ni(),n,f,w,M);return Ai(4),ce?t+we(n)+o+we(f)+g+we(w)+D+we(M)+B:jn}function lg(e,t,n,o,f,g,w,D){const M=yt(),B=Pn(),q=e+20,ce=B.firstCreatePass?function(e,t,n,o,f,g,w,D,M){const B=t.consts,q=xl(t,e,4,w||null,hr(B,D));Pp(t,n,q,hr(B,M)),Je(t,q);const ce=q.tViews=xd(2,q,o,f,g,t.directiveRegistry,t.pipeRegistry,null,t.schemas,B);return null!==t.queries&&(t.queries.template(t,q),ce.queries=t.queries.embeddedTView(q)),q}(q,B,M,t,n,o,f,g,w):B.data[q];to(ce,!1);const pe=M[11].createComment("");Ci(B,M,pe,ce),mo(pe,M),Ac(M,M[q]=Rm(pe,M,pe,ce)),Pi(ce)&&Md(B,M,ce),null!=w&&Ap(M,ce,D)}function cg(e){return ln(Mt.lFrame.contextLView,20+e)}function jl(e,t=Rt.Default){const n=yt();return null===n?ci(e,t):Ce(nr(),n,_e(e),t)}function Qd(e,t,n){const o=yt();return Ns(o,Co(),t)&&ts(Pn(),cr(),o,e,t,o[11],n,!1),Qd}function Jd(e,t,n,o,f){const w=f?"class":"style";Ol(e,n,t.inputs[w],w,o)}function vy(e,t,n,o){const f=yt(),g=Pn(),w=20+e,D=f[11],M=f[w]=Hs(D,t,Mt.lFrame.currentNamespace),B=g.firstCreatePass?function(e,t,n,o,f,g,w){const D=t.consts,B=xl(t,e,2,f,hr(D,g));return Pp(t,n,B,hr(D,w)),null!==B.attrs&&Oc(B,B.attrs,!1),null!==B.mergedAttrs&&Oc(B,B.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,B),B}(w,g,f,0,t,n,o):g.data[w];to(B,!0);const q=B.mergedAttrs;null!==q&&Fs(D,M,q);const ce=B.classes;null!==ce&&kf(D,M,ce);const pe=B.styles;null!==pe&&Do(D,M,pe),64!=(64&B.flags)&&Ci(g,f,M,B),0===Mt.lFrame.elementDepthCount&&mo(M,f),Mt.lFrame.elementDepthCount++,Pi(B)&&(Md(g,f,B),_m(g,B,f)),null!==o&&Ap(f,B)}function by(){let e=nr();us()?Si():(e=e.parent,to(e,!1));const t=e;Mt.lFrame.elementDepthCount--;const n=Pn();n.firstCreatePass&&(Je(n,e),uo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Jd(n,t,yt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Jd(n,t,yt(),t.stylesWithoutHost,!1)}function Mv(e,t,n,o){vy(e,t,n,o),by()}function wy(e,t,n){const o=yt(),f=Pn(),g=e+20,w=f.firstCreatePass?function(e,t,n,o,f){const g=t.consts,w=hr(g,o),D=xl(t,e,8,"ng-container",w);return null!==w&&Oc(D,w,!0),Pp(t,n,D,hr(g,f)),null!==t.queries&&t.queries.elementStart(t,D),D}(g,f,o,t,n):f.data[g];to(w,!0);const D=o[g]=o[11].createComment("");Ci(f,o,D,w),mo(D,o),Pi(w)&&(Md(f,o,w),_m(f,w,o)),null!=n&&Ap(o,w)}function Cy(){let e=nr();const t=Pn();us()?Si():(e=e.parent,to(e,!1)),t.firstCreatePass&&(Je(t,e),uo(e)&&t.queries.elementEnd(e))}function xv(){return yt()}function Ey(e){return!!e&&"function"==typeof e.then}function Rv(e){return!!e&&"function"==typeof e.subscribe}const Dy=Rv;function Ty(e,t,n,o){const f=yt(),g=Pn(),w=nr();return function(e,t,n,o,f,g,w,D){const M=Pi(o),q=e.firstCreatePass&&Vp(e),ce=t[8],pe=Lp(t);let Re=!0;if(3&o.type||D){const Xe=sn(o,t),It=D?D(Xe):Xe,gt=pe.length,cn=D?kn=>D(Ae(kn[o.index])):o.index;if(U(n)){let kn=null;if(!D&&M&&(kn=function(e,t,n,o){const f=e.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const w=f[g];if(w===n&&f[g+1]===o){const D=t[7],M=f[g+2];return D.length>M?D[M]:null}"string"==typeof w&&(g+=2)}return null}(e,t,f,o.index)),null!==kn)(kn.__ngLastListenerFn__||kn).__ngNextListenerFn__=g,kn.__ngLastListenerFn__=g,Re=!1;else{g=Iy(o,t,ce,g,!1);const Mr=n.listen(It,f,g);pe.push(g,Mr),q&&q.push(f,cn,gt,gt+1)}}else g=Iy(o,t,ce,g,!0),It.addEventListener(f,g,w),pe.push(g),q&&q.push(f,cn,gt,w)}else g=Iy(o,t,ce,g,!1);const We=o.outputs;let ot;if(Re&&null!==We&&(ot=We[f])){const Xe=ot.length;if(Xe)for(let It=0;It<Xe;It+=2){const os=t[ot[It]][ot[It+1]].subscribe(g),ka=pe.length;pe.push(g,os),q&&q.push(f,o.index,ka,-(ka+1))}}}(g,f,f[11],w,e,t,!!n,o),Ty}function kv(e,t,n,o){try{return!1!==n(o)}catch(f){return gu(e,f),!1}}function Iy(e,t,n,o,f){return function g(w){if(w===Function)return o;const D=2&e.flags?Mn(e.index,t):t;0==(32&t[2])&&Mc(D);let M=kv(t,0,o,w),B=g.__ngNextListenerFn__;for(;B;)M=kv(t,0,B,w)&&M,B=B.__ngNextListenerFn__;return f&&!1===M&&(w.preventDefault(),w.returnValue=!1),M}}function Fv(e=1){return function(e){return(Mt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Mt.lFrame.contextLView))[8]}(e)}function D1(e,t){let n=null;const o=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let f=0;f<t.length;f++){const g=t[f];if("*"!==g){if(null===o?gp(e,g,!0):Vf(o,g))return f}else n=f}return n}function Lv(e){const t=yt()[16][6];if(!t.projection){const o=t.projection=Bs(e?e.length:1,null),f=o.slice();let g=t.child;for(;null!==g;){const w=e?D1(g,e):0;null!==w&&(f[w]?f[w].projectionNext=g:o[w]=g,f[w]=g),g=g.next}}}function Vv(e,t=0,n){const o=yt(),f=Pn(),g=xl(f,20+e,16,null,n||null);null===g.projection&&(g.projection=t),Si(),64!=(64&g.flags)&&function(e,t,n){dp(t[11],0,t,n,op(e,n,t),lp(n.parent||t[6],n,t))}(f,o,g)}function Sy(e,t,n){return _g(e,"",t,"",n),Sy}function _g(e,t,n,o,f){const g=yt(),w=Uc(g,t,n,o);return w!==jn&&ts(Pn(),cr(),g,e,w,g[11],f,!1),_g}function Yv(e,t,n,o,f){const g=e[n+1],w=null===t;let D=o?Gs(g):Ka(g),M=!1;for(;0!==D&&(!1===M||w);){const q=e[D+1];S1(e[D],t)&&(M=!0,e[D+1]=o?jf(q):Sd(q)),D=o?Gs(q):Ka(q)}M&&(e[n+1]=o?Sd(g):jf(g))}function S1(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Da(e,t)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qv(e){return e.substring(is.key,is.keyEnd)}function Qv(e,t){const n=is.textEnd;return n===t?-1:(t=is.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,is.key=t,n),Kd(e,t,n))}function Kd(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ny(e,t,n){return Za(e,t,n,!1),Ny}function Ay(e,t){return Za(e,t,null,!0),Ay}function e0(e){Xa(fs,bu,e,!0)}function bu(e,t){for(let n=function(e){return function(e){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=e.length}(e),Qv(e,Kd(e,0,is.textEnd))}(t);n>=0;n=Qv(t,n))fs(e,qv(t),!0)}function Za(e,t,n,o){const f=yt(),g=Pn(),w=Ai(2);g.firstUpdatePass&&n0(g,e,w,o),t!==jn&&Ns(f,w,t)&&i0(g,g.data[rr()],f,f[11],e,f[w+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fe(ea(e)))),e}(t,n),o,w)}function Xa(e,t,n,o){const f=Pn(),g=Ai(2);f.firstUpdatePass&&n0(f,null,g,o);const w=yt();if(n!==jn&&Ns(w,g,n)){const D=f.data[rr()];if(s0(D,o)&&!t0(f,g)){let M=o?D.classesWithoutHost:D.stylesWithoutHost;null!==M&&(n=te(M,n||"")),Jd(f,D,w,n,o)}else!function(e,t,n,o,f,g,w,D){f===jn&&(f=Bt);let M=0,B=0,q=0<f.length?f[0]:null,ce=0<g.length?g[0]:null;for(;null!==q||null!==ce;){const pe=M<f.length?f[M+1]:void 0,Re=B<g.length?g[B+1]:void 0;let ot,We=null;q===ce?(M+=2,B+=2,pe!==Re&&(We=ce,ot=Re)):null===ce||null!==q&&q<ce?(M+=2,We=q):(B+=2,We=ce,ot=Re),null!==We&&i0(e,t,n,o,We,ot,w,D),q=M<f.length?f[M]:null,ce=B<g.length?g[B]:null}}(f,D,w,w[11],w[g+1],w[g+1]=function(e,t,n){if(null==n||""===n)return Bt;const o=[],f=ea(n);if(Array.isArray(f))for(let g=0;g<f.length;g++)e(o,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&e(o,g,f[g]);else"string"==typeof f&&t(o,f);return o}(e,t,n),o,g)}}function t0(e,t){return t>=e.expandoStartIndex}function n0(e,t,n,o){const f=e.data;if(null===f[n+1]){const g=f[rr()],w=t0(e,n);s0(g,o)&&null===t&&!w&&(t=!1),t=function(e,t,n,o){const f=function(e){const t=Mt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let g=o?t.residualClasses:t.residualStyles;if(null===f)0===(o?t.classBindings:t.styleBindings)&&(n=Ch(n=My(null,e,t,n,o),t.attrs,o),g=null);else{const w=t.directiveStylingLast;if(-1===w||e[w]!==f)if(n=My(f,e,t,n,o),null===g){let M=function(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Ka(o))return e[Gs(o)]}(e,t,o);void 0!==M&&Array.isArray(M)&&(M=My(null,e,t,M[1],o),M=Ch(M,t.attrs,o),function(e,t,n,o){e[Gs(n?t.classBindings:t.styleBindings)]=o}(e,t,o,M))}else g=function(e,t,n){let o;const f=t.directiveEnd;for(let g=1+t.directiveStylingLast;g<f;g++)o=Ch(o,e[g].hostAttrs,n);return Ch(o,t.attrs,n)}(e,t,o)}return void 0!==g&&(o?t.residualClasses=g:t.residualStyles=g),n}(f,g,t,o),function(e,t,n,o,f,g){let w=g?t.classBindings:t.styleBindings,D=Gs(w),M=Ka(w);e[o]=n;let q,B=!1;if(Array.isArray(n)){const ce=n;q=ce[1],(null===q||Da(ce,q)>0)&&(B=!0)}else q=n;if(f)if(0!==M){const pe=Gs(e[D+1]);e[o+1]=Cc(pe,D),0!==pe&&(e[pe+1]=Cp(e[pe+1],o)),e[D+1]=function(e,t){return 131071&e|t<<17}(e[D+1],o)}else e[o+1]=Cc(D,0),0!==D&&(e[D+1]=Cp(e[D+1],o)),D=o;else e[o+1]=Cc(M,0),0===D?D=o:e[M+1]=Cp(e[M+1],o),M=o;B&&(e[o+1]=Sd(e[o+1])),Yv(e,q,o,!0),Yv(e,q,o,!1),function(e,t,n,o,f){const g=f?e.residualClasses:e.residualStyles;null!=g&&"string"==typeof t&&Da(g,t)>=0&&(n[o+1]=jf(n[o+1]))}(t,q,e,o,g),w=Cc(D,M),g?t.classBindings=w:t.styleBindings=w}(f,g,t,n,w,o)}}function My(e,t,n,o,f){let g=null;const w=n.directiveEnd;let D=n.directiveStylingLast;for(-1===D?D=n.directiveStart:D++;D<w&&(g=t[D],o=Ch(o,g.hostAttrs,f),g!==e);)D++;return null!==e&&(n.directiveStylingLast=D),o}function Ch(e,t,n){const o=n?1:2;let f=-1;if(null!==t)for(let g=0;g<t.length;g++){const w=t[g];"number"==typeof w?f=w:f===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fs(e,w,!!n||t[++g]))}return void 0===e?null:e}function i0(e,t,n,o,f,g,w,D){if(!(3&t.type))return;const M=e.data,B=M[D+1];vg(function(e){return 1==(1&e)}(B)?o0(M,t,n,f,Ka(B),w):void 0)||(vg(g)||function(e){return 2==(2&e)}(B)&&(g=o0(M,null,n,f,D,w)),function(e,t,n,o,f){const g=U(e);if(t)f?g?e.addClass(n,o):n.classList.add(o):g?e.removeClass(n,o):n.classList.remove(o);else{let w=-1===o.indexOf("-")?void 0:H.DashCase;if(null==f)g?e.removeStyle(n,o,w):n.style.removeProperty(o);else{const D="string"==typeof f&&f.endsWith("!important");D&&(f=f.slice(0,-10),w|=H.Important),g?e.setStyle(n,o,f,w):n.style.setProperty(o,f,D?"important":"")}}}(o,w,Ht(rr(),n),f,g))}function o0(e,t,n,o,f,g){const w=null===t;let D;for(;f>0;){const M=e[f],B=Array.isArray(M),q=B?M[1]:M,ce=null===q;let pe=n[f+1];pe===jn&&(pe=ce?Bt:void 0);let Re=ce?rl(pe,o):q===o?pe:void 0;if(B&&!vg(Re)&&(Re=rl(M,o)),vg(Re)&&(D=Re,w))return D;const We=e[f+1];f=w?Gs(We):Ka(We)}if(null!==t){let M=g?t.residualClasses:t.residualStyles;null!=M&&(D=rl(M,o))}return D}function vg(e){return void 0!==e}function s0(e,t){return 0!=(e.flags&(t?16:32))}function a0(e,t=""){const n=yt(),o=Pn(),f=e+20,g=o.firstCreatePass?xl(o,f,1,t,null):o.data[f],w=n[f]=Pr(n[11],t);Ci(o,n,w,g),to(g,!1)}function xy(e){return bg("",e,""),xy}function bg(e,t,n){const o=yt(),f=Uc(o,e,t,n);return f!==jn&&function(e,t,n){const o=Ht(t,e);ni(e[11],o,n)}(o,rr(),f),bg}function m0(e,t,n,o,f,g,w,D,M){Xa(fs,bu,Ll(yt(),e,t,n,o,f,g,w,D,M),!0)}function Ry(e,t,n){const o=yt();return Ns(o,Co(),t)&&ts(Pn(),cr(),o,e,t,o[11],n,!0),Ry}const Hc=void 0;var sC=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Zd={};function Oy(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=N0(t);if(n)return n;const o=t.split("-")[0];if(n=N0(o),n)return n;if("en"===o)return sC;throw new Error(`Missing locale data for the locale "${e}".`)}function S0(e){return Oy(e)[In.PluralCase]}function N0(e){return e in Zd||(Zd[e]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[e]),Zd[e]}var In=(()=>((In=In||{})[In.LocaleId=0]="LocaleId",In[In.DayPeriodsFormat=1]="DayPeriodsFormat",In[In.DayPeriodsStandalone=2]="DayPeriodsStandalone",In[In.DaysFormat=3]="DaysFormat",In[In.DaysStandalone=4]="DaysStandalone",In[In.MonthsFormat=5]="MonthsFormat",In[In.MonthsStandalone=6]="MonthsStandalone",In[In.Eras=7]="Eras",In[In.FirstDayOfWeek=8]="FirstDayOfWeek",In[In.WeekendRange=9]="WeekendRange",In[In.DateFormat=10]="DateFormat",In[In.TimeFormat=11]="TimeFormat",In[In.DateTimeFormat=12]="DateTimeFormat",In[In.NumberSymbols=13]="NumberSymbols",In[In.NumberFormats=14]="NumberFormats",In[In.CurrencyCode=15]="CurrencyCode",In[In.CurrencySymbol=16]="CurrencySymbol",In[In.CurrencyName=17]="CurrencyName",In[In.Currencies=18]="Currencies",In[In.Directionality=19]="Directionality",In[In.PluralCase=20]="PluralCase",In[In.ExtraData=21]="ExtraData",In))();const uC=["zero","one","two","few","many"],wg="en-US",Cg={marker:"element"},Eg={marker:"ICU"};var yo=(()=>((yo=yo||{})[yo.SHIFT=2]="SHIFT",yo[yo.APPEND_EAGERLY=1]="APPEND_EAGERLY",yo[yo.COMMENT=2]="COMMENT",yo))();let A0=wg;function Py(e){(function(e,t){null==e&&vt(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(A0=e.toLowerCase().replace(/_/g,"-"))}function M0(e,t,n){const o=t.insertBeforeIndex,f=Array.isArray(o)?o[0]:o;return null===f?Ho(e,0,n):Ae(n[f])}function x0(e,t,n,o,f){const g=t.insertBeforeIndex;if(Array.isArray(g)){let w=o,D=null;if(3&t.type||(D=w,w=f),null!==w&&0==(2&t.flags))for(let M=1;M<g.length;M++)Gu(e,w,n[g[M]],D,!1)}}function R0(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const o=e[n];O0(o)||fC(o,t)&&null===hC(o)&&pC(o,t.index)}}function O0(e){return!(64&e.type)}function fC(e,t){return O0(t)||e.index>t.index}function hC(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function pC(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(bc(M0,x0),e.insertBeforeIndex=t)}function Eh(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function yC(e,t,n){const o=Ad(e,n,64,null,null);return R0(t,o),o}function Dg(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function P0(e){return e>>>17}function k0(e){return(131070&e)>>>1}let Dh=0,Th=0;function L0(e,t,n,o){const f=n[11];let w,g=null;for(let D=0;D<t.length;D++){const M=t[D];if("string"==typeof M){const B=t[++D];null===n[B]&&(n[B]=Pr(f,M))}else if("number"==typeof M)switch(1&M){case 0:const B=P0(M);let q,ce;if(null===g&&(g=B,w=Td(f,o)),B===g?(q=o,ce=w):(q=null,ce=Ae(n[B])),null!==ce){const ot=k0(M);Gu(f,ce,n[ot],q,!1);const It=Eh(e,ot);if(null!==It&&"object"==typeof It){const gt=Dg(It,n);null!==gt&&L0(e,It.create[gt],n,n[It.anchorIdx])}}break;case 1:const Re=t[++D],We=t[++D];kp(f,Ht(M>>>1,n),null,null,Re,We,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${M}"`)}else switch(M){case Eg:const B=t[++D],q=t[++D];null===n[q]&&mo(n[q]=na(f,B),n);break;case Cg:const ce=t[++D],pe=t[++D];null===n[pe]&&mo(n[pe]=Hs(f,ce,null),n)}}}function V0(e,t,n,o,f){for(let g=0;g<n.length;g++){const w=n[g],D=n[++g];if(w&f){let M="";for(let B=g+1;B<=g+D;B++){const q=n[B];if("string"==typeof q)M+=q;else if("number"==typeof q)if(q<0)M+=we(t[o-q]);else{const ce=q>>>2;switch(3&q){case 1:const pe=n[++B],Re=n[++B],We=e.data[ce];"string"==typeof We?kp(t[11],t[ce],null,We,pe,M,Re):ts(e,We,t,pe,M,t[11],Re,!1);break;case 0:const ot=t[ce];null!==ot&&ni(t[11],ot,M);break;case 2:CC(e,Eh(e,ce),t,M);break;case 3:B0(e,Eh(e,ce),o,t)}}}}else{const M=n[g+1];if(M>0&&3==(3&M)){const q=Eh(e,M>>>2);t[q.currentCaseLViewIndex]<0&&B0(e,q,o,t)}}g+=D}}function B0(e,t,n,o){let f=o[t.currentCaseLViewIndex];if(null!==f){let g=Dh;f<0&&(f=o[t.currentCaseLViewIndex]=~f,g=-1),V0(e,o,t.update[f],n,g)}}function CC(e,t,n,o){const f=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const o=function(e,t){const n=S0(t)(parseInt(e,10)),o=uC[n];return void 0!==o?o:"other"}(t,A0);n=e.cases.indexOf(o),-1===n&&"other"!==o&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,o);if(Dg(t,n)!==f&&(U0(e,t,n),n[t.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const w=n[t.anchorIdx];w&&L0(e,t.create[f],n,w)}}function U0(e,t,n){let o=Dg(t,n);if(null!==o){const f=t.remove[o];for(let g=0;g<f.length;g++){const w=f[g];if(w>0){const D=Ht(w,n);null!==D&&cp(n[11],D)}else U0(e,Eh(e,~w),n)}}}function DC(){const e=[];let n,o,t=-1;function g(D,M){t=0;const B=Dg(D,M);o=null!==B?D.remove[B]:Bt}function w(){if(t<o.length){const D=o[t++];return D>0?n[D]:(e.push(t,o),g(n[1].data[~D],n),w())}return 0===e.length?null:(o=e.pop(),t=e.pop(),w())}return function(D,M){for(n=M;e.length;)e.pop();return g(D.value,M),w}}const Tg=/\ufffd(\d+):?\d*\ufffd/gi,IC=/\ufffd(\d+)\ufffd/,H0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,SC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,NC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,AC=/\uE500/g;function G0(e,t,n,o,f,g,w){const D=Yn(e,o,1,null);let M=D<<yo.SHIFT,B=eo();t===B&&(B=null),null===B&&(M|=yo.APPEND_EAGERLY),w&&(M|=yo.COMMENT,function(e){void 0===se&&(se=e())}(DC)),f.push(M,null===g?"":g);const q=Ad(e,D,w?32:1,null===g?"":g,null);R0(n,q);const ce=q.index;return to(q,!1),null!==B&&t!==B&&function(e,t){let n=e.insertBeforeIndex;null===n?(bc(M0,x0),n=e.insertBeforeIndex=[null,t]):(function(e,t,n){e!=t&&vt(n,e,t,"==")}(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(B,ce),q}function RC(e,t,n,o,f,g,w){const D=w.match(Tg),M=G0(e,t,n,g,o,D?null:w,!1);D&&Xd(f,w,M.index,null,0,null)}function Xd(e,t,n,o,f,g){const w=e.length,D=w+1;e.push(null,null);const M=w+2,B=t.split(Tg);let q=0;for(let ce=0;ce<B.length;ce++){const pe=B[ce];if(1&ce){const Re=f+parseInt(pe,10);e.push(-1-Re),q|=$0(Re)}else""!==pe&&e.push(pe)}return e.push(n<<2|(o?1:0)),o&&e.push(o,g),e[w]=q,e[D]=e.length-M,q}function $0(e){return 1<<Math.min(e,31)}function W0(e){let t,g,n="",o=0,f=!1;for(;null!==(t=SC.exec(e));)f?t[0]===`\ufffd/*${g}\ufffd`&&(o=t.index,f=!1):(n+=e.substring(o,t.index+t[0].length),g=t[1],f=!0);return n+=e.substr(o),n}function z0(e,t,n,o,f,g){let w=0;const D={type:f.type,currentCaseLViewIndex:Yn(e,t,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(e,t,n){e.push($0(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(n,f,g),function(e,t,n){const o=e.data[t];null===o?e.data[t]=n:o.value=n}(e,g,D);const M=f.values;for(let B=0;B<M.length;B++){const q=M[B],ce=[];for(let pe=0;pe<q.length;pe++){const Re=q[pe];if("string"!=typeof Re){const We=ce.push(Re)-1;q[pe]=`\x3c!--\ufffd${We}\ufffd--\x3e`}}w=VC(e,D,t,n,o,f.cases[B],q.join(""),ce)|w}w&&function(e,t,n){e.push(t,1,n<<2|3)}(n,w,g)}function LC(e){const t=[],n=[];let o=1,f=0;const g=ky(e=e.replace(H0,function(w,D,M){return o="select"===M?0:1,f=parseInt(D.substr(1),10),""}));for(let w=0;w<g.length;){let D=g[w++].trim();1===o&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&t.push(D);const M=ky(g[w++]);t.length>n.length&&n.push(M)}return{type:o,mainBinding:f,cases:t,values:n}}function ky(e){if(!e)return[];let t=0;const n=[],o=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(e);){const D=g.index;if("}"==g[0]){if(n.pop(),0==n.length){const M=e.substring(t,D);H0.test(M)?o.push(LC(M)):o.push(M),t=D+1}}else{if(0==n.length){const M=e.substring(t,D);o.push(M),t=D+1}n.push("{")}}const w=e.substring(t);return o.push(w),o}function VC(e,t,n,o,f,g,w,D){const M=[],B=[],q=[];t.cases.push(g),t.create.push(M),t.remove.push(B),t.update.push(q);const pe=id(wo()).getInertBodyElement(w),Re=uc(pe)||pe;return Re?Y0(e,t,n,o,M,B,q,Re,f,D,0):0}function Y0(e,t,n,o,f,g,w,D,M,B,q){let ce=0,pe=D.firstChild;for(;pe;){const Re=Yn(e,n,1,null);switch(pe.nodeType){case Node.ELEMENT_NODE:const We=pe,ot=We.tagName.toLowerCase();if(Fu.hasOwnProperty(ot)){Fy(f,Cg,ot,M,Re),e.data[Re]=ot;const cn=We.attributes;for(let kn=0;kn<cn.length;kn++){const Mr=cn.item(kn),os=Mr.name.toLowerCase();Mr.value.match(Tg)?Vu.hasOwnProperty(os)&&Xd(w,Mr.value,Re,Mr.name,0,gl[os]?ti:$a[os]?od:null):HC(f,Re,Mr)}ce=Y0(e,t,n,o,f,g,w,pe,Re,B,q+1)|ce,q0(g,Re,q)}break;case Node.TEXT_NODE:const Xe=pe.textContent||"",It=Xe.match(Tg);Fy(f,null,It?"":Xe,M,Re),q0(g,Re,q),It&&(ce=Xd(w,Xe,Re,null,0,null)|ce);break;case Node.COMMENT_NODE:const gt=IC.exec(pe.textContent||"");if(gt){const kn=B[parseInt(gt[1],10)];Fy(f,Eg,"",M,Re),z0(e,n,o,M,kn,Re),BC(g,Re,q)}}pe=pe.nextSibling}return ce}function q0(e,t,n){0===n&&e.push(t)}function BC(e,t,n){0===n&&(e.push(~t),e.push(t))}function Fy(e,t,n,o,f){null!==t&&e.push(t),e.push(n,f,function(e,t,n){return 0|t<<17|n<<1}(0,o,f))}function HC(e,t,n){e.push(t<<1|1,n.name,n.value)}function J0(e,t,n=-1){const o=Pn(),f=yt(),g=20+e,w=hr(o.consts,t),D=eo();o.firstCreatePass&&function(e,t,n,o,f,g){const w=eo(),D=[],M=[],B=[[]],q=function(e){return e.replace(AC," ")}(f=function(e,t){if(function(e){return-1===e}(t))return W0(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,o=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return W0(e.substring(n,o))}}(f,g)).split(NC);for(let ce=0;ce<q.length;ce++){let pe=q[ce];if(0==(1&ce)){const Re=ky(pe);for(let We=0;We<Re.length;We++){let ot=Re[We];if(0==(1&We)){const Xe=ot;""!==Xe&&RC(e,w,B[0],D,M,n,Xe)}else{const Xe=ot;if("object"!=typeof Xe)throw new Error(`Unable to parse ICU expression in "${f}" message.`);z0(e,n,M,t,Xe,G0(e,w,B[0],n,D,"",!0).index)}}}else{const Re=47===pe.charCodeAt(0),ot=(pe.charCodeAt(Re?1:0),20+Number.parseInt(pe.substring(Re?2:1)));if(Re)B.shift(),to(eo(),!1);else{const Xe=yC(e,B[0],ot);B.unshift([]),to(Xe,!0)}}}e.data[o]={create:D,update:M}}(o,null===D?0:D.index,f,g,w,n);const M=o.data[g],q=sp(o,D===f[6]?null:D,f);(function(e,t,n,o){const f=e[11];for(let g=0;g<t.length;g++){const w=t[g++],D=t[g],M=(w&yo.COMMENT)===yo.COMMENT,B=(w&yo.APPEND_EAGERLY)===yo.APPEND_EAGERLY,q=w>>>yo.SHIFT;let ce=e[q];null===ce&&(ce=e[q]=M?f.createComment(D):Pr(f,D)),B&&null!==n&&Gu(f,n,ce,o,!1)}})(f,M.create,q,D&&8&D.type?f[D.index]:null),Ms(!0)}function Z0(e,t,n){J0(e,t,n),Ms(!1)}function Ly(e){return function(e){e&&(Dh|=1<<Math.min(Th,31)),Th++}(Ns(yt(),Co(),e)),Ly}function X0(e){!function(e,t,n){if(Th>0){const o=e.data[n];V0(e,t,Array.isArray(o)?o:o.update,Ni()-Th-1,Dh)}Dh=0,Th=0}(Pn(),yt(),e+20)}function Vy(e,t,n,o,f){if(e=_e(e),Array.isArray(e))for(let g=0;g<e.length;g++)Vy(e[g],t,n,o,f);else{const g=Pn(),w=yt();let D=Qu(e)?e:_e(e.provide),M=Um(e);const B=nr(),q=1048575&B.providerIndexes,ce=B.directiveStart,pe=B.providerIndexes>>20;if(Qu(e)||!e.multi){const Re=new xe(M,f,jl),We=Uy(D,t,f?q:q+pe,ce);-1===We?(T(Ge(B,w),g,D),By(g,e,t.length),t.push(D),B.directiveStart++,B.directiveEnd++,f&&(B.providerIndexes+=1048576),n.push(Re),w.push(Re)):(n[We]=Re,w[We]=Re)}else{const Re=Uy(D,t,q+pe,ce),We=Uy(D,t,q,q+pe),ot=Re>=0&&n[Re],Xe=We>=0&&n[We];if(f&&!Xe||!f&&!ot){T(Ge(B,w),g,D);const It=function(e,t,n,o,f){const g=new xe(e,n,jl);return g.multi=[],g.index=t,g.componentProviders=0,eb(g,f,o&&!n),g}(f?tE:eE,n.length,f,o,M);!f&&Xe&&(n[We].providerFactory=It),By(g,e,t.length,0),t.push(D),B.directiveStart++,B.directiveEnd++,f&&(B.providerIndexes+=1048576),n.push(It),w.push(It)}else By(g,e,Re>-1?Re:We,eb(n[f?We:Re],M,!f&&o));!f&&o&&Xe&&n[We].componentProviders++}}}function By(e,t,n,o){const f=Qu(t);if(f||function(e){return!!e.useClass}(t)){const w=(t.useClass||t).prototype.ngOnDestroy;if(w){const D=e.destroyHooks||(e.destroyHooks=[]);if(!f&&t.multi){const M=D.indexOf(n);-1===M?D.push(n,[o,w]):D[M+1].push(o,w)}else D.push(n,w)}}}function eb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uy(e,t,n,o){for(let f=n;f<o;f++)if(t[f]===e)return f;return-1}function eE(e,t,n,o){return jy(this.multi,[])}function tE(e,t,n,o){const f=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=Dn(n,n[1],this.providerFactory.index,o);g=D.slice(0,w),jy(f,g);for(let M=w;M<D.length;M++)g.push(D[M])}else g=[],jy(f,g);return g}function jy(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function tb(e,t=[]){return n=>{n.providersResolver=(o,f)=>function(e,t,n){const o=Pn();if(o.firstCreatePass){const f=xr(e);Vy(n,o.data,o.blueprint,f,!0),Vy(t,o.data,o.blueprint,f,!1)}}(o,f?f(e):e,t)}}class nb{}const ib="ngComponent";class iE{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Fe(e)}. Did you add it to @NgModule.entryComponents?`);return t[ib]=e,t}(t)}}class Gc{}function Ig(...e){}function ef(e,t){return new wu(sn(e,t))}Gc.NULL=new iE;const aE=function(){return ef(nr(),yt())};let wu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=aE,e})();function ob(e){return e instanceof wu?e.nativeElement:e}class Sg{}let uE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>cE(),e})();const cE=function(){const e=yt(),n=Mn(nr().index,e);return function(e){return e[11]}(zn(n)?n:e)};let Gy=(()=>{class e{}return e.\u0275prov=on({token:e,providedIn:"root",factory:()=>null}),e})();class sb{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $y=new sb("12.2.3");class ab{constructor(){}supports(t){return Pl(t)}create(t){return new pE(t)}}const hE=(e,t)=>t;class pE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,f=0,g=null;for(;n||o;){const w=!o||n&&n.currentIndex<lb(o,f,g)?n:o,D=lb(w,f,g),M=w.currentIndex;if(w===o)f--,o=o._nextRemoved;else if(n=n._next,null==w.previousIndex)f++;else{g||(g=[]);const B=D-f,q=M-f;if(B!=q){for(let pe=0;pe<B;pe++){const Re=pe<g.length?g[pe]:g[pe]=0,We=Re+pe;q<=We&&We<B&&(g[pe]=Re+1)}g[w.previousIndex]=q-B}}D!==M&&t(w,D,M)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Pl(t))throw new Error(`Error trying to diff '${Fe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let f,g,w,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)g=t[D],w=this._trackByFn(D,g),null!==n&&Object.is(n.trackById,w)?(o&&(n=this._verifyReinsertion(n,g,w,D)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,w,D),o=!0),n=n._next}else f=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ju()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,D=>{w=this._trackByFn(f,D),null!==n&&Object.is(n.trackById,w)?(o&&(n=this._verifyReinsertion(n,D,w,f)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,w,f),o=!0),n=n._next,f++}),this.length=f;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,f){let g;return null===t?g=this._itTail:(g=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,g,f)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,f))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,g,f)):t=this._addAfter(new gE(n,o),g,f),t}_verifyReinsertion(t,n,o,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==g?t=this._reinsertAfter(g,t._prev,f):t.currentIndex!=f&&(t.currentIndex=f,this._addToMoves(t,f)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const f=t._prevRemoved,g=t._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const f=null===n?this._itHead:n._next;return t._next=f,t._prev=n,null===f?this._itTail=t:f._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new ub),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ub),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class ub{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new mE,this.map.set(n,o)),o.add(t)}get(t,n){const f=this.map.get(t);return f?f.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(e,t,n){const o=e.previousIndex;if(null===o)return o;let f=0;return n&&o<n.length&&(f=n[o]),o+t+f}class cb{constructor(){}supports(t){return t instanceof Map||Wd(t)}create(){return new yE}}class yE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Wd(t)))throw new Error(`Error trying to diff '${Fe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,f)=>{if(n&&n.key===f)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const g=this._getOrCreateRecordForKey(f,o);n=this._insertBeforeOrAppend(n,g)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const f=this._records.get(t);this._maybeAddToChanges(f,n);const g=f._prev,w=f._next;return g&&(g._next=w),w&&(w._prev=g),f._next=null,f._prev=null,f}const o=new _E(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class _E{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new Ng([new ab])}let Ng=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(null!=o){const f=o.factories.slice();n=n.concat(f)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||db()),deps:[[e,new Aa,new Xs]]}}find(n){const o=this.factories.find(f=>f.supports(n));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=on({token:e,providedIn:"root",factory:db}),e})();function fb(){return new Ag([new cb])}let Ag=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(o){const f=o.factories.slice();n=n.concat(f)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||fb()),deps:[[e,new Aa,new Xs]]}}find(n){const o=this.factories.find(f=>f.supports(n));if(o)return o;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=on({token:e,providedIn:"root",factory:fb}),e})();function Mg(e,t,n,o,f=!1){for(;null!==n;){const g=t[n.index];if(null!==g&&o.push(Ae(g)),or(g))for(let D=10;D<g.length;D++){const M=g[D],B=M[1].firstChild;null!==B&&Mg(M[1],M,B,o)}const w=n.type;if(8&w)Mg(e,t,n.child,o);else if(32&w){const D=ge(n,t);let M;for(;M=D();)o.push(M)}else if(16&w){const D=Ja(t,n);if(Array.isArray(D))o.push(...D);else{const M=Ye(t[16]);Mg(M[1],M,D,o,!0)}}n=f?n.projectionNext:n.next}return o}class Sh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Mg(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(or(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(Ss(t,o),ua(n,o))}this._attachedToViewContainer=!1}pa(this._lView[1],this._lView)}onDestroy(t){Kf(this._lView[1],this._lView,null,t)}markForCheck(){Mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Yo(!0);try{xc(e,t,n)}finally{Yo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,wc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class bE extends Sh{constructor(t){super(t),this._view=t}detectChanges(){Pm(this._view)}checkNoChanges(){!function(e){Yo(!0);try{Pm(e)}finally{Yo(!1)}}(this._view)}get context(){return null}}const CE=function(e){return function(e,t,n){if(lo(e)&&!n){const o=Mn(e.index,t);return new Sh(o,o)}return 47&e.type?new Sh(t[16],t):null}(nr(),yt(),16==(16&e))};let EE=(()=>{class e{}return e.__NG_ELEMENT_ID__=CE,e})();const IE=[new cb],NE=new Ng([new ab]),AE=new Ag(IE),xE=function(){return xg(nr(),yt())};let Nh=(()=>{class e{}return e.__NG_ELEMENT_ID__=xE,e})();const RE=Nh,OE=class extends RE{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t){const n=this._declarationTContainer.tViews,o=Ic(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(o[19]=g.createEmbeddedView(n)),Sc(n,o,t),new Sh(o)}};function xg(e,t){return 4&e.type?new OE(t,e,ef(e,t)):null}class $c{}class hb{}const FE=function(){return mb(nr(),yt())};let Rg=(()=>{class e{}return e.__NG_ELEMENT_ID__=FE,e})();const VE=Rg,pb=class extends VE{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return ef(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const t=S(this._hostTNode,this._hostLView);if(ba(t)){const n=m(t,this._hostLView),o=_(t);return new no(n[1].data[o+8],n)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=gb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,o){const f=t.createEmbeddedView(n||{});return this.insert(f,o),f}createComponent(t,n,o,f,g){const w=o||this.parentInjector;if(!g&&null==t.ngModule&&w){const M=w.get($c,null);M&&(g=M)}const D=t.create(w,f,void 0,g);return this.insert(D.hostView,n),D}insert(t,n){const o=t._lView,f=o[1];if(or(o[3])){const q=this.indexOf(t);if(-1!==q)this.detach(q);else{const ce=o[3],pe=new pb(ce,ce[6],ce[3]);pe.detach(pe.indexOf(t))}}const g=this._adjustIndex(n),w=this._lContainer;!function(e,t,n,o){const f=10+o,g=n.length;o>0&&(n[f-1][4]=t),o<g-10?(t[4]=n[f],Zs(n,10+o,t)):(n.push(t),t[4]=null),t[3]=n;const w=t[17];null!==w&&n!==w&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(w,t);const D=t[19];null!==D&&D.insertView(e),t[2]|=128}(f,o,w,g);const D=hu(g,w),M=o[11],B=Td(M,w[7]);return null!==B&&function(e,t,n,o,f,g){o[0]=f,o[6]=t,wc(e,o,n,1,f,g)}(f,w[6],M,o,B,D),t.attachToViewContainerRef(),Zs(Wy(w),g,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=gb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=Ss(this._lContainer,n);o&&(ua(Wy(this._lContainer),n),pa(o[1],o))}detach(t){const n=this._adjustIndex(t,-1),o=Ss(this._lContainer,n);return o&&null!=ua(Wy(this._lContainer),n)?new Sh(o):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function gb(e){return e[8]}function Wy(e){return e[8]||(e[8]=[])}function mb(e,t){let n;const o=t[e.index];if(or(o))n=o;else{let f;if(8&e.type)f=Ae(o);else{const g=t[11];f=g.createComment("");const w=sn(e,t);Gu(g,Td(g,w),f,function(e,t){return U(e)?e.nextSibling(t):t.nextSibling}(g,w),!1)}t[e.index]=n=Rm(o,t,f,e),Ac(t,n)}return new pb(n,e,t)}const of={};class Fb extends Gc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=kr(t);return new Vb(n,this.ngModule)}}function Lb(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const PD=new Er("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cd});class Vb extends nb{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(_p).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Lb(this.componentDef.inputs)}get outputs(){return Lb(this.componentDef.outputs)}create(t,n,o,f){const g=(f=f||this.ngModule)?function(e,t){return{get:(n,o,f)=>{const g=e.get(n,of,f);return g!==of||o===of?g:t.get(n,o,f)}}}(t,f.injector):t,w=g.get(Sg,j),D=g.get(Gy,null),M=w.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",q=o?function(e,t,n){if(U(e))return e.selectRootElement(t,n===me.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(M,o,this.componentDef.encapsulation):Hs(w.createRenderer(null,this.componentDef),B,function(e){const t=e.toLowerCase();return"svg"===t?bo:"math"===t?"http://www.w3.org/1998/MathML/":null}(B)),ce=this.componentDef.onPush?576:528,pe=function(e,t){return{components:[],scheduler:e||Cd,clean:km,playerHandler:t||null,flags:0}}(),Re=xd(0,null,null,1,0,null,null,null,null,null),We=Ic(null,Re,pe,ce,null,null,w,M,D,g);let ot,Xe;Jo(We);try{const It=function(e,t,n,o,f,g){const w=n[1];n[20]=e;const M=xl(w,20,2,"#host",null),B=M.mergedAttrs=t.hostAttrs;null!==B&&(Oc(M,B,!0),null!==e&&(Fs(f,e,B),null!==M.classes&&kf(f,e,M.classes),null!==M.styles&&Do(f,e,M.styles)));const q=o.createRenderer(e,t),ce=Ic(n,vm(t),null,t.onPush?64:16,n[20],M,o,q,g||null,null);return w.firstCreatePass&&(T(Ge(M,n),w,t.type),Am(w,M),Mm(M,n.length,1)),Ac(n,ce),n[20]=ce}(q,this.componentDef,We,w,M);if(q)if(o)Fs(M,q,["ng-version",$y.full]);else{const{attrs:gt,classes:cn}=function(e){const t=[],n=[];let o=1,f=2;for(;o<e.length;){let g=e[o];if("string"==typeof g)2===f?""!==g&&t.push(g,e[++o]):8===f&&n.push(g);else{if(!ga(f))break;f=g}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);gt&&Fs(M,q,gt),cn&&cn.length>0&&kf(M,q,cn.join(" "))}if(Xe=On(Re,20),void 0!==n){const gt=Xe.projection=[];for(let cn=0;cn<this.ngContentSelectors.length;cn++){const kn=n[cn];gt.push(null!=kn?Array.from(kn):null)}}ot=function(e,t,n,o,f){const g=n[1],w=function(e,t,n){const o=nr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xm(e,o,t,Yn(e,t,1,null),n));const f=Dn(t,e,o.directiveStart,o);mo(f,t);const g=sn(o,t);return g&&mo(g,t),f}(g,n,t);if(o.components.push(w),e[8]=w,f&&f.forEach(M=>M(w,t)),t.contentQueries){const M=nr();t.contentQueries(1,w,M.directiveStart)}const D=nr();return!g.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(po(D.index),Sm(n[1],D,0,D.directiveStart,D.directiveEnd,t),Nm(t,w)),w}(It,this.componentDef,We,pe,[ey]),Sc(Re,We,null)}finally{Ro()}return new LD(this.componentType,ot,ef(Xe,We),We,Xe)}}class LD extends class{}{constructor(t,n,o,f,g){super(),this.location=o,this._rootLView=f,this._tNode=g,this.instance=n,this.hostView=this.changeDetectorRef=new bE(f),this.componentType=t}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sf=new Map;class UD extends $c{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fb(this);const o=mr(t),f=t[Xn]||null;f&&Py(f),this._bootstrapComponents=p(o.bootstrap),this._r3Injector=Bm(t,n,[{provide:$c,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],Fe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Ar.THROW_IF_NOT_FOUND,o=Rt.Default){return t===Ar||t===$c||t===Pc?this:this._r3Injector.get(t,n,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class i_ extends hb{constructor(t){super(),this.moduleType=t,null!==mr(t)&&function(e){const t=new Set;!function n(o){const f=mr(o,!0),g=f.id;null!==g&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Fe(t)} vs ${Fe(t.name)}`)}(g,sf.get(g),o),sf.set(g,o));const w=p(f.imports);for(const D of w)t.has(D)||(t.add(D),n(D))}(e)}(t)}create(t){return new UD(this.moduleType,t)}}function jb(e,t,n,o){return $b(yt(),ur(),e,t,n,o)}function Hb(e,t,n,o,f){return function(e,t,n,o,f,g,w){const D=t+n;return yu(e,D,f,g)?Ra(e,D+2,w?o.call(w,f,g):o(f,g)):Fh(e,D+2)}(yt(),ur(),e,t,n,o,f)}function Gb(e,t,n,o,f,g){return zb(yt(),ur(),e,t,n,o,f,g)}function Fh(e,t){const n=e[t];return n===jn?void 0:n}function $b(e,t,n,o,f,g){const w=t+n;return Ns(e,w,f)?Ra(e,w+1,g?o.call(g,f):o(f)):Fh(e,w+1)}function zb(e,t,n,o,f,g,w,D){const M=t+n;return function(e,t,n,o,f){const g=yu(e,t,n,o);return Ns(e,t+2,f)||g}(e,M,f,g,w)?Ra(e,M+3,D?o.call(D,f,g,w):o(f,g,w)):Fh(e,M+3)}function Qb(e,t){const n=Pn();let o;const f=e+20;n.firstCreatePass?(o=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}throw new ct("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[f]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(f,o.onDestroy)):o=n.data[f];const g=o.factory||(o.factory=hi(o.type)),w=Vn(jl);try{const D=N(!1),M=g();return N(D),function(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,yt(),f,M),M}finally{Vn(w)}}function Jb(e,t,n){const o=e+20,f=yt(),g=ln(f,o);return Vh(f,Lh(f,o)?$b(f,ur(),t,g.transform,n,g):g.transform(n))}function Kb(e,t,n,o,f){const g=e+20,w=yt(),D=ln(w,g);return Vh(w,Lh(w,g)?zb(w,ur(),t,D.transform,n,o,f,D):D.transform(n,o,f))}function Lh(e,t){return e[1].data[t].pure}function Vh(e,t){return ya.isWrapped(t)&&(t=ya.unwrap(t),e[Ni()]=jn),t}function o_(e){return t=>{setTimeout(e,void 0,t)}}const Cu=class extends x.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){var f,g,w;let D=t,M=n||(()=>null),B=o;if(t&&"object"==typeof t){const ce=t;D=null===(f=ce.next)||void 0===f?void 0:f.bind(ce),M=null===(g=ce.error)||void 0===g?void 0:g.bind(ce),B=null===(w=ce.complete)||void 0===w?void 0:w.bind(ce)}this.__isAsync&&(M=o_(M),D&&(D=o_(D)),B&&(B=o_(B)));const q=super.subscribe({next:D,error:M,complete:B});return t instanceof u.w&&t.add(q),q}};function XD(){return this._results[Ju()]()}class Lg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ju(),o=Lg.prototype;o[n]||(o[n]=XD)}get changes(){return this._changes||(this._changes=new Cu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const o=this;o.dirty=!1;const f=ji(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let f=e[o],g=t[o];if(n&&(f=n(f),g=n(g)),g!==f)return!1}return!0}(o._results,f,n))&&(o._results=f,o.length=f.length,o.last=f[this.length-1],o.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class s_{constructor(t){this.queryList=t,this.matches=null}clone(){return new s_(this.queryList)}setDirty(){this.queryList.setDirty()}}class a_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,f=[];for(let g=0;g<o;g++){const w=n.getByIndex(g);f.push(this.queries[w.indexInDeclarationView].clone())}return new a_(f)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==sw(t,n).matches&&this.queries[n].setDirty()}}class Zb{constructor(t,n,o=null){this.predicate=t,this.flags=n,this.read=o}}class u_{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const f=null!==n?n.length:0,g=this.getByIndex(o).embeddedTView(t,f);g&&(g.indexInDeclarationView=o,null!==n?n.push(g):n=[g])}return null!==n?new u_(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class l_{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new l_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let f=0;f<o.length;f++){const g=o[f];this.matchTNodeWithReadOption(t,n,nT(n,g)),this.matchTNodeWithReadOption(t,n,Xt(n,t,g,!1,!1))}else o===Nh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Xt(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const f=this.metadata.read;if(null!==f)if(f===wu||f===Rg||f===Nh&&4&n.type)this.addMatch(n.index,-2);else{const g=Xt(n,t,f,!1,!1);null!==g&&this.addMatch(n.index,g)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function nT(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function iT(e,t,n,o){return-1===n?function(e,t){return 11&e.type?ef(e,t):4&e.type?xg(e,t):null}(t,e):-2===n?function(e,t,n){return n===wu?ef(t,e):n===Nh?xg(t,e):n===Rg?mb(t,e):void 0}(e,t,o):Dn(e,e[1],n,t)}function Xb(e,t,n,o){const f=t[19].queries[o];if(null===f.matches){const g=e.data,w=n.matches,D=[];for(let M=0;M<w.length;M+=2){const B=w[M];D.push(B<0?null:iT(t,g[B],w[M+1],n.metadata.read))}f.matches=D}return f.matches}function c_(e,t,n,o){const f=e.queries.getByIndex(n),g=f.matches;if(null!==g){const w=Xb(e,t,f,n);for(let D=0;D<g.length;D+=2){const M=g[D];if(M>0)o.push(w[D/2]);else{const B=g[D+1],q=t[-M];for(let ce=10;ce<q.length;ce++){const pe=q[ce];pe[17]===pe[3]&&c_(pe[1],pe,B,o)}if(null!==q[9]){const ce=q[9];for(let pe=0;pe<ce.length;pe++){const Re=ce[pe];c_(Re[1],Re,B,o)}}}}}return o}function ew(e){const t=yt(),n=Pn(),o=_s();ds(o+1);const f=sw(n,o);if(e.dirty&&sr(t)===(2==(2&f.metadata.flags))){if(null===f.matches)e.reset([]);else{const g=f.crossesNgTemplate?c_(n,t,o,[]):Xb(n,t,f,o);e.reset(g,ob),e.notifyOnChanges()}return!0}return!1}function tw(e,t,n){const o=Pn();o.firstCreatePass&&(ow(o,new Zb(e,t,n),-1),2==(2&t)&&(o.staticViewQueries=!0)),iw(o,yt(),t)}function nw(e,t,n,o){const f=Pn();if(f.firstCreatePass){const g=nr();ow(f,new Zb(t,n,o),g.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(f,e),2==(2&n)&&(f.staticContentQueries=!0)}iw(f,yt(),n)}function rw(){return e=yt(),t=_s(),e[19].queries[t].queryList;var e,t}function iw(e,t,n){const o=new Lg(4==(4&n));Kf(e,t,o,o.destroy),null===t[19]&&(t[19]=new a_),t[19].queries.push(new s_(o))}function ow(e,t,n){null===e.queries&&(e.queries=new u_),e.queries.track(new l_(t,n))}function sw(e,t){return e.queries.getByIndex(t)}function aw(e,t){return xg(e,t)}const m_=new Er("Application Initializer");let uf=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ig,this.reject=Ig,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,f)=>{this.resolve=o,this.reject=f})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Ey(g))n.push(g);else if(Dy(g)){const w=new Promise((D,M)=>{g.subscribe({complete:D,error:M})});n.push(w)}}Promise.all(n).then(()=>{o()}).catch(f=>{this.reject(f)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ci(m_,8))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const Tw=new Er("AppId"),PT={provide:Tw,useFactory:function(){return`${y_()}${y_()}${y_()}`},deps:[]};function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new Er("Platform Initializer"),Sw=new Er("Platform ID"),Nw=new Er("appBootstrapListener");let Aw=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const Ug=new Er("LocaleId"),Mw=new Er("DefaultCurrencyCode");class FT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const __=function(e){return new i_(e)},LT=__,VT=function(e){return Promise.resolve(__(e))},xw=function(e){const t=__(e),o=p(mr(e).declarations).reduce((f,g)=>{const w=kr(g);return w&&f.push(new Vb(w)),f},[]);return new FT(t,o)},BT=xw,UT=function(e){return Promise.resolve(xw(e))};let Uh=(()=>{class e{constructor(){this.compileModuleSync=LT,this.compileModuleAsync=VT,this.compileModuleAndAllComponentsSync=BT,this.compileModuleAndAllComponentsAsync=UT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();const GT=(()=>Promise.resolve(0))();function v_(e){"undefined"==typeof Zone?GT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _a{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cu(!1),this.onMicrotaskEmpty=new Cu(!1),this.onStable=new Cu(!1),this.onError=new Cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!o&&n,f.shouldCoalesceRunChangeDetection=o,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let e=Tt.requestAnimationFrame,t=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,w_(e),e.isCheckStableRunning=!0,b_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),w_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,f,g,w,D)=>{try{return Rw(e),n.invokeTask(f,g,w,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Ow(e)}},onInvoke:(n,o,f,g,w,D,M)=>{try{return Rw(e),n.invoke(f,g,w,D,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),Ow(e)}},onHasTask:(n,o,f,g)=>{n.hasTask(f,g),o===f&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,w_(e),b_(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(n,o,f,g)=>(n.handleError(f,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_a.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_a.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,f){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+f,t,WT,Ig,Ig);try{return g.runTask(w,n,o)}finally{g.cancelTask(w)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const WT={};function b_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function w_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Rw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ow(e){e._nesting--,b_(e)}class qT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cu,this.onMicrotaskEmpty=new Cu,this.onStable=new Cu,this.onError=new Cu}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,f){return t.apply(n,o)}}let Pw=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_a.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,f){let g=-1;o&&o>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:g,updateCb:f})}whenStable(n,o,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,o,f){return[]}}return e.\u0275fac=function(n){return new(n||e)(ci(_a))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})(),kw=(()=>{class e{constructor(){this._applications=new Map,C_.addToWindow(this)}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return C_.findTestabilityInTree(this,n,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();class QT{addToWindow(t){}findTestabilityInTree(t,n,o){return null}}function JT(e){C_=e}let C_=new QT,Fw=!0,Lw=!1;function KT(){if(Lw)throw new Error("Cannot enable prod mode after platform setup.");Fw=!1}let nu;const Bw=new Er("AllowMultipleToken");class iI{constructor(t,n){this.name=t,this.token=n}}function Uw(e,t,n=[]){const o=`Platform: ${t}`,f=new Er(o);return(g=[])=>{let w=jw();if(!w||w.injector.get(Bw,!1))if(e)e(n.concat(g).concat({provide:f,useValue:!0}));else{const D=n.concat(g).concat({provide:f,useValue:!0},{provide:Fd,useValue:"platform"});!function(e){if(nu&&!nu.destroyed&&!nu.injector.get(Bw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=e.get(Hw);const t=e.get(Iw,null);t&&t.forEach(n=>n())}(Ar.create({providers:D,name:o}))}return function(e){const t=jw();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(f)}}function jw(){return nu&&!nu.destroyed?nu:null}let Hw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const D=function(e,t){let n;return n="noop"===e?new qT:("zone.js"===e?void 0:e)||new _a({enableLongStackTrace:(Lw=!0,Fw),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),M=[{provide:_a,useValue:D}];return D.run(()=>{const B=Ar.create({providers:M,parent:this.injector,name:n.moduleType.name}),q=n.create(B),ce=q.injector.get(Qa,null);if(!ce)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return D.runOutsideAngular(()=>{const pe=D.onError.subscribe({next:Re=>{ce.handleError(Re)}});q.onDestroy(()=>{E_(this._modules,q),pe.unsubscribe()})}),function(e,t,n){try{const o=n();return Ey(o)?o.catch(f=>{throw t.runOutsideAngular(()=>e.handleError(f)),f}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(ce,D,()=>{const pe=q.injector.get(uf);return pe.runInitializers(),pe.donePromise.then(()=>(Py(q.injector.get(Ug,wg)||wg),this._moduleDoBootstrap(q),q))})})}bootstrapModule(n,o=[]){const f=Gw({},o);return function(e,t,n){const o=new i_(n);return Promise.resolve(o)}(0,0,n).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(n){const o=n.injector.get(jh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(f=>o.bootstrap(f));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Fe(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ci(Ar))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function Gw(e,t){return Array.isArray(t)?t.reduce(Gw,e):Object.assign(Object.assign({},e),t)}let jh=(()=>{class e{constructor(n,o,f,g,w){this._zone=n,this._injector=o,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new J.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),M=new J.y(B=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{_a.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const ce=this._zone.onUnstable.subscribe(()=>{_a.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{q.unsubscribe(),ce.unsubscribe()}});this.isStable=(0,He.T)(D,M.pipe((0,Se.B)()))}bootstrap(n,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=n instanceof nb?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(f.componentType);const g=function(e){return e.isBoundToModule}(f)?void 0:this._injector.get($c),D=f.create(Ar.NULL,[],o||f.selector,g),M=D.location.nativeElement,B=D.injector.get(Pw,null),q=B&&D.injector.get(kw);return B&&q&&q.registerApplication(M,B),D.onDestroy(()=>{this.detachView(D.hostView),E_(this.components,D),q&&q.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;E_(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Nw,[]).concat(this._bootstrapListeners).forEach(f=>f(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ci(_a),ci(Ar),ci(Qa),ci(Gc),ci(uf))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function E_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cI{}class fI{}const hI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pI=(()=>{class e{constructor(n,o){this._compiler=n,this._config=o||hI}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[o,f]=n.split("#");return void 0===f&&(f="default"),ie(8255)(o).then(g=>g[f]).then(g=>Yw(g,o,f)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(n){let[o,f]=n.split("#"),g="NgFactory";return void 0===f&&(f="default",g=""),ie(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(w=>w[f+g]).then(w=>Yw(w,o,f))}}return e.\u0275fac=function(n){return new(n||e)(ci(Uh),ci(fI,8))},e.\u0275prov=on({token:e,factory:e.\u0275fac}),e})();function Yw(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const CI=function(e){return null},DI=Uw(null,"core",[{provide:Sw,useValue:"unknown"},{provide:Hw,deps:[Ar]},{provide:kw,deps:[]},{provide:Aw,deps:[]}]),AI=[{provide:jh,useClass:jh,deps:[_a,Ar,Qa,Gc,uf]},{provide:PD,deps:[_a],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:uf,useClass:uf,deps:[[new Xs,m_]]},{provide:Uh,useClass:Uh,deps:[]},PT,{provide:Ng,useFactory:function(){return NE},deps:[]},{provide:Ag,useFactory:function(){return AE},deps:[]},{provide:Ug,useFactory:function(e){return Py(e=e||"undefined"!=typeof $localize&&$localize.locale||wg),e},deps:[[new Na(Ug),new Xs,new Aa]]},{provide:Mw,useValue:"USD"}];let xI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ci(jh))},e.\u0275mod=En({type:e}),e.\u0275inj=dn({providers:AI}),e})()},906:(Ut,Le,ie)=>{"use strict";ie.d(Le,{F0:()=>Me,yS:()=>un,Bz:()=>va,lC:()=>xe});var x=ie(8583),u=ie(7716),J=ie(7574),He=ie(4402),Se=ie(9193);function Ve(A){return new J.y(S=>{let T;try{T=A()}catch(G){return void S.error(G)}return(T?(0,He.D)(T):(0,Se.c)()).subscribe(S)})}var De=ie(5917),Fe=ie(6215),te=ie(9112),X=ie(3410),Ee=ie(8071),_e=ie(2441),ye=ie(9765),tt=ie(5345);function ct(A){return function(T){const V=new it(A),G=T.lift(V);return V.caught=G}}class it{constructor(S){this.selector=S}call(S,T){return T.subscribe(new et(S,this.selector,this.caught))}}class et extends tt.Ds{constructor(S,T,V){super(S),this.selector=T,this.caught=V}error(S){if(!this.isStopped){let T;try{T=this.selector(S,this.caught)}catch(ee){return void super.error(ee)}this._unsubscribeAndRecycle();const V=new tt.IY(this);this.add(V);const G=(0,tt.ft)(T,V);G!==V&&this.add(G)}}}var we=ie(5435),Qe=ie(7393),Dt=ie(7108);function Gt(A){return function(T){return 0===A?(0,Se.c)():T.lift(new mn(A))}}class mn{constructor(S){if(this.total=S,this.total<0)throw new Dt.W}call(S,T){return T.subscribe(new Vt(S,this.total))}}class Vt extends Qe.L{constructor(S,T){super(S),this.total=T,this.ring=new Array,this.count=0}_next(S){const T=this.ring,V=this.total,G=this.count++;T.length<V?T.push(S):T[G%V]=S}_complete(){const S=this.destination;let T=this.count;if(T>0){const V=this.count>=this.total?this.total:this.count,G=this.ring;for(let ee=0;ee<V;ee++){const Ce=T++%V;S.next(G[Ce])}}S.complete()}}var At=ie(4635),$=ie(5242),Z=ie(4487),ae=ie(5319);class Q{constructor(S){this.callback=S}call(S,T){return T.subscribe(new Ie(S,this.callback))}}class Ie extends Qe.L{constructor(S,T){super(S),this.add(new ae.w(T))}}var Ne=ie(8002),St=ie(3190),Ue=ie(5257),dt=ie(9761),xt=ie(2145),Ke=ie(4612),vt=ie(8049),nn=ie(9773),bn=ie(8307),Qr=ie(1307),on=ie(3282);class Hn{constructor(S,T){this.id=S,this.url=T}}class dn extends Hn{constructor(S,T,V="imperative",G=null){super(S,T),this.navigationTrigger=V,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ht extends Hn{constructor(S,T,V){super(S,T),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vr extends Hn{constructor(S,T,V){super(S,T),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends Hn{constructor(S,T,V){super(S,T),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class an extends Hn{constructor(S,T,V,G){super(S,T),this.urlAfterRedirects=V,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends Hn{constructor(S,T,V,G){super(S,T),this.urlAfterRedirects=V,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gn extends Hn{constructor(S,T,V,G,ee){super(S,T),this.urlAfterRedirects=V,this.state=G,this.shouldActivate=ee}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fn extends Hn{constructor(S,T,V,G){super(S,T),this.urlAfterRedirects=V,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends Hn{constructor(S,T,V,G){super(S,T),this.urlAfterRedirects=V,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rt{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ln{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(S,T,V){this.routerEvent=S,this.position=T,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const be="primary";class nt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const T=this.params[S];return Array.isArray(T)?T[0]:T}return null}getAll(S){if(this.has(S)){const T=this.params[S];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function mt(A){return new nt(A)}const Te="ngNavigationCancelingError";function me(A){const S=Error("NavigationCancelingError: "+A);return S[Te]=!0,S}function ze(A,S,T){const V=T.path.split("/");if(V.length>A.length||"full"===T.pathMatch&&(S.hasChildren()||V.length<A.length))return null;const G={};for(let ee=0;ee<V.length;ee++){const Ce=V[ee],Be=A[ee];if(Ce.startsWith(":"))G[Ce.substring(1)]=Be;else if(Ce!==Be.path)return null}return{consumed:A.slice(0,V.length),posParams:G}}function wt(A,S){const T=A?Object.keys(A):void 0,V=S?Object.keys(S):void 0;if(!T||!V||T.length!=V.length)return!1;let G;for(let ee=0;ee<T.length;ee++)if(G=T[ee],!Tt(A[G],S[G]))return!1;return!0}function Tt(A,S){if(Array.isArray(A)&&Array.isArray(S)){if(A.length!==S.length)return!1;const T=[...A].sort(),V=[...S].sort();return T.every((G,ee)=>V[ee]===G)}return A===S}function jt(A){return Array.prototype.concat.apply([],A)}function Et(A){return A.length>0?A[A.length-1]:null}function Bt(A,S){for(const T in A)A.hasOwnProperty(T)&&S(A[T],T)}function Wt(A){return(0,u.CqO)(A)?A:(0,u.QGY)(A)?(0,He.D)(Promise.resolve(A)):(0,De.of)(A)}const Nn={exact:function so(A,S,T){if(!Hi(A.segments,S.segments)||!rn(A.segments,S.segments,T)||A.numberOfChildren!==S.numberOfChildren)return!1;for(const V in S.children)if(!A.children[V]||!so(A.children[V],S.children[V],T))return!1;return!0},subset:Jr},Ei={exact:function(A,S){return wt(A,S)},subset:function(A,S){return Object.keys(S).length<=Object.keys(A).length&&Object.keys(S).every(T=>Tt(A[T],S[T]))},ignored:()=>!0};function Xn(A,S,T){return Nn[T.paths](A.root,S.root,T.matrixParams)&&Ei[T.queryParams](A.queryParams,S.queryParams)&&!("exact"===T.fragment&&A.fragment!==S.fragment)}function Jr(A,S,T){return ao(A,S,S.segments,T)}function ao(A,S,T,V){if(A.segments.length>T.length){const G=A.segments.slice(0,T.length);return!(!Hi(G,T)||S.hasChildren()||!rn(G,T,V))}if(A.segments.length===T.length){if(!Hi(A.segments,T)||!rn(A.segments,T,V))return!1;for(const G in S.children)if(!A.children[G]||!Jr(A.children[G],S.children[G],V))return!1;return!0}{const G=T.slice(0,A.segments.length),ee=T.slice(A.segments.length);return!!(Hi(A.segments,G)&&rn(A.segments,G,V)&&A.children[be])&&ao(A.children[be],S,ee,V)}}function rn(A,S,T){return S.every((V,G)=>Ei[T](A[G].parameters,V.parameters))}class Ur{constructor(S,T,V){this.root=S,this.queryParams=T,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return br.serialize(this)}}class yn{constructor(S,T){this.segments=S,this.children=T,this.parent=null,Bt(T,(V,G)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tr(this)}}class En{constructor(S,T){this.path=S,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=mt(this.parameters)),this._parameterMap}toString(){return Hr(this)}}function Hi(A,S){return A.length===S.length&&A.every((T,V)=>T.path===S[V].path)}class $o{}class kr{parse(S){const T=new qi(S);return new Ur(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(S){var A;return`${`/${mr(S.root,!0)}`}${function(A){const S=Object.keys(A).map(T=>{const V=A[T];return Array.isArray(V)?V.map(G=>`${$n(T)}=${$n(G)}`).join("&"):`${$n(T)}=${$n(V)}`}).filter(T=>!!T);return S.length?`?${S.join("&")}`:""}(S.queryParams)}${"string"==typeof S.fragment?`#${A=S.fragment,encodeURI(A)}`:""}`}}const br=new kr;function Tr(A){return A.segments.map(S=>Hr(S)).join("/")}function mr(A,S){if(!A.hasChildren())return Tr(A);if(S){const T=A.children[be]?mr(A.children[be],!1):"",V=[];return Bt(A.children,(G,ee)=>{ee!==be&&V.push(`${ee}:${mr(G,!1)}`)}),V.length>0?`${T}(${V.join("//")})`:T}{const T=function(A,S){let T=[];return Bt(A.children,(V,G)=>{G===be&&(T=T.concat(S(V,G)))}),Bt(A.children,(V,G)=>{G!==be&&(T=T.concat(S(V,G)))}),T}(A,(V,G)=>G===be?[mr(A.children[be],!1)]:[`${G}:${mr(V,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[be]?`${Tr(A)}/${T[0]}`:`${Tr(A)}/(${T.join("//")})`}}function Gi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $n(A){return Gi(A).replace(/%3B/gi,";")}function _n(A){return Gi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jt(A){return decodeURIComponent(A)}function jr(A){return Jt(A.replace(/\+/g,"%20"))}function Hr(A){return`${_n(A.path)}${function(A){return Object.keys(A).map(S=>`;${_n(S)}=${_n(A[S])}`).join("")}(A.parameters)}`}const yr=/^[^\/()?;=#]+/;function Yi(A){const S=A.match(yr);return S?S[0]:""}const Yr=/^[^=?&#]+/,Ir=/^[^?&#]+/;class qi{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(S.length>0||Object.keys(T).length>0)&&(V[be]=new yn(S,T)),V}parseSegment(){const S=Yi(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new En(Jt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const T=Yi(this.remaining);if(!T)return;this.capture(T);let V="";if(this.consumeOptional("=")){const G=Yi(this.remaining);G&&(V=G,this.capture(V))}S[Jt(T)]=Jt(V)}parseQueryParam(S){const T=function(A){const S=A.match(Yr);return S?S[0]:""}(this.remaining);if(!T)return;this.capture(T);let V="";if(this.consumeOptional("=")){const Ce=function(A){const S=A.match(Ir);return S?S[0]:""}(this.remaining);Ce&&(V=Ce,this.capture(V))}const G=jr(T),ee=jr(V);if(S.hasOwnProperty(G)){let Ce=S[G];Array.isArray(Ce)||(Ce=[Ce],S[G]=Ce),Ce.push(ee)}else S[G]=ee}parseParens(S){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=Yi(this.remaining),G=this.remaining[V.length];if("/"!==G&&")"!==G&&";"!==G)throw new Error(`Cannot parse url '${this.url}'`);let ee;V.indexOf(":")>-1?(ee=V.substr(0,V.indexOf(":")),this.capture(ee),this.capture(":")):S&&(ee=be);const Ce=this.parseChildren();T[ee]=1===Object.keys(Ce).length?Ce[be]:new yn([],Ce),this.consumeOptional("//")}return T}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class pn{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const T=this.pathFromRoot(S);return T.length>1?T[T.length-2]:null}children(S){const T=Sr(S,this._root);return T?T.children.map(V=>V.value):[]}firstChild(S){const T=Sr(S,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(S){const T=qt(S,this._root);return T.length<2?[]:T[T.length-2].children.map(G=>G.value).filter(G=>G!==S)}pathFromRoot(S){return qt(S,this._root).map(T=>T.value)}}function Sr(A,S){if(A===S.value)return S;for(const T of S.children){const V=Sr(A,T);if(V)return V}return null}function qt(A,S){if(A===S.value)return[S];for(const T of S.children){const V=qt(A,T);if(V.length)return V.unshift(S),V}return[]}class An{constructor(S,T){this.value=S,this.children=T}toString(){return`TreeNode(${this.value})`}}function er(A){const S={};return A&&A.children.forEach(T=>S[T.value.outlet]=T),S}class Tn extends pn{constructor(S,T){super(S),this.snapshot=T,dr(this,S)}toString(){return this.snapshot.toString()}}function en(A,S){const T=function(A,S){const Ce=new Oi([],{},{},"",{},be,S,null,A.root,-1,{});return new Kt("",new An(Ce,[]))}(A,S),V=new Fe.X([new En("",{})]),G=new Fe.X({}),ee=new Fe.X({}),Ce=new Fe.X({}),Be=new Fe.X(""),at=new $r(V,G,Ce,Be,ee,be,S,T.root);return at.snapshot=T.root,new Tn(new An(at,[]),T)}class $r{constructor(S,T,V,G,ee,Ce,Be,at){this.url=S,this.params=T,this.queryParams=V,this.fragment=G,this.data=ee,this.outlet=Ce,this.component=Be,this._futureSnapshot=at}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(S=>mt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(S=>mt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kr(A,S="emptyOnly"){const T=A.pathFromRoot;let V=0;if("always"!==S)for(V=T.length-1;V>=1;){const G=T[V],ee=T[V-1];if(G.routeConfig&&""===G.routeConfig.path)V--;else{if(ee.component)break;V--}}return function(A){return A.reduce((S,T)=>({params:Object.assign(Object.assign({},S.params),T.params),data:Object.assign(Object.assign({},S.data),T.data),resolve:Object.assign(Object.assign({},S.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(V))}class Oi{constructor(S,T,V,G,ee,Ce,Be,at,Ft,Xt,Dn){this.url=S,this.params=T,this.queryParams=V,this.fragment=G,this.data=ee,this.outlet=Ce,this.component=Be,this.routeConfig=at,this._urlSegment=Ft,this._lastPathIndex=Xt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kt extends pn{constructor(S,T){super(T),this.url=S,dr(this,T)}toString(){return Qi(this._root)}}function dr(A,S){S.value._routerState=A,S.children.forEach(T=>dr(A,T))}function Qi(A){const S=A.children.length>0?` { ${A.children.map(Qi).join(", ")} } `:"";return`${A.value}${S}`}function zn(A){if(A.snapshot){const S=A.snapshot,T=A._futureSnapshot;A.snapshot=T,wt(S.queryParams,T.queryParams)||A.queryParams.next(T.queryParams),S.fragment!==T.fragment&&A.fragment.next(T.fragment),wt(S.params,T.params)||A.params.next(T.params),function(A,S){if(A.length!==S.length)return!1;for(let T=0;T<A.length;++T)if(!wt(A[T],S[T]))return!1;return!0}(S.url,T.url)||A.url.next(T.url),wt(S.data,T.data)||A.data.next(T.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function or(A,S){return wt(A.params,S.params)&&function(A,S){return Hi(A,S)&&A.every((T,V)=>wt(T.parameters,S[V].parameters))}(A.url,S.url)&&!(!A.parent!=!S.parent)&&(!A.parent||or(A.parent,S.parent))}function lo(A,S,T){if(T&&A.shouldReuseRoute(S.value,T.value.snapshot)){const V=T.value;V._futureSnapshot=S.value;const G=function(A,S,T){return S.children.map(V=>{for(const G of T.children)if(A.shouldReuseRoute(V.value,G.value.snapshot))return lo(A,V,G);return lo(A,V)})}(A,S,T);return new An(V,G)}{if(A.shouldAttach(S.value)){const ee=A.retrieve(S.value);if(null!==ee){const Ce=ee.route;return Pi(S,Ce),Ce}}const V=function(A){return new $r(new Fe.X(A.url),new Fe.X(A.params),new Fe.X(A.queryParams),new Fe.X(A.fragment),new Fe.X(A.data),A.outlet,A.component,A)}(S.value),G=S.children.map(ee=>lo(A,ee));return new An(V,G)}}function Pi(A,S){if(A.value.routeConfig!==S.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(A.children.length!==S.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");S.value._futureSnapshot=A.value;for(let T=0;T<A.children.length;++T)Pi(A.children[T],S.children[T])}function yi(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function qr(A){return"object"==typeof A&&null!=A&&A.outlets}function _i(A,S,T,V,G){let ee={};return V&&Bt(V,(Ce,Be)=>{ee[Be]=Array.isArray(Ce)?Ce.map(at=>`${at}`):`${Ce}`}),new Ur(T.root===A?S:Wo(T.root,A,S),ee,G)}function Wo(A,S,T){const V={};return Bt(A.children,(G,ee)=>{V[ee]=G===S?T:Wo(G,S,T)}),new yn(A.segments,V)}class fr{constructor(S,T,V){if(this.isAbsolute=S,this.numberOfDoubleDots=T,this.commands=V,S&&V.length>0&&yi(V[0]))throw new Error("Root segment cannot have matrix parameters");const G=V.find(qr);if(G&&G!==Et(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class co{constructor(S,T,V){this.segmentGroup=S,this.processChildren=T,this.index=V}}function as(A,S,T){if(A||(A=new yn([],{})),0===A.segments.length&&A.hasChildren())return Zi(A,S,T);const V=function(A,S,T){let V=0,G=S;const ee={match:!1,pathIndex:0,commandIndex:0};for(;G<A.segments.length;){if(V>=T.length)return ee;const Ce=A.segments[G],Be=T[V];if(qr(Be))break;const at=`${Be}`,Ft=V<T.length-1?T[V+1]:null;if(G>0&&void 0===at)break;if(at&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!No(at,Ft,Ce))return ee;V+=2}else{if(!No(at,{},Ce))return ee;V++}G++}return{match:!0,pathIndex:G,commandIndex:V}}(A,S,T),G=T.slice(V.commandIndex);if(V.match&&V.pathIndex<A.segments.length){const ee=new yn(A.segments.slice(0,V.pathIndex),{});return ee.children[be]=new yn(A.segments.slice(V.pathIndex),A.children),Zi(ee,0,G)}return V.match&&0===G.length?new yn(A.segments,{}):V.match&&!A.hasChildren()?fi(A,S,T):V.match?Zi(A,0,G):fi(A,S,T)}function Zi(A,S,T){if(0===T.length)return new yn(A.segments,{});{const V=function(A){return qr(A[0])?A[0].outlets:{[be]:A}}(T),G={};return Bt(V,(ee,Ce)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(G[Ce]=as(A.children[Ce],S,ee))}),Bt(A.children,(ee,Ce)=>{void 0===V[Ce]&&(G[Ce]=ee)}),new yn(A.segments,G)}}function fi(A,S,T){const V=A.segments.slice(0,S);let G=0;for(;G<T.length;){const ee=T[G];if(qr(ee)){const at=Fi(ee.outlets);return new yn(V,at)}if(0===G&&yi(T[0])){V.push(new En(A.segments[S].path,Cn(T[0]))),G++;continue}const Ce=qr(ee)?ee.outlets[be]:`${ee}`,Be=G<T.length-1?T[G+1]:null;Ce&&Be&&yi(Be)?(V.push(new En(Ce,Cn(Be))),G+=2):(V.push(new En(Ce,{})),G++)}return new yn(V,{})}function Fi(A){const S={};return Bt(A,(T,V)=>{"string"==typeof T&&(T=[T]),null!==T&&(S[V]=fi(new yn([],{}),0,T))}),S}function Cn(A){const S={};return Bt(A,(T,V)=>S[V]=`${T}`),S}function No(A,S,T){return A==T.path&&wt(S,T.parameters)}class si{constructor(S,T,V,G){this.routeReuseStrategy=S,this.futureState=T,this.currState=V,this.forwardEvent=G}activate(S){const T=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,V,S),zn(this.futureState.root),this.activateChildRoutes(T,V,S)}deactivateChildRoutes(S,T,V){const G=er(T);S.children.forEach(ee=>{const Ce=ee.value.outlet;this.deactivateRoutes(ee,G[Ce],V),delete G[Ce]}),Bt(G,(ee,Ce)=>{this.deactivateRouteAndItsChildren(ee,V)})}deactivateRoutes(S,T,V){const G=S.value,ee=T?T.value:null;if(G===ee)if(G.component){const Ce=V.getContext(G.outlet);Ce&&this.deactivateChildRoutes(S,T,Ce.children)}else this.deactivateChildRoutes(S,T,V);else ee&&this.deactivateRouteAndItsChildren(T,V)}deactivateRouteAndItsChildren(S,T){this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,T):this.deactivateRouteAndOutlet(S,T)}detachAndStoreRouteSubtree(S,T){const V=T.getContext(S.value.outlet);if(V&&V.outlet){const G=V.outlet.detach(),ee=V.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:G,route:S,contexts:ee})}}deactivateRouteAndOutlet(S,T){const V=T.getContext(S.value.outlet),G=V&&S.value.component?V.children:T,ee=er(S);for(const Ce of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[Ce],G);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(S,T,V){const G=er(T);S.children.forEach(ee=>{this.activateRoutes(ee,G[ee.value.outlet],V),this.forwardEvent(new ft(ee.value.snapshot))}),S.children.length&&this.forwardEvent(new Sn(S.value.snapshot))}activateRoutes(S,T,V){const G=S.value,ee=T?T.value:null;if(zn(G),G===ee)if(G.component){const Ce=V.getOrCreateContext(G.outlet);this.activateChildRoutes(S,T,Ce.children)}else this.activateChildRoutes(S,T,V);else if(G.component){const Ce=V.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Be=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ce.children.onOutletReAttached(Be.contexts),Ce.attachRef=Be.componentRef,Ce.route=Be.route.value,Ce.outlet&&Ce.outlet.attach(Be.componentRef,Be.route.value),Wi(Be.route)}else{const Be=function(A){for(let S=A.parent;S;S=S.parent){const T=S.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(G.snapshot),at=Be?Be.module.componentFactoryResolver:null;Ce.attachRef=null,Ce.route=G,Ce.resolver=at,Ce.outlet&&Ce.outlet.activateWith(G,at),this.activateChildRoutes(S,null,Ce.children)}}else this.activateChildRoutes(S,null,V)}}function Wi(A){zn(A.value),A.children.forEach(Wi)}class hi{constructor(S,T){this.routes=S,this.module=T}}function Li(A){return"function"==typeof A}function Wr(A){return A instanceof Ur}const vo=Symbol("INITIAL_VALUE");function Cr(){return(0,St.w)(A=>(0,te.aj)(A.map(S=>S.pipe((0,Ue.q)(1),(0,dt.O)(vo)))).pipe((0,xt.R)((S,T)=>{let V=!1;return T.reduce((G,ee,Ce)=>G!==vo?G:(ee===vo&&(V=!0),V||!1!==ee&&Ce!==T.length-1&&!Wr(ee)?G:ee),S)},vo),(0,we.h)(S=>S!==vo),(0,Ne.U)(S=>Wr(S)?S:!0===S),(0,Ue.q)(1)))}let Ao=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275cmp=u.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,V){1&T&&u._UZ(0,"router-outlet")},directives:function(){return[xe]},encapsulation:2}),A})();function Fr(A,S=""){for(let T=0;T<A.length;T++){const V=A[T];bo(V,Xi(S,V))}}function bo(A,S){A.children&&Fr(A.children,S)}function Xi(A,S){return S?A||S.path?A&&!S.path?`${A}/`:!A&&S.path?S.path:`${A}/${S.path}`:"":A}function Lr(A){const S=A.children&&A.children.map(Lr),T=S?Object.assign(Object.assign({},A),{children:S}):Object.assign({},A);return!T.component&&(S||T.loadChildren)&&T.outlet&&T.outlet!==be&&(T.component=Ao),T}function _r(A){return A.outlet||be}function wo(A,S){const T=A.filter(V=>_r(V)===S);return T.push(...A.filter(V=>_r(V)!==S)),T}const Vr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function U(A,S,T){var V;if(""===S.path)return"full"===S.pathMatch&&(A.hasChildren()||T.length>0)?Object.assign({},Vr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ee=(S.matcher||ze)(T,A,S);if(!ee)return Object.assign({},Vr);const Ce={};Bt(ee.posParams,(at,Ft)=>{Ce[Ft]=at.path});const Be=ee.consumed.length>0?Object.assign(Object.assign({},Ce),ee.consumed[ee.consumed.length-1].parameters):Ce;return{matched:!0,consumedSegments:ee.consumed,lastChild:ee.consumed.length,parameters:Be,positionalParamSegments:null!==(V=ee.posParams)&&void 0!==V?V:{}}}function ne(A,S,T,V,G="corrected"){if(T.length>0&&function(A,S,T){return T.some(V=>bt(A,S,V)&&_r(V)!==be)}(A,T,V)){const Ce=new yn(S,function(A,S,T,V){const G={};G[be]=V,V._sourceSegment=A,V._segmentIndexShift=S.length;for(const ee of T)if(""===ee.path&&_r(ee)!==be){const Ce=new yn([],{});Ce._sourceSegment=A,Ce._segmentIndexShift=S.length,G[_r(ee)]=Ce}return G}(A,S,V,new yn(T,A.children)));return Ce._sourceSegment=A,Ce._segmentIndexShift=S.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===T.length&&function(A,S,T){return T.some(V=>bt(A,S,V))}(A,T,V)){const Ce=new yn(A.segments,function(A,S,T,V,G,ee){const Ce={};for(const Be of V)if(bt(A,T,Be)&&!G[_r(Be)]){const at=new yn([],{});at._sourceSegment=A,at._segmentIndexShift="legacy"===ee?A.segments.length:S.length,Ce[_r(Be)]=at}return Object.assign(Object.assign({},G),Ce)}(A,S,T,V,A.children,G));return Ce._sourceSegment=A,Ce._segmentIndexShift=S.length,{segmentGroup:Ce,slicedSegments:T}}const ee=new yn(A.segments,A.children);return ee._sourceSegment=A,ee._segmentIndexShift=S.length,{segmentGroup:ee,slicedSegments:T}}function bt(A,S,T){return(!(A.hasChildren()||S.length>0)||"full"!==T.pathMatch)&&""===T.path}function Ht(A,S,T,V){return!!(_r(A)===V||V!==be&&bt(S,T,A))&&("**"===A.path||U(S,A,T).matched)}function sn(A,S,T){return 0===S.length&&!A.children[T]}class Qn{constructor(S){this.segmentGroup=S||null}}class On{constructor(S){this.urlTree=S}}function ln(A){return new J.y(S=>S.error(new Qn(A)))}function Mn(A){return new J.y(S=>S.error(new On(A)))}function sr(A){return new J.y(S=>S.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A}'`)))}class hr{constructor(S,T,V,G,ee){this.configLoader=T,this.urlSerializer=V,this.urlTree=G,this.config=ee,this.allowRedirects=!0,this.ngModule=S.get(u.h0i)}apply(){const S=ne(this.urlTree.root,[],[],this.config).segmentGroup,T=new yn(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,T,be).pipe((0,Ne.U)(ee=>this.createUrlTree(tr(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(ee=>{if(ee instanceof On)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof Qn?this.noMatchError(ee):ee}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,be).pipe((0,Ne.U)(G=>this.createUrlTree(tr(G),S.queryParams,S.fragment))).pipe(ct(G=>{throw G instanceof Qn?this.noMatchError(G):G}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,T,V){const G=S.segments.length>0?new yn([],{[be]:S}):S;return new Ur(G,T,V)}expandSegmentGroup(S,T,V,G){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(S,T,V).pipe((0,Ne.U)(ee=>new yn([],ee))):this.expandSegment(S,V,T,V.segments,G,!0)}expandChildren(S,T,V){const G=[];for(const ee of Object.keys(V.children))"primary"===ee?G.unshift(ee):G.push(ee);return(0,He.D)(G).pipe((0,Ke.b)(ee=>{const Ce=V.children[ee],Be=wo(T,ee);return this.expandSegmentGroup(S,Be,Ce,ee).pipe((0,Ne.U)(at=>({segment:at,outlet:ee})))}),(0,xt.R)((ee,Ce)=>(ee[Ce.outlet]=Ce.segment,ee),{}),function(A,S){const T=arguments.length>=2;return V=>V.pipe(A?(0,we.h)((G,ee)=>A(G,ee,V)):Z.y,Gt(1),T?(0,$.d)(S):(0,At.T)(()=>new X.K))}())}expandSegment(S,T,V,G,ee,Ce){return(0,He.D)(V).pipe((0,Ke.b)(Be=>this.expandSegmentAgainstRoute(S,T,V,Be,G,ee,Ce).pipe(ct(Ft=>{if(Ft instanceof Qn)return(0,De.of)(null);throw Ft}))),(0,vt.P)(Be=>!!Be),ct((Be,at)=>{if(Be instanceof X.K||"EmptyError"===Be.name){if(sn(T,G,ee))return(0,De.of)(new yn([],{}));throw new Qn(T)}throw Be}))}expandSegmentAgainstRoute(S,T,V,G,ee,Ce,Be){return Ht(G,T,ee,Ce)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(S,T,G,ee,Ce):Be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,T,V,G,ee,Ce):ln(T):ln(T)}expandSegmentAgainstRouteUsingRedirect(S,T,V,G,ee,Ce){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,V,G,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(S,T,V,G,ee,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,T,V,G){const ee=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Mn(ee):this.lineralizeSegments(V,ee).pipe((0,nn.zg)(Ce=>{const Be=new yn(Ce,{});return this.expandSegment(S,Be,T,Ce,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,T,V,G,ee,Ce){const{matched:Be,consumedSegments:at,lastChild:Ft,positionalParamSegments:Xt}=U(T,G,ee);if(!Be)return ln(T);const Dn=this.applyRedirectCommands(at,G.redirectTo,Xt);return G.redirectTo.startsWith("/")?Mn(Dn):this.lineralizeSegments(G,Dn).pipe((0,nn.zg)(Br=>this.expandSegment(S,T,V,Br.concat(ee.slice(Ft)),Ce,!1)))}matchSegmentAgainstRoute(S,T,V,G,ee){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,De.of)(V._loadedConfig):this.configLoader.load(S.injector,V)).pipe((0,Ne.U)(Br=>(V._loadedConfig=Br,new yn(G,{})))):(0,De.of)(new yn(G,{}));const{matched:Ce,consumedSegments:Be,lastChild:at}=U(T,V,G);if(!Ce)return ln(T);const Ft=G.slice(at);return this.getChildConfig(S,V,G).pipe((0,nn.zg)(Dn=>{const Br=Dn.module,pr=Dn.routes,{segmentGroup:Qs,slicedSegments:no}=ne(T,Be,Ft,pr),Fo=new yn(Qs.segments,Qs.children);if(0===no.length&&Fo.hasChildren())return this.expandChildren(Br,pr,Fo).pipe((0,Ne.U)(Zo=>new yn(Be,Zo)));if(0===pr.length&&0===no.length)return(0,De.of)(new yn(Be,{}));const ro=_r(V)===ee;return this.expandSegment(Br,Fo,pr,no,ro?be:ee,!0).pipe((0,Ne.U)(Lo=>new yn(Be.concat(Lo.segments),Lo.children)))}))}getChildConfig(S,T,V){return T.children?(0,De.of)(new hi(T.children,S)):T.loadChildren?void 0!==T._loadedConfig?(0,De.of)(T._loadedConfig):this.runCanLoadGuards(S.injector,T,V).pipe((0,nn.zg)(G=>{return G?this.configLoader.load(S.injector,T).pipe((0,Ne.U)(ee=>(T._loadedConfig=ee,ee))):(A=T,new J.y(S=>S.error(me(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))));var A})):(0,De.of)(new hi([],S))}runCanLoadGuards(S,T,V){const G=T.canLoad;if(!G||0===G.length)return(0,De.of)(!0);const ee=G.map(Ce=>{const Be=S.get(Ce);let at;if((A=Be)&&Li(A.canLoad))at=Be.canLoad(T,V);else{if(!Li(Be))throw new Error("Invalid CanLoad guard");at=Be(T,V)}var A;return Wt(at)});return(0,De.of)(ee).pipe(Cr(),(0,bn.b)(Ce=>{if(!Wr(Ce))return;const Be=me(`Redirecting to "${this.urlSerializer.serialize(Ce)}"`);throw Be.url=Ce,Be}),(0,Ne.U)(Ce=>!0===Ce))}lineralizeSegments(S,T){let V=[],G=T.root;for(;;){if(V=V.concat(G.segments),0===G.numberOfChildren)return(0,De.of)(V);if(G.numberOfChildren>1||!G.children[be])return sr(S.redirectTo);G=G.children[be]}}applyRedirectCommands(S,T,V){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),S,V)}applyRedirectCreatreUrlTree(S,T,V,G){const ee=this.createSegmentGroup(S,T.root,V,G);return new Ur(ee,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(S,T){const V={};return Bt(S,(G,ee)=>{if("string"==typeof G&&G.startsWith(":")){const Be=G.substring(1);V[ee]=T[Be]}else V[ee]=G}),V}createSegmentGroup(S,T,V,G){const ee=this.createSegments(S,T.segments,V,G);let Ce={};return Bt(T.children,(Be,at)=>{Ce[at]=this.createSegmentGroup(S,Be,V,G)}),new yn(ee,Ce)}createSegments(S,T,V,G){return T.map(ee=>ee.path.startsWith(":")?this.findPosParam(S,ee,G):this.findOrReturn(ee,V))}findPosParam(S,T,V){const G=V[T.path.substring(1)];if(!G)throw new Error(`Cannot redirect to '${S}'. Cannot find '${T.path}'.`);return G}findOrReturn(S,T){let V=0;for(const G of T){if(G.path===S.path)return T.splice(V),G;V++}return S}}function tr(A){const S={};for(const V of Object.keys(A.children)){const ee=tr(A.children[V]);(ee.segments.length>0||ee.hasChildren())&&(S[V]=ee)}return function(A){if(1===A.numberOfChildren&&A.children[be]){const S=A.children[be];return new yn(A.segments.concat(S.segments),S.children)}return A}(new yn(A.segments,S))}class ar{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Vi{constructor(S,T){this.component=S,this.route=T}}function ho(A,S,T){const V=A._root;return Bi(V,S?S._root:null,T,[V.value])}function Ti(A,S,T){const V=function(A){if(!A)return null;for(let S=A.parent;S;S=S.parent){const T=S.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(S);return(V?V.module.injector:T).get(A)}function Bi(A,S,T,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const ee=er(S);return A.children.forEach(Ce=>{(function(A,S,T,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const ee=A.value,Ce=S?S.value:null,Be=T?T.getContext(A.value.outlet):null;if(Ce&&ee.routeConfig===Ce.routeConfig){const at=function(A,S,T){if("function"==typeof T)return T(A,S);switch(T){case"pathParamsChange":return!Hi(A.url,S.url);case"pathParamsOrQueryParamsChange":return!Hi(A.url,S.url)||!wt(A.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(A,S)||!wt(A.queryParams,S.queryParams);case"paramsChange":default:return!or(A,S)}}(Ce,ee,ee.routeConfig.runGuardsAndResolvers);at?G.canActivateChecks.push(new ar(V)):(ee.data=Ce.data,ee._resolvedData=Ce._resolvedData),Bi(A,S,ee.component?Be?Be.children:null:T,V,G),at&&Be&&Be.outlet&&Be.outlet.isActivated&&G.canDeactivateChecks.push(new Vi(Be.outlet.component,Ce))}else Ce&&Ii(S,Be,G),G.canActivateChecks.push(new ar(V)),Bi(A,null,ee.component?Be?Be.children:null:T,V,G)})(Ce,ee[Ce.value.outlet],T,V.concat([Ce.value]),G),delete ee[Ce.value.outlet]}),Bt(ee,(Ce,Be)=>Ii(Ce,T.getContext(Be),G)),G}function Ii(A,S,T){const V=er(A),G=A.value;Bt(V,(ee,Ce)=>{Ii(ee,G.component?S?S.children.getContext(Ce):null:S,T)}),T.canDeactivateChecks.push(new Vi(G.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,G))}class Ui{}function Yo(A){return new J.y(S=>S.error(A))}class Ni{constructor(S,T,V,G,ee,Ce){this.rootComponentType=S,this.config=T,this.urlTree=V,this.url=G,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=Ce}recognize(){const S=ne(this.urlTree.root,[],[],this.config.filter(Ce=>void 0===Ce.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,S,be);if(null===T)return null;const V=new Oi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},be,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new An(V,T),ee=new Kt(this.url,G);return this.inheritParamsAndData(ee._root),ee}inheritParamsAndData(S){const T=S.value,V=Kr(T,this.paramsInheritanceStrategy);T.params=Object.freeze(V.params),T.data=Object.freeze(V.data),S.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(S,T,V){return 0===T.segments.length&&T.hasChildren()?this.processChildren(S,T):this.processSegment(S,T,T.segments,V)}processChildren(S,T){const V=[];for(const ee of Object.keys(T.children)){const Ce=T.children[ee],Be=wo(S,ee),at=this.processSegmentGroup(Be,Ce,ee);if(null===at)return null;V.push(...at)}const G=cs(V);return G.sort((S,T)=>S.value.outlet===be?-1:T.value.outlet===be?1:S.value.outlet.localeCompare(T.value.outlet)),G}processSegment(S,T,V,G){for(const ee of S){const Ce=this.processSegmentAgainstRoute(ee,T,V,G);if(null!==Ce)return Ce}return sn(T,V,G)?[]:null}processSegmentAgainstRoute(S,T,V,G){if(S.redirectTo||!Ht(S,T,V,G))return null;let ee,Ce=[],Be=[];if("**"===S.path){const pr=V.length>0?Et(V).parameters:{};ee=new Oi(V,pr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mi(S),_r(S),S.component,S,xo(T),xs(T)+V.length,vi(S))}else{const pr=U(T,S,V);if(!pr.matched)return null;Ce=pr.consumedSegments,Be=V.slice(pr.lastChild),ee=new Oi(Ce,pr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mi(S),_r(S),S.component,S,xo(T),xs(T)+Ce.length,vi(S))}const at=(A=S).children?A.children:A.loadChildren?A._loadedConfig.routes:[],{segmentGroup:Ft,slicedSegments:Xt}=ne(T,Ce,Be,at.filter(pr=>void 0===pr.redirectTo),this.relativeLinkResolution);var A;if(0===Xt.length&&Ft.hasChildren()){const pr=this.processChildren(at,Ft);return null===pr?null:[new An(ee,pr)]}if(0===at.length&&0===Xt.length)return[new An(ee,[])];const Dn=_r(S)===G,Br=this.processSegment(at,Ft,Xt,Dn?be:G);return null===Br?null:[new An(ee,Br)]}}function Ai(A){const S=A.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function cs(A){const S=[],T=new Set;for(const V of A){if(!Ai(V)){S.push(V);continue}const G=S.find(ee=>V.value.routeConfig===ee.value.routeConfig);void 0!==G?(G.children.push(...V.children),T.add(G)):S.push(V)}for(const V of T){const G=cs(V.children);S.push(new An(V.value,G))}return S.filter(V=>!T.has(V))}function xo(A){let S=A;for(;S._sourceSegment;)S=S._sourceSegment;return S}function xs(A){let S=A,T=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,T+=S._segmentIndexShift?S._segmentIndexShift:0;return T-1}function Mi(A){return A.data||{}}function vi(A){return A.resolve||{}}function xn(A){return(0,St.w)(S=>{const T=A(S);return T?(0,He.D)(T).pipe((0,Ne.U)(()=>S)):(0,De.of)(S)})}class lr extends class{shouldDetach(S){return!1}store(S,T){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,T){return S.routeConfig===T.routeConfig}}{}const Ro=new u.OlP("ROUTES");class Oo{constructor(S,T,V,G){this.loader=S,this.compiler=T,this.onLoadStartListener=V,this.onLoadEndListener=G}load(S,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const G=this.loadModuleFactory(T.loadChildren).pipe((0,Ne.U)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(T);const Ce=ee.create(S);return new hi(jt(Ce.injector.get(Ro,void 0,u.XFs.Self|u.XFs.Optional)).map(Lr),Ce)}),ct(ee=>{throw T._loader$=void 0,ee}));return T._loader$=new _e.c(G,()=>new ye.xQ).pipe((0,Qr.x)()),T._loader$}loadModuleFactory(S){return"string"==typeof S?(0,He.D)(this.loader.load(S)):Wt(S()).pipe((0,nn.zg)(T=>T instanceof u.YKP?(0,De.of)(T):(0,He.D)(this.compiler.compileModuleAsync(T))))}}class Po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rr,this.attachRef=null}}class rr{constructor(){this.contexts=new Map}onChildOutletCreated(S,T){const V=this.getOrCreateContext(S);V.outlet=T,this.contexts.set(S,V)}onChildOutletDestroyed(S){const T=this.getContext(S);T&&(T.outlet=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let T=this.getContext(S);return T||(T=new Po,this.contexts.set(S,T)),T}getContext(S){return this.contexts.get(S)||null}}class cr{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,T){return S}}function Rr(A){throw A}function v(A,S,T){return S.parse("/")}function F(A,S){return(0,De.of)(null)}const W={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},de={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class A{constructor(T,V,G,ee,Ce,Be,at,Ft){this.rootComponentType=T,this.urlSerializer=V,this.rootContexts=G,this.location=ee,this.config=Ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye.xQ,this.errorHandler=Rr,this.malformedUriErrorHandler=v,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:F,afterPreactivation:F},this.urlHandlingStrategy=new cr,this.routeReuseStrategy=new lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ce.get(u.h0i),this.console=Ce.get(u.c2e);const Br=Ce.get(u.R0b);this.isNgZoneEnabled=Br instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Ft),this.currentUrlTree=new Ur(new yn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Oo(Be,at,pr=>this.triggerEvent(new Zn(pr)),pr=>this.triggerEvent(new Rt(pr))),this.routerState=en(this.currentUrlTree,this.rootComponentType),this.transitions=new Fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const V=this.events;return T.pipe((0,we.h)(G=>0!==G.id),(0,Ne.U)(G=>Object.assign(Object.assign({},G),{extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,St.w)(G=>{let ee=!1,Ce=!1;return(0,De.of)(G).pipe((0,bn.b)(Be=>{this.currentNavigation={id:Be.id,initialUrl:Be.currentRawUrl,extractedUrl:Be.extractedUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,St.w)(Be=>{const at=!this.navigated||Be.extractedUrl.toString()!==this.browserUrlTree.toString(),Ft=("reload"===this.onSameUrlNavigation||at)&&this.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl);if(Nt(Be.source)&&(this.browserUrlTree=Be.rawUrl),Ft)return(0,De.of)(Be).pipe((0,St.w)(Xt=>{const Dn=this.transitions.getValue();return V.next(new dn(Xt.id,this.serializeUrl(Xt.extractedUrl),Xt.source,Xt.restoredState)),Dn!==this.transitions.getValue()?Se.E:Promise.resolve(Xt)}),function(A,S,T,V){return(0,St.w)(G=>function(A,S,T,V,G){return new hr(A,S,T,V,G).apply()}(A,S,T,G.extractedUrl,V).pipe((0,Ne.U)(ee=>Object.assign(Object.assign({},G),{urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(Xt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Xt.urlAfterRedirects})}),function(A,S,T,V,G){return(0,nn.zg)(ee=>function(A,S,T,V,G="emptyOnly",ee="legacy"){try{const Ce=new Ni(A,S,T,V,G,ee).recognize();return null===Ce?Yo(new Ui):(0,De.of)(Ce)}catch(Ce){return Yo(Ce)}}(A,S,ee.urlAfterRedirects,T(ee.urlAfterRedirects),V,G).pipe((0,Ne.U)(Ce=>Object.assign(Object.assign({},ee),{targetSnapshot:Ce}))))}(this.rootComponentType,this.config,Xt=>this.serializeUrl(Xt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(Xt=>{"eager"===this.urlUpdateStrategy&&(Xt.extras.skipLocationChange||this.setBrowserUrl(Xt.urlAfterRedirects,Xt),this.browserUrlTree=Xt.urlAfterRedirects);const Dn=new an(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);V.next(Dn)}));if(at&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Dn,extractedUrl:Br,source:pr,restoredState:Qs,extras:no}=Be,Fo=new dn(Dn,this.serializeUrl(Br),pr,Qs);V.next(Fo);const ro=en(Br,this.rootComponentType).snapshot;return(0,De.of)(Object.assign(Object.assign({},Be),{targetSnapshot:ro,urlAfterRedirects:Br,extras:Object.assign(Object.assign({},no),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Be.rawUrl,this.browserUrlTree=Be.urlAfterRedirects,Be.resolve(null),Se.E}),xn(Be=>{const{targetSnapshot:at,id:Ft,extractedUrl:Xt,rawUrl:Dn,extras:{skipLocationChange:Br,replaceUrl:pr}}=Be;return this.hooks.beforePreactivation(at,{navigationId:Ft,appliedUrlTree:Xt,rawUrlTree:Dn,skipLocationChange:!!Br,replaceUrl:!!pr})}),(0,bn.b)(Be=>{const at=new Lt(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot);this.triggerEvent(at)}),(0,Ne.U)(Be=>Object.assign(Object.assign({},Be),{guards:ho(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)})),function(A,S){return(0,nn.zg)(T=>{const{targetSnapshot:V,currentSnapshot:G,guards:{canActivateChecks:ee,canDeactivateChecks:Ce}}=T;return 0===Ce.length&&0===ee.length?(0,De.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function(A,S,T,V){return(0,He.D)(A).pipe((0,nn.zg)(G=>function(A,S,T,V,G){const ee=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,De.of)(!0);const Ce=ee.map(Be=>{const at=Ti(Be,S,G);let Ft;if(function(A){return A&&Li(A.canDeactivate)}(at))Ft=Wt(at.canDeactivate(A,S,T,V));else{if(!Li(at))throw new Error("Invalid CanDeactivate guard");Ft=Wt(at(A,S,T,V))}return Ft.pipe((0,vt.P)())});return(0,De.of)(Ce).pipe(Cr())}(G.component,G.route,T,S,V)),(0,vt.P)(G=>!0!==G,!0))}(Ce,V,G,A).pipe((0,nn.zg)(Be=>Be&&function(A){return"boolean"==typeof A}(Be)?function(A,S,T,V){return(0,He.D)(S).pipe((0,Ke.b)(G=>(0,Ee.z)(function(A,S){return null!==A&&S&&S(new Ln(A)),(0,De.of)(!0)}(G.route.parent,V),function(A,S){return null!==A&&S&&S(new Vn(A)),(0,De.of)(!0)}(G.route,V),function(A,S,T){const V=S[S.length-1],ee=S.slice(0,S.length-1).reverse().map(Ce=>function(A){const S=A.routeConfig?A.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:A,guards:S}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>Ve(()=>{const Be=Ce.guards.map(at=>{const Ft=Ti(at,Ce.node,T);let Xt;if(function(A){return A&&Li(A.canActivateChild)}(Ft))Xt=Wt(Ft.canActivateChild(V,A));else{if(!Li(Ft))throw new Error("Invalid CanActivateChild guard");Xt=Wt(Ft(V,A))}return Xt.pipe((0,vt.P)())});return(0,De.of)(Be).pipe(Cr())}));return(0,De.of)(ee).pipe(Cr())}(A,G.path,T),function(A,S,T){const V=S.routeConfig?S.routeConfig.canActivate:null;if(!V||0===V.length)return(0,De.of)(!0);const G=V.map(ee=>Ve(()=>{const Ce=Ti(ee,S,T);let Be;if(function(A){return A&&Li(A.canActivate)}(Ce))Be=Wt(Ce.canActivate(S,A));else{if(!Li(Ce))throw new Error("Invalid CanActivate guard");Be=Wt(Ce(S,A))}return Be.pipe((0,vt.P)())}));return(0,De.of)(G).pipe(Cr())}(A,G.route,T))),(0,vt.P)(G=>!0!==G,!0))}(V,ee,A,S):(0,De.of)(Be)),(0,Ne.U)(Be=>Object.assign(Object.assign({},T),{guardsResult:Be})))})}(this.ngModule.injector,Be=>this.triggerEvent(Be)),(0,bn.b)(Be=>{if(Wr(Be.guardsResult)){const Ft=me(`Redirecting to "${this.serializeUrl(Be.guardsResult)}"`);throw Ft.url=Be.guardsResult,Ft}const at=new Gn(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.triggerEvent(at)}),(0,we.h)(Be=>!!Be.guardsResult||(this.restoreHistory(Be),this.cancelNavigationTransition(Be,""),!1)),xn(Be=>{if(Be.guards.canActivateChecks.length)return(0,De.of)(Be).pipe((0,bn.b)(at=>{const Ft=new Fn(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Ft)}),(0,St.w)(at=>{let Ft=!1;return(0,De.of)(at).pipe(function(A,S){return(0,nn.zg)(T=>{const{targetSnapshot:V,guards:{canActivateChecks:G}}=T;if(!G.length)return(0,De.of)(T);let ee=0;return(0,He.D)(G).pipe((0,Ke.b)(Ce=>function(A,S,T,V){return function(A,S,T,V){const G=Object.keys(A);if(0===G.length)return(0,De.of)({});const ee={};return(0,He.D)(G).pipe((0,nn.zg)(Ce=>function(A,S,T,V){const G=Ti(A,S,V);return Wt(G.resolve?G.resolve(S,T):G(S,T))}(A[Ce],S,T,V).pipe((0,bn.b)(Be=>{ee[Ce]=Be}))),Gt(1),(0,nn.zg)(()=>Object.keys(ee).length===G.length?(0,De.of)(ee):Se.E))}(A._resolve,A,S,V).pipe((0,Ne.U)(ee=>(A._resolvedData=ee,A.data=Object.assign(Object.assign({},A.data),Kr(A,T).resolve),null)))}(Ce.route,V,A,S)),(0,bn.b)(()=>ee++),Gt(1),(0,nn.zg)(Ce=>ee===G.length?(0,De.of)(T):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>Ft=!0,complete:()=>{Ft||(this.restoreHistory(at),this.cancelNavigationTransition(at,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(at=>{const Ft=new kt(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Ft)}))}),xn(Be=>{const{targetSnapshot:at,id:Ft,extractedUrl:Xt,rawUrl:Dn,extras:{skipLocationChange:Br,replaceUrl:pr}}=Be;return this.hooks.afterPreactivation(at,{navigationId:Ft,appliedUrlTree:Xt,rawUrlTree:Dn,skipLocationChange:!!Br,replaceUrl:!!pr})}),(0,Ne.U)(Be=>{const at=function(A,S,T){const V=lo(A,S._root,T?T._root:void 0);return new Tn(V,S)}(this.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return Object.assign(Object.assign({},Be),{targetRouterState:at})}),(0,bn.b)(Be=>{this.currentUrlTree=Be.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Be.rawUrl),this.routerState=Be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Be),this.browserUrlTree=Be.urlAfterRedirects)}),((A,S,T)=>(0,Ne.U)(V=>(new si(S,V.targetRouterState,V.currentRouterState,T).activate(A),V)))(this.rootContexts,this.routeReuseStrategy,Be=>this.triggerEvent(Be)),(0,bn.b)({next(){ee=!0},complete(){ee=!0}}),function(A){return S=>S.lift(new Q(A))}(()=>{if(!ee&&!Ce){const Be=`Navigation ID ${G.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(G),this.cancelNavigationTransition(G,Be)):this.cancelNavigationTransition(G,Be)}this.currentNavigation=null}),ct(Be=>{if(Ce=!0,function(A){return A&&A[Te]}(Be)){const at=Wr(Be.url);at||(this.navigated=!0,this.restoreHistory(G,!0));const Ft=new vr(G.id,this.serializeUrl(G.extractedUrl),Be.message);V.next(Ft),at?setTimeout(()=>{const Xt=this.urlHandlingStrategy.merge(Be.url,this.rawUrlTree),Dn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nt(G.source)};this.scheduleNavigation(Xt,"imperative",null,Dn,{resolve:G.resolve,reject:G.reject,promise:G.promise})},0):G.resolve(!1)}else{this.restoreHistory(G,!0);const at=new di(G.id,this.serializeUrl(G.extractedUrl),Be);V.next(at);try{G.resolve(this.errorHandler(Be))}catch(Ft){G.reject(Ft)}}return Se.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}getTransition(){const T=this.transitions.value;return T.urlAfterRedirects=this.browserUrlTree,T}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const V=this.extractLocationChangeInfoFromEvent(T);this.shouldScheduleNavigation(this.lastLocationChangeInfo,V)&&setTimeout(()=>{const{source:G,state:ee,urlTree:Ce}=V,Be={replaceUrl:!0};if(ee){const at=Object.assign({},ee);delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(Be.state=at)}this.scheduleNavigation(Ce,G,ee,Be)},0),this.lastLocationChangeInfo=V}))}extractLocationChangeInfoFromEvent(T){var V;return{source:"popstate"===T.type?"popstate":"hashchange",urlTree:this.parseUrl(T.url),state:(null===(V=T.state)||void 0===V?void 0:V.navigationId)?T.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(T,V){if(!T)return!0;const G=V.urlTree.toString()===T.urlTree.toString();return V.transitionId!==T.transitionId||!G||!("hashchange"===V.source&&"popstate"===T.source||"popstate"===V.source&&"hashchange"===T.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){Fr(T),this.config=T.map(Lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,V={}){const{relativeTo:G,queryParams:ee,fragment:Ce,queryParamsHandling:Be,preserveFragment:at}=V,Ft=G||this.routerState.root,Xt=at?this.currentUrlTree.fragment:Ce;let Dn=null;switch(Be){case"merge":Dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ee);break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=ee||null}return null!==Dn&&(Dn=this.removeEmptyProps(Dn)),function(A,S,T,V,G){if(0===T.length)return _i(S.root,S.root,S,V,G);const ee=function(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new fr(!0,0,A);let S=0,T=!1;const V=A.reduce((G,ee,Ce)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Be={};return Bt(ee.outlets,(at,Ft)=>{Be[Ft]="string"==typeof at?at.split("/"):at}),[...G,{outlets:Be}]}if(ee.segmentPath)return[...G,ee.segmentPath]}return"string"!=typeof ee?[...G,ee]:0===Ce?(ee.split("/").forEach((Be,at)=>{0==at&&"."===Be||(0==at&&""===Be?T=!0:".."===Be?S++:""!=Be&&G.push(Be))}),G):[...G,ee]},[]);return new fr(T,S,V)}(T);if(ee.toRoot())return _i(S.root,new yn([],{}),S,V,G);const Ce=function(A,S,T){if(A.isAbsolute)return new co(S.root,!0,0);if(-1===T.snapshot._lastPathIndex){const ee=T.snapshot._urlSegment;return new co(ee,ee===S.root,0)}const V=yi(A.commands[0])?0:1;return function(A,S,T){let V=A,G=S,ee=T;for(;ee>G;){if(ee-=G,V=V.parent,!V)throw new Error("Invalid number of '../'");G=V.segments.length}return new co(V,!1,G-ee)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+V,A.numberOfDoubleDots)}(ee,S,A),Be=Ce.processChildren?Zi(Ce.segmentGroup,Ce.index,ee.commands):as(Ce.segmentGroup,Ce.index,ee.commands);return _i(Ce.segmentGroup,Be,S,V,G)}(Ft,this.currentUrlTree,T,Dn,null!=Xt?Xt:null)}navigateByUrl(T,V={skipLocationChange:!1}){const G=Wr(T)?T:this.parseUrl(T),ee=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,V)}navigate(T,V={skipLocationChange:!1}){return function(A){for(let S=0;S<A.length;S++){const T=A[S];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${S}`)}}(T),this.navigateByUrl(this.createUrlTree(T,V),V)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let V;try{V=this.urlSerializer.parse(T)}catch(G){V=this.malformedUriErrorHandler(G,this.urlSerializer,T)}return V}isActive(T,V){let G;if(G=!0===V?Object.assign({},W):!1===V?Object.assign({},de):V,Wr(T))return Xn(this.currentUrlTree,T,G);const ee=this.parseUrl(T);return Xn(this.currentUrlTree,ee,G)}removeEmptyProps(T){return Object.keys(T).reduce((V,G)=>{const ee=T[G];return null!=ee&&(V[G]=ee),V},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new ht(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(T,V,G,ee,Ce){var Be,at;if(this.disposed)return Promise.resolve(!1);const Ft=this.getTransition(),Xt=Nt(V)&&Ft&&!Nt(Ft.source),pr=(this.lastSuccessfulId===Ft.id||this.currentNavigation?Ft.rawUrl:Ft.urlAfterRedirects).toString()===T.toString();if(Xt&&pr)return Promise.resolve(!0);let Qs,no,Fo;Ce?(Qs=Ce.resolve,no=Ce.reject,Fo=Ce.promise):Fo=new Promise((Lo,Zo)=>{Qs=Lo,no=Zo});const ro=++this.navigationId;let Ko;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),Ko=G&&G.\u0275routerPageId?G.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?null!==(Be=this.browserPageId)&&void 0!==Be?Be:0:(null!==(at=this.browserPageId)&&void 0!==at?at:0)+1):Ko=0,this.setTransition({id:ro,targetPageId:Ko,source:V,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ee,resolve:Qs,reject:no,promise:Fo,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fo.catch(Lo=>Promise.reject(Lo))}setBrowserUrl(T,V){const G=this.urlSerializer.serialize(T),ee=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(G)||V.extras.replaceUrl?this.location.replaceState(G,"",ee):this.location.go(G,"",ee)}restoreHistory(T,V=!1){var G,ee;if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)||0===Ce?this.currentUrlTree===(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)&&0===Ce&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ce)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,V){const G=new vr(T.id,this.serializeUrl(T.extractedUrl),V);this.triggerEvent(G),T.resolve(!1)}generateNgRouterState(T,V){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:V}:{navigationId:T}}}return A.\u0275fac=function(T){return new(T||A)(u.LFG(u.DyG),u.LFG($o),u.LFG(rr),u.LFG(x.Ye),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac}),A})();function Nt(A){return"imperative"!==A}let un=(()=>{class A{constructor(T,V,G){this.router=T,this.route=V,this.locationStrategy=G,this.commands=[],this.onChanges=new ye.xQ,this.subscription=T.events.subscribe(ee=>{ee instanceof ht&&this.updateTargetUrlAndHref()})}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:[]}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,V,G,ee,Ce){if(0!==T||V||G||ee||Ce||"string"==typeof this.target&&"_self"!=this.target)return!0;const Be={skipLocationChange:O(this.skipLocationChange),replaceUrl:O(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Be),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:O(this.preserveFragment)})}}return A.\u0275fac=function(T){return new(T||A)(u.Y36(Me),u.Y36($r),u.Y36(x.S$))},A.\u0275dir=u.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,V){1&T&&u.NdJ("click",function(ee){return V.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&T&&(u.Ikx("href",V.href,u.LSH),u.uIk("target",V.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),A})();function O(A){return""===A||!!A}let xe=(()=>{class A{constructor(T,V,G,ee,Ce){this.parentContexts=T,this.location=V,this.resolver=G,this.changeDetector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=ee||be,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,T}attach(T,V){this.activated=T,this._activatedRoute=V,this.location.insert(T.hostView)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const Ce=(V=V||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),Be=this.parentContexts.getOrCreateContext(this.name).children,at=new pt(T,Be,this.location.injector);this.activated=this.location.createComponent(Ce,this.location.length,at),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(T){return new(T||A)(u.Y36(rr),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},A.\u0275dir=u.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),A})();class pt{constructor(S,T,V){this.route=S,this.childContexts=T,this.parent=V}get(S,T){return S===$r?this.route:S===rr?this.childContexts:this.parent.get(S,T)}}class zt{}class ei{preload(S,T){return(0,De.of)(null)}}let pi=(()=>{class A{constructor(T,V,G,ee,Ce){this.router=T,this.injector=ee,this.preloadingStrategy=Ce,this.loader=new Oo(V,G,Ft=>T.triggerEvent(new Zn(Ft)),Ft=>T.triggerEvent(new Rt(Ft)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(T=>T instanceof ht),(0,Ke.b)(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(u.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,V){const G=[];for(const ee of V)if(ee.loadChildren&&!ee.canLoad&&ee._loadedConfig){const Ce=ee._loadedConfig;G.push(this.processRoutes(Ce.module,Ce.routes))}else ee.loadChildren&&!ee.canLoad?G.push(this.preloadConfig(T,ee)):ee.children&&G.push(this.processRoutes(T,ee.children));return(0,He.D)(G).pipe((0,on.J)(),(0,Ne.U)(ee=>{}))}preloadConfig(T,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,De.of)(V._loadedConfig):this.loader.load(T.injector,V)).pipe((0,nn.zg)(ee=>(V._loadedConfig=ee,this.processRoutes(ee.module,ee.routes)))))}}return A.\u0275fac=function(T){return new(T||A)(u.LFG(Me),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(zt))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac}),A})(),ko=(()=>{class A{constructor(T,V,G={}){this.router=T,this.viewportScroller=V,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ht&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof je&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,V){this.router.triggerEvent(new je(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(T){return new(T||A)(u.LFG(Me),u.LFG(x.EM),u.LFG(void 0))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac}),A})();const Rs=new u.OlP("ROUTER_CONFIGURATION"),Fs=new u.OlP("ROUTER_FORROOT_GUARD"),qs=[x.Ye,{provide:$o,useClass:kr},{provide:Me,useFactory:function(A,S,T,V,G,ee,Ce,Be={},at,Ft){const Xt=new Me(null,A,S,T,V,G,ee,jt(Ce));return at&&(Xt.urlHandlingStrategy=at),Ft&&(Xt.routeReuseStrategy=Ft),function(A,S){A.errorHandler&&(S.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(S.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(S.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(S.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(S.urlUpdateStrategy=A.urlUpdateStrategy)}(Be,Xt),Be.enableTracing&&Xt.events.subscribe(Dn=>{var Br,pr;null===(Br=console.group)||void 0===Br||Br.call(console,`Router Event: ${Dn.constructor.name}`),console.log(Dn.toString()),console.log(Dn),null===(pr=console.groupEnd)||void 0===pr||pr.call(console)}),Xt},deps:[$o,rr,x.Ye,u.zs3,u.v3s,u.Sil,Ro,Rs,[class{},new u.FiY],[class{},new u.FiY]]},rr,{provide:$r,useFactory:function(A){return A.routerState.root},deps:[Me]},{provide:u.v3s,useClass:u.EAV},pi,ei,class{preload(S,T){return T().pipe(ct(()=>(0,De.of)(null)))}},{provide:Rs,useValue:{enableTracing:!1}}];function aa(){return new u.PXZ("Router",Me)}let va=(()=>{class A{constructor(T,V){}static forRoot(T,V){return{ngModule:A,providers:[qs,m(T),{provide:Fs,useFactory:h,deps:[[Me,new u.FiY,new u.tp0]]},{provide:Rs,useValue:V||{}},{provide:x.S$,useFactory:_,deps:[x.lw,[new u.tBr(x.mr),new u.FiY],Rs]},{provide:ko,useFactory:ba,deps:[Me,x.EM,Rs]},{provide:zt,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:ei},{provide:u.PXZ,multi:!0,useFactory:aa},[Y,{provide:u.ip1,multi:!0,useFactory:re,deps:[Y]},{provide:fe,useFactory:he,deps:[Y]},{provide:u.tb,multi:!0,useExisting:fe}]]}}static forChild(T){return{ngModule:A,providers:[m(T)]}}}return A.\u0275fac=function(T){return new(T||A)(u.LFG(Fs,8),u.LFG(Me,8))},A.\u0275mod=u.oAB({type:A}),A.\u0275inj=u.cJS({}),A})();function ba(A,S,T){return T.scrollOffset&&S.setOffset(T.scrollOffset),new ko(A,S,T)}function _(A,S,T={}){return T.useHash?new x.Do(A,S):new x.b0(A,S)}function h(A){return"guarded"}function m(A){return[{provide:u.deG,multi:!0,useValue:A},{provide:Ro,multi:!0,useValue:A}]}let Y=(()=>{class A{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye.xQ}appInitializer(){return this.injector.get(x.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const G=new Promise(Be=>V=Be),ee=this.injector.get(Me),Ce=this.injector.get(Rs);return"disabled"===Ce.initialNavigation?(ee.setUpLocationChangeListener(),V(!0)):"enabled"===Ce.initialNavigation||"enabledBlocking"===Ce.initialNavigation?(ee.hooks.afterPreactivation=()=>this.initNavigation?(0,De.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),ee.initialNavigation()):V(!0),G})}bootstrapListener(T){const V=this.injector.get(Rs),G=this.injector.get(pi),ee=this.injector.get(ko),Ce=this.injector.get(Me),Be=this.injector.get(u.z2F);T===Be.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&Ce.initialNavigation(),G.setUpPreloading(),ee.init(),Ce.resetRootComponentType(Be.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(T){return new(T||A)(u.LFG(u.zs3))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac}),A})();function re(A){return A.appInitializer.bind(A)}function he(A){return A.bootstrapListener.bind(A)}const fe=new u.OlP("Router Initializer")},6279:(Ut,Le,ie)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Se,Gt,x=ie(7796),u=ie(1704),J=ie(1100),He=ie(300),Ve=((Se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Se["bad-app-name"]="Illegal App name: '{$appName}",Se["duplicate-app"]="Firebase App named '{$appName}' already exists",Se["app-deleted"]="Firebase App named '{$appName}' already deleted",Se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Se),De=new u.ErrorFactory("app","Firebase",Ve),Fe="@firebase/app",mn="[DEFAULT]",Vt=((Gt={})[Fe]="fire-core",Gt["@firebase/analytics"]="fire-analytics",Gt["@firebase/auth"]="fire-auth",Gt["@firebase/database"]="fire-rtdb",Gt["@firebase/functions"]="fire-fn",Gt["@firebase/installations"]="fire-iid",Gt["@firebase/messaging"]="fire-fcm",Gt["@firebase/performance"]="fire-perf",Gt["@firebase/remote-config"]="fire-rc",Gt["@firebase/storage"]="fire-gcs",Gt["@firebase/firestore"]="fire-fst",Gt["fire-js"]="fire-js",Gt["firebase-wrapper"]="fire-js-all",Gt),At=new He.Logger("@firebase/app"),$=function(){function xt(Ke,vt,nn){var bn,Qr,on=this;this.firebase_=nn,this.isDeleted_=!1,this.name_=vt.name,this.automaticDataCollectionEnabled_=vt.automaticDataCollectionEnabled||!1,this.options_=u.deepCopy(Ke),this.container=new J.ComponentContainer(vt.name),this._addComponent(new J.Component("app",function(){return on},"PUBLIC"));try{for(var Hn=x.__values(this.firebase_.INTERNAL.components.values()),dn=Hn.next();!dn.done;dn=Hn.next())this._addComponent(dn.value)}catch(vr){bn={error:vr}}finally{try{dn&&!dn.done&&(Qr=Hn.return)&&Qr.call(Hn)}finally{if(bn)throw bn.error}}}return Object.defineProperty(xt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ke){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ke},enumerable:!1,configurable:!0}),Object.defineProperty(xt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(xt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),xt.prototype.delete=function(){var Ke=this;return new Promise(function(vt){Ke.checkDestroyed_(),vt()}).then(function(){return Ke.firebase_.INTERNAL.removeApp(Ke.name_),Promise.all(Ke.container.getProviders().map(function(vt){return vt.delete()}))}).then(function(){Ke.isDeleted_=!0})},xt.prototype._getService=function(Ke,vt){return void 0===vt&&(vt=mn),this.checkDestroyed_(),this.container.getProvider(Ke).getImmediate({identifier:vt})},xt.prototype._removeServiceInstance=function(Ke,vt){void 0===vt&&(vt=mn),this.container.getProvider(Ke).clearInstance(vt)},xt.prototype._addComponent=function(Ke){try{this.container.addComponent(Ke)}catch(vt){At.debug("Component "+Ke.name+" failed to register with FirebaseApp "+this.name,vt)}},xt.prototype._addOrOverwriteComponent=function(Ke){this.container.addOrOverwriteComponent(Ke)},xt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw De.create("app-deleted",{appName:this.name_})},xt}();$.prototype.name&&$.prototype.options||$.prototype.delete||console.log("dc");var ue=function ae(){var xt=function(xt){var Ke={},vt=new Map,nn={__esModule:!0,initializeApp:function(an,Lt){void 0===Lt&&(Lt={}),("object"!=typeof Lt||null===Lt)&&(Lt={name:Lt});var Fn=Lt;void 0===Fn.name&&(Fn.name=mn);var kt=Fn.name;if("string"!=typeof kt||!kt)throw De.create("bad-app-name",{appName:String(kt)});if(u.contains(Ke,kt))throw De.create("duplicate-app",{appName:kt});var Zn=new xt(an,Fn,nn);return Ke[kt]=Zn,Zn},app:Qr,registerVersion:function(an,Lt,Gn){var Fn,kt=null!==(Fn=Vt[an])&&void 0!==Fn?Fn:an;Gn&&(kt+="-"+Gn);var Zn=kt.match(/\s|\//),Rt=Lt.match(/\s|\//);if(Zn||Rt){var Ln=['Unable to register library "'+kt+'" with version "'+Lt+'":'];return Zn&&Ln.push('library name "'+kt+'" contains illegal characters (whitespace or "/")'),Zn&&Rt&&Ln.push("and"),Rt&&Ln.push('version name "'+Lt+'" contains illegal characters (whitespace or "/")'),void At.warn(Ln.join(" "))}dn(new J.Component(kt+"-version",function(){return{library:kt,version:Lt}},"VERSION"))},setLogLevel:He.setLogLevel,onLog:function(an,Lt){if(null!==an&&"function"!=typeof an)throw De.create("invalid-log-argument",{appName:name});He.setUserLogHandler(an,Lt)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:dn,removeApp:function(an){delete Ke[an]},components:vt,useAsService:function(an,Lt){return"serverAuth"===Lt?null:Lt}}};function Qr(an){if(!u.contains(Ke,an=an||mn))throw De.create("no-app",{appName:an});return Ke[an]}function dn(an){var Lt,Gn,Fn=an.name;if(vt.has(Fn))return At.debug("There were multiple attempts to register component "+Fn+"."),"PUBLIC"===an.type?nn[Fn]:null;if(vt.set(Fn,an),"PUBLIC"===an.type){var kt=function(Sn){if(void 0===Sn&&(Sn=Qr()),"function"!=typeof Sn[Fn])throw De.create("invalid-app-argument",{appName:Fn});return Sn[Fn]()};void 0!==an.serviceProps&&u.deepExtend(kt,an.serviceProps),nn[Fn]=kt,xt.prototype[Fn]=function(){for(var Sn=[],Vn=0;Vn<arguments.length;Vn++)Sn[Vn]=arguments[Vn];return this._getService.bind(this,Fn).apply(this,an.multipleInstances?Sn:[])}}try{for(var Zn=x.__values(Object.keys(Ke)),Rt=Zn.next();!Rt.done;Rt=Zn.next())Ke[Rt.value]._addComponent(an)}catch(Sn){Lt={error:Sn}}finally{try{Rt&&!Rt.done&&(Gn=Zn.return)&&Gn.call(Zn)}finally{if(Lt)throw Lt.error}}return"PUBLIC"===an.type?nn[Fn]:null}return nn.default=nn,Object.defineProperty(nn,"apps",{get:function(){return Object.keys(Ke).map(function(an){return Ke[an]})}}),Qr.App=xt,nn}($);return xt.INTERNAL=x.__assign(x.__assign({},xt.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function(vt){u.deepExtend(xt,vt)},createSubscribe:u.createSubscribe,ErrorFactory:u.ErrorFactory,deepExtend:u.deepExtend}),xt}(),Q=function(){function xt(Ke){this.container=Ke}return xt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(vt){if(function(xt){var Ke=xt.getComponent();return"VERSION"===(null==Ke?void 0:Ke.type)}(vt)){var nn=vt.getImmediate();return nn.library+"/"+nn.version}return null}).filter(function(vt){return vt}).join(" ")},xt}();if(u.isBrowser()&&void 0!==self.firebase){At.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&At.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ue=ue.initializeApp;ue.initializeApp=function(){for(var xt=[],Ke=0;Ke<arguments.length;Ke++)xt[Ke]=arguments[Ke];return u.isNode()&&At.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),Ue.apply(void 0,xt)};var xt,dt=ue;(xt=dt).INTERNAL.registerComponent(new J.Component("platform-logger",function(vt){return new Q(vt)},"PRIVATE")),xt.registerVersion(Fe,"0.6.11",undefined),xt.registerVersion("fire-js",""),Le.default=dt,Le.firebase=dt},1100:(Ut,Le,ie)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var x=ie(5385),u=ie(1704),J=function(){function te(X,Ee,_e){this.name=X,this.instanceFactory=Ee,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return te.prototype.setInstantiationMode=function(X){return this.instantiationMode=X,this},te.prototype.setMultipleInstances=function(X){return this.multipleInstances=X,this},te.prototype.setServiceProps=function(X){return this.serviceProps=X,this},te}(),He="[DEFAULT]",Se=function(){function te(X,Ee){this.name=X,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return te.prototype.get=function(X){void 0===X&&(X=He);var Ee=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(Ee)){var _e=new u.Deferred;this.instancesDeferred.set(Ee,_e);try{var ye=this.getOrInitializeService(Ee);ye&&_e.resolve(ye)}catch(tt){}}return this.instancesDeferred.get(Ee).promise},te.prototype.getImmediate=function(X){var Ee=x.__assign({identifier:He,optional:!1},X),ye=Ee.optional,tt=this.normalizeInstanceIdentifier(Ee.identifier);try{var ct=this.getOrInitializeService(tt);if(!ct){if(ye)return null;throw Error("Service "+this.name+" is not available")}return ct}catch(it){if(ye)return null;throw it}},te.prototype.getComponent=function(){return this.component},te.prototype.setComponent=function(X){var Ee,_e;if(X.name!==this.name)throw Error("Mismatching Component "+X.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=X,function(te){return"EAGER"===te.instantiationMode}(X))try{this.getOrInitializeService(He)}catch(Dt){}try{for(var ye=x.__values(this.instancesDeferred.entries()),tt=ye.next();!tt.done;tt=ye.next()){var ct=x.__read(tt.value,2),et=ct[1],we=this.normalizeInstanceIdentifier(ct[0]);try{var Qe=this.getOrInitializeService(we);et.resolve(Qe)}catch(Dt){}}}catch(Dt){Ee={error:Dt}}finally{try{tt&&!tt.done&&(_e=ye.return)&&_e.call(ye)}finally{if(Ee)throw Ee.error}}},te.prototype.clearInstance=function(X){void 0===X&&(X=He),this.instancesDeferred.delete(X),this.instances.delete(X)},te.prototype.delete=function(){return x.__awaiter(this,void 0,void 0,function(){var X;return x.__generator(this,function(Ee){switch(Ee.label){case 0:return X=Array.from(this.instances.values()),[4,Promise.all(x.__spread(X.filter(function(_e){return"INTERNAL"in _e}).map(function(_e){return _e.INTERNAL.delete()}),X.filter(function(_e){return"_delete"in _e}).map(function(_e){return _e._delete()})))];case 1:return Ee.sent(),[2]}})})},te.prototype.isComponentSet=function(){return null!=this.component},te.prototype.getOrInitializeService=function(X){var Ee=this.instances.get(X);return!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,function(te){return te===He?void 0:te}(X)),this.instances.set(X,Ee)),Ee||null},te.prototype.normalizeInstanceIdentifier=function(X){return this.component?this.component.multipleInstances?X:He:X},te}(),Fe=function(){function te(X){this.name=X,this.providers=new Map}return te.prototype.addComponent=function(X){var Ee=this.getProvider(X.name);if(Ee.isComponentSet())throw new Error("Component "+X.name+" has already been registered with "+this.name);Ee.setComponent(X)},te.prototype.addOrOverwriteComponent=function(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)},te.prototype.getProvider=function(X){if(this.providers.has(X))return this.providers.get(X);var Ee=new Se(X,this);return this.providers.set(X,Ee),Ee},te.prototype.getProviders=function(){return Array.from(this.providers.values())},te}();Le.Component=J,Le.ComponentContainer=Fe,Le.Provider=Se},4614:(Ut,Le,ie)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var x=ie(6279),u=ie(209),J=ie(1704),He=ie(300),Se=ie(1100);function Ve(_){return _&&"object"==typeof _&&"default"in _?_:{default:_}}var _,De=Ve(x),Fe=function(){function _(h){this.domStorage_=h,this.prefix_="firebase:"}return _.prototype.set=function(h,m){null==m?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),J.stringify(m))},_.prototype.get=function(h){var m=this.domStorage_.getItem(this.prefixedName_(h));return null==m?null:J.jsonEval(m)},_.prototype.remove=function(h){this.domStorage_.removeItem(this.prefixedName_(h))},_.prototype.prefixedName_=function(h){return this.prefix_+h},_.prototype.toString=function(){return this.domStorage_.toString()},_}(),te=function(){function _(){this.cache_={},this.isInMemoryStorage=!0}return _.prototype.set=function(h,m){null==m?delete this.cache_[h]:this.cache_[h]=m},_.prototype.get=function(h){return J.contains(this.cache_,h)?this.cache_[h]:null},_.prototype.remove=function(h){delete this.cache_[h]},_}(),X=function(_){try{if("undefined"!=typeof window&&void 0!==window[_]){var h=window[_];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new Fe(h)}}catch(m){}return new te},Ee=X("localStorage"),_e=X("sessionStorage"),ye=new He.Logger("@firebase/database"),tt=(_=1,function(){return _++}),ct=function(_){var h=J.stringToByteArray(_),m=new J.Sha1;m.update(h);var b=m.digest();return J.base64.encodeByteArray(b)},it=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];for(var m="",b=0;b<_.length;b++){var N=_[b];Array.isArray(N)||N&&"object"==typeof N&&"number"==typeof N.length?m+=it.apply(null,N):m+="object"==typeof N?J.stringify(N):N,m+=" "}return m},et=null,we=!0,Qe=function(_,h){J.assert(!h||!0===_||!1===_,"Can't turn on custom loggers persistently."),!0===_?(ye.logLevel=He.LogLevel.VERBOSE,et=ye.log.bind(ye),h&&_e.set("logging_enabled",!0)):"function"==typeof _?et=_:(et=null,_e.remove("logging_enabled"))},Dt=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];if(!0===we&&(we=!1,null===et&&!0===_e.get("logging_enabled")&&Qe(!0)),et){var m=it.apply(null,_);et(m)}},Gt=function(_){return function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];Dt.apply(void 0,u.__spread([_],h))}},mn=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];var m="FIREBASE INTERNAL ERROR: "+it.apply(void 0,u.__spread(_));ye.error(m)},Vt=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];var m="FIREBASE FATAL ERROR: "+it.apply(void 0,u.__spread(_));throw ye.error(m),new Error(m)},At=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];var m="FIREBASE WARNING: "+it.apply(void 0,u.__spread(_));ye.warn(m)},Z=function(_){return"number"==typeof _&&(_!=_||_===Number.POSITIVE_INFINITY||_===Number.NEGATIVE_INFINITY)},ae="[MIN_NAME]",ue="[MAX_NAME]",Q=function(_,h){if(_===h)return 0;if(_===ae||h===ue)return-1;if(h===ae||_===ue)return 1;var m=Qr(_),b=Qr(h);return null!==m?null!==b?m-b==0?_.length-h.length:m-b:-1:null!==b?1:_<h?-1:1},Ie=function(_,h){return _===h?0:_<h?-1:1},Ne=function(_,h){if(h&&_ in h)return h[_];throw new Error("Missing required key ("+_+") in object: "+J.stringify(h))},St=function(_){if("object"!=typeof _||null===_)return J.stringify(_);var h=[];for(var m in _)h.push(m);h.sort();for(var b="{",N=0;N<h.length;N++)0!==N&&(b+=","),b+=J.stringify(h[N]),b+=":",b+=St(_[h[N]]);return b+"}"},Ue=function(_,h){var m=_.length;if(m<=h)return[_];for(var b=[],N=0;N<m;N+=h)b.push(_.substring(N,N+h>m?m:N+h));return b};function dt(_,h){for(var m in _)_.hasOwnProperty(m)&&h(m,_[m])}var yn,Hi,br,mr,Gi,tn,xt=function(_){J.assert(!Z(_),"Invalid JSON number");var N,P,Y,re,he,b=1023;0===_?(P=0,Y=0,N=1/_==-1/0?1:0):(N=_<0,(_=Math.abs(_))>=Math.pow(2,1-b)?(P=(re=Math.min(Math.floor(Math.log(_)/Math.LN2),b))+b,Y=Math.round(_*Math.pow(2,52-re)-Math.pow(2,52))):(P=0,Y=Math.round(_/Math.pow(2,-1074))));var fe=[];for(he=52;he;he-=1)fe.push(Y%2?1:0),Y=Math.floor(Y/2);for(he=11;he;he-=1)fe.push(P%2?1:0),P=Math.floor(P/2);fe.push(N?1:0),fe.reverse();var Ge=fe.join(""),Ze="";for(he=0;he<64;he+=8){var A=parseInt(Ge.substr(he,8),2).toString(16);1===A.length&&(A="0"+A),Ze+=A}return Ze.toLowerCase()},bn=new RegExp("^-?(0*)\\d{1,10}$"),Qr=function(_){if(bn.test(_)){var h=Number(_);if(h>=-2147483648&&h<=2147483647)return h}return null},on=function(_){try{_()}catch(h){setTimeout(function(){throw At("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},dn=function(_,h){var m=setTimeout(_,h);return"object"==typeof m&&m.unref&&m.unref(),m},ht=function(){function _(h,m){if(void 0===m){this.pieces_=h.split("/");for(var b=0,N=0;N<this.pieces_.length;N++)this.pieces_[N].length>0&&(this.pieces_[b]=this.pieces_[N],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=m}return Object.defineProperty(_,"Empty",{get:function(){return new _("")},enumerable:!1,configurable:!0}),_.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},_.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},_.prototype.popFront=function(){var h=this.pieceNum_;return h<this.pieces_.length&&h++,new _(this.pieces_,h)},_.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},_.prototype.toString=function(){for(var h="",m=this.pieceNum_;m<this.pieces_.length;m++)""!==this.pieces_[m]&&(h+="/"+this.pieces_[m]);return h||"/"},_.prototype.toUrlEncodedString=function(){for(var h="",m=this.pieceNum_;m<this.pieces_.length;m++)""!==this.pieces_[m]&&(h+="/"+encodeURIComponent(String(this.pieces_[m])));return h||"/"},_.prototype.slice=function(h){return void 0===h&&(h=0),this.pieces_.slice(this.pieceNum_+h)},_.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var h=[],m=this.pieceNum_;m<this.pieces_.length-1;m++)h.push(this.pieces_[m]);return new _(h,0)},_.prototype.child=function(h){for(var m=[],b=this.pieceNum_;b<this.pieces_.length;b++)m.push(this.pieces_[b]);if(h instanceof _)for(b=h.pieceNum_;b<h.pieces_.length;b++)m.push(h.pieces_[b]);else{var N=h.split("/");for(b=0;b<N.length;b++)N[b].length>0&&m.push(N[b])}return new _(m,0)},_.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},_.relativePath=function(h,m){var b=h.getFront(),N=m.getFront();if(null===b)return m;if(b===N)return _.relativePath(h.popFront(),m.popFront());throw new Error("INTERNAL ERROR: innerPath ("+m+") is not within outerPath ("+h+")")},_.comparePaths=function(h,m){for(var b=h.slice(),N=m.slice(),P=0;P<b.length&&P<N.length;P++){var Y=Q(b[P],N[P]);if(0!==Y)return Y}return b.length===N.length?0:b.length<N.length?-1:1},_.prototype.equals=function(h){if(this.getLength()!==h.getLength())return!1;for(var m=this.pieceNum_,b=h.pieceNum_;m<=this.pieces_.length;m++,b++)if(this.pieces_[m]!==h.pieces_[b])return!1;return!0},_.prototype.contains=function(h){var m=this.pieceNum_,b=h.pieceNum_;if(this.getLength()>h.getLength())return!1;for(;m<this.pieces_.length;){if(this.pieces_[m]!==h.pieces_[b])return!1;++m,++b}return!0},_}(),vr=function(){function _(h,m){this.errorPrefix_=m,this.parts_=h.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=J.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(_,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(_,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),_.prototype.push=function(h){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(h),this.byteLength_+=J.stringLength(h),this.checkValid_()},_.prototype.pop=function(){var h=this.parts_.pop();this.byteLength_-=J.stringLength(h),this.parts_.length>0&&(this.byteLength_-=1)},_.prototype.checkValid_=function(){if(this.byteLength_>_.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+_.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>_.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},_.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},_}(),kt="firebaseio.com",Ln="websocket",Sn="long_polling",Vn=function(){function _(h,m,b,N,P,Y,re){void 0===P&&(P=!1),void 0===Y&&(Y=""),void 0===re&&(re=!1),this.secure=m,this.namespace=b,this.webSocketOnly=N,this.nodeAdmin=P,this.persistenceKey=Y,this.includeNamespaceInQueryParams=re,this.host=h.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Ee.get("host:"+h)||this.host}return _.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},_.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},_.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},_.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},_.prototype.updateHost=function(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&Ee.set("host:"+this.host,this.internalHost))},_.prototype.connectionURL=function(h,m){var b;if(J.assert("string"==typeof h,"typeof type must == string"),J.assert("object"==typeof m,"typeof params must == object"),h===Ln)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(h!==Sn)throw new Error("Unknown connection type: "+h);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(m.ns=this.namespace);var N=[];return dt(m,function(P,Y){N.push(P+"="+Y)}),b+N.join("&")},_.prototype.toString=function(){var h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h},_.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},_}(),be=function(_,h){var m=nt(_),b=m.namespace;return"firebase.com"===m.domain&&Vt(m.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==m.domain&&Vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),m.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Vn(m.host,m.secure,b,h,"ws"===m.scheme||"wss"===m.scheme,"",b!==m.subdomain),path:new ht(m.pathString)}},nt=function(_){var h="",m="",b="",N="",P="",Y=!0,re="https",he=443;if("string"==typeof _){var fe=_.indexOf("//");fe>=0&&(re=_.substring(0,fe-1),_=_.substring(fe+2));var Ge=_.indexOf("/");-1===Ge&&(Ge=_.length);var Ze=_.indexOf("?");-1===Ze&&(Ze=_.length),h=_.substring(0,Math.min(Ge,Ze)),Ge<Ze&&(N=function(_){for(var h="",m=_.split("/"),b=0;b<m.length;b++)if(m[b].length>0){var N=m[b];try{N=decodeURIComponent(N.replace(/\+/g," "))}catch(P){}h+="/"+N}return h}(_.substring(Ge,Ze)));var A=function(_){var h,m,b={};"?"===_.charAt(0)&&(_=_.substring(1));try{for(var N=u.__values(_.split("&")),P=N.next();!P.done;P=N.next()){var Y=P.value;if(0!==Y.length){var re=Y.split("=");2===re.length?b[decodeURIComponent(re[0])]=decodeURIComponent(re[1]):At("Invalid query segment '"+Y+"' in query '"+_+"'")}}}catch(he){h={error:he}}finally{try{P&&!P.done&&(m=N.return)&&m.call(N)}finally{if(h)throw h.error}}return b}(_.substring(Math.min(_.length,Ze)));(fe=h.indexOf(":"))>=0?(Y="https"===re||"wss"===re,he=parseInt(h.substring(fe+1),10)):fe=h.length;var S=h.slice(0,fe);if("localhost"===S.toLowerCase())m="localhost";else if(S.split(".").length<=2)m=S;else{var T=h.indexOf(".");b=h.substring(0,T).toLowerCase(),m=h.substring(T+1),P=b}"ns"in A&&(P=A.ns)}return{host:h,port:he,domain:m,subdomain:b,secure:Y,scheme:re,pathString:N,namespace:P}},mt=/[\[\].#$\/\u0000-\u001F\u007F]/,Te=/[\[\].#$\u0000-\u001F\u007F]/,me=10485760,Oe=function(_){return"string"==typeof _&&0!==_.length&&!mt.test(_)},ze=function(_){return"string"==typeof _&&0!==_.length&&!Te.test(_)},wt=function(_){return null===_||"string"==typeof _||"number"==typeof _&&!Z(_)||_&&"object"==typeof _&&J.contains(_,".sv")},Tt=function(_,h,m,b,N){N&&void 0===m||jt(J.errorPrefix(_,h,N),m,b)},jt=function(_,h,m){var b=m instanceof ht?new vr(m,_):m;if(void 0===h)throw new Error(_+"contains undefined "+b.toErrorString());if("function"==typeof h)throw new Error(_+"contains a function "+b.toErrorString()+" with contents = "+h.toString());if(Z(h))throw new Error(_+"contains "+h.toString()+" "+b.toErrorString());if("string"==typeof h&&h.length>me/3&&J.stringLength(h)>me)throw new Error(_+"contains a string greater than "+me+" utf8 bytes "+b.toErrorString()+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){var N=!1,P=!1;if(dt(h,function(Y,re){if(".value"===Y)N=!0;else if(".priority"!==Y&&".sv"!==Y&&(P=!0,!Oe(Y)))throw new Error(_+" contains an invalid key ("+Y+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(Y),jt(_,re,b),b.pop()}),N&&P)throw new Error(_+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},Pt=function(_,h,m,b,N){if(!N||void 0!==m){var P=J.errorPrefix(_,h,N);if(!m||"object"!=typeof m||Array.isArray(m))throw new Error(P+" must be an object containing the children to replace.");var Y=[];dt(m,function(re,he){var fe=new ht(re);if(jt(P,he,b.child(fe)),".priority"===fe.getBack()&&!wt(he))throw new Error(P+"contains an invalid value for '"+fe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");Y.push(fe)}),function(_,h){var m,b;for(m=0;m<h.length;m++)for(var N=(b=h[m]).slice(),P=0;P<N.length;P++)if((".priority"!==N[P]||P!==N.length-1)&&!Oe(N[P]))throw new Error(_+"contains an invalid key ("+N[P]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');h.sort(ht.comparePaths);var Y=null;for(m=0;m<h.length;m++){if(b=h[m],null!==Y&&Y.contains(b))throw new Error(_+"contains a path "+Y.toString()+" that is ancestor of another path "+b.toString());Y=b}}(P,Y)}},Bt=function(_,h,m,b){if(!b||void 0!==m){if(Z(m))throw new Error(J.errorPrefix(_,h,b)+"is "+m.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wt(m))throw new Error(J.errorPrefix(_,h,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wt=function(_,h,m,b){if(!b||void 0!==m)switch(m){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(J.errorPrefix(_,h,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},wn=function(_,h,m,b){if(!(b&&void 0===m||Oe(m)))throw new Error(J.errorPrefix(_,h,b)+'was an invalid key = "'+m+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nn=function(_,h,m,b){if(!(b&&void 0===m||ze(m)))throw new Error(J.errorPrefix(_,h,b)+'was an invalid path = "'+m+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ei=function(_,h,m,b){m&&(m=m.replace(/^\/*\.info(\/|$)/,"/")),Nn(_,h,m,b)},Xn=function(_,h){if(".info"===h.getFront())throw new Error(_+" failed = Can't modify data under /.info/")},ir=function(_,h,m){var b=m.path.toString();if("string"!=typeof m.repoInfo.host||0===m.repoInfo.host.length||!Oe(m.repoInfo.namespace)&&"localhost"!==m.repoInfo.host.split(":")[0]||0!==b.length&&!function(_){return _&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),ze(_)}(b))throw new Error(J.errorPrefix(_,h,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},so=function(_,h,m,b){if((!b||void 0!==m)&&"boolean"!=typeof m)throw new Error(J.errorPrefix(_,h,b)+"must be a boolean.")},Io=function(){function _(h,m){this.repo_=h,this.path_=m}return _.prototype.cancel=function(h){J.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),J.validateCallback("OnDisconnect.cancel",1,h,!0);var m=new J.Deferred;return this.repo_.onDisconnectCancel(this.path_,m.wrapCallback(h)),m.promise},_.prototype.remove=function(h){J.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Xn("OnDisconnect.remove",this.path_),J.validateCallback("OnDisconnect.remove",1,h,!0);var m=new J.Deferred;return this.repo_.onDisconnectSet(this.path_,null,m.wrapCallback(h)),m.promise},_.prototype.set=function(h,m){J.validateArgCount("OnDisconnect.set",1,2,arguments.length),Xn("OnDisconnect.set",this.path_),Tt("OnDisconnect.set",1,h,this.path_,!1),J.validateCallback("OnDisconnect.set",2,m,!0);var b=new J.Deferred;return this.repo_.onDisconnectSet(this.path_,h,b.wrapCallback(m)),b.promise},_.prototype.setWithPriority=function(h,m,b){J.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Xn("OnDisconnect.setWithPriority",this.path_),Tt("OnDisconnect.setWithPriority",1,h,this.path_,!1),Bt("OnDisconnect.setWithPriority",2,m,!1),J.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var N=new J.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,h,m,N.wrapCallback(b)),N.promise},_.prototype.update=function(h,m){if(J.validateArgCount("OnDisconnect.update",1,2,arguments.length),Xn("OnDisconnect.update",this.path_),Array.isArray(h)){for(var b={},N=0;N<h.length;++N)b[""+N]=h[N];h=b,At("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pt("OnDisconnect.update",1,h,this.path_,!1),J.validateCallback("OnDisconnect.update",2,m,!0);var P=new J.Deferred;return this.repo_.onDisconnectUpdate(this.path_,h,P.wrapCallback(m)),P.promise},_}(),Jr=function(){function _(h,m){this.committed=h,this.snapshot=m}return _.prototype.toJSON=function(){return J.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},_}(),ao=function(){var _="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",h=0,m=[];return function(b){var N=b===h;h=b;var P,Y=new Array(8);for(P=7;P>=0;P--)Y[P]=_.charAt(b%64),b=Math.floor(b/64);J.assert(0===b,"Cannot push at time == 0");var re=Y.join("");if(N){for(P=11;P>=0&&63===m[P];P--)m[P]=0;m[P]++}else for(P=0;P<12;P++)m[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)re+=_.charAt(m[P]);return J.assert(20===re.length,"nextPushId: Length should be 20."),re}}(),rn=function(){function _(h,m){this.name=h,this.node=m}return _.Wrap=function(h,m){return new _(h,m)},_}(),Ur=function(){function _(){}return _.prototype.getCompare=function(){return this.compare.bind(this)},_.prototype.indexedValueChanged=function(h,m){var b=new rn(ae,h),N=new rn(ae,m);return 0!==this.compare(b,N)},_.prototype.minPost=function(){return rn.MIN},_}(),En=function(_){function h(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(h,_),Object.defineProperty(h,"__EMPTY_NODE",{get:function(){return yn},set:function(m){yn=m},enumerable:!1,configurable:!0}),h.prototype.compare=function(m,b){return Q(m.name,b.name)},h.prototype.isDefinedOn=function(m){throw J.assertionError("KeyIndex.isDefinedOn not expected to be called.")},h.prototype.indexedValueChanged=function(m,b){return!1},h.prototype.minPost=function(){return rn.MIN},h.prototype.maxPost=function(){return new rn(ue,yn)},h.prototype.makePost=function(m,b){return J.assert("string"==typeof m,"KeyIndex indexValue must always be a string."),new rn(m,yn)},h.prototype.toString=function(){return".key"},h}(Ur),Bn=new En,$o=function(_){return"number"==typeof _?"number:"+xt(_):"string:"+_},kr=function(_){if(_.isLeafNode()){var h=_.val();J.assert("string"==typeof h||"number"==typeof h||"object"==typeof h&&J.contains(h,".sv"),"Priority must be a string or number.")}else J.assert(_===Hi||_.isEmpty(),"priority of unexpected type.");J.assert(_===Hi||_.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tr=function(){function _(h,m){void 0===m&&(m=_.__childrenNodeConstructor.EMPTY_NODE),this.value_=h,this.priorityNode_=m,this.lazyHash_=null,J.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kr(this.priorityNode_)}return Object.defineProperty(_,"__childrenNodeConstructor",{get:function(){return br},set:function(h){br=h},enumerable:!1,configurable:!0}),_.prototype.isLeafNode=function(){return!0},_.prototype.getPriority=function(){return this.priorityNode_},_.prototype.updatePriority=function(h){return new _(this.value_,h)},_.prototype.getImmediateChild=function(h){return".priority"===h?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE},_.prototype.getChild=function(h){return h.isEmpty()?this:".priority"===h.getFront()?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE},_.prototype.hasChild=function(){return!1},_.prototype.getPredecessorChildName=function(h,m){return null},_.prototype.updateImmediateChild=function(h,m){return".priority"===h?this.updatePriority(m):m.isEmpty()&&".priority"!==h?this:_.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,m).updatePriority(this.priorityNode_)},_.prototype.updateChild=function(h,m){var b=h.getFront();return null===b?m:m.isEmpty()&&".priority"!==b?this:(J.assert(".priority"!==b||1===h.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,_.__childrenNodeConstructor.EMPTY_NODE.updateChild(h.popFront(),m)))},_.prototype.isEmpty=function(){return!1},_.prototype.numChildren=function(){return 0},_.prototype.forEachChild=function(h,m){return!1},_.prototype.val=function(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},_.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.priorityNode_.isEmpty()||(h+="priority:"+$o(this.priorityNode_.val())+":");var m=typeof this.value_;h+=m+":",h+="number"===m?xt(this.value_):this.value_,this.lazyHash_=ct(h)}return this.lazyHash_},_.prototype.getValue=function(){return this.value_},_.prototype.compareTo=function(h){return h===_.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof _.__childrenNodeConstructor?-1:(J.assert(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))},_.prototype.compareToLeafNode_=function(h){var m=typeof h.value_,b=typeof this.value_,N=_.VALUE_TYPE_ORDER.indexOf(m),P=_.VALUE_TYPE_ORDER.indexOf(b);return J.assert(N>=0,"Unknown leaf type: "+m),J.assert(P>=0,"Unknown leaf type: "+b),N===P?"object"===b?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:P-N},_.prototype.withIndex=function(){return this},_.prototype.isIndexed=function(){return!0},_.prototype.equals=function(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))},_.VALUE_TYPE_ORDER=["object","boolean","number","string"],_}(),Jt=new(function(_){function h(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(h,_),h.prototype.compare=function(m,b){var N=m.node.getPriority(),P=b.node.getPriority(),Y=N.compareTo(P);return 0===Y?Q(m.name,b.name):Y},h.prototype.isDefinedOn=function(m){return!m.getPriority().isEmpty()},h.prototype.indexedValueChanged=function(m,b){return!m.getPriority().equals(b.getPriority())},h.prototype.minPost=function(){return rn.MIN},h.prototype.maxPost=function(){return new rn(ue,new Tr("[PRIORITY-POST]",Gi))},h.prototype.makePost=function(m,b){var N=mr(m);return new rn(b,new Tr("[PRIORITY-POST]",N))},h.prototype.toString=function(){return".priority"},h}(Ur)),jr=function(){function _(h,m,b,N,P){void 0===P&&(P=null),this.isReverse_=N,this.resultGenerator_=P,this.nodeStack_=[];for(var Y=1;!h.isEmpty();)if(h=h,Y=m?b(h.key,m):1,N&&(Y*=-1),Y<0)h=this.isReverse_?h.left:h.right;else{if(0===Y){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}return _.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var m,h=this.nodeStack_.pop();if(m=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return m},_.prototype.hasNext=function(){return this.nodeStack_.length>0},_.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}},_}(),Hr=function(){function _(h,m,b,N,P){this.key=h,this.value=m,this.color=null!=b?b:_.RED,this.left=null!=N?N:Gr.EMPTY_NODE,this.right=null!=P?P:Gr.EMPTY_NODE}return _.prototype.copy=function(h,m,b,N,P){return new _(null!=h?h:this.key,null!=m?m:this.value,null!=b?b:this.color,null!=N?N:this.left,null!=P?P:this.right)},_.prototype.count=function(){return this.left.count()+1+this.right.count()},_.prototype.isEmpty=function(){return!1},_.prototype.inorderTraversal=function(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)},_.prototype.reverseTraversal=function(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)},_.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},_.prototype.minKey=function(){return this.min_().key},_.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},_.prototype.insert=function(h,m,b){var N=this,P=b(h,N.key);return(N=P<0?N.copy(null,null,null,N.left.insert(h,m,b),null):0===P?N.copy(null,m,null,null,null):N.copy(null,null,null,null,N.right.insert(h,m,b))).fixUp_()},_.prototype.removeMin_=function(){if(this.left.isEmpty())return Gr.EMPTY_NODE;var h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),(h=h.copy(null,null,null,h.left.removeMin_(),null)).fixUp_()},_.prototype.remove=function(h,m){var b,N;if(m(h,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(h,m),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===m(h,b.key)){if(b.right.isEmpty())return Gr.EMPTY_NODE;N=b.right.min_(),b=b.copy(N.key,N.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(h,m))}return b.fixUp_()},_.prototype.isRed_=function(){return this.color},_.prototype.fixUp_=function(){var h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h},_.prototype.moveRedLeft_=function(){var h=this.colorFlip_();return h.right.left.isRed_()&&(h=(h=(h=h.copy(null,null,null,null,h.right.rotateRight_())).rotateLeft_()).colorFlip_()),h},_.prototype.moveRedRight_=function(){var h=this.colorFlip_();return h.left.left.isRed_()&&(h=(h=h.rotateRight_()).colorFlip_()),h},_.prototype.rotateLeft_=function(){var h=this.copy(null,null,_.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)},_.prototype.rotateRight_=function(){var h=this.copy(null,null,_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)},_.prototype.colorFlip_=function(){var h=this.left.copy(null,null,!this.left.color,null,null),m=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,m)},_.prototype.checkMaxDepth_=function(){var h=this.check_();return Math.pow(2,h)<=this.count()+1},_.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)},_.RED=!0,_.BLACK=!1,_}(),wr=function(){function _(){}return _.prototype.copy=function(h,m,b,N,P){return this},_.prototype.insert=function(h,m,b){return new Hr(h,m,null)},_.prototype.remove=function(h,m){return this},_.prototype.count=function(){return 0},_.prototype.isEmpty=function(){return!0},_.prototype.inorderTraversal=function(h){return!1},_.prototype.reverseTraversal=function(h){return!1},_.prototype.minKey=function(){return null},_.prototype.maxKey=function(){return null},_.prototype.check_=function(){return 0},_.prototype.isRed_=function(){return!1},_}(),Gr=function(){function _(h,m){void 0===m&&(m=_.EMPTY_NODE),this.comparator_=h,this.root_=m}return _.prototype.insert=function(h,m){return new _(this.comparator_,this.root_.insert(h,m,this.comparator_).copy(null,null,Hr.BLACK,null,null))},_.prototype.remove=function(h){return new _(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,Hr.BLACK,null,null))},_.prototype.get=function(h){for(var m,b=this.root_;!b.isEmpty();){if(0===(m=this.comparator_(h,b.key)))return b.value;m<0?b=b.left:m>0&&(b=b.right)}return null},_.prototype.getPredecessorKey=function(h){for(var m,b=this.root_,N=null;!b.isEmpty();){if(0===(m=this.comparator_(h,b.key))){if(b.left.isEmpty())return N?N.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}m<0?b=b.left:m>0&&(N=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},_.prototype.isEmpty=function(){return this.root_.isEmpty()},_.prototype.count=function(){return this.root_.count()},_.prototype.minKey=function(){return this.root_.minKey()},_.prototype.maxKey=function(){return this.root_.maxKey()},_.prototype.inorderTraversal=function(h){return this.root_.inorderTraversal(h)},_.prototype.reverseTraversal=function(h){return this.root_.reverseTraversal(h)},_.prototype.getIterator=function(h){return new jr(this.root_,null,this.comparator_,!1,h)},_.prototype.getIteratorFrom=function(h,m){return new jr(this.root_,h,this.comparator_,!1,m)},_.prototype.getReverseIteratorFrom=function(h,m){return new jr(this.root_,h,this.comparator_,!0,m)},_.prototype.getReverseIterator=function(h){return new jr(this.root_,null,this.comparator_,!0,h)},_.EMPTY_NODE=new wr,_}(),yr=Math.log(2),Yi=function(){function _(h){this.count=parseInt(Math.log(h+1)/yr,10),this.current_=this.count-1;var N=parseInt(Array(this.count+1).join("1"),2);this.bits_=h+1&N}return _.prototype.nextBitIsOne=function(){var h=!(this.bits_&1<<this.current_);return this.current_--,h},_}(),Yr=function(_,h,m,b){_.sort(h);var N=function(he,fe){var Ze,A,Ge=fe-he;if(0===Ge)return null;if(1===Ge)return Ze=_[he],A=m?m(Ze):Ze,new Hr(A,Ze.node,Hr.BLACK,null,null);var S=parseInt(Ge/2,10)+he,T=N(he,S),V=N(S+1,fe);return Ze=_[S],A=m?m(Ze):Ze,new Hr(A,Ze.node,Hr.BLACK,T,V)},re=function(he){for(var fe=null,Ge=null,Ze=_.length,A=function(ee,Ce){var Be=Ze-ee,at=Ze;Ze-=ee;var Ft=N(Be+1,at),Xt=_[Be],Dn=m?m(Xt):Xt;S(new Hr(Dn,Xt.node,Ce,null,Ft))},S=function(ee){fe?(fe.left=ee,fe=ee):(Ge=ee,fe=ee)},T=0;T<he.count;++T){var V=he.nextBitIsOne(),G=Math.pow(2,he.count-(T+1));V?A(G,Hr.BLACK):(A(G,Hr.BLACK),A(G,Hr.RED))}return Ge}(new Yi(_.length));return new Gr(b||h,re)},Ir={},Wn=function(){function _(h,m){this.indexes_=h,this.indexSet_=m}return Object.defineProperty(_,"Default",{get:function(){return J.assert(Ir&&Jt,"ChildrenNode.ts has not been loaded"),tn=tn||new _({".priority":Ir},{".priority":Jt})},enumerable:!1,configurable:!0}),_.prototype.get=function(h){var m=J.safeGet(this.indexes_,h);if(!m)throw new Error("No index defined for "+h);return m instanceof Gr?m:null},_.prototype.hasIndex=function(h){return J.contains(this.indexSet_,h.toString())},_.prototype.addIndex=function(h,m){J.assert(h!==Bn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],N=!1,P=m.getIterator(rn.Wrap),Y=P.getNext();Y;)N=N||h.isDefinedOn(Y.node),b.push(Y),Y=P.getNext();var re;re=N?Yr(b,h.getCompare()):Ir;var he=h.toString(),fe=u.__assign({},this.indexSet_);fe[he]=h;var Ge=u.__assign({},this.indexes_);return Ge[he]=re,new _(Ge,fe)},_.prototype.addToIndexes=function(h,m){var b=this;return new _(J.map(this.indexes_,function(P,Y){var re=J.safeGet(b.indexSet_,Y);if(J.assert(re,"Missing index implementation for "+Y),P===Ir){if(re.isDefinedOn(h.node)){for(var he=[],fe=m.getIterator(rn.Wrap),Ge=fe.getNext();Ge;)Ge.name!==h.name&&he.push(Ge),Ge=fe.getNext();return he.push(h),Yr(he,re.getCompare())}return Ir}var Ze=m.get(h.name),A=P;return Ze&&(A=A.remove(new rn(h.name,Ze))),A.insert(h,h.node)}),this.indexSet_)},_.prototype.removeFromIndexes=function(h,m){return new _(J.map(this.indexes_,function(N){if(N===Ir)return N;var P=m.get(h.name);return P?N.remove(new rn(h.name,P)):N}),this.indexSet_)},_}();function qi(_,h){return Q(_.name,h.name)}function pn(_,h){return Q(_,h)}var Sr,qt=function(){function _(h,m,b){this.children_=h,this.priorityNode_=m,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&kr(this.priorityNode_),this.children_.isEmpty()&&J.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(_,"EMPTY_NODE",{get:function(){return Sr||(Sr=new _(new Gr(pn),null,Wn.Default))},enumerable:!1,configurable:!0}),_.prototype.isLeafNode=function(){return!1},_.prototype.getPriority=function(){return this.priorityNode_||Sr},_.prototype.updatePriority=function(h){return this.children_.isEmpty()?this:new _(this.children_,h,this.indexMap_)},_.prototype.getImmediateChild=function(h){if(".priority"===h)return this.getPriority();var m=this.children_.get(h);return null===m?Sr:m},_.prototype.getChild=function(h){var m=h.getFront();return null===m?this:this.getImmediateChild(m).getChild(h.popFront())},_.prototype.hasChild=function(h){return null!==this.children_.get(h)},_.prototype.updateImmediateChild=function(h,m){if(J.assert(m,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(m);var b=new rn(h,m),N=void 0,P=void 0;m.isEmpty()?(N=this.children_.remove(h),P=this.indexMap_.removeFromIndexes(b,this.children_)):(N=this.children_.insert(h,m),P=this.indexMap_.addToIndexes(b,this.children_));var Y=N.isEmpty()?Sr:this.priorityNode_;return new _(N,Y,P)},_.prototype.updateChild=function(h,m){var b=h.getFront();if(null===b)return m;J.assert(".priority"!==h.getFront()||1===h.getLength(),".priority must be the last token in a path");var N=this.getImmediateChild(b).updateChild(h.popFront(),m);return this.updateImmediateChild(b,N)},_.prototype.isEmpty=function(){return this.children_.isEmpty()},_.prototype.numChildren=function(){return this.children_.count()},_.prototype.val=function(h){if(this.isEmpty())return null;var m={},b=0,N=0,P=!0;if(this.forEachChild(Jt,function(he,fe){m[he]=fe.val(h),b++,P&&_.INTEGER_REGEXP_.test(he)?N=Math.max(N,Number(he)):P=!1}),!h&&P&&N<2*b){var Y=[];for(var re in m)Y[re]=m[re];return Y}return h&&!this.getPriority().isEmpty()&&(m[".priority"]=this.getPriority().val()),m},_.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.getPriority().isEmpty()||(h+="priority:"+$o(this.getPriority().val())+":"),this.forEachChild(Jt,function(m,b){var N=b.hash();""!==N&&(h+=":"+m+":"+N)}),this.lazyHash_=""===h?"":ct(h)}return this.lazyHash_},_.prototype.getPredecessorChildName=function(h,m,b){var N=this.resolveIndex_(b);if(N){var P=N.getPredecessorKey(new rn(h,m));return P?P.name:null}return this.children_.getPredecessorKey(h)},_.prototype.getFirstChildName=function(h){var m=this.resolveIndex_(h);if(m){var b=m.minKey();return b&&b.name}return this.children_.minKey()},_.prototype.getFirstChild=function(h){var m=this.getFirstChildName(h);return m?new rn(m,this.children_.get(m)):null},_.prototype.getLastChildName=function(h){var m=this.resolveIndex_(h);if(m){var b=m.maxKey();return b&&b.name}return this.children_.maxKey()},_.prototype.getLastChild=function(h){var m=this.getLastChildName(h);return m?new rn(m,this.children_.get(m)):null},_.prototype.forEachChild=function(h,m){var b=this.resolveIndex_(h);return b?b.inorderTraversal(function(N){return m(N.name,N.node)}):this.children_.inorderTraversal(m)},_.prototype.getIterator=function(h){return this.getIteratorFrom(h.minPost(),h)},_.prototype.getIteratorFrom=function(h,m){var b=this.resolveIndex_(m);if(b)return b.getIteratorFrom(h,function(Y){return Y});for(var N=this.children_.getIteratorFrom(h.name,rn.Wrap),P=N.peek();null!=P&&m.compare(P,h)<0;)N.getNext(),P=N.peek();return N},_.prototype.getReverseIterator=function(h){return this.getReverseIteratorFrom(h.maxPost(),h)},_.prototype.getReverseIteratorFrom=function(h,m){var b=this.resolveIndex_(m);if(b)return b.getReverseIteratorFrom(h,function(Y){return Y});for(var N=this.children_.getReverseIteratorFrom(h.name,rn.Wrap),P=N.peek();null!=P&&m.compare(P,h)>0;)N.getNext(),P=N.peek();return N},_.prototype.compareTo=function(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===er?-1:0},_.prototype.withIndex=function(h){if(h===Bn||this.indexMap_.hasIndex(h))return this;var m=this.indexMap_.addIndex(h,this.children_);return new _(this.children_,this.priorityNode_,m)},_.prototype.isIndexed=function(h){return h===Bn||this.indexMap_.hasIndex(h)},_.prototype.equals=function(h){if(h===this)return!0;if(h.isLeafNode())return!1;var m=h;if(this.getPriority().equals(m.getPriority())){if(this.children_.count()===m.children_.count()){for(var b=this.getIterator(Jt),N=m.getIterator(Jt),P=b.getNext(),Y=N.getNext();P&&Y;){if(P.name!==Y.name||!P.node.equals(Y.node))return!1;P=b.getNext(),Y=N.getNext()}return null===P&&null===Y}return!1}return!1},_.prototype.resolveIndex_=function(h){return h===Bn?null:this.indexMap_.get(h.toString())},_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,_}(),er=new(function(_){function h(){return _.call(this,new Gr(pn),qt.EMPTY_NODE,Wn.Default)||this}return u.__extends(h,_),h.prototype.compareTo=function(m){return m===this?0:1},h.prototype.equals=function(m){return m===this},h.prototype.getPriority=function(){return this},h.prototype.getImmediateChild=function(m){return qt.EMPTY_NODE},h.prototype.isEmpty=function(){return!1},h}(qt));function en(_,h){if(void 0===h&&(h=null),null===_)return qt.EMPTY_NODE;if("object"==typeof _&&".priority"in _&&(h=_[".priority"]),J.assert(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof _&&".value"in _&&null!==_[".value"]&&(_=_[".value"]),"object"!=typeof _||".sv"in _)return new Tr(_,en(h));if(_ instanceof Array){var he=qt.EMPTY_NODE;return dt(_,function(fe,Ge){if(J.contains(_,fe)&&"."!==fe.substring(0,1)){var Ze=en(Ge);(Ze.isLeafNode()||!Ze.isEmpty())&&(he=he.updateImmediateChild(fe,Ze))}}),he.updatePriority(en(h))}var b=[],N=!1;if(dt(_,function(fe,Ge){if("."!==fe.substring(0,1)){var Ze=en(Ge);Ze.isEmpty()||(N=N||!Ze.getPriority().isEmpty(),b.push(new rn(fe,Ze)))}}),0===b.length)return qt.EMPTY_NODE;var Y=Yr(b,qi,function(fe){return fe.name},pn);if(N){var re=Yr(b,Jt.getCompare());return new qt(Y,en(h),new Wn({".priority":re},{".priority":Jt}))}return new qt(Y,en(h),Wn.Default)}Object.defineProperties(rn,{MIN:{value:new rn(ae,qt.EMPTY_NODE)},MAX:{value:new rn(ue,er)}}),En.__EMPTY_NODE=qt.EMPTY_NODE,Tr.__childrenNodeConstructor=qt,function(_){Hi=_}(er),function(_){Gi=_}(er),function(_){mr=_}(en);var zn,$r=new(function(_){function h(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(h,_),h.prototype.compare=function(m,b){var N=m.node.compareTo(b.node);return 0===N?Q(m.name,b.name):N},h.prototype.isDefinedOn=function(m){return!0},h.prototype.indexedValueChanged=function(m,b){return!m.equals(b)},h.prototype.minPost=function(){return rn.MIN},h.prototype.maxPost=function(){return rn.MAX},h.prototype.makePost=function(m,b){var N=en(m);return new rn(b,N)},h.prototype.toString=function(){return".value"},h}(Ur)),Kr=function(_){function h(m){var b=_.call(this)||this;return b.indexPath_=m,J.assert(!m.isEmpty()&&".priority"!==m.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return u.__extends(h,_),h.prototype.extractChild=function(m){return m.getChild(this.indexPath_)},h.prototype.isDefinedOn=function(m){return!m.getChild(this.indexPath_).isEmpty()},h.prototype.compare=function(m,b){var N=this.extractChild(m.node),P=this.extractChild(b.node),Y=N.compareTo(P);return 0===Y?Q(m.name,b.name):Y},h.prototype.makePost=function(m,b){var N=en(m),P=qt.EMPTY_NODE.updateChild(this.indexPath_,N);return new rn(b,P)},h.prototype.maxPost=function(){var m=qt.EMPTY_NODE.updateChild(this.indexPath_,er);return new rn(ue,m)},h.prototype.toString=function(){return this.indexPath_.slice().join("/")},h}(Ur),ii=function(){function _(h,m,b){this.node_=h,this.ref_=m,this.index_=b}return _.prototype.val=function(){return J.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},_.prototype.exportVal=function(){return J.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},_.prototype.toJSON=function(){return J.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},_.prototype.exists=function(){return J.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},_.prototype.child=function(h){J.validateArgCount("DataSnapshot.child",0,1,arguments.length),h=String(h),Nn("DataSnapshot.child",1,h,!1);var m=new ht(h),b=this.ref_.child(m);return new _(this.node_.getChild(m),b,Jt)},_.prototype.hasChild=function(h){J.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Nn("DataSnapshot.hasChild",1,h,!1);var m=new ht(h);return!this.node_.getChild(m).isEmpty()},_.prototype.getPriority=function(){return J.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},_.prototype.forEach=function(h){var m=this;if(J.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),J.validateCallback("DataSnapshot.forEach",1,h,!1),this.node_.isLeafNode())return!1;var b=this.node_;return!!b.forEachChild(this.index_,function(N,P){return h(new _(P,m.ref_.child(N),Jt))})},_.prototype.hasChildren=function(){return J.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(_.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),_.prototype.numChildren=function(){return J.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},_.prototype.getRef=function(){return J.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(_.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),_}(),Oi=function(){function _(h,m,b,N){this.eventType=h,this.eventRegistration=m,this.snapshot=b,this.prevName=N}return _.prototype.getPath=function(){var h=this.snapshot.getRef();return"value"===this.eventType?h.path:h.getParent().path},_.prototype.getEventType=function(){return this.eventType},_.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},_.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+J.stringify(this.snapshot.exportVal())},_}(),Kt=function(){function _(h,m,b){this.eventRegistration=h,this.error=m,this.path=b}return _.prototype.getPath=function(){return this.path},_.prototype.getEventType=function(){return"cancel"},_.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},_.prototype.toString=function(){return this.path.toString()+":cancel"},_}(),dr=function(){function _(h,m,b){this.callback_=h,this.cancelCallback_=m,this.context_=b}return _.prototype.respondsTo=function(h){return"value"===h},_.prototype.createEvent=function(h,m){var b=m.getQueryParams().getIndex();return new Oi("value",this,new ii(h.snapshotNode,m.getRef(),b))},_.prototype.getEventRunner=function(h){var m=this.context_;if("cancel"===h.getEventType()){J.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(m,h.error)}}var N=this.callback_;return function(){N.call(m,h.snapshot)}},_.prototype.createCancelEvent=function(h,m){return this.cancelCallback_?new Kt(this,h,m):null},_.prototype.matches=function(h){return h instanceof _&&(!h.callback_||!this.callback_||h.callback_===this.callback_&&h.context_===this.context_)},_.prototype.hasAnyCallback=function(){return null!==this.callback_},_}(),Qi=function(){function _(h,m,b){this.callbacks_=h,this.cancelCallback_=m,this.context_=b}return _.prototype.respondsTo=function(h){var m="children_added"===h?"child_added":h;return J.contains(this.callbacks_,m="children_removed"===m?"child_removed":m)},_.prototype.createCancelEvent=function(h,m){return this.cancelCallback_?new Kt(this,h,m):null},_.prototype.createEvent=function(h,m){J.assert(null!=h.childName,"Child events should have a childName.");var b=m.getRef().child(h.childName),N=m.getQueryParams().getIndex();return new Oi(h.type,this,new ii(h.snapshotNode,b,N),h.prevName)},_.prototype.getEventRunner=function(h){var m=this.context_;if("cancel"===h.getEventType()){J.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(m,h.error)}}var N=this.callbacks_[h.eventType];return function(){N.call(m,h.snapshot,h.prevName)}},_.prototype.matches=function(h){var m=this;if(h instanceof _){if(!this.callbacks_||!h.callbacks_)return!0;if(this.context_===h.context_){var b=Object.keys(h.callbacks_),N=Object.keys(this.callbacks_),P=b.length;if(P===N.length){if(1===P){var re=b[0],he=N[0];return!(he!==re||h.callbacks_[re]&&this.callbacks_[he]&&h.callbacks_[re]!==this.callbacks_[he])}return N.every(function(fe){return h.callbacks_[fe]===m.callbacks_[fe]})}}}return!1},_.prototype.hasAnyCallback=function(){return null!==this.callbacks_},_}(),or=function(){function _(h,m,b,N){this.repo=h,this.path=m,this.queryParams_=b,this.orderByCalled_=N}return Object.defineProperty(_,"__referenceConstructor",{get:function(){return J.assert(zn,"Reference.ts has not been loaded"),zn},set:function(h){zn=h},enumerable:!1,configurable:!0}),_.validateQueryEndpoints_=function(h){var m=null,b=null;if(h.hasStart()&&(m=h.getIndexStartValue()),h.hasEnd()&&(b=h.getIndexEndValue()),h.getIndex()===Bn){var N="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",P="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==ae)throw new Error(N);if("string"!=typeof m)throw new Error(P)}if(h.hasEnd()){if(h.getIndexEndName()!==ue)throw new Error(N);if("string"!=typeof b)throw new Error(P)}}else if(h.getIndex()===Jt){if(null!=m&&!wt(m)||null!=b&&!wt(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J.assert(h.getIndex()instanceof Kr||h.getIndex()===$r,"unknown index type."),null!=m&&"object"==typeof m||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},_.validateLimit_=function(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},_.prototype.validateNoPreviousOrderByCall_=function(h){if(!0===this.orderByCalled_)throw new Error(h+": You can't combine multiple orderBy calls.")},_.prototype.getQueryParams=function(){return this.queryParams_},_.prototype.getRef=function(){return J.validateArgCount("Query.ref",0,0,arguments.length),new _.__referenceConstructor(this.repo,this.path)},_.prototype.on=function(h,m,b,N){J.validateArgCount("Query.on",2,4,arguments.length),Wt("Query.on",1,h,!1),J.validateCallback("Query.on",2,m,!1);var P=_.getCancelAndContextArgs_("Query.on",b,N);if("value"===h)this.onValueEvent(m,P.cancel,P.context);else{var Y={};Y[h]=m,this.onChildEvent(Y,P.cancel,P.context)}return m},_.prototype.onValueEvent=function(h,m,b){var N=new dr(h,m||null,b||null);this.repo.addEventCallbackForQuery(this,N)},_.prototype.onChildEvent=function(h,m,b){var N=new Qi(h,m,b);this.repo.addEventCallbackForQuery(this,N)},_.prototype.off=function(h,m,b){J.validateArgCount("Query.off",0,3,arguments.length),Wt("Query.off",1,h,!0),J.validateCallback("Query.off",2,m,!0),J.validateContextObject("Query.off",3,b,!0);var N=null,P=null;if("value"===h){var Y=m||null;N=new dr(Y,null,b||null)}else h&&(m&&((P={})[h]=m),N=new Qi(P,null,b||null));this.repo.removeEventCallbackForQuery(this,N)},_.prototype.once=function(h,m,b,N){var P=this;J.validateArgCount("Query.once",1,4,arguments.length),Wt("Query.once",1,h,!1),J.validateCallback("Query.once",2,m,!0);var Y=_.getCancelAndContextArgs_("Query.once",b,N),re=!0,he=new J.Deferred;he.promise.catch(function(){});var fe=function(Ge){re&&(re=!1,P.off(h,fe),m&&m.bind(Y.context)(Ge),he.resolve(Ge))};return this.on(h,fe,function(Ge){P.off(h,fe),Y.cancel&&Y.cancel.bind(Y.context)(Ge),he.reject(Ge)}),he.promise},_.prototype.limitToFirst=function(h){if(J.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new _(this.repo,this.path,this.queryParams_.limitToFirst(h),this.orderByCalled_)},_.prototype.limitToLast=function(h){if(J.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new _(this.repo,this.path,this.queryParams_.limitToLast(h),this.orderByCalled_)},_.prototype.orderByChild=function(h){if(J.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===h)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===h)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===h)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Nn("Query.orderByChild",1,h,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var m=new ht(h);if(m.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new Kr(m),N=this.queryParams_.orderBy(b);return _.validateQueryEndpoints_(N),new _(this.repo,this.path,N,!0)},_.prototype.orderByKey=function(){J.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var h=this.queryParams_.orderBy(Bn);return _.validateQueryEndpoints_(h),new _(this.repo,this.path,h,!0)},_.prototype.orderByPriority=function(){J.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var h=this.queryParams_.orderBy(Jt);return _.validateQueryEndpoints_(h),new _(this.repo,this.path,h,!0)},_.prototype.orderByValue=function(){J.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var h=this.queryParams_.orderBy($r);return _.validateQueryEndpoints_(h),new _(this.repo,this.path,h,!0)},_.prototype.startAt=function(h,m){void 0===h&&(h=null),J.validateArgCount("Query.startAt",0,2,arguments.length),Tt("Query.startAt",1,h,this.path,!0),wn("Query.startAt",2,m,!0);var b=this.queryParams_.startAt(h,m);if(_.validateLimit_(b),_.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===h&&(h=null,m=null),new _(this.repo,this.path,b,this.orderByCalled_)},_.prototype.endAt=function(h,m){void 0===h&&(h=null),J.validateArgCount("Query.endAt",0,2,arguments.length),Tt("Query.endAt",1,h,this.path,!0),wn("Query.endAt",2,m,!0);var b=this.queryParams_.endAt(h,m);if(_.validateLimit_(b),_.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new _(this.repo,this.path,b,this.orderByCalled_)},_.prototype.equalTo=function(h,m){if(J.validateArgCount("Query.equalTo",1,2,arguments.length),Tt("Query.equalTo",1,h,this.path,!1),wn("Query.equalTo",2,m,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(h,m).endAt(h,m)},_.prototype.toString=function(){return J.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},_.prototype.toJSON=function(){return J.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},_.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},_.prototype.queryIdentifier=function(){var h=this.queryObject(),m=St(h);return"{}"===m?"default":m},_.prototype.isEqual=function(h){if(J.validateArgCount("Query.isEqual",1,1,arguments.length),!(h instanceof _)){var m="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(m)}var b=this.repo===h.repo,N=this.path.equals(h.path),P=this.queryIdentifier()===h.queryIdentifier();return b&&N&&P},_.getCancelAndContextArgs_=function(h,m,b){var N={cancel:null,context:null};if(m&&b)N.cancel=m,J.validateCallback(h,3,N.cancel,!0),N.context=b,J.validateContextObject(h,4,N.context,!0);else if(m)if("object"==typeof m&&null!==m)N.context=m;else{if("function"!=typeof m)throw new Error(J.errorPrefix(h,3,!0)+" must either be a cancel callback or a context object.");N.cancel=m}return N},Object.defineProperty(_.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),_}(),uo=function(){function _(h){this.node_=h}return _.prototype.getImmediateChild=function(h){return new _(this.node_.getImmediateChild(h))},_.prototype.node=function(){return this.node_},_}(),lo=function(){function _(h,m){this.syncTree_=h,this.path_=m}return _.prototype.getImmediateChild=function(h){var m=this.path_.child(h);return new _(this.syncTree_,m)},_.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},_}(),xr=function(_,h,m){return _&&"object"==typeof _?(J.assert(".sv"in _,"Unexpected leaf node or priority contents"),"string"==typeof _[".sv"]?Zr(_[".sv"],h,m):"object"==typeof _[".sv"]?So(_[".sv"],h):void J.assert(!1,"Unexpected server value: "+JSON.stringify(_,null,2))):_},Zr=function(_,h,m){switch(_){case"timestamp":return m.timestamp;default:J.assert(!1,"Unexpected server value: "+_)}},So=function(_,h,m){_.hasOwnProperty("increment")||J.assert(!1,"Unexpected server value: "+JSON.stringify(_,null,2));var b=_.increment;"number"!=typeof b&&J.assert(!1,"Unexpected increment value: "+b);var N=h.node();if(J.assert(null!=N,"Expected ChildrenNode.EMPTY_NODE for nulls"),!N.isLeafNode())return b;var Y=N.getValue();return"number"!=typeof Y?b:Y+b},yi=function(_,h,m,b){return _i(h,new lo(m,_),b)},qr=function(_,h,m){return _i(_,new uo(h),m)};function _i(_,h,m){var P,b=_.getPriority().val(),N=xr(b,h.getImmediateChild(".priority"),m);if(_.isLeafNode()){var Y=_,re=xr(Y.getValue(),h,m);return re!==Y.getValue()||N!==Y.getPriority().val()?new Tr(re,en(N)):_}var he=_;return P=he,N!==he.getPriority().val()&&(P=P.updatePriority(new Tr(N))),he.forEachChild(Jt,function(fe,Ge){var Ze=_i(Ge,h.getImmediateChild(fe),m);Ze!==Ge&&(P=P.updateImmediateChild(fe,Ze))}),P}var Ji,zo,Wo=function(){function _(){this.value=null,this.children=new Map}return _.prototype.find=function(h){if(null!=this.value)return this.value.getChild(h);if(!h.isEmpty()&&this.children.size>0){var m=h.getFront();return h=h.popFront(),this.children.has(m)?this.children.get(m).find(h):null}return null},_.prototype.remember=function(h,m){if(h.isEmpty())this.value=m,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(h,m);else{var b=h.getFront();this.children.has(b)||this.children.set(b,new _);var N=this.children.get(b);h=h.popFront(),N.remember(h,m)}},_.prototype.forget=function(h){if(h.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var m=this.value;this.value=null;var b=this;return m.forEachChild(Jt,function(Y,re){b.remember(new ht(Y),re)}),this.forget(h)}if(this.children.size>0){var N=h.getFront();return h=h.popFront(),this.children.has(N)&&this.children.get(N).forget(h)&&this.children.delete(N),0===this.children.size}return!0},_.prototype.forEachTree=function(h,m){null!==this.value?m(h,this.value):this.forEachChild(function(b,N){var P=new ht(h.toString()+"/"+b);N.forEachTree(P,m)})},_.prototype.forEachChild=function(h){this.children.forEach(function(m,b){h(b,m)})},_}(),fr=(()=>(function(_){_[_.OVERWRITE=0]="OVERWRITE",_[_.MERGE=1]="MERGE",_[_.ACK_USER_WRITE=2]="ACK_USER_WRITE",_[_.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fr||(fr={})),fr))(),ki=function(){function _(h,m,b,N){this.fromUser=h,this.fromServer=m,this.queryId=b,this.tagged=N,J.assert(!N||m,"Tagged queries must be from server.")}return _.User=new _(!0,!1,null,!1),_.Server=new _(!1,!0,null,!1),_.forServerTaggedQuery=function(h){return new _(!1,!0,h,!0)},_}(),co=function(){function _(h,m,b){this.path=h,this.affectedTree=m,this.revert=b,this.type=fr.ACK_USER_WRITE,this.source=ki.User}return _.prototype.operationForChild=function(h){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return J.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var m=this.affectedTree.subtree(new ht(h));return new _(ht.Empty,m,this.revert)}return J.assert(this.path.getFront()===h,"operationForChild called for unrelated child."),new _(this.path.popFront(),this.affectedTree,this.revert)},_}(),oi=function(){function _(h,m){void 0===m&&(Ji||(Ji=new Gr(Ie)),m=Ji),this.value=h,this.children=m}return _.fromObject=function(h){var m=_.Empty;return dt(h,function(b,N){m=m.set(new ht(b),N)}),m},_.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},_.prototype.findRootMostMatchingPathAndValue=function(h,m){if(null!=this.value&&m(this.value))return{path:ht.Empty,value:this.value};if(h.isEmpty())return null;var b=h.getFront(),N=this.children.get(b);if(null!==N){var P=N.findRootMostMatchingPathAndValue(h.popFront(),m);return null!=P?{path:new ht(b).child(P.path),value:P.value}:null}return null},_.prototype.findRootMostValueAndPath=function(h){return this.findRootMostMatchingPathAndValue(h,function(){return!0})},_.prototype.subtree=function(h){if(h.isEmpty())return this;var m=h.getFront(),b=this.children.get(m);return null!==b?b.subtree(h.popFront()):_.Empty},_.prototype.set=function(h,m){if(h.isEmpty())return new _(m,this.children);var b=h.getFront(),P=(this.children.get(b)||_.Empty).set(h.popFront(),m),Y=this.children.insert(b,P);return new _(this.value,Y)},_.prototype.remove=function(h){if(h.isEmpty())return this.children.isEmpty()?_.Empty:new _(null,this.children);var m=h.getFront(),b=this.children.get(m);if(b){var N=b.remove(h.popFront()),P=void 0;return P=N.isEmpty()?this.children.remove(m):this.children.insert(m,N),null===this.value&&P.isEmpty()?_.Empty:new _(this.value,P)}return this},_.prototype.get=function(h){if(h.isEmpty())return this.value;var m=h.getFront(),b=this.children.get(m);return b?b.get(h.popFront()):null},_.prototype.setTree=function(h,m){if(h.isEmpty())return m;var Y,b=h.getFront(),P=(this.children.get(b)||_.Empty).setTree(h.popFront(),m);return Y=P.isEmpty()?this.children.remove(b):this.children.insert(b,P),new _(this.value,Y)},_.prototype.fold=function(h){return this.fold_(ht.Empty,h)},_.prototype.fold_=function(h,m){var b={};return this.children.inorderTraversal(function(N,P){b[N]=P.fold_(h.child(N),m)}),m(h,this.value,b)},_.prototype.findOnPath=function(h,m){return this.findOnPath_(h,ht.Empty,m)},_.prototype.findOnPath_=function(h,m,b){var N=!!this.value&&b(m,this.value);if(N)return N;if(h.isEmpty())return null;var P=h.getFront(),Y=this.children.get(P);return Y?Y.findOnPath_(h.popFront(),m.child(P),b):null},_.prototype.foreachOnPath=function(h,m){return this.foreachOnPath_(h,ht.Empty,m)},_.prototype.foreachOnPath_=function(h,m,b){if(h.isEmpty())return this;this.value&&b(m,this.value);var N=h.getFront(),P=this.children.get(N);return P?P.foreachOnPath_(h.popFront(),m.child(N),b):_.Empty},_.prototype.foreach=function(h){this.foreach_(ht.Empty,h)},_.prototype.foreach_=function(h,m){this.children.inorderTraversal(function(b,N){N.foreach_(h.child(b),m)}),this.value&&m(h,this.value)},_.prototype.foreachChild=function(h){this.children.inorderTraversal(function(m,b){b.value&&h(m,b.value)})},_.Empty=new _(null),_}(),as=function(){function _(h,m){this.source=h,this.path=m,this.type=fr.LISTEN_COMPLETE}return _.prototype.operationForChild=function(h){return this.path.isEmpty()?new _(this.source,ht.Empty):new _(this.source,this.path.popFront())},_}(),Zi=function(){function _(h,m,b){this.source=h,this.path=m,this.snap=b,this.type=fr.OVERWRITE}return _.prototype.operationForChild=function(h){return this.path.isEmpty()?new _(this.source,ht.Empty,this.snap.getImmediateChild(h)):new _(this.source,this.path.popFront(),this.snap)},_}(),$i=function(){function _(h,m,b){this.source=h,this.path=m,this.children=b,this.type=fr.MERGE}return _.prototype.operationForChild=function(h){if(this.path.isEmpty()){var m=this.children.subtree(new ht(h));return m.isEmpty()?null:m.value?new Zi(this.source,ht.Empty,m.value):new _(this.source,ht.Empty,m)}return J.assert(this.path.getFront()===h,"Can't get a merge for a child not on the path of the operation"),new _(this.source,this.path.popFront(),this.children)},_.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},_}(),fi=function(){function _(h,m,b){this.node_=h,this.fullyInitialized_=m,this.filtered_=b}return _.prototype.isFullyInitialized=function(){return this.fullyInitialized_},_.prototype.isFiltered=function(){return this.filtered_},_.prototype.isCompleteForPath=function(h){if(h.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var m=h.getFront();return this.isCompleteForChild(m)},_.prototype.isCompleteForChild=function(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)},_.prototype.getNode=function(){return this.node_},_}(),Fi=function(){function _(h,m){this.eventCache_=h,this.serverCache_=m}return _.prototype.updateEventSnap=function(h,m,b){return new _(new fi(h,m,b),this.serverCache_)},_.prototype.updateServerSnap=function(h,m,b){return new _(this.eventCache_,new fi(h,m,b))},_.prototype.getEventCache=function(){return this.eventCache_},_.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},_.prototype.getServerCache=function(){return this.serverCache_},_.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},_.Empty=new _(new fi(qt.EMPTY_NODE,!1,!1),new fi(qt.EMPTY_NODE,!1,!1)),_}(),Cn=function(){function _(h,m,b,N,P){this.type=h,this.snapshotNode=m,this.childName=b,this.oldSnap=N,this.prevName=P}return _.valueChange=function(h){return new _(_.VALUE,h)},_.childAddedChange=function(h,m){return new _(_.CHILD_ADDED,m,h)},_.childRemovedChange=function(h,m){return new _(_.CHILD_REMOVED,m,h)},_.childChangedChange=function(h,m,b){return new _(_.CHILD_CHANGED,m,h,b)},_.childMovedChange=function(h,m){return new _(_.CHILD_MOVED,m,h)},_.CHILD_ADDED="child_added",_.CHILD_REMOVED="child_removed",_.CHILD_CHANGED="child_changed",_.CHILD_MOVED="child_moved",_.VALUE="value",_}(),No=function(){function _(h){this.index_=h}return _.prototype.updateChild=function(h,m,b,N,P,Y){J.assert(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");var re=h.getImmediateChild(m);return re.getChild(N).equals(b.getChild(N))&&re.isEmpty()===b.isEmpty()||(null!=Y&&(b.isEmpty()?h.hasChild(m)?Y.trackChildChange(Cn.childRemovedChange(m,re)):J.assert(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):re.isEmpty()?Y.trackChildChange(Cn.childAddedChange(m,b)):Y.trackChildChange(Cn.childChangedChange(m,b,re))),h.isLeafNode()&&b.isEmpty())?h:h.updateImmediateChild(m,b).withIndex(this.index_)},_.prototype.updateFullNode=function(h,m,b){return null!=b&&(h.isLeafNode()||h.forEachChild(Jt,function(N,P){m.hasChild(N)||b.trackChildChange(Cn.childRemovedChange(N,P))}),m.isLeafNode()||m.forEachChild(Jt,function(N,P){if(h.hasChild(N)){var Y=h.getImmediateChild(N);Y.equals(P)||b.trackChildChange(Cn.childChangedChange(N,P,Y))}else b.trackChildChange(Cn.childAddedChange(N,P))})),m.withIndex(this.index_)},_.prototype.updatePriority=function(h,m){return h.isEmpty()?qt.EMPTY_NODE:h.updatePriority(m)},_.prototype.filtersNodes=function(){return!1},_.prototype.getIndexedFilter=function(){return this},_.prototype.getIndex=function(){return this.index_},_}(),Xr=function(){function _(){this.changeMap=new Map}return _.prototype.trackChildChange=function(h){var m=h.type,b=h.childName;J.assert(m===Cn.CHILD_ADDED||m===Cn.CHILD_CHANGED||m===Cn.CHILD_REMOVED,"Only child changes supported for tracking"),J.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var N=this.changeMap.get(b);if(N){var P=N.type;if(m===Cn.CHILD_ADDED&&P===Cn.CHILD_REMOVED)this.changeMap.set(b,Cn.childChangedChange(b,h.snapshotNode,N.snapshotNode));else if(m===Cn.CHILD_REMOVED&&P===Cn.CHILD_ADDED)this.changeMap.delete(b);else if(m===Cn.CHILD_REMOVED&&P===Cn.CHILD_CHANGED)this.changeMap.set(b,Cn.childRemovedChange(b,N.oldSnap));else if(m===Cn.CHILD_CHANGED&&P===Cn.CHILD_ADDED)this.changeMap.set(b,Cn.childAddedChange(b,h.snapshotNode));else{if(m!==Cn.CHILD_CHANGED||P!==Cn.CHILD_CHANGED)throw J.assertionError("Illegal combination of changes: "+h+" occurred after "+N);this.changeMap.set(b,Cn.childChangedChange(b,h.snapshotNode,N.oldSnap))}}else this.changeMap.set(b,h)},_.prototype.getChanges=function(){return Array.from(this.changeMap.values())},_}(),Wi=new(function(){function _(){}return _.prototype.getCompleteChild=function(h){return null},_.prototype.getChildAfterChild=function(h,m,b){return null},_}()),fo=function(){function _(h,m,b){void 0===b&&(b=null),this.writes_=h,this.viewCache_=m,this.optCompleteServerCache_=b}return _.prototype.getCompleteChild=function(h){var m=this.viewCache_.getEventCache();if(m.isCompleteForChild(h))return m.getNode().getImmediateChild(h);var b=null!=this.optCompleteServerCache_?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(h,b)},_.prototype.getChildAfterChild=function(h,m,b){var N=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),P=this.writes_.calcIndexedSlice(N,m,1,b,h);return 0===P.length?null:P[0]},_}(),hi=function(h,m){this.viewCache=h,this.changes=m},Li=function(){function _(h){this.filter_=h}return _.prototype.assertIndexed=function(h){J.assert(h.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),J.assert(h.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},_.prototype.applyOperation=function(h,m,b,N){var Y,re,P=new Xr;if(m.type===fr.OVERWRITE){var he=m;he.source.fromUser?Y=this.applyUserOverwrite_(h,he.path,he.snap,b,N,P):(J.assert(he.source.fromServer,"Unknown source."),re=he.source.tagged||h.getServerCache().isFiltered()&&!he.path.isEmpty(),Y=this.applyServerOverwrite_(h,he.path,he.snap,b,N,re,P))}else if(m.type===fr.MERGE){var fe=m;fe.source.fromUser?Y=this.applyUserMerge_(h,fe.path,fe.children,b,N,P):(J.assert(fe.source.fromServer,"Unknown source."),re=fe.source.tagged||h.getServerCache().isFiltered(),Y=this.applyServerMerge_(h,fe.path,fe.children,b,N,re,P))}else if(m.type===fr.ACK_USER_WRITE){var Ge=m;Y=Ge.revert?this.revertUserWrite_(h,Ge.path,b,N,P):this.ackUserWrite_(h,Ge.path,Ge.affectedTree,b,N,P)}else{if(m.type!==fr.LISTEN_COMPLETE)throw J.assertionError("Unknown operation type: "+m.type);Y=this.listenComplete_(h,m.path,b,P)}var Ze=P.getChanges();return _.maybeAddValueEvent_(h,Y,Ze),new hi(Y,Ze)},_.maybeAddValueEvent_=function(h,m,b){var N=m.getEventCache();if(N.isFullyInitialized()){var P=N.getNode().isLeafNode()||N.getNode().isEmpty(),Y=h.getCompleteEventSnap();(b.length>0||!h.getEventCache().isFullyInitialized()||P&&!N.getNode().equals(Y)||!N.getNode().getPriority().equals(Y.getPriority()))&&b.push(Cn.valueChange(m.getCompleteEventSnap()))}},_.prototype.generateEventCacheAfterServerEvent_=function(h,m,b,N,P){var Y=h.getEventCache();if(null!=b.shadowingWrite(m))return h;var re=void 0,he=void 0;if(m.isEmpty())if(J.assert(h.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),h.getServerCache().isFiltered()){var fe=h.getCompleteServerSnap(),Ze=b.calcCompleteEventChildren(fe instanceof qt?fe:qt.EMPTY_NODE);re=this.filter_.updateFullNode(h.getEventCache().getNode(),Ze,P)}else{var A=b.calcCompleteEventCache(h.getCompleteServerSnap());re=this.filter_.updateFullNode(h.getEventCache().getNode(),A,P)}else{var S=m.getFront();if(".priority"===S){J.assert(1===m.getLength(),"Can't have a priority with additional path components");var T=Y.getNode();he=h.getServerCache().getNode();var V=b.calcEventCacheAfterServerOverwrite(m,T,he);re=null!=V?this.filter_.updatePriority(T,V):Y.getNode()}else{var G=m.popFront(),ee=void 0;if(Y.isCompleteForChild(S)){he=h.getServerCache().getNode();var Ce=b.calcEventCacheAfterServerOverwrite(m,Y.getNode(),he);ee=null!=Ce?Y.getNode().getImmediateChild(S).updateChild(G,Ce):Y.getNode().getImmediateChild(S)}else ee=b.calcCompleteChild(S,h.getServerCache());re=null!=ee?this.filter_.updateChild(Y.getNode(),S,ee,G,N,P):Y.getNode()}}return h.updateEventSnap(re,Y.isFullyInitialized()||m.isEmpty(),this.filter_.filtersNodes())},_.prototype.applyServerOverwrite_=function(h,m,b,N,P,Y,re){var fe,he=h.getServerCache(),Ge=Y?this.filter_:this.filter_.getIndexedFilter();if(m.isEmpty())fe=Ge.updateFullNode(he.getNode(),b,null);else if(Ge.filtersNodes()&&!he.isFiltered()){var Ze=he.getNode().updateChild(m,b);fe=Ge.updateFullNode(he.getNode(),Ze,null)}else{var A=m.getFront();if(!he.isCompleteForPath(m)&&m.getLength()>1)return h;var S=m.popFront(),V=he.getNode().getImmediateChild(A).updateChild(S,b);fe=".priority"===A?Ge.updatePriority(he.getNode(),V):Ge.updateChild(he.getNode(),A,V,S,Wi,null)}var G=h.updateServerSnap(fe,he.isFullyInitialized()||m.isEmpty(),Ge.filtersNodes()),ee=new fo(N,G,P);return this.generateEventCacheAfterServerEvent_(G,m,N,ee,re)},_.prototype.applyUserOverwrite_=function(h,m,b,N,P,Y){var he,fe,re=h.getEventCache(),Ge=new fo(N,h,P);if(m.isEmpty())fe=this.filter_.updateFullNode(h.getEventCache().getNode(),b,Y),he=h.updateEventSnap(fe,!0,this.filter_.filtersNodes());else{var Ze=m.getFront();if(".priority"===Ze)fe=this.filter_.updatePriority(h.getEventCache().getNode(),b),he=h.updateEventSnap(fe,re.isFullyInitialized(),re.isFiltered());else{var A=m.popFront(),S=re.getNode().getImmediateChild(Ze),T=void 0;if(A.isEmpty())T=b;else{var V=Ge.getCompleteChild(Ze);T=null!=V?".priority"===A.getBack()&&V.getChild(A.parent()).isEmpty()?V:V.updateChild(A,b):qt.EMPTY_NODE}if(S.equals(T))he=h;else{var G=this.filter_.updateChild(re.getNode(),Ze,T,A,Ge,Y);he=h.updateEventSnap(G,re.isFullyInitialized(),this.filter_.filtersNodes())}}}return he},_.cacheHasChild_=function(h,m){return h.getEventCache().isCompleteForChild(m)},_.prototype.applyUserMerge_=function(h,m,b,N,P,Y){var re=this,he=h;return b.foreach(function(fe,Ge){var Ze=m.child(fe);_.cacheHasChild_(h,Ze.getFront())&&(he=re.applyUserOverwrite_(he,Ze,Ge,N,P,Y))}),b.foreach(function(fe,Ge){var Ze=m.child(fe);_.cacheHasChild_(h,Ze.getFront())||(he=re.applyUserOverwrite_(he,Ze,Ge,N,P,Y))}),he},_.prototype.applyMerge_=function(h,m){return m.foreach(function(b,N){h=h.updateChild(b,N)}),h},_.prototype.applyServerMerge_=function(h,m,b,N,P,Y,re){var he=this;if(h.getServerCache().getNode().isEmpty()&&!h.getServerCache().isFullyInitialized())return h;var Ge,fe=h;Ge=m.isEmpty()?b:oi.Empty.setTree(m,b);var Ze=h.getServerCache().getNode();return Ge.children.inorderTraversal(function(A,S){if(Ze.hasChild(A)){var T=h.getServerCache().getNode().getImmediateChild(A),V=he.applyMerge_(T,S);fe=he.applyServerOverwrite_(fe,new ht(A),V,N,P,Y,re)}}),Ge.children.inorderTraversal(function(A,S){var T=!h.getServerCache().isCompleteForChild(A)&&null==S.value;if(!Ze.hasChild(A)&&!T){var V=h.getServerCache().getNode().getImmediateChild(A),G=he.applyMerge_(V,S);fe=he.applyServerOverwrite_(fe,new ht(A),G,N,P,Y,re)}}),fe},_.prototype.ackUserWrite_=function(h,m,b,N,P,Y){if(null!=N.shadowingWrite(m))return h;var re=h.getServerCache().isFiltered(),he=h.getServerCache();if(null!=b.value){if(m.isEmpty()&&he.isFullyInitialized()||he.isCompleteForPath(m))return this.applyServerOverwrite_(h,m,he.getNode().getChild(m),N,P,re,Y);if(m.isEmpty()){var fe=oi.Empty;return he.getNode().forEachChild(Bn,function(Ze,A){fe=fe.set(new ht(Ze),A)}),this.applyServerMerge_(h,m,fe,N,P,re,Y)}return h}var Ge=oi.Empty;return b.foreach(function(Ze,A){var S=m.child(Ze);he.isCompleteForPath(S)&&(Ge=Ge.set(Ze,he.getNode().getChild(S)))}),this.applyServerMerge_(h,m,Ge,N,P,re,Y)},_.prototype.listenComplete_=function(h,m,b,N){var P=h.getServerCache(),Y=h.updateServerSnap(P.getNode(),P.isFullyInitialized()||m.isEmpty(),P.isFiltered());return this.generateEventCacheAfterServerEvent_(Y,m,b,Wi,N)},_.prototype.revertUserWrite_=function(h,m,b,N,P){var Y;if(null!=b.shadowingWrite(m))return h;var re=new fo(b,h,N),he=h.getEventCache().getNode(),fe=void 0;if(m.isEmpty()||".priority"===m.getFront()){var Ge=void 0;if(h.getServerCache().isFullyInitialized())Ge=b.calcCompleteEventCache(h.getCompleteServerSnap());else{var Ze=h.getServerCache().getNode();J.assert(Ze instanceof qt,"serverChildren would be complete if leaf node"),Ge=b.calcCompleteEventChildren(Ze)}fe=this.filter_.updateFullNode(he,Ge=Ge,P)}else{var A=m.getFront(),S=b.calcCompleteChild(A,h.getServerCache());null==S&&h.getServerCache().isCompleteForChild(A)&&(S=he.getImmediateChild(A)),(fe=null!=S?this.filter_.updateChild(he,A,S,m.popFront(),re,P):h.getEventCache().getNode().hasChild(A)?this.filter_.updateChild(he,A,qt.EMPTY_NODE,m.popFront(),re,P):he).isEmpty()&&h.getServerCache().isFullyInitialized()&&(Y=b.calcCompleteEventCache(h.getCompleteServerSnap())).isLeafNode()&&(fe=this.filter_.updateFullNode(fe,Y,P))}return Y=h.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(ht.Empty),h.updateEventSnap(fe,Y,this.filter_.filtersNodes())},_}(),gn=function(){function _(h){this.query_=h,this.index_=this.query_.getQueryParams().getIndex()}return _.prototype.generateEventsForChanges=function(h,m,b){var N=this,P=[],Y=[];return h.forEach(function(re){re.type===Cn.CHILD_CHANGED&&N.index_.indexedValueChanged(re.oldSnap,re.snapshotNode)&&Y.push(Cn.childMovedChange(re.childName,re.snapshotNode))}),this.generateEventsForType_(P,Cn.CHILD_REMOVED,h,b,m),this.generateEventsForType_(P,Cn.CHILD_ADDED,h,b,m),this.generateEventsForType_(P,Cn.CHILD_MOVED,Y,b,m),this.generateEventsForType_(P,Cn.CHILD_CHANGED,h,b,m),this.generateEventsForType_(P,Cn.VALUE,h,b,m),P},_.prototype.generateEventsForType_=function(h,m,b,N,P){var Y=this,re=b.filter(function(he){return he.type===m});re.sort(this.compareChanges_.bind(this)),re.forEach(function(he){var fe=Y.materializeSingleChange_(he,P);N.forEach(function(Ge){Ge.respondsTo(he.type)&&h.push(Ge.createEvent(fe,Y.query_))})})},_.prototype.materializeSingleChange_=function(h,m){return"value"===h.type||"child_removed"===h.type||(h.prevName=m.getPredecessorChildName(h.childName,h.snapshotNode,this.index_)),h},_.prototype.compareChanges_=function(h,m){if(null==h.childName||null==m.childName)throw J.assertionError("Should only compare child_ events.");var b=new rn(h.childName,h.snapshotNode),N=new rn(m.childName,m.snapshotNode);return this.index_.compare(b,N)},_}(),Wr=function(){function _(h,m){this.query_=h,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),N=new No(b.getIndex()),P=b.getNodeFilter();this.processor_=new Li(P);var Y=m.getServerCache(),re=m.getEventCache(),he=N.updateFullNode(qt.EMPTY_NODE,Y.getNode(),null),fe=P.updateFullNode(qt.EMPTY_NODE,re.getNode(),null),Ge=new fi(he,Y.isFullyInitialized(),N.filtersNodes()),Ze=new fi(fe,re.isFullyInitialized(),P.filtersNodes());this.viewCache_=new Fi(Ze,Ge),this.eventGenerator_=new gn(this.query_)}return _.prototype.getQuery=function(){return this.query_},_.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},_.prototype.getCompleteServerCache=function(h){var m=this.viewCache_.getCompleteServerSnap();return m&&(this.query_.getQueryParams().loadsAllData()||!h.isEmpty()&&!m.getImmediateChild(h.getFront()).isEmpty())?m.getChild(h):null},_.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},_.prototype.addEventRegistration=function(h){this.eventRegistrations_.push(h)},_.prototype.removeEventRegistration=function(h,m){var b=[];if(m){J.assert(null==h,"A cancel should cancel all event registrations.");var N=this.query_.path;this.eventRegistrations_.forEach(function(he){var fe=he.createCancelEvent(m=m,N);fe&&b.push(fe)})}if(h){for(var P=[],Y=0;Y<this.eventRegistrations_.length;++Y){var re=this.eventRegistrations_[Y];if(re.matches(h)){if(h.hasAnyCallback()){P=P.concat(this.eventRegistrations_.slice(Y+1));break}}else P.push(re)}this.eventRegistrations_=P}else this.eventRegistrations_=[];return b},_.prototype.applyOperation=function(h,m,b){h.type===fr.MERGE&&null!==h.source.queryId&&(J.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),J.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var N=this.viewCache_,P=this.processor_.applyOperation(N,h,m,b);return this.processor_.assertIndexed(P.viewCache),J.assert(P.viewCache.getServerCache().isFullyInitialized()||!N.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=P.viewCache,this.generateEventsForChanges_(P.changes,P.viewCache.getEventCache().getNode(),null)},_.prototype.getInitialEvents=function(h){var m=this.viewCache_.getEventCache(),b=[];return m.getNode().isLeafNode()||m.getNode().forEachChild(Jt,function(P,Y){b.push(Cn.childAddedChange(P,Y))}),m.isFullyInitialized()&&b.push(Cn.valueChange(m.getNode())),this.generateEventsForChanges_(b,m.getNode(),h)},_.prototype.generateEventsForChanges_=function(h,m,b){return this.eventGenerator_.generateEventsForChanges(h,m,b?[b]:this.eventRegistrations_)},_}(),As=function(){function _(){this.views=new Map}return Object.defineProperty(_,"__referenceConstructor",{get:function(){return J.assert(zo,"Reference.ts has not been loaded"),zo},set:function(h){J.assert(!zo,"__referenceConstructor has already been defined"),zo=h},enumerable:!1,configurable:!0}),_.prototype.isEmpty=function(){return 0===this.views.size},_.prototype.applyOperation=function(h,m,b){var N,P,Y=h.source.queryId;if(null!==Y){var re=this.views.get(Y);return J.assert(null!=re,"SyncTree gave us an op for an invalid query."),re.applyOperation(h,m,b)}var he=[];try{for(var fe=u.__values(this.views.values()),Ge=fe.next();!Ge.done;Ge=fe.next())he=he.concat((re=Ge.value).applyOperation(h,m,b))}catch(Ze){N={error:Ze}}finally{try{Ge&&!Ge.done&&(P=fe.return)&&P.call(fe)}finally{if(N)throw N.error}}return he},_.prototype.addEventRegistration=function(h,m,b,N,P){var Y=h.queryIdentifier(),re=this.views.get(Y);if(!re){var he=b.calcCompleteEventCache(P?N:null),fe=!1;he?fe=!0:N instanceof qt?(he=b.calcCompleteEventChildren(N),fe=!1):(he=qt.EMPTY_NODE,fe=!1);var Ge=new Fi(new fi(he,fe,!1),new fi(N,P,!1));re=new Wr(h,Ge),this.views.set(Y,re)}return re.addEventRegistration(m),re.getInitialEvents(m)},_.prototype.removeEventRegistration=function(h,m,b){var N,P,Y=h.queryIdentifier(),re=[],he=[],fe=this.hasCompleteView();if("default"===Y)try{for(var Ge=u.__values(this.views.entries()),Ze=Ge.next();!Ze.done;Ze=Ge.next()){var T,A=u.__read(Ze.value,2),S=A[0];he=he.concat((T=A[1]).removeEventRegistration(m,b)),T.isEmpty()&&(this.views.delete(S),T.getQuery().getQueryParams().loadsAllData()||re.push(T.getQuery()))}}catch(V){N={error:V}}finally{try{Ze&&!Ze.done&&(P=Ge.return)&&P.call(Ge)}finally{if(N)throw N.error}}else(T=this.views.get(Y))&&(he=he.concat(T.removeEventRegistration(m,b)),T.isEmpty()&&(this.views.delete(Y),T.getQuery().getQueryParams().loadsAllData()||re.push(T.getQuery())));return fe&&!this.hasCompleteView()&&re.push(new _.__referenceConstructor(h.repo,h.path)),{removed:re,events:he}},_.prototype.getQueryViews=function(){var h,m,b=[];try{for(var N=u.__values(this.views.values()),P=N.next();!P.done;P=N.next()){var Y=P.value;Y.getQuery().getQueryParams().loadsAllData()||b.push(Y)}}catch(re){h={error:re}}finally{try{P&&!P.done&&(m=N.return)&&m.call(N)}finally{if(h)throw h.error}}return b},_.prototype.getCompleteServerCache=function(h){var m,b,N=null;try{for(var P=u.__values(this.views.values()),Y=P.next();!Y.done;Y=P.next())N=N||Y.value.getCompleteServerCache(h)}catch(he){m={error:he}}finally{try{Y&&!Y.done&&(b=P.return)&&b.call(P)}finally{if(m)throw m.error}}return N},_.prototype.viewForQuery=function(h){if(h.getQueryParams().loadsAllData())return this.getCompleteView();var b=h.queryIdentifier();return this.views.get(b)},_.prototype.viewExistsForQuery=function(h){return null!=this.viewForQuery(h)},_.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},_.prototype.getCompleteView=function(){var h,m;try{for(var b=u.__values(this.views.values()),N=b.next();!N.done;N=b.next()){var P=N.value;if(P.getQuery().getQueryParams().loadsAllData())return P}}catch(Y){h={error:Y}}finally{try{N&&!N.done&&(m=b.return)&&m.call(b)}finally{if(h)throw h.error}}return null},_}(),Di=function(){function _(h){this.writeTree_=h}return _.prototype.addWrite=function(h,m){if(h.isEmpty())return new _(new oi(m));var b=this.writeTree_.findRootMostValueAndPath(h);if(null!=b){var N=b.path,P=b.value,Y=ht.relativePath(N,h);return P=P.updateChild(Y,m),new _(this.writeTree_.set(N,P))}var re=new oi(m);return new _(this.writeTree_.setTree(h,re))},_.prototype.addWrites=function(h,m){var b=this;return dt(m,function(N,P){b=b.addWrite(h.child(N),P)}),b},_.prototype.removeWrite=function(h){return h.isEmpty()?_.Empty:new _(this.writeTree_.setTree(h,oi.Empty))},_.prototype.hasCompleteWrite=function(h){return null!=this.getCompleteNode(h)},_.prototype.getCompleteNode=function(h){var m=this.writeTree_.findRootMostValueAndPath(h);return null!=m?this.writeTree_.get(m.path).getChild(ht.relativePath(m.path,h)):null},_.prototype.getCompleteChildren=function(){var h=[],m=this.writeTree_.value;return null!=m?m.isLeafNode()||m.forEachChild(Jt,function(b,N){h.push(new rn(b,N))}):this.writeTree_.children.inorderTraversal(function(b,N){null!=N.value&&h.push(new rn(b,N.value))}),h},_.prototype.childCompoundWrite=function(h){if(h.isEmpty())return this;var m=this.getCompleteNode(h);return new _(null!=m?new oi(m):this.writeTree_.subtree(h))},_.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},_.prototype.apply=function(h){return ai(ht.Empty,this.writeTree_,h)},_.Empty=new _(new oi(null)),_}();function ai(_,h,m){if(null!=h.value)return m.updateChild(_,h.value);var b=null;return h.children.inorderTraversal(function(N,P){".priority"===N?(J.assert(null!==P.value,"Priority writes must always be leaf nodes"),b=P.value):m=ai(_.child(N),P,m)}),!m.getChild(_).isEmpty()&&null!==b&&(m=m.updateChild(_.child(".priority"),b)),m}var vo=function(){function _(){this.visibleWrites_=Di.Empty,this.allWrites_=[],this.lastWriteId_=-1}return _.prototype.childWrites=function(h){return new Cr(h,this)},_.prototype.addOverwrite=function(h,m,b,N){J.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===N&&(N=!0),this.allWrites_.push({path:h,snap:m,writeId:b,visible:N}),N&&(this.visibleWrites_=this.visibleWrites_.addWrite(h,m)),this.lastWriteId_=b},_.prototype.addMerge=function(h,m,b){J.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:h,children:m,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(h,m),this.lastWriteId_=b},_.prototype.getWrite=function(h){for(var m=0;m<this.allWrites_.length;m++){var b=this.allWrites_[m];if(b.writeId===h)return b}return null},_.prototype.removeWrite=function(h){var m=this,b=this.allWrites_.findIndex(function(Ge){return Ge.writeId===h});J.assert(b>=0,"removeWrite called with nonexistent writeId.");var N=this.allWrites_[b];this.allWrites_.splice(b,1);for(var P=N.visible,Y=!1,re=this.allWrites_.length-1;P&&re>=0;){var he=this.allWrites_[re];he.visible&&(re>=b&&this.recordContainsPath_(he,N.path)?P=!1:N.path.contains(he.path)&&(Y=!0)),re--}return!!P&&(Y?(this.resetTree_(),!0):(N.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(N.path):dt(N.children,function(Ge){m.visibleWrites_=m.visibleWrites_.removeWrite(N.path.child(Ge))}),!0))},_.prototype.getCompleteWriteData=function(h){return this.visibleWrites_.getCompleteNode(h)},_.prototype.calcCompleteEventCache=function(h,m,b,N){if(b||N){var he=this.visibleWrites_.childCompoundWrite(h);return!N&&he.isEmpty()?m:N||null!=m||he.hasCompleteWrite(ht.Empty)?_.layerTree_(this.allWrites_,function(A){return(A.visible||N)&&(!b||!~b.indexOf(A.writeId))&&(A.path.contains(h)||h.contains(A.path))},h).apply(m||qt.EMPTY_NODE):null}var P=this.visibleWrites_.getCompleteNode(h);if(null!=P)return P;var Y=this.visibleWrites_.childCompoundWrite(h);return Y.isEmpty()?m:null!=m||Y.hasCompleteWrite(ht.Empty)?Y.apply(m||qt.EMPTY_NODE):null},_.prototype.calcCompleteEventChildren=function(h,m){var b=qt.EMPTY_NODE,N=this.visibleWrites_.getCompleteNode(h);if(N)return N.isLeafNode()||N.forEachChild(Jt,function(re,he){b=b.updateImmediateChild(re,he)}),b;if(m){var P=this.visibleWrites_.childCompoundWrite(h);return m.forEachChild(Jt,function(re,he){var fe=P.childCompoundWrite(new ht(re)).apply(he);b=b.updateImmediateChild(re,fe)}),P.getCompleteChildren().forEach(function(re){b=b.updateImmediateChild(re.name,re.node)}),b}return this.visibleWrites_.childCompoundWrite(h).getCompleteChildren().forEach(function(re){b=b.updateImmediateChild(re.name,re.node)}),b},_.prototype.calcEventCacheAfterServerOverwrite=function(h,m,b,N){J.assert(b||N,"Either existingEventSnap or existingServerSnap must exist");var P=h.child(m);if(this.visibleWrites_.hasCompleteWrite(P))return null;var Y=this.visibleWrites_.childCompoundWrite(P);return Y.isEmpty()?N.getChild(m):Y.apply(N.getChild(m))},_.prototype.calcCompleteChild=function(h,m,b){var N=h.child(m),P=this.visibleWrites_.getCompleteNode(N);return null!=P?P:b.isCompleteForChild(m)?this.visibleWrites_.childCompoundWrite(N).apply(b.getNode().getImmediateChild(m)):null},_.prototype.shadowingWrite=function(h){return this.visibleWrites_.getCompleteNode(h)},_.prototype.calcIndexedSlice=function(h,m,b,N,P,Y){var re,he=this.visibleWrites_.childCompoundWrite(h),fe=he.getCompleteNode(ht.Empty);if(null!=fe)re=fe;else{if(null==m)return[];re=he.apply(m)}if((re=re.withIndex(Y)).isEmpty()||re.isLeafNode())return[];for(var Ge=[],Ze=Y.getCompare(),A=P?re.getReverseIteratorFrom(b,Y):re.getIteratorFrom(b,Y),S=A.getNext();S&&Ge.length<N;)0!==Ze(S,b)&&Ge.push(S),S=A.getNext();return Ge},_.prototype.recordContainsPath_=function(h,m){if(h.snap)return h.path.contains(m);for(var b in h.children)if(h.children.hasOwnProperty(b)&&h.path.child(b).contains(m))return!0;return!1},_.prototype.resetTree_=function(){this.visibleWrites_=_.layerTree_(this.allWrites_,_.DefaultFilter_,ht.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},_.DefaultFilter_=function(h){return h.visible},_.layerTree_=function(h,m,b){for(var N=Di.Empty,P=0;P<h.length;++P){var Y=h[P];if(m(Y)){var re=Y.path,he=void 0;if(Y.snap)b.contains(re)?(he=ht.relativePath(b,re),N=N.addWrite(he,Y.snap)):re.contains(b)&&(he=ht.relativePath(re,b),N=N.addWrite(ht.Empty,Y.snap.getChild(he)));else{if(!Y.children)throw J.assertionError("WriteRecord should have .snap or .children");if(b.contains(re))he=ht.relativePath(b,re),N=N.addWrites(he,Y.children);else if(re.contains(b))if((he=ht.relativePath(re,b)).isEmpty())N=N.addWrites(ht.Empty,Y.children);else{var fe=J.safeGet(Y.children,he.getFront());if(fe){var Ge=fe.getChild(he.popFront());N=N.addWrite(ht.Empty,Ge)}}}}}return N},_}(),Cr=function(){function _(h,m){this.treePath_=h,this.writeTree_=m}return _.prototype.calcCompleteEventCache=function(h,m,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,h,m,b)},_.prototype.calcCompleteEventChildren=function(h){return this.writeTree_.calcCompleteEventChildren(this.treePath_,h)},_.prototype.calcEventCacheAfterServerOverwrite=function(h,m,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,h,m,b)},_.prototype.shadowingWrite=function(h){return this.writeTree_.shadowingWrite(this.treePath_.child(h))},_.prototype.calcIndexedSlice=function(h,m,b,N,P){return this.writeTree_.calcIndexedSlice(this.treePath_,h,m,b,N,P)},_.prototype.calcCompleteChild=function(h,m){return this.writeTree_.calcCompleteChild(this.treePath_,h,m)},_.prototype.child=function(h){return new _(this.treePath_.child(h),this.writeTree_)},_}(),Ao=function(){function _(h){this.listenProvider_=h,this.syncPointTree_=oi.Empty,this.pendingWriteTree_=new vo,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return _.prototype.applyUserOverwrite=function(h,m,b,N){return this.pendingWriteTree_.addOverwrite(h,m,b,N),N?this.applyOperationToSyncPoints_(new Zi(ki.User,h,m)):[]},_.prototype.applyUserMerge=function(h,m,b){this.pendingWriteTree_.addMerge(h,m,b);var N=oi.fromObject(m);return this.applyOperationToSyncPoints_(new $i(ki.User,h,N))},_.prototype.ackUserWrite=function(h,m){void 0===m&&(m=!1);var b=this.pendingWriteTree_.getWrite(h);if(this.pendingWriteTree_.removeWrite(h)){var P=oi.Empty;return null!=b.snap?P=P.set(ht.Empty,!0):dt(b.children,function(Y,re){P=P.set(new ht(Y),re)}),this.applyOperationToSyncPoints_(new co(b.path,P,m))}return[]},_.prototype.applyServerOverwrite=function(h,m){return this.applyOperationToSyncPoints_(new Zi(ki.Server,h,m))},_.prototype.applyServerMerge=function(h,m){var b=oi.fromObject(m);return this.applyOperationToSyncPoints_(new $i(ki.Server,h,b))},_.prototype.applyListenComplete=function(h){return this.applyOperationToSyncPoints_(new as(ki.Server,h))},_.prototype.applyTaggedQueryOverwrite=function(h,m,b){var N=this.queryKeyForTag_(b);if(null!=N){var P=_.parseQueryKey_(N),Y=P.path,re=P.queryId,he=ht.relativePath(Y,h),fe=new Zi(ki.forServerTaggedQuery(re),he,m);return this.applyTaggedOperation_(Y,fe)}return[]},_.prototype.applyTaggedQueryMerge=function(h,m,b){var N=this.queryKeyForTag_(b);if(N){var P=_.parseQueryKey_(N),Y=P.path,re=P.queryId,he=ht.relativePath(Y,h),fe=oi.fromObject(m),Ge=new $i(ki.forServerTaggedQuery(re),he,fe);return this.applyTaggedOperation_(Y,Ge)}return[]},_.prototype.applyTaggedListenComplete=function(h,m){var b=this.queryKeyForTag_(m);if(b){var N=_.parseQueryKey_(b),P=N.path,Y=N.queryId,re=ht.relativePath(P,h),he=new as(ki.forServerTaggedQuery(Y),re);return this.applyTaggedOperation_(P,he)}return[]},_.prototype.addEventRegistration=function(h,m){var b=h.path,N=null,P=!1;this.syncPointTree_.foreachOnPath(b,function(V,G){var ee=ht.relativePath(V,b);N=N||G.getCompleteServerCache(ee),P=P||G.hasCompleteView()});var re,Y=this.syncPointTree_.get(b);Y?(P=P||Y.hasCompleteView(),N=N||Y.getCompleteServerCache(ht.Empty)):(Y=new As,this.syncPointTree_=this.syncPointTree_.set(b,Y)),null!=N?re=!0:(re=!1,N=qt.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(V,G){var ee=G.getCompleteServerCache(ht.Empty);ee&&(N=N.updateImmediateChild(V,ee))}));var fe=Y.viewExistsForQuery(h);if(!fe&&!h.getQueryParams().loadsAllData()){var Ge=_.makeQueryKey_(h);J.assert(!this.queryToTagMap.has(Ge),"View does not exist, but we have a tag");var Ze=_.getNextQueryTag_();this.queryToTagMap.set(Ge,Ze),this.tagToQueryMap.set(Ze,Ge)}var A=this.pendingWriteTree_.childWrites(b),S=Y.addEventRegistration(h,m,A,N,re);if(!fe&&!P){var T=Y.viewForQuery(h);S=S.concat(this.setupListener_(h,T))}return S},_.prototype.removeEventRegistration=function(h,m,b){var N=this,P=h.path,Y=this.syncPointTree_.get(P),re=[];if(Y&&("default"===h.queryIdentifier()||Y.viewExistsForQuery(h))){var he=Y.removeEventRegistration(h,m,b);Y.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(P));var fe=he.removed;re=he.events;var Ge=-1!==fe.findIndex(function(Be){return Be.getQueryParams().loadsAllData()}),Ze=this.syncPointTree_.findOnPath(P,function(Be,at){return at.hasCompleteView()});if(Ge&&!Ze){var A=this.syncPointTree_.subtree(P);if(!A.isEmpty())for(var S=this.collectDistinctViewsForSubTree_(A),T=0;T<S.length;++T){var V=S[T],G=V.getQuery(),ee=this.createListenerForView_(V);this.listenProvider_.startListening(_.queryForListening_(G),this.tagForQuery_(G),ee.hashFn,ee.onComplete)}}!Ze&&fe.length>0&&!b&&(Ge?this.listenProvider_.stopListening(_.queryForListening_(h),null):fe.forEach(function(Be){var at=N.queryToTagMap.get(_.makeQueryKey_(Be));N.listenProvider_.stopListening(_.queryForListening_(Be),at)})),this.removeTags_(fe)}return re},_.prototype.calcCompleteEventCache=function(h,m){var N=this.pendingWriteTree_,P=this.syncPointTree_.findOnPath(h,function(Y,re){var he=ht.relativePath(Y,h),fe=re.getCompleteServerCache(he);if(fe)return fe});return N.calcCompleteEventCache(h,P,m,!0)},_.prototype.collectDistinctViewsForSubTree_=function(h){return h.fold(function(m,b,N){if(b&&b.hasCompleteView())return[b.getCompleteView()];var Y=[];return b&&(Y=b.getQueryViews()),dt(N,function(re,he){Y=Y.concat(he)}),Y})},_.prototype.removeTags_=function(h){for(var m=0;m<h.length;++m){var b=h[m];if(!b.getQueryParams().loadsAllData()){var N=_.makeQueryKey_(b),P=this.queryToTagMap.get(N);this.queryToTagMap.delete(N),this.tagToQueryMap.delete(P)}}},_.queryForListening_=function(h){return h.getQueryParams().loadsAllData()&&!h.getQueryParams().isDefault()?h.getRef():h},_.prototype.setupListener_=function(h,m){var b=h.path,N=this.tagForQuery_(h),P=this.createListenerForView_(m),Y=this.listenProvider_.startListening(_.queryForListening_(h),N,P.hashFn,P.onComplete),re=this.syncPointTree_.subtree(b);if(N)J.assert(!re.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var he=re.fold(function(Ze,A,S){if(!Ze.isEmpty()&&A&&A.hasCompleteView())return[A.getCompleteView().getQuery()];var T=[];return A&&(T=T.concat(A.getQueryViews().map(function(V){return V.getQuery()}))),dt(S,function(V,G){T=T.concat(G)}),T}),fe=0;fe<he.length;++fe){var Ge=he[fe];this.listenProvider_.stopListening(_.queryForListening_(Ge),this.tagForQuery_(Ge))}return Y},_.prototype.createListenerForView_=function(h){var m=this,b=h.getQuery(),N=this.tagForQuery_(b);return{hashFn:function(){return(h.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(P){if("ok"===P)return N?m.applyTaggedListenComplete(b.path,N):m.applyListenComplete(b.path);var Y=function(_,h){var m="Unknown Error";"too_big"===_?m="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===_?m="Client doesn't have permission to access the desired data.":"unavailable"===_&&(m="The service is unavailable");var b=new Error(_+" at "+h.path.toString()+": "+m);return b.code=_.toUpperCase(),b}(P,b);return m.removeEventRegistration(b,null,Y)}}},_.makeQueryKey_=function(h){return h.path.toString()+"$"+h.queryIdentifier()},_.parseQueryKey_=function(h){var m=h.indexOf("$");return J.assert(-1!==m&&m<h.length-1,"Bad queryKey."),{queryId:h.substr(m+1),path:new ht(h.substr(0,m))}},_.prototype.queryKeyForTag_=function(h){return this.tagToQueryMap.get(h)},_.prototype.tagForQuery_=function(h){var m=_.makeQueryKey_(h);return this.queryToTagMap.get(m)},_.getNextQueryTag_=function(){return _.nextQueryTag_++},_.prototype.applyTaggedOperation_=function(h,m){var b=this.syncPointTree_.get(h);J.assert(b,"Missing sync point for query tag that we're tracking");var N=this.pendingWriteTree_.childWrites(h);return b.applyOperation(m,N,null)},_.prototype.applyOperationToSyncPoints_=function(h){return this.applyOperationHelper_(h,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ht.Empty))},_.prototype.applyOperationHelper_=function(h,m,b,N){if(h.path.isEmpty())return this.applyOperationDescendantsHelper_(h,m,b,N);var P=m.get(ht.Empty);null==b&&null!=P&&(b=P.getCompleteServerCache(ht.Empty));var Y=[],re=h.path.getFront(),he=h.operationForChild(re),fe=m.children.get(re);if(fe&&he){var Ge=b?b.getImmediateChild(re):null,Ze=N.child(re);Y=Y.concat(this.applyOperationHelper_(he,fe,Ge,Ze))}return P&&(Y=Y.concat(P.applyOperation(h,N,b))),Y},_.prototype.applyOperationDescendantsHelper_=function(h,m,b,N){var P=this,Y=m.get(ht.Empty);null==b&&null!=Y&&(b=Y.getCompleteServerCache(ht.Empty));var re=[];return m.children.inorderTraversal(function(he,fe){var Ge=b?b.getImmediateChild(he):null,Ze=N.child(he),A=h.operationForChild(he);A&&(re=re.concat(P.applyOperationDescendantsHelper_(A,fe,Ge,Ze)))}),Y&&(re=re.concat(Y.applyOperation(h,N,b))),re},_.nextQueryTag_=1,_}(),Fr=function(){function _(){this.rootNode_=qt.EMPTY_NODE}return _.prototype.getNode=function(h){return this.rootNode_.getChild(h)},_.prototype.updateSnapshot=function(h,m){this.rootNode_=this.rootNode_.updateChild(h,m)},_}(),bo=function(){function _(){this.counters_={}}return _.prototype.incrementCounter=function(h,m){void 0===m&&(m=1),J.contains(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=m},_.prototype.get=function(){return J.deepCopy(this.counters_)},_}(),Xi=function(){function _(){}return _.getCollection=function(h){var m=h.toString();return this.collections_[m]||(this.collections_[m]=new bo),this.collections_[m]},_.getOrCreateReporter=function(h,m){var b=h.toString();return this.reporters_[b]||(this.reporters_[b]=m()),this.reporters_[b]},_.collections_={},_.reporters_={},_}(),Lr=function(){function _(h){this.collection_=h,this.last_=null}return _.prototype.get=function(){var h=this.collection_.get(),m=u.__assign({},h);return this.last_&&dt(this.last_,function(b,N){m[b]=m[b]-N}),this.last_=h,m},_}(),U=function(){function _(h,m){this.server_=m,this.statsToReport_={},this.statsListener_=new Lr(h);var b=1e4+2e4*Math.random();dn(this.reportStats_.bind(this),Math.floor(b))}return _.prototype.includeStat=function(h){this.statsToReport_[h]=!0},_.prototype.reportStats_=function(){var h=this,m=this.statsListener_.get(),b={},N=!1;dt(m,function(P,Y){Y>0&&J.contains(h.statsToReport_,P)&&(b[P]=Y,N=!0)}),N&&this.server_.reportStats(b),dn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},_}(),ne=function(){function _(){this.eventLists_=[],this.recursionDepth_=0}return _.prototype.queueEvents=function(h){for(var m=null,b=0;b<h.length;b++){var N=h[b],P=N.getPath();null!==m&&!P.equals(m.getPath())&&(this.eventLists_.push(m),m=null),null===m&&(m=new j(P)),m.add(N)}m&&this.eventLists_.push(m)},_.prototype.raiseEventsAtPath=function(h,m){this.queueEvents(m),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(h)})},_.prototype.raiseEventsForChangedPath=function(h,m){this.queueEvents(m),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(h)||h.contains(b)})},_.prototype.raiseQueuedEventsMatchingPredicate_=function(h){this.recursionDepth_++;for(var m=!0,b=0;b<this.eventLists_.length;b++){var N=this.eventLists_[b];N&&(h(N.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):m=!1)}m&&(this.eventLists_=[]),this.recursionDepth_--},_}(),j=function(){function _(h){this.path_=h,this.events_=[]}return _.prototype.add=function(h){this.events_.push(h)},_.prototype.raise=function(){for(var h=0;h<this.events_.length;h++){var m=this.events_[h];if(null!==m){this.events_[h]=null;var b=m.getEventRunner();et&&Dt("event: "+m.toString()),on(b)}}},_.prototype.getPath=function(){return this.path_},_}(),le=function(){function _(h){this.allowedEvents_=h,this.listeners_={},J.assert(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}return _.prototype.trigger=function(h){for(var m=[],b=1;b<arguments.length;b++)m[b-1]=arguments[b];if(Array.isArray(this.listeners_[h]))for(var N=u.__spread(this.listeners_[h]),P=0;P<N.length;P++)N[P].callback.apply(N[P].context,m)},_.prototype.on=function(h,m,b){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:m,context:b});var N=this.getInitialEvent(h);N&&m.apply(b,N)},_.prototype.off=function(h,m,b){this.validateEventType_(h);for(var N=this.listeners_[h]||[],P=0;P<N.length;P++)if(N[P].callback===m&&(!b||b===N[P].context))return void N.splice(P,1)},_.prototype.validateEventType_=function(h){J.assert(this.allowedEvents_.find(function(m){return m===h}),"Unknown event: "+h)},_}(),Ae=function(_){function h(){var b,N,m=_.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(N="visibilitychange",b="hidden"):void 0!==document.mozHidden?(N="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(N="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(N="webkitvisibilitychange",b="webkitHidden")),m.visible_=!0,N&&document.addEventListener(N,function(){var P=!document[b];P!==m.visible_&&(m.visible_=P,m.trigger("visible",P))},!1),m}return u.__extends(h,_),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(m){return J.assert("visible"===m,"Unknown event type: "+m),[this.visible_]},h}(le),st=function(_){function h(){var m=_.call(this,["online"])||this;return m.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!J.isMobileCordova()&&(window.addEventListener("online",function(){m.online_||(m.online_=!0,m.trigger("online",!0))},!1),window.addEventListener("offline",function(){m.online_&&(m.online_=!1,m.trigger("online",!1))},!1)),m}return u.__extends(h,_),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(m){return J.assert("online"===m,"Unknown event type: "+m),[this.online_]},h.prototype.currentlyOnline=function(){return this.online_},h}(le),bt=function(){function _(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return _.prototype.closeAfter=function(h,m){this.closeAfterResponse=h,this.onClose=m,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},_.prototype.handleResponse=function(h,m){var b=this;this.pendingResponses[h]=m;for(var N=function(){var re=P.pendingResponses[P.currentResponseNum];delete P.pendingResponses[P.currentResponseNum];for(var he=function(Ge){re[Ge]&&on(function(){b.onMessage_(re[Ge])})},fe=0;fe<re.length;++fe)he(fe);if(P.currentResponseNum===P.closeAfterResponse)return P.onClose&&(P.onClose(),P.onClose=null),"break";P.currentResponseNum++},P=this;this.pendingResponses[this.currentResponseNum]&&"break"!==N(););},_}(),Ti=function(){function _(h,m,b,N,P){this.connId=h,this.repoInfo=m,this.applicationId=b,this.transportSessionId=N,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gt(h),this.stats_=Xi.getCollection(m),this.urlFn=function(Y){return m.connectionURL(Sn,Y)}}return _.prototype.open=function(h,m){var b=this;this.curSegmentNum=0,this.onDisconnect_=m,this.myPacketOrderer=new bt(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(_){if(J.isNodeSdk()||"complete"===document.readyState)_();else{var h=!1,m=function(){document.body?h||(h=!0,_()):setTimeout(m,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",m,!1),window.addEventListener("load",m,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&m()}),window.attachEvent("onload",m))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Mo(function(){for(var Y=[],re=0;re<arguments.length;re++)Y[re]=arguments[re];var he=u.__read(Y,5),fe=he[0],Ge=he[1],Ze=he[2];if(b.incrementIncomingBytes_(Y),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===fe)b.id=Ge,b.password=Ze;else{if("close"!==fe)throw new Error("Unrecognized command received: "+fe);Ge?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(Ge,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var Y=[],re=0;re<arguments.length;re++)Y[re]=arguments[re];var he=u.__read(Y,2),fe=he[0],Ge=he[1];b.incrementIncomingBytes_(Y),b.myPacketOrderer.handleResponse(fe,Ge)},function(){b.onClosed_()},b.urlFn);var N={start:"t"};N.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(N.cb=b.scriptTagHolder.uniqueCallbackIdentifier),N.v="5",b.transportSessionId&&(N.s=b.transportSessionId),b.lastSessionId&&(N.ls=b.lastSessionId),b.applicationId&&(N.p=b.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(kt)&&(N.r="f");var P=b.urlFn(N);b.log_("Connecting via long-poll to "+P),b.scriptTagHolder.addTag(P,function(){})}})},_.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},_.forceAllow=function(){_.forceAllow_=!0},_.forceDisallow=function(){_.forceDisallow_=!0},_.isAvailable=function(){return!(J.isNodeSdk()||!_.forceAllow_&&(_.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},_.prototype.markConnectionHealthy=function(){},_.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},_.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},_.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},_.prototype.send=function(h){var m=J.stringify(h);this.bytesSent+=m.length,this.stats_.incrementCounter("bytes_sent",m.length);for(var b=J.base64Encode(m),N=Ue(b,1840),P=0;P<N.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,N.length,N[P]),this.curSegmentNum++},_.prototype.addDisconnectPingFrame=function(h,m){if(!J.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=h,b.pw=m,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},_.prototype.incrementIncomingBytes_=function(h){var m=J.stringify(h).length;this.bytesReceived+=m,this.stats_.incrementCounter("bytes_received",m)},_}(),Mo=function(){function _(h,m,b,N){if(this.onDisconnect=b,this.urlFn=N,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,J.isNodeSdk())this.commandCB=h,this.onMessageCB=m;else{this.uniqueCallbackIdentifier=tt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=m,this.myIFrame=_.createIFrame_();var P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(P='<script>document.domain="'+document.domain+'";<\/script>');var re="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(re),this.myIFrame.doc.close()}catch(he){Dt("frame writing exception"),he.stack&&Dt(he.stack),Dt(he)}}}return _.createIFrame_=function(){var h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||Dt("No IE domain setting required")}catch(N){var b=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h},_.prototype.close=function(){var h=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==h.myIFrame&&(document.body.removeChild(h.myIFrame),h.myIFrame=null)},Math.floor(0)));var m=this.onDisconnect;m&&(this.onDisconnect=null,m())},_.prototype.startLongPoll=function(h,m){for(this.myID=h,this.myPW=m,this.alive=!0;this.newRequest_(););},_.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;for(var m=this.urlFn(h),b="",N=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var Y=this.pendingSegs.shift();b=b+"&seg"+N+"="+Y.seg+"&ts"+N+"="+Y.ts+"&d"+N+"="+Y.d,N++}return this.addLongPollTag_(m+=b,this.currentSerial),!0}return!1},_.prototype.enqueueSegment=function(h,m,b){this.pendingSegs.push({seg:h,ts:m,d:b}),this.alive&&this.newRequest_()},_.prototype.addLongPollTag_=function(h,m){var b=this;this.outstandingRequests.add(m);var N=function(){b.outstandingRequests.delete(m),b.newRequest_()},P=setTimeout(N,Math.floor(25e3));this.addTag(h,function(){clearTimeout(P),N()})},_.prototype.addTag=function(h,m){var b=this;J.isNodeSdk()?this.doNodeLongPoll(h,m):setTimeout(function(){try{if(!b.sendNewPolls)return;var N=b.myIFrame.doc.createElement("script");N.type="text/javascript",N.async=!0,N.src=h,N.onload=N.onreadystatechange=function(){var P=N.readyState;(!P||"loaded"===P||"complete"===P)&&(N.onload=N.onreadystatechange=null,N.parentNode&&N.parentNode.removeChild(N),m())},N.onerror=function(){Dt("Long-poll script failed to load: "+h),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(N)}catch(P){}},Math.floor(1))},_}(),Bi="",nr=null;"undefined"!=typeof MozWebSocket?nr=MozWebSocket:"undefined"!=typeof WebSocket&&(nr=WebSocket);var zr=function(){function _(h,m,b,N,P){this.connId=h,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gt(this.connId),this.stats_=Xi.getCollection(m),this.connURL=_.connectionURL_(m,N,P),this.nodeAdmin=m.nodeAdmin}return _.connectionURL_=function(h,m,b){var N={v:"5"};return!J.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(kt)&&(N.r="f"),m&&(N.s=m),b&&(N.ls=b),h.connectionURL(Ln,N)},_.prototype.open=function(h,m){var b=this;this.onDisconnect=m,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ee.set("previous_websocket_failure",!0);try{if(J.isNodeSdk()){var P={headers:{"User-Agent":"Firebase/5/"+Bi+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},Y=process.env,re=0===this.connURL.indexOf("wss://")?Y.HTTPS_PROXY||Y.https_proxy:Y.HTTP_PROXY||Y.http_proxy;re&&(P.proxy={origin:re}),this.mySock=new nr(this.connURL,[],P)}else this.mySock=new nr(this.connURL,[],P={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(fe){this.log_("Error instantiating WebSocket.");var he=fe.message||fe.data;return he&&this.log_(he),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(fe){b.handleIncomingFrame(fe)},this.mySock.onerror=function(fe){b.log_("WebSocket error.  Closing connection.");var Ge=fe.message||fe.data;Ge&&b.log_(Ge),b.onClosed_()}},_.prototype.start=function(){},_.forceDisallow=function(){_.forceDisallow_=!0},_.isAvailable=function(){var h=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(h=!0)}return!h&&null!==nr&&!_.forceDisallow_},_.previouslyFailed=function(){return Ee.isInMemoryStorage||!0===Ee.get("previous_websocket_failure")},_.prototype.markConnectionHealthy=function(){Ee.remove("previous_websocket_failure")},_.prototype.appendFrame_=function(h){if(this.frames.push(h),this.frames.length===this.totalFrames){var m=this.frames.join("");this.frames=null;var b=J.jsonEval(m);this.onMessage(b)}},_.prototype.handleNewFrameCount_=function(h){this.totalFrames=h,this.frames=[]},_.prototype.extractFrameCount_=function(h){if(J.assert(null===this.frames,"We already have a frame buffer"),h.length<=6){var m=Number(h);if(!isNaN(m))return this.handleNewFrameCount_(m),null}return this.handleNewFrameCount_(1),h},_.prototype.handleIncomingFrame=function(h){if(null!==this.mySock){var m=h.data;if(this.bytesReceived+=m.length,this.stats_.incrementCounter("bytes_received",m.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(m);else{var b=this.extractFrameCount_(m);null!==b&&this.appendFrame_(b)}}},_.prototype.send=function(h){this.resetKeepAlive();var m=J.stringify(h);this.bytesSent+=m.length,this.stats_.incrementCounter("bytes_sent",m.length);var b=Ue(m,16384);b.length>1&&this.sendString_(String(b.length));for(var N=0;N<b.length;N++)this.sendString_(b[N])},_.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},_.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},_.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},_.prototype.resetKeepAlive=function(){var h=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){h.mySock&&h.sendString_("0"),h.resetKeepAlive()},Math.floor(45e3))},_.prototype.sendString_=function(h){try{this.mySock.send(h)}catch(m){this.log_("Exception thrown from WebSocket.send():",m.message||m.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},_.responsesRequiredToBeHealthy=2,_.healthyTimeout=3e4,_}(),eo=function(){function _(h){this.initTransports_(h)}return Object.defineProperty(_,"ALL_TRANSPORTS",{get:function(){return[Ti,zr]},enumerable:!1,configurable:!0}),_.prototype.initTransports_=function(h){var m,b,N=zr&&zr.isAvailable(),P=N&&!zr.previouslyFailed();if(h.webSocketOnly&&(N||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),P=!0),P)this.transports_=[zr];else{var Y=this.transports_=[];try{for(var re=u.__values(_.ALL_TRANSPORTS),he=re.next();!he.done;he=re.next()){var fe=he.value;fe&&fe.isAvailable()&&Y.push(fe)}}catch(Ge){m={error:Ge}}finally{try{he&&!he.done&&(b=re.return)&&b.call(re)}finally{if(m)throw m.error}}}},_.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},_.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},_}(),xo=function(){function _(h,m,b,N,P,Y,re,he){this.id=h,this.repoInfo_=m,this.applicationId_=b,this.onMessage_=N,this.onReady_=P,this.onDisconnect_=Y,this.onKill_=re,this.lastSessionId=he,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gt("c:"+this.id+":"),this.transportManager_=new eo(m),this.log_("Connection created"),this.start_()}return _.prototype.start_=function(){var h=this,m=this.transportManager_.initialTransport();this.conn_=new m(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=m.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),N=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){h.conn_&&h.conn_.open(b,N)},Math.floor(0));var P=m.healthyTimeout||0;P>0&&(this.healthyTimeout_=dn(function(){h.healthyTimeout_=null,h.isHealthy_||(h.conn_&&h.conn_.bytesReceived>102400?(h.log_("Connection exceeded healthy timeout but has received "+h.conn_.bytesReceived+" bytes.  Marking connection healthy."),h.isHealthy_=!0,h.conn_.markConnectionHealthy()):h.conn_&&h.conn_.bytesSent>10240?h.log_("Connection exceeded healthy timeout but has sent "+h.conn_.bytesSent+" bytes.  Leaving connection alive."):(h.log_("Closing unhealthy connection after timeout."),h.close()))},Math.floor(P)))},_.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},_.prototype.disconnReceiver_=function(h){var m=this;return function(b){h===m.conn_?m.onConnectionLost_(b):h===m.secondaryConn_?(m.log_("Secondary connection lost."),m.onSecondaryConnectionLost_()):m.log_("closing an old connection")}},_.prototype.connReceiver_=function(h){var m=this;return function(b){2!==m.state_&&(h===m.rx_?m.onPrimaryMessageReceived_(b):h===m.secondaryConn_?m.onSecondaryMessageReceived_(b):m.log_("message on old connection"))}},_.prototype.sendRequest=function(h){this.sendData_({t:"d",d:h})},_.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},_.prototype.onSecondaryControl_=function(h){if("t"in h){var m=h.t;"a"===m?this.upgradeIfSecondaryHealthy_():"r"===m?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===m&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},_.prototype.onSecondaryMessageReceived_=function(h){var m=Ne("t",h),b=Ne("d",h);if("c"===m)this.onSecondaryControl_(b);else{if("d"!==m)throw new Error("Unknown protocol layer: "+m);this.pendingDataMessages.push(b)}},_.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},_.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},_.prototype.onPrimaryMessageReceived_=function(h){var m=Ne("t",h),b=Ne("d",h);"c"===m?this.onControl_(b):"d"===m&&this.onDataMessage_(b)},_.prototype.onDataMessage_=function(h){this.onPrimaryResponse_(),this.onMessage_(h)},_.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},_.prototype.onControl_=function(h){var m=Ne("t",h);if("d"in h){var b=h.d;if("h"===m)this.onHandshake_(b);else if("n"===m){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var N=0;N<this.pendingDataMessages.length;++N)this.onDataMessage_(this.pendingDataMessages[N]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===m?this.onConnectionShutdown_(b):"r"===m?this.onReset_(b):"e"===m?mn("Server Error: "+b):"o"===m?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mn("Unknown control packet command: "+m)}},_.prototype.onHandshake_=function(h){var m=h.ts,b=h.v,N=h.h;this.sessionId=h.s,this.repoInfo_.updateHost(N),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,m),"5"!==b&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())},_.prototype.tryStartUpgrade_=function(){var h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)},_.prototype.startUpgrade_=function(h){var m=this;this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),N=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,N),dn(function(){m.secondaryConn_&&(m.log_("Timed out trying to upgrade."),m.secondaryConn_.close())},Math.floor(6e4))},_.prototype.onReset_=function(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.updateHost(h),1===this.state_?this.close():(this.closeConnections_(),this.start_())},_.prototype.onConnectionEstablished_=function(h,m){var b=this;this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(m,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},_.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},_.prototype.onSecondaryConnectionLost_=function(){var h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()},_.prototype.onConnectionLost_=function(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ee.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},_.prototype.onConnectionShutdown_=function(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()},_.prototype.sendData_=function(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)},_.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},_.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},_}(),xs=function(){function _(){}return _.prototype.put=function(h,m,b,N){},_.prototype.merge=function(h,m,b,N){},_.prototype.refreshAuthToken=function(h){},_.prototype.onDisconnectPut=function(h,m,b){},_.prototype.onDisconnectMerge=function(h,m,b){},_.prototype.onDisconnectCancel=function(h,m){},_.prototype.reportStats=function(h){},_}(),Mi=1e3,xn=function(_){function h(m,b,N,P,Y,re,he){var fe=_.call(this)||this;if(fe.repoInfo_=m,fe.applicationId_=b,fe.onDataUpdate_=N,fe.onConnectStatus_=P,fe.onServerInfoUpdate_=Y,fe.authTokenProvider_=re,fe.authOverride_=he,fe.id=h.nextPersistentConnectionId_++,fe.log_=Gt("p:"+fe.id+":"),fe.interruptReasons_={},fe.listens=new Map,fe.outstandingPuts_=[],fe.outstandingPutCount_=0,fe.onDisconnectRequestQueue_=[],fe.connected_=!1,fe.reconnectDelay_=Mi,fe.maxReconnectDelay_=3e5,fe.securityDebugCallback_=null,fe.lastSessionId=null,fe.establishConnectionTimer_=null,fe.visible_=!1,fe.requestCBHash_={},fe.requestNumber_=0,fe.realtime_=null,fe.authToken_=null,fe.forceTokenRefresh_=!1,fe.invalidAuthTokenCount_=0,fe.firstConnection_=!0,fe.lastConnectionAttemptTime_=null,fe.lastConnectionEstablishedTime_=null,he&&!J.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return fe.scheduleConnect_(0),Ae.getInstance().on("visible",fe.onVisible_,fe),-1===m.host.indexOf("fblocal")&&st.getInstance().on("online",fe.onOnline_,fe),fe}return u.__extends(h,_),h.prototype.sendRequest=function(m,b,N){var P=++this.requestNumber_,Y={r:P,a:m,b};this.log_(J.stringify(Y)),J.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Y),N&&(this.requestCBHash_[P]=N)},h.prototype.listen=function(m,b,N,P){var Y=m.queryIdentifier(),re=m.path.toString();this.log_("Listen called for "+re+" "+Y),this.listens.has(re)||this.listens.set(re,new Map),J.assert(m.getQueryParams().isDefault()||!m.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),J.assert(!this.listens.get(re).has(Y),"listen() called twice for same path/queryId.");var he={onComplete:P,hashFn:b,query:m,tag:N};this.listens.get(re).set(Y,he),this.connected_&&this.sendListen_(he)},h.prototype.sendListen_=function(m){var b=this,N=m.query,P=N.path.toString(),Y=N.queryIdentifier();this.log_("Listen on "+P+" for "+Y);var re={p:P};m.tag&&(re.q=N.queryObject(),re.t=m.tag),re.h=m.hashFn(),this.sendRequest("q",re,function(fe){var Ge=fe.d,Ze=fe.s;h.warnOnListenWarnings_(Ge,N),(b.listens.get(P)&&b.listens.get(P).get(Y))===m&&(b.log_("listen response",fe),"ok"!==Ze&&b.removeListen_(P,Y),m.onComplete&&m.onComplete(Ze,Ge))})},h.warnOnListenWarnings_=function(m,b){if(m&&"object"==typeof m&&J.contains(m,"w")){var N=J.safeGet(m,"w");if(Array.isArray(N)&&~N.indexOf("no_index")){var P='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',Y=b.path.toString();At("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+P+" at "+Y+" to your security rules for better performance.")}}},h.prototype.refreshAuthToken=function(m){this.authToken_=m,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(m)},h.prototype.reduceReconnectDelayIfAdminCredential_=function(m){(m&&40===m.length||J.isAdmin(m))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},h.prototype.tryAuth=function(){var m=this;if(this.connected_&&this.authToken_){var b=this.authToken_,N=J.isValidFormat(b)?"auth":"gauth",P={cred:b};null===this.authOverride_?P.noauth=!0:"object"==typeof this.authOverride_&&(P.authvar=this.authOverride_),this.sendRequest(N,P,function(Y){var re=Y.s,he=Y.d||"error";m.authToken_===b&&("ok"===re?m.invalidAuthTokenCount_=0:m.onAuthRevoked_(re,he))})}},h.prototype.unlisten=function(m,b){var N=m.path.toString(),P=m.queryIdentifier();this.log_("Unlisten called for "+N+" "+P),J.assert(m.getQueryParams().isDefault()||!m.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(N,P)&&this.connected_&&this.sendUnlisten_(N,P,m.queryObject(),b)},h.prototype.sendUnlisten_=function(m,b,N,P){this.log_("Unlisten on "+m+" for "+b);var Y={p:m};P&&(Y.q=N,Y.t=P),this.sendRequest("n",Y)},h.prototype.onDisconnectPut=function(m,b,N){this.connected_?this.sendOnDisconnect_("o",m,b,N):this.onDisconnectRequestQueue_.push({pathString:m,action:"o",data:b,onComplete:N})},h.prototype.onDisconnectMerge=function(m,b,N){this.connected_?this.sendOnDisconnect_("om",m,b,N):this.onDisconnectRequestQueue_.push({pathString:m,action:"om",data:b,onComplete:N})},h.prototype.onDisconnectCancel=function(m,b){this.connected_?this.sendOnDisconnect_("oc",m,null,b):this.onDisconnectRequestQueue_.push({pathString:m,action:"oc",data:null,onComplete:b})},h.prototype.sendOnDisconnect_=function(m,b,N,P){var Y={p:b,d:N};this.log_("onDisconnect "+m,Y),this.sendRequest(m,Y,function(re){P&&setTimeout(function(){P(re.s,re.d)},Math.floor(0))})},h.prototype.put=function(m,b,N,P){this.putInternal("p",m,b,N,P)},h.prototype.merge=function(m,b,N,P){this.putInternal("m",m,b,N,P)},h.prototype.putInternal=function(m,b,N,P,Y){var re={p:b,d:N};void 0!==Y&&(re.h=Y),this.outstandingPuts_.push({action:m,request:re,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},h.prototype.sendPut_=function(m){var b=this,N=this.outstandingPuts_[m].action,P=this.outstandingPuts_[m].request,Y=this.outstandingPuts_[m].onComplete;this.outstandingPuts_[m].queued=this.connected_,this.sendRequest(N,P,function(re){b.log_(N+" response",re),delete b.outstandingPuts_[m],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),Y&&Y(re.s,re.d)})},h.prototype.reportStats=function(m){var b=this;if(this.connected_){var N={c:m};this.log_("reportStats",N),this.sendRequest("s",N,function(P){"ok"!==P.s&&b.log_("reportStats","Error sending stats: "+P.d)})}},h.prototype.onDataMessage_=function(m){if("r"in m){this.log_("from server: "+J.stringify(m));var b=m.r,N=this.requestCBHash_[b];N&&(delete this.requestCBHash_[b],N(m.b))}else{if("error"in m)throw"A server-side error has occurred: "+m.error;"a"in m&&this.onDataPush_(m.a,m.b)}},h.prototype.onDataPush_=function(m,b){this.log_("handleServerMessage",m,b),"d"===m?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===m?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===m?this.onListenRevoked_(b.p,b.q):"ac"===m?this.onAuthRevoked_(b.s,b.d):"sd"===m?this.onSecurityDebugPacket_(b):mn("Unrecognized action received from server: "+J.stringify(m)+"\nAre you using the latest client?")},h.prototype.onReady_=function(m,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(m),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},h.prototype.scheduleConnect_=function(m){var b=this;J.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(m))},h.prototype.onVisible_=function(m){m&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=m},h.prototype.onOnline_=function(m){m?(this.log_("Browser went online."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},h.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,N=Math.max(0,this.reconnectDelay_-b);N=Math.random()*N,this.log_("Trying to reconnect in "+N+"ms"),this.scheduleConnect_(N),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},h.prototype.establishConnection_=function(){var m=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),N=this.onReady_.bind(this),P=this.onRealtimeDisconnect_.bind(this),Y=this.id+":"+h.nextConnectionId_++,re=this,he=this.lastSessionId,fe=!1,Ge=null,Ze=function(){Ge?Ge.close():(fe=!0,P())};this.realtime_={close:Ze,sendRequest:function(T){J.assert(Ge,"sendRequest call when we're not connected not allowed."),Ge.sendRequest(T)}};var S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(S).then(function(T){fe?Dt("getToken() completed but was canceled"):(Dt("getToken() completed. Creating connection."),re.authToken_=T&&T.accessToken,Ge=new xo(Y,re.repoInfo_,re.applicationId_,b,N,P,function(V){At(V+" ("+re.repoInfo_.toString()+")"),re.interrupt("server_kill")},he))}).then(null,function(T){re.log_("Failed to get token: "+T),fe||(m.repoInfo_.nodeAdmin&&At(T),Ze())})}},h.prototype.interrupt=function(m){Dt("Interrupting connection for reason: "+m),this.interruptReasons_[m]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},h.prototype.resume=function(m){Dt("Resuming connection for reason: "+m),delete this.interruptReasons_[m],J.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0))},h.prototype.handleTimestamp_=function(m){var b=m-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},h.prototype.cancelSentTransactions_=function(){for(var m=0;m<this.outstandingPuts_.length;m++){var b=this.outstandingPuts_[m];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[m],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},h.prototype.onListenRevoked_=function(m,b){var N;N=b?b.map(function(Y){return St(Y)}).join("$"):"default";var P=this.removeListen_(m,N);P&&P.onComplete&&P.onComplete("permission_denied")},h.prototype.removeListen_=function(m,b){var P,N=new ht(m).toString();if(this.listens.has(N)){var Y=this.listens.get(N);P=Y.get(b),Y.delete(b),0===Y.size&&this.listens.delete(N)}else P=void 0;return P},h.prototype.onAuthRevoked_=function(m,b){Dt("Auth token revoked: "+m+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===m||"permission_denied"===m)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},h.prototype.onSecurityDebugPacket_=function(m){this.securityDebugCallback_?this.securityDebugCallback_(m):"msg"in m&&console.log("FIREBASE: "+m.msg.replace("\n","\nFIREBASE: "))},h.prototype.restoreState_=function(){var m,b,N,P;this.tryAuth();try{for(var Y=u.__values(this.listens.values()),re=Y.next();!re.done;re=Y.next()){var he=re.value;try{for(var fe=(N=void 0,u.__values(he.values())),Ge=fe.next();!Ge.done;Ge=fe.next())this.sendListen_(Ge.value)}catch(T){N={error:T}}finally{try{Ge&&!Ge.done&&(P=fe.return)&&P.call(fe)}finally{if(N)throw N.error}}}}catch(T){m={error:T}}finally{try{re&&!re.done&&(b=Y.return)&&b.call(Y)}finally{if(m)throw m.error}}for(var A=0;A<this.outstandingPuts_.length;A++)this.outstandingPuts_[A]&&this.sendPut_(A);for(;this.onDisconnectRequestQueue_.length;){var S=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(S.action,S.pathString,S.data,S.onComplete)}},h.prototype.sendConnectStats_=function(){var m={},b="js";J.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),m["sdk."+b+"."+Bi.replace(/\./g,"-")]=1,J.isMobileCordova()?m["framework.cordova"]=1:J.isReactNative()&&(m["framework.reactnative"]=1),this.reportStats(m)},h.prototype.shouldReconnect_=function(){var m=st.getInstance().currentlyOnline();return J.isEmpty(this.interruptReasons_)&&m},h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h}(xs),bs=function(_){function h(m,b,N){var P=_.call(this)||this;return P.repoInfo_=m,P.onDataUpdate_=b,P.authTokenProvider_=N,P.log_=Gt("p:rest:"),P.listens_={},P}return u.__extends(h,_),h.prototype.reportStats=function(m){throw new Error("Method not implemented.")},h.getListenId_=function(m,b){return void 0!==b?"tag$"+b:(J.assert(m.getQueryParams().isDefault(),"should have a tag if it's not a default query."),m.path.toString())},h.prototype.listen=function(m,b,N,P){var Y=this,re=m.path.toString();this.log_("Listen called for "+re+" "+m.queryIdentifier());var he=h.getListenId_(m,N),fe={};this.listens_[he]=fe;var Ge=m.getQueryParams().toRestQueryStringParameters();this.restRequest_(re+".json",Ge,function(Ze,A){var S=A;404===Ze&&(S=null,Ze=null),null===Ze&&Y.onDataUpdate_(re,S,!1,N),J.safeGet(Y.listens_,he)===fe&&P(Ze?401===Ze?"permission_denied":"rest_error:"+Ze:"ok",null)})},h.prototype.unlisten=function(m,b){var N=h.getListenId_(m,b);delete this.listens_[N]},h.prototype.refreshAuthToken=function(m){},h.prototype.restRequest_=function(m,b,N){var P=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(Y){var re=Y&&Y.accessToken;re&&(b.auth=re);var he=(P.repoInfo_.secure?"https://":"http://")+P.repoInfo_.host+m+"?ns="+P.repoInfo_.namespace+J.querystring(b);P.log_("Sending REST request for "+he);var fe=new XMLHttpRequest;fe.onreadystatechange=function(){if(N&&4===fe.readyState){P.log_("REST Response for "+he+" received. status:",fe.status,"response:",fe.responseText);var Ge=null;if(fe.status>=200&&fe.status<300){try{Ge=J.jsonEval(fe.responseText)}catch(Ze){At("Failed to parse JSON response for "+he+": "+fe.responseText)}N(null,Ge)}else 401!==fe.status&&404!==fe.status&&At("Got unsuccessful REST response for "+he+" Status: "+fe.status),N(fe.status);N=null}},fe.open("GET",he,!0),fe.send()})},h}(xs),Ct="repo_interrupt",lr=function(){function _(h,m,b,N){var P=this;if(this.repoInfo_=h,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Wo,this.persistentConnection_=null,this.stats_=Xi.getCollection(h),m||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new bs(this.repoInfo_,this.onDataUpdate_.bind(this),N),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var Y=b.options.databaseAuthVariableOverride;if(null!=Y){if("object"!=typeof Y)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{J.stringify(Y)}catch(re){throw new Error("Invalid authOverride provided: "+re)}}this.persistentConnection_=new xn(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),N,Y),this.server_=this.persistentConnection_}N.addTokenChangeListener(function(re){P.server_.refreshAuthToken(re)}),this.statsReporter_=Xi.getOrCreateReporter(h,function(){return new U(P.stats_,P.server_)}),this.transactionsInit_(),this.infoData_=new Fr,this.infoSyncTree_=new Ao({startListening:function(re,he,fe,Ge){var Ze=[],A=P.infoData_.getNode(re.path);return A.isEmpty()||(Ze=P.infoSyncTree_.applyServerOverwrite(re.path,A),setTimeout(function(){Ge("ok")},0)),Ze},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ao({startListening:function(re,he,fe,Ge){return P.server_.listen(re,fe,he,function(Ze,A){var S=Ge(Ze,A);P.eventQueue_.raiseEventsForChangedPath(re.path,S)}),[]},stopListening:function(re,he){P.server_.unlisten(re,he)}})}return _.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},_.prototype.name=function(){return this.repoInfo_.namespace},_.prototype.serverTime=function(){var m=this.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+m},_.prototype.generateServerValues=function(){return function(_){return(_=_||{}).timestamp=_.timestamp||(new Date).getTime(),_}({timestamp:this.serverTime()})},_.prototype.onDataUpdate_=function(h,m,b,N){this.dataUpdateCount++;var P=new ht(h);m=this.interceptServerDataCallback_?this.interceptServerDataCallback_(h,m):m;var Y=[];if(N)if(b){var re=J.map(m,function(A){return en(A)});Y=this.serverSyncTree_.applyTaggedQueryMerge(P,re,N)}else{var he=en(m);Y=this.serverSyncTree_.applyTaggedQueryOverwrite(P,he,N)}else if(b){var fe=J.map(m,function(A){return en(A)});Y=this.serverSyncTree_.applyServerMerge(P,fe)}else{var Ge=en(m);Y=this.serverSyncTree_.applyServerOverwrite(P,Ge)}var Ze=P;Y.length>0&&(Ze=this.rerunTransactions_(P)),this.eventQueue_.raiseEventsForChangedPath(Ze,Y)},_.prototype.interceptServerData_=function(h){this.interceptServerDataCallback_=h},_.prototype.onConnectStatus_=function(h){this.updateInfo_("connected",h),!1===h&&this.runOnDisconnectEvents_()},_.prototype.onServerInfoUpdate_=function(h){var m=this;dt(h,function(b,N){m.updateInfo_(b,N)})},_.prototype.updateInfo_=function(h,m){var b=new ht("/.info/"+h),N=en(m);this.infoData_.updateSnapshot(b,N);var P=this.infoSyncTree_.applyServerOverwrite(b,N);this.eventQueue_.raiseEventsForChangedPath(b,P)},_.prototype.getNextWriteId_=function(){return this.nextWriteId_++},_.prototype.setWithPriority=function(h,m,b,N){var P=this;this.log_("set",{path:h.toString(),value:m,priority:b});var Y=this.generateServerValues(),re=en(m,b),he=this.serverSyncTree_.calcCompleteEventCache(h),fe=qr(re,he,Y),Ge=this.getNextWriteId_(),Ze=this.serverSyncTree_.applyUserOverwrite(h,fe,Ge,!0);this.eventQueue_.queueEvents(Ze),this.server_.put(h.toString(),re.val(!0),function(S,T){var V="ok"===S;V||At("set at "+h+" failed: "+S);var G=P.serverSyncTree_.ackUserWrite(Ge,!V);P.eventQueue_.raiseEventsForChangedPath(h,G),P.callOnCompleteCallback(N,S,T)});var A=this.abortTransactions_(h);this.rerunTransactions_(A),this.eventQueue_.raiseEventsForChangedPath(A,[])},_.prototype.update=function(h,m,b){var N=this;this.log_("update",{path:h.toString(),value:m});var P=!0,Y=this.generateServerValues(),re={};if(dt(m,function(Ge,Ze){P=!1,re[Ge]=yi(h.child(Ge),en(Ze),N.serverSyncTree_,Y)}),P)Dt("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var he=this.getNextWriteId_(),fe=this.serverSyncTree_.applyUserMerge(h,re,he);this.eventQueue_.queueEvents(fe),this.server_.merge(h.toString(),m,function(Ge,Ze){var A="ok"===Ge;A||At("update at "+h+" failed: "+Ge);var S=N.serverSyncTree_.ackUserWrite(he,!A),T=S.length>0?N.rerunTransactions_(h):h;N.eventQueue_.raiseEventsForChangedPath(T,S),N.callOnCompleteCallback(b,Ge,Ze)}),dt(m,function(Ge){var Ze=N.abortTransactions_(h.child(Ge));N.rerunTransactions_(Ze)}),this.eventQueue_.raiseEventsForChangedPath(h,[])}},_.prototype.runOnDisconnectEvents_=function(){var h=this;this.log_("onDisconnectEvents");var m=this.generateServerValues(),b=new Wo;this.onDisconnect_.forEachTree(ht.Empty,function(P,Y){var re=yi(P,Y,h.serverSyncTree_,m);b.remember(P,re)});var N=[];b.forEachTree(ht.Empty,function(P,Y){N=N.concat(h.serverSyncTree_.applyServerOverwrite(P,Y));var re=h.abortTransactions_(P);h.rerunTransactions_(re)}),this.onDisconnect_=new Wo,this.eventQueue_.raiseEventsForChangedPath(ht.Empty,N)},_.prototype.onDisconnectCancel=function(h,m){var b=this;this.server_.onDisconnectCancel(h.toString(),function(N,P){"ok"===N&&b.onDisconnect_.forget(h),b.callOnCompleteCallback(m,N,P)})},_.prototype.onDisconnectSet=function(h,m,b){var N=this,P=en(m);this.server_.onDisconnectPut(h.toString(),P.val(!0),function(Y,re){"ok"===Y&&N.onDisconnect_.remember(h,P),N.callOnCompleteCallback(b,Y,re)})},_.prototype.onDisconnectSetWithPriority=function(h,m,b,N){var P=this,Y=en(m,b);this.server_.onDisconnectPut(h.toString(),Y.val(!0),function(re,he){"ok"===re&&P.onDisconnect_.remember(h,Y),P.callOnCompleteCallback(N,re,he)})},_.prototype.onDisconnectUpdate=function(h,m,b){var N=this;if(J.isEmpty(m))return Dt("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(h.toString(),m,function(P,Y){"ok"===P&&dt(m,function(re,he){var fe=en(he);N.onDisconnect_.remember(h.child(re),fe)}),N.callOnCompleteCallback(b,P,Y)})},_.prototype.addEventCallbackForQuery=function(h,m){var b;b=".info"===h.path.getFront()?this.infoSyncTree_.addEventRegistration(h,m):this.serverSyncTree_.addEventRegistration(h,m),this.eventQueue_.raiseEventsAtPath(h.path,b)},_.prototype.removeEventCallbackForQuery=function(h,m){var b;b=".info"===h.path.getFront()?this.infoSyncTree_.removeEventRegistration(h,m):this.serverSyncTree_.removeEventRegistration(h,m),this.eventQueue_.raiseEventsAtPath(h.path,b)},_.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Ct)},_.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Ct)},_.prototype.stats=function(h){if(void 0===h&&(h=!1),"undefined"!=typeof console){var m;h?(this.statsListener_||(this.statsListener_=new Lr(this.stats_)),m=this.statsListener_.get()):m=this.stats_.get();var b=Object.keys(m).reduce(function(N,P){return Math.max(P.length,N)},0);dt(m,function(N,P){for(var Y=N,re=N.length;re<b+2;re++)Y+=" ";console.log(Y+P)})}},_.prototype.statsIncrementCounter=function(h){this.stats_.incrementCounter(h),this.statsReporter_.includeStat(h)},_.prototype.log_=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),Dt.apply(void 0,u.__spread([b],h))},_.prototype.callOnCompleteCallback=function(h,m,b){h&&on(function(){if("ok"===m)h(null);else{var N=(m||"error").toUpperCase(),P=N;b&&(P+=": "+b);var Y=new Error(P);Y.code=N,h(Y)}})},Object.defineProperty(_.prototype,"database",{get:function(){return this.__database||(this.__database=new Je(this))},enumerable:!1,configurable:!0}),_}(),Ro=function(){function _(h){this.indexedFilter_=new No(h.getIndex()),this.index_=h.getIndex(),this.startPost_=_.getStartPost_(h),this.endPost_=_.getEndPost_(h)}return _.prototype.getStartPost=function(){return this.startPost_},_.prototype.getEndPost=function(){return this.endPost_},_.prototype.matches=function(h){return this.index_.compare(this.getStartPost(),h)<=0&&this.index_.compare(h,this.getEndPost())<=0},_.prototype.updateChild=function(h,m,b,N,P,Y){return this.matches(new rn(m,b))||(b=qt.EMPTY_NODE),this.indexedFilter_.updateChild(h,m,b,N,P,Y)},_.prototype.updateFullNode=function(h,m,b){m.isLeafNode()&&(m=qt.EMPTY_NODE);var N=m.withIndex(this.index_);N=N.updatePriority(qt.EMPTY_NODE);var P=this;return m.forEachChild(Jt,function(Y,re){P.matches(new rn(Y,re))||(N=N.updateImmediateChild(Y,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,N,b)},_.prototype.updatePriority=function(h,m){return h},_.prototype.filtersNodes=function(){return!0},_.prototype.getIndexedFilter=function(){return this.indexedFilter_},_.prototype.getIndex=function(){return this.index_},_.getStartPost_=function(h){if(h.hasStart()){var m=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),m)}return h.getIndex().minPost()},_.getEndPost_=function(h){if(h.hasEnd()){var m=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),m)}return h.getIndex().maxPost()},_}(),Oo=function(){function _(h){this.rangedFilter_=new Ro(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft()}return _.prototype.updateChild=function(h,m,b,N,P,Y){return this.rangedFilter_.matches(new rn(m,b))||(b=qt.EMPTY_NODE),h.getImmediateChild(m).equals(b)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,m,b,N,P,Y):this.fullLimitUpdateChild_(h,m,b,P,Y)},_.prototype.updateFullNode=function(h,m,b){var N;if(m.isLeafNode()||m.isEmpty())N=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<m.numChildren()&&m.isIndexed(this.index_)){N=qt.EMPTY_NODE.withIndex(this.index_);var P=void 0;P=this.reverse_?m.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):m.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Y=0;P.hasNext()&&Y<this.limit_;){var re=P.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),re)<=0:this.index_.compare(re,this.rangedFilter_.getEndPost())<=0))break;N=N.updateImmediateChild(re.name,re.node),Y++}}else{N=(N=m.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var fe=void 0,Ge=void 0,Ze=void 0;if(P=void 0,this.reverse_){P=N.getReverseIterator(this.index_),fe=this.rangedFilter_.getEndPost(),Ge=this.rangedFilter_.getStartPost();var A=this.index_.getCompare();Ze=function(G,ee){return A(ee,G)}}else P=N.getIterator(this.index_),fe=this.rangedFilter_.getStartPost(),Ge=this.rangedFilter_.getEndPost(),Ze=this.index_.getCompare();Y=0;for(var S=!1;P.hasNext();)re=P.getNext(),!S&&Ze(fe,re)<=0&&(S=!0),S&&Y<this.limit_&&Ze(re,Ge)<=0?Y++:N=N.updateImmediateChild(re.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,N,b)},_.prototype.updatePriority=function(h,m){return h},_.prototype.filtersNodes=function(){return!0},_.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},_.prototype.getIndex=function(){return this.index_},_.prototype.fullLimitUpdateChild_=function(h,m,b,N,P){var Y;if(this.reverse_){var re=this.index_.getCompare();Y=function(Ce,Be){return re(Be,Ce)}}else Y=this.index_.getCompare();var he=h;J.assert(he.numChildren()===this.limit_,"");var fe=new rn(m,b),Ge=this.reverse_?he.getFirstChild(this.index_):he.getLastChild(this.index_),Ze=this.rangedFilter_.matches(fe);if(he.hasChild(m)){for(var A=he.getImmediateChild(m),S=N.getChildAfterChild(this.index_,Ge,this.reverse_);null!=S&&(S.name===m||he.hasChild(S.name));)S=N.getChildAfterChild(this.index_,S,this.reverse_);var T=null==S?1:Y(S,fe);if(Ze&&!b.isEmpty()&&T>=0)return null!=P&&P.trackChildChange(Cn.childChangedChange(m,b,A)),he.updateImmediateChild(m,b);null!=P&&P.trackChildChange(Cn.childRemovedChange(m,A));var G=he.updateImmediateChild(m,qt.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(null!=P&&P.trackChildChange(Cn.childAddedChange(S.name,S.node)),G.updateImmediateChild(S.name,S.node)):G}return b.isEmpty()?h:Ze&&Y(Ge,fe)>=0?(null!=P&&(P.trackChildChange(Cn.childRemovedChange(Ge.name,Ge.node)),P.trackChildChange(Cn.childAddedChange(m,b))),he.updateImmediateChild(m,b).updateImmediateChild(Ge.name,qt.EMPTY_NODE)):h},_}(),Po=function(){function _(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return _.prototype.hasStart=function(){return this.startSet_},_.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},_.prototype.getIndexStartValue=function(){return J.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},_.prototype.getIndexStartName=function(){return J.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ae},_.prototype.hasEnd=function(){return this.endSet_},_.prototype.getIndexEndValue=function(){return J.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},_.prototype.getIndexEndName=function(){return J.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ue},_.prototype.hasLimit=function(){return this.limitSet_},_.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},_.prototype.getLimit=function(){return J.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},_.prototype.getIndex=function(){return this.index_},_.prototype.copy_=function(){var h=new _;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h},_.prototype.limit=function(h){var m=this.copy_();return m.limitSet_=!0,m.limit_=h,m.viewFrom_="",m},_.prototype.limitToFirst=function(h){var m=this.copy_();return m.limitSet_=!0,m.limit_=h,m.viewFrom_=_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,m},_.prototype.limitToLast=function(h){var m=this.copy_();return m.limitSet_=!0,m.limit_=h,m.viewFrom_=_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,m},_.prototype.startAt=function(h,m){var b=this.copy_();return b.startSet_=!0,void 0===h&&(h=null),b.indexStartValue_=h,null!=m?(b.startNameSet_=!0,b.indexStartName_=m):(b.startNameSet_=!1,b.indexStartName_=""),b},_.prototype.endAt=function(h,m){var b=this.copy_();return b.endSet_=!0,void 0===h&&(h=null),b.indexEndValue_=h,void 0!==m?(b.endNameSet_=!0,b.indexEndName_=m):(b.endNameSet_=!1,b.indexEndName_=""),b},_.prototype.orderBy=function(h){var m=this.copy_();return m.index_=h,m},_.prototype.getQueryObject=function(){var h=_.WIRE_PROTOCOL_CONSTANTS_,m={};if(this.startSet_&&(m[h.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(m[h.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(m[h.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(m[h.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){m[h.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?h.VIEW_FROM_LEFT:h.VIEW_FROM_RIGHT),m[h.VIEW_FROM]=b}return this.index_!==Jt&&(m[h.INDEX]=this.index_.toString()),m},_.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},_.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},_.prototype.getNodeFilter=function(){return this.loadsAllData()?new No(this.getIndex()):this.hasLimit()?new Oo(this):new Ro(this)},_.prototype.toRestQueryStringParameters=function(){var b,h=_.REST_QUERY_CONSTANTS_,m={};return this.isDefault()||(this.index_===Jt?b=h.PRIORITY_INDEX:this.index_===$r?b=h.VALUE_INDEX:this.index_===Bn?b=h.KEY_INDEX:(J.assert(this.index_ instanceof Kr,"Unrecognized index type!"),b=this.index_.toString()),m[h.ORDER_BY]=J.stringify(b),this.startSet_&&(m[h.START_AT]=J.stringify(this.indexStartValue_),this.startNameSet_&&(m[h.START_AT]+=","+J.stringify(this.indexStartName_))),this.endSet_&&(m[h.END_AT]=J.stringify(this.indexEndValue_),this.endNameSet_&&(m[h.END_AT]+=","+J.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?m[h.LIMIT_TO_FIRST]=this.limit_:m[h.LIMIT_TO_LAST]=this.limit_)),m},_.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},_.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},_.DEFAULT=new _,_}(),rr=function(_){function h(m,b){if(!(m instanceof lr))throw new Error("new Reference() no longer supported - use app.database().");return _.call(this,m,b,Po.DEFAULT,!1)||this}return u.__extends(h,_),h.prototype.getKey=function(){return J.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},h.prototype.child=function(m){return J.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof m?m=String(m):m instanceof ht||(null===this.path.getFront()?Ei("Reference.child",1,m,!1):Nn("Reference.child",1,m,!1)),new h(this.repo,this.path.child(m))},h.prototype.getParent=function(){J.validateArgCount("Reference.parent",0,0,arguments.length);var m=this.path.parent();return null===m?null:new h(this.repo,m)},h.prototype.getRoot=function(){J.validateArgCount("Reference.root",0,0,arguments.length);for(var m=this;null!==m.getParent();)m=m.getParent();return m},h.prototype.databaseProp=function(){return this.repo.database},h.prototype.set=function(m,b){J.validateArgCount("Reference.set",1,2,arguments.length),Xn("Reference.set",this.path),Tt("Reference.set",1,m,this.path,!1),J.validateCallback("Reference.set",2,b,!0);var N=new J.Deferred;return this.repo.setWithPriority(this.path,m,null,N.wrapCallback(b)),N.promise},h.prototype.update=function(m,b){if(J.validateArgCount("Reference.update",1,2,arguments.length),Xn("Reference.update",this.path),Array.isArray(m)){for(var N={},P=0;P<m.length;++P)N[""+P]=m[P];m=N,At("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pt("Reference.update",1,m,this.path,!1),J.validateCallback("Reference.update",2,b,!0);var Y=new J.Deferred;return this.repo.update(this.path,m,Y.wrapCallback(b)),Y.promise},h.prototype.setWithPriority=function(m,b,N){if(J.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Xn("Reference.setWithPriority",this.path),Tt("Reference.setWithPriority",1,m,this.path,!1),Bt("Reference.setWithPriority",2,b,!1),J.validateCallback("Reference.setWithPriority",3,N,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var P=new J.Deferred;return this.repo.setWithPriority(this.path,m,b,P.wrapCallback(N)),P.promise},h.prototype.remove=function(m){return J.validateArgCount("Reference.remove",0,1,arguments.length),Xn("Reference.remove",this.path),J.validateCallback("Reference.remove",1,m,!0),this.set(null,m)},h.prototype.transaction=function(m,b,N){if(J.validateArgCount("Reference.transaction",1,3,arguments.length),Xn("Reference.transaction",this.path),J.validateCallback("Reference.transaction",1,m,!1),J.validateCallback("Reference.transaction",2,b,!0),so("Reference.transaction",3,N,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===N&&(N=!0);var P=new J.Deferred;"function"==typeof b&&P.promise.catch(function(){});var Y=function(re,he,fe){re?P.reject(re):P.resolve(new Jr(he,fe)),"function"==typeof b&&b(re,he,fe)};return this.repo.startTransaction(this.path,m,Y,N),P.promise},h.prototype.setPriority=function(m,b){J.validateArgCount("Reference.setPriority",1,2,arguments.length),Xn("Reference.setPriority",this.path),Bt("Reference.setPriority",1,m,!1),J.validateCallback("Reference.setPriority",2,b,!0);var N=new J.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),m,null,N.wrapCallback(b)),N.promise},h.prototype.push=function(m,b){J.validateArgCount("Reference.push",0,2,arguments.length),Xn("Reference.push",this.path),Tt("Reference.push",1,m,this.path,!0),J.validateCallback("Reference.push",2,b,!0);var he,N=this.repo.serverTime(),P=ao(N),Y=this.child(P),re=this.child(P);return he=null!=m?Y.set(m,b).then(function(){return re}):Promise.resolve(re),Y.then=he.then.bind(he),Y.catch=he.then.bind(he,void 0),"function"==typeof b&&he.catch(function(){}),Y},h.prototype.onDisconnect=function(){return Xn("Reference.onDisconnect",this.path),new Io(this.repo,this.path)},Object.defineProperty(h.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),h}(or);or.__referenceConstructor=rr,As.__referenceConstructor=rr;var po=function(){this.children={},this.childCount=0,this.value=null},cr=function(){function _(h,m,b){void 0===h&&(h=""),void 0===m&&(m=null),void 0===b&&(b=new po),this.name_=h,this.parent_=m,this.node_=b}return _.prototype.subTree=function(h){for(var m=h instanceof ht?h:new ht(h),b=this,N=m.getFront();null!==N;)b=new _(N,b,J.safeGet(b.node_.children,N)||new po),N=(m=m.popFront()).getFront();return b},_.prototype.getValue=function(){return this.node_.value},_.prototype.setValue=function(h){J.assert(void 0!==h,"Cannot set value to undefined"),this.node_.value=h,this.updateParents_()},_.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},_.prototype.hasChildren=function(){return this.node_.childCount>0},_.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},_.prototype.forEachChild=function(h){var m=this;dt(this.node_.children,function(b,N){h(new _(b,m,N))})},_.prototype.forEachDescendant=function(h,m,b){m&&!b&&h(this),this.forEachChild(function(N){N.forEachDescendant(h,!0,b)}),m&&b&&h(this)},_.prototype.forEachAncestor=function(h,m){for(var b=m?this:this.parent();null!==b;){if(h(b))return!0;b=b.parent()}return!1},_.prototype.forEachImmediateDescendantWithValue=function(h){this.forEachChild(function(m){null!==m.getValue()?h(m):m.forEachImmediateDescendantWithValue(h)})},_.prototype.path=function(){return new ht(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},_.prototype.name=function(){return this.name_},_.prototype.parent=function(){return this.parent_},_.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},_.prototype.updateChild_=function(h,m){var b=m.isEmpty(),N=J.contains(this.node_.children,h);b&&N?(delete this.node_.children[h],this.node_.childCount--,this.updateParents_()):!b&&!N&&(this.node_.children[h]=m.node_,this.node_.childCount++,this.updateParents_())},_}(),Rr=(()=>(function(_){_[_.RUN=0]="RUN",_[_.SENT=1]="SENT",_[_.COMPLETED=2]="COMPLETED",_[_.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",_[_.NEEDS_ABORT=4]="NEEDS_ABORT"}(Rr||(Rr={})),Rr))();lr.MAX_TRANSACTION_RETRIES_=25,lr.prototype.transactionsInit_=function(){this.transactionQueueTree_=new cr},lr.prototype.startTransaction=function(_,h,m,b){this.log_("transaction on "+_);var N=function(){},P=new rr(this,_);P.on("value",N);var re={path:_,update:h,onComplete:m,status:null,order:tt(),applyLocally:b,retryCount:0,unwatcher:function(){P.off("value",N)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},he=this.getLatestState_(_);re.currentInputSnapshot=he;var fe=re.update(he.val());if(void 0===fe){if(re.unwatcher(),re.currentOutputSnapshotRaw=null,re.currentOutputSnapshotResolved=null,re.onComplete){var Ge=new ii(re.currentInputSnapshot,new rr(this,re.path),Jt);re.onComplete(null,!1,Ge)}}else{jt("transaction failed: Data returned ",fe,re.path),re.status=Rr.RUN;var Ze=this.transactionQueueTree_.subTree(_),A=Ze.getValue()||[];A.push(re),Ze.setValue(A);var S=void 0;"object"==typeof fe&&null!==fe&&J.contains(fe,".priority")?(S=J.safeGet(fe,".priority"),J.assert(wt(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(this.serverSyncTree_.calcCompleteEventCache(_)||qt.EMPTY_NODE).getPriority().val(),S=S;var V=this.generateServerValues(),G=en(fe,S),ee=qr(G,he,V);re.currentOutputSnapshotRaw=G,re.currentOutputSnapshotResolved=ee,re.currentWriteId=this.getNextWriteId_();var Ce=this.serverSyncTree_.applyUserOverwrite(_,ee,re.currentWriteId,re.applyLocally);this.eventQueue_.raiseEventsForChangedPath(_,Ce),this.sendReadyTransactions_()}},lr.prototype.getLatestState_=function(_,h){return this.serverSyncTree_.calcCompleteEventCache(_,h)||qt.EMPTY_NODE},lr.prototype.sendReadyTransactions_=function(_){var h=this;if(void 0===_&&(_=this.transactionQueueTree_),_||this.pruneCompletedTransactionsBelowNode_(_),null!==_.getValue()){var m=this.buildTransactionQueue_(_);J.assert(m.length>0,"Sending zero length transaction queue"),m.every(function(N){return N.status===Rr.RUN})&&this.sendTransactionQueue_(_.path(),m)}else _.hasChildren()&&_.forEachChild(function(N){h.sendReadyTransactions_(N)})},lr.prototype.sendTransactionQueue_=function(_,h){for(var m=this,b=h.map(function(A){return A.currentWriteId}),N=this.getLatestState_(_,b),P=N,Y=N.hash(),re=0;re<h.length;re++){var he=h[re];J.assert(he.status===Rr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),he.status=Rr.SENT,he.retryCount++;var fe=ht.relativePath(_,he.path);P=P.updateChild(fe,he.currentOutputSnapshotRaw)}var Ge=P.val(!0),Ze=_;this.server_.put(Ze.toString(),Ge,function(A){m.log_("transaction put response",{path:Ze.toString(),status:A});var S=[];if("ok"===A){for(var T=[],V=0;V<h.length;V++){if(h[V].status=Rr.COMPLETED,S=S.concat(m.serverSyncTree_.ackUserWrite(h[V].currentWriteId)),h[V].onComplete){var G=h[V].currentOutputSnapshotResolved,ee=new rr(m,h[V].path),Ce=new ii(G,ee,Jt);T.push(h[V].onComplete.bind(null,null,!0,Ce))}h[V].unwatcher()}for(m.pruneCompletedTransactionsBelowNode_(m.transactionQueueTree_.subTree(_)),m.sendReadyTransactions_(),m.eventQueue_.raiseEventsForChangedPath(_,S),V=0;V<T.length;V++)on(T[V])}else{if("datastale"===A)for(V=0;V<h.length;V++)h[V].status=h[V].status===Rr.SENT_NEEDS_ABORT?Rr.NEEDS_ABORT:Rr.RUN;else for(At("transaction at "+Ze.toString()+" failed: "+A),V=0;V<h.length;V++)h[V].status=Rr.NEEDS_ABORT,h[V].abortReason=A;m.rerunTransactions_(_)}},Y)},lr.prototype.rerunTransactions_=function(_){var h=this.getAncestorTransactionNode_(_),m=h.path(),b=this.buildTransactionQueue_(h);return this.rerunTransactionQueue_(b,m),m},lr.prototype.rerunTransactionQueue_=function(_,h){if(0!==_.length){for(var m=[],b=[],P=_.filter(function(Ft){return Ft.status===Rr.RUN}).map(function(Ft){return Ft.currentWriteId}),Y=0;Y<_.length;Y++){var re=_[Y],he=ht.relativePath(h,re.path),fe=!1,Ge=void 0;if(J.assert(null!==he,"rerunTransactionsUnderNode_: relativePath should not be null."),re.status===Rr.NEEDS_ABORT)fe=!0,Ge=re.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(re.currentWriteId,!0));else if(re.status===Rr.RUN)if(re.retryCount>=lr.MAX_TRANSACTION_RETRIES_)fe=!0,Ge="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(re.currentWriteId,!0));else{var Ze=this.getLatestState_(re.path,P);re.currentInputSnapshot=Ze;var A=_[Y].update(Ze.val());if(void 0!==A){jt("transaction failed: Data returned ",A,re.path);var S=en(A);"object"==typeof A&&null!=A&&J.contains(A,".priority")||(S=S.updatePriority(Ze.getPriority()));var V=re.currentWriteId,G=this.generateServerValues(),ee=qr(S,Ze,G);re.currentOutputSnapshotRaw=S,re.currentOutputSnapshotResolved=ee,re.currentWriteId=this.getNextWriteId_(),P.splice(P.indexOf(V),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(re.path,ee,re.currentWriteId,re.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(V,!0))}else fe=!0,Ge="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(re.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(h,b),b=[],fe&&(_[Y].status=Rr.COMPLETED,setTimeout(_[Y].unwatcher,Math.floor(0)),_[Y].onComplete))if("nodata"===Ge){var Ce=new rr(this,_[Y].path),at=new ii(_[Y].currentInputSnapshot,Ce,Jt);m.push(_[Y].onComplete.bind(null,null,!1,at))}else m.push(_[Y].onComplete.bind(null,new Error(Ge),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),Y=0;Y<m.length;Y++)on(m[Y]);this.sendReadyTransactions_()}},lr.prototype.getAncestorTransactionNode_=function(_){var h,m=this.transactionQueueTree_;for(h=_.getFront();null!==h&&null===m.getValue();)m=m.subTree(h),h=(_=_.popFront()).getFront();return m},lr.prototype.buildTransactionQueue_=function(_){var h=[];return this.aggregateTransactionQueuesForNode_(_,h),h.sort(function(m,b){return m.order-b.order}),h},lr.prototype.aggregateTransactionQueuesForNode_=function(_,h){var m=this,b=_.getValue();if(null!==b)for(var N=0;N<b.length;N++)h.push(b[N]);_.forEachChild(function(P){m.aggregateTransactionQueuesForNode_(P,h)})},lr.prototype.pruneCompletedTransactionsBelowNode_=function(_){var h=this,m=_.getValue();if(m){for(var b=0,N=0;N<m.length;N++)m[N].status!==Rr.COMPLETED&&(m[b]=m[N],b++);m.length=b,_.setValue(m.length>0?m:null)}_.forEachChild(function(P){h.pruneCompletedTransactionsBelowNode_(P)})},lr.prototype.abortTransactions_=function(_){var h=this,m=this.getAncestorTransactionNode_(_).path(),b=this.transactionQueueTree_.subTree(_);return b.forEachAncestor(function(N){h.abortTransactionsOnNode_(N)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(N){h.abortTransactionsOnNode_(N)}),m},lr.prototype.abortTransactionsOnNode_=function(_){var h=_.getValue();if(null!==h){for(var m=[],b=[],N=-1,P=0;P<h.length;P++)h[P].status!==Rr.SENT_NEEDS_ABORT&&(h[P].status===Rr.SENT?(J.assert(N===P-1,"All SENT items should be at beginning of queue."),N=P,h[P].status=Rr.SENT_NEEDS_ABORT,h[P].abortReason="set"):(J.assert(h[P].status===Rr.RUN,"Unexpected transaction status in abort"),h[P].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(h[P].currentWriteId,!0)),h[P].onComplete&&m.push(h[P].onComplete.bind(null,new Error("set"),!1,null))));for(-1===N?_.setValue(null):h.length=N+1,this.eventQueue_.raiseEventsForChangedPath(_.path(),b),P=0;P<m.length;P++)on(m[P])}};var de,v=function(){function _(h,m){var b=this;this.app_=h,this.authProvider_=m,this.auth_=null,this.auth_=m.getImmediate({optional:!0}),this.auth_||m.get().then(function(N){return b.auth_=N})}return _.prototype.getToken=function(h){return this.auth_?this.auth_.getToken(h).catch(function(m){return m&&"auth/token-not-initialized"===m.code?(Dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(m)}):Promise.resolve(null)},_.prototype.addTokenChangeListener=function(h){this.auth_?this.auth_.addAuthTokenListener(h):(setTimeout(function(){return h(null)},0),this.authProvider_.get().then(function(m){return m.addAuthTokenListener(h)}))},_.prototype.removeTokenChangeListener=function(h){this.authProvider_.get().then(function(m){return m.removeAuthTokenListener(h)})},_.prototype.notifyForInvalidToken=function(){var h='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';At(h+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},_}(),F=function(){function _(){}return _.prototype.getToken=function(h){return Promise.resolve({accessToken:_.EMULATOR_AUTH_TOKEN})},_.prototype.addTokenChangeListener=function(h){h(_.EMULATOR_AUTH_TOKEN)},_.prototype.removeTokenChangeListener=function(h){},_.prototype.notifyForInvalidToken=function(){},_.EMULATOR_AUTH_TOKEN="owner",_}(),Me=function(){function _(){this.repos_={},this.useRestClient_=!1}return _.getInstance=function(){return de||(de=new _),de},_.prototype.interrupt=function(){var h,m,b,N;try{for(var P=u.__values(Object.keys(this.repos_)),Y=P.next();!Y.done;Y=P.next()){var re=Y.value;try{for(var he=(b=void 0,u.__values(Object.keys(this.repos_[re]))),fe=he.next();!fe.done;fe=he.next())this.repos_[re][fe.value].interrupt()}catch(Ze){b={error:Ze}}finally{try{fe&&!fe.done&&(N=he.return)&&N.call(he)}finally{if(b)throw b.error}}}}catch(Ze){h={error:Ze}}finally{try{Y&&!Y.done&&(m=P.return)&&m.call(P)}finally{if(h)throw h.error}}},_.prototype.resume=function(){var h,m,b,N;try{for(var P=u.__values(Object.keys(this.repos_)),Y=P.next();!Y.done;Y=P.next()){var re=Y.value;try{for(var he=(b=void 0,u.__values(Object.keys(this.repos_[re]))),fe=he.next();!fe.done;fe=he.next())this.repos_[re][fe.value].resume()}catch(Ze){b={error:Ze}}finally{try{fe&&!fe.done&&(N=he.return)&&N.call(he)}finally{if(b)throw b.error}}}}catch(Ze){h={error:Ze}}finally{try{Y&&!Y.done&&(m=P.return)&&m.call(P)}finally{if(h)throw h.error}}},_.prototype.databaseFromApp=function(h,m,b,N){var P=b||h.options.databaseURL;void 0===P&&(h.options.projectId||Vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dt("Using default host for project ",h.options.projectId),P=h.options.projectId+"-default-rtdb.firebaseio.com");var he,Y=be(P,N),re=Y.repoInfo,fe=void 0;"undefined"!=typeof process&&(fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),fe?(he=!0,re=(Y=be(P="http://"+fe+"?ns="+re.namespace,N)).repoInfo):he=!Y.repoInfo.secure;var Ge=N&&he?new F:new v(h,m);return ir("Invalid Firebase Database URL",1,Y),Y.path.isEmpty()||Vt("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(re,h,Ge).database},_.prototype.deleteRepo=function(h){var m=J.safeGet(this.repos_,h.app.name);(!m||J.safeGet(m,h.repoInfo_.toURLString())!==h)&&Vt("Database "+h.app.name+"("+h.repoInfo_+") has already been deleted."),h.interrupt(),delete m[h.repoInfo_.toURLString()]},_.prototype.createRepo=function(h,m,b){var N=J.safeGet(this.repos_,m.name);N||(this.repos_[m.name]=N={});var P=J.safeGet(N,h.toURLString());return P&&Vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new lr(h,this.useRestClient_,m,b),N[h.toURLString()]=P,P},_.prototype.forceRestClient=function(h){this.useRestClient_=h},_}(),Je=function(){function _(h){this.repo_=h,h instanceof lr||Vt("Don't call new Database() directly - please use firebase.database()."),this.root_=new rr(h,ht.Empty),this.INTERNAL=new Nt(this)}return Object.defineProperty(_.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),_.prototype.ref=function(h){return this.checkDeleted_("ref"),J.validateArgCount("database.ref",0,1,arguments.length),h instanceof rr?this.refFromURL(h.toString()):void 0!==h?this.root_.child(h):this.root_},_.prototype.refFromURL=function(h){var m="database.refFromURL";this.checkDeleted_(m),J.validateArgCount(m,1,1,arguments.length);var b=be(h,this.repo_.repoInfo_.nodeAdmin);ir(m,1,b);var N=b.repoInfo;return N.host!==this.repo_.repoInfo_.host&&Vt(m+": Host name does not match the current database: (found "+N.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},_.prototype.checkDeleted_=function(h){null===this.repo_&&Vt("Cannot call "+h+" on a deleted database.")},_.prototype.goOffline=function(){J.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},_.prototype.goOnline=function(){J.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},_.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(h){return{".sv":{increment:h}}}},_}(),Nt=function(){function _(h){this.database=h}return _.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(h){return this.database.checkDeleted_("delete"),Me.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},_}(),Rn=Object.freeze({__proto__:null,forceLongPolling:function(){zr.forceDisallow(),Ti.forceAllow()},forceWebSockets:function(){Ti.forceDisallow()},isWebSocketsAvailable:function(){return zr.isAvailable()},setSecurityDebugCallback:function(_,h){_.repo.persistentConnection_.securityDebugCallback_=h},stats:function(_,h){_.repo.stats(h)},statsIncrementCounter:function(_,h){_.repo.statsIncrementCounter(h)},dataUpdateCount:function(_){return _.repo.dataUpdateCount},interceptServerData:function(_,h){return _.repo.interceptServerData_(h)}}),ei=xn;xn.prototype.simpleListen=function(_,h){this.sendRequest("q",{p:_},h)},xn.prototype.echo=function(_,h){this.sendRequest("echo",{d:_},h)};var ou=Object.freeze({__proto__:null,DataConnection:ei,RealTimeConnection:xo,hijackHash:function(_){var h=xn.prototype.put;return xn.prototype.put=function(m,b,N,P){void 0!==P&&(P=_()),h.call(this,m,b,N,P)},function(){xn.prototype.put=h}},ConnectionTarget:Vn,queryIdentifier:function(_){return _.queryIdentifier()},forceRestClient:function(_){Me.getInstance().forceRestClient(_)}}),va=Je.ServerValue;function ba(_){!function(_){Bi=_}(_.SDK_VERSION);var h=_.INTERNAL.registerComponent(new Se.Component("database",function(m,b){var N=m.getProvider("app").getImmediate(),P=m.getProvider("auth-internal");return Me.getInstance().databaseFromApp(N,P,b)},"PUBLIC").setServiceProps({Reference:rr,Query:or,Database:Je,DataSnapshot:ii,enableLogging:Qe,INTERNAL:Rn,ServerValue:va,TEST_ACCESS:ou}).setMultipleInstances(!0));_.registerVersion("@firebase/database","0.6.13"),J.isNodeSdk()&&(Ut.exports=h)}ba(De.default),Le.DataSnapshot=ii,Le.Database=Je,Le.OnDisconnect=Io,Le.Query=or,Le.Reference=rr,Le.ServerValue=va,Le.enableLogging=Qe,Le.registerDatabase=ba},5910:(Ut,Le,ie)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var l,x=ie(5704),u=ie(6279),J=ie(300),He=ie(1704),Se=ie(2870),Ve=ie(1100),Fe=(l=u)&&"object"==typeof l&&"default"in l?l:{default:l},te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(l){function i(s,p){var y=this;return(y=l.call(this,p)||this).code=s,y.message=p,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return x.__extends(i,l),i}(Error),Ee=new J.Logger("@firebase/firestore");function _e(){return Ee.logLevel}function ye(l){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Ee.logLevel<=J.LogLevel.DEBUG){var p=i.map(it);Ee.debug.apply(Ee,x.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function tt(l){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Ee.logLevel<=J.LogLevel.ERROR){var p=i.map(it);Ee.error.apply(Ee,x.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function ct(l){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(Ee.logLevel<=J.LogLevel.WARN){var p=i.map(it);Ee.warn.apply(Ee,x.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function it(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(s){return l}}function et(l){void 0===l&&(l="Unexpected state");var i="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+l;throw tt(i),new Error(i)}function we(l,i){l||et()}function Qe(l,i){return l}function Dt(l){var i=0;for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i++;return i}function Gt(l,i){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i(s,l[s])}function mn(l){for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}var Vt=function(){function l(i,s,p){void 0===s?s=0:s>i.length&&et(),void 0===p?p=i.length-s:p>i.length-s&&et(),this.segments=i,this.offset=s,this.t=p}return Object.defineProperty(l.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return 0===l.i(this,i)},l.prototype.child=function(i){var s=this.segments.slice(this.offset,this.limit());return i instanceof l?i.forEach(function(p){s.push(p)}):s.push(i),this.o(s)},l.prototype.limit=function(){return this.offset+this.length},l.prototype.u=function(i){return this.o(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},l.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},l.prototype.l=function(){return this.segments[this.offset]},l.prototype._=function(){return this.get(this.length-1)},l.prototype.get=function(i){return this.segments[this.offset+i]},l.prototype.m=function(){return 0===this.length},l.prototype.T=function(i){if(i.length<this.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0},l.prototype.I=function(i){if(this.length+1!==i.length)return!1;for(var s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0},l.prototype.forEach=function(i){for(var s=this.offset,p=this.limit();s<p;s++)i(this.segments[s])},l.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},l.i=function(i,s){for(var p=Math.min(i.length,s.length),y=0;y<p;y++){var C=i.get(y),I=s.get(y);if(C<I)return-1;if(C>I)return 1}return i.length<s.length?-1:i.length>s.length?1:0},l}(),At=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.o=function(s,p,y){return new i(s,p,y)},i.prototype.R=function(){return this.A().join("/")},i.prototype.toString=function(){return this.R()},i.g=function(){for(var s=[],p=0;p<arguments.length;p++)s[p]=arguments[p];for(var y=[],C=0,I=s;C<I.length;C++){var L=I[C];if(L.indexOf("//")>=0)throw new X(te.INVALID_ARGUMENT,"Invalid segment ("+L+"). Paths must not contain // in them.");y.push.apply(y,L.split("/").filter(function(H){return H.length>0}))}return new i(y)},i.P=function(){return new i([])},i}(Vt),$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Z=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.o=function(s,p,y){return new i(s,p,y)},i.V=function(s){return $.test(s)},i.prototype.R=function(){return this.A().map(function(s){return s=s.replace("\\","\\\\").replace("`","\\`"),i.V(s)||(s="`"+s+"`"),s}).join(".")},i.prototype.toString=function(){return this.R()},i.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},i.v=function(){return new i(["__name__"])},i.S=function(s){for(var p=[],y="",C=0,I=function(){if(0===y.length)throw new X(te.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(y),y=""},L=!1;C<s.length;){var H=s[C];if("\\"===H){if(C+1===s.length)throw new X(te.INVALID_ARGUMENT,"Path has trailing escape character: "+s);var se=s[C+1];if("\\"!==se&&"."!==se&&"`"!==se)throw new X(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);y+=se,C+=2}else"`"===H?(L=!L,C++):"."!==H||L?(y+=H,C++):(I(),C++)}if(I(),L)throw new X(te.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new i(p)},i.P=function(){return new i([])},i}(Vt),z=function(){function l(i){this.path=i}return l.D=function(i){return new l(At.g(i))},l.C=function(i){return new l(At.g(i).u(5))},l.prototype.N=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},l.prototype.isEqual=function(i){return null!==i&&0===At.i(this.path,i.path)},l.prototype.toString=function(){return this.path.toString()},l.i=function(i,s){return At.i(i.path,s.path)},l.F=function(i){return i.length%2==0},l.$=function(i){return new l(new At(i.slice()))},l}();function ae(l,i){if(0!==i.length)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() does not support arguments, but was called with "+vr(i.length,"argument")+".")}function ue(l,i,s){if(i.length!==s)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires "+vr(s,"argument")+", but was called with "+vr(i.length,"argument")+".")}function Q(l,i,s){if(i.length<s)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires at least "+vr(s,"argument")+", but was called with "+vr(i.length,"argument")+".")}function Ie(l,i,s,p){if(i.length<s||i.length>p)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires between "+s+" and "+p+" arguments, but was called with "+vr(i.length,"argument")+".")}function Ne(l,i,s,p){vt(l,i,ht(s)+" argument",p)}function St(l,i,s,p){void 0!==p&&Ne(l,i,s,p)}function Ue(l,i,s,p){vt(l,i,s+" option",p)}function dt(l,i,s,p){void 0!==p&&Ue(l,i,s,p)}function xt(l,i,s,p,y){void 0!==p&&function(C,I,L,H,se){for(var ge=[],Pe=0,ke=se;Pe<ke.length;Pe++){var Ye=ke[Pe];if(Ye===H)return;ge.push(bn(Ye))}var rt=bn(H);throw new X(te.INVALID_ARGUMENT,"Invalid value "+rt+" provided to function "+C+'() for option "'+L+'". Acceptable values: '+ge.join(", "))}(l,0,s,p,y)}function Ke(l,i,s,p){if(!i.some(function(y){return y===p}))throw new X(te.INVALID_ARGUMENT,"Invalid value "+bn(p)+" provided to function "+l+"() for its "+ht(s)+" argument. Acceptable values: "+i.join(", "));return p}function vt(l,i,s,p){if(!("object"===i?nn(p):"non-empty string"===i?"string"==typeof p&&""!==p:typeof p===i)){var y=bn(p);throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires its "+s+" to be of type "+i+", but it was: "+y)}}function nn(l){return"object"==typeof l&&null!==l&&(Object.getPrototypeOf(l)===Object.prototype||null===Object.getPrototypeOf(l))}function bn(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=l.substring(0,20)+"..."),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";var i=function(s){if(s.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(s.constructor.toString());if(p&&p.length>1)return p[1]}return null}(l);return i?"a custom "+i+" object":"an object"}return"function"==typeof l?"a function":et()}function Qr(l,i,s){if(void 0===s)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires a valid "+ht(i)+" argument, but it was undefined.")}function on(l,i,s){Gt(i,function(p,y){if(s.indexOf(p)<0)throw new X(te.INVALID_ARGUMENT,"Unknown option '"+p+"' passed to function "+l+"(). Available options: "+s.join(", "))})}function Hn(l,i,s,p){var y=bn(p);return new X(te.INVALID_ARGUMENT,"Function "+l+"() requires its "+ht(s)+" argument to be a "+i+", but it was: "+y)}function dn(l,i,s){if(s<=0)throw new X(te.INVALID_ARGUMENT,"Function "+l+"() requires its "+ht(i)+" argument to be a positive number, but it was: "+s+".")}function ht(l){switch(l){case 1:return"first";case 2:return"second";case 3:return"third";default:return l+"th"}}function vr(l,i){return l+" "+i+(1===l?"":"s")}function di(l){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(s);else for(var p=0;p<l;p++)s[p]=Math.floor(256*Math.random());return s}var an=function(){function l(){}return l.k=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/i.length)*i.length,p="";p.length<20;)for(var y=di(40),C=0;C<y.length;++C)p.length<20&&y[C]<s&&(p+=i.charAt(y[C]%i.length));return p},l}();function Lt(l,i){return l<i?-1:l>i?1:0}function Gn(l,i,s){return l.length===i.length&&l.every(function(p,y){return s(p,i[y])})}function Fn(l){return l+"\0"}var kt=function(){function l(i){this.M=i}return l.fromBase64String=function(i){return new l(atob(i))},l.fromUint8Array=function(i){return new l(function(s){for(var p="",y=0;y<s.length;++y)p+=String.fromCharCode(s[y]);return p}(i))},l.prototype.toBase64=function(){return btoa(this.M)},l.prototype.toUint8Array=function(){return function(i){for(var s=new Uint8Array(i.length),p=0;p<i.length;p++)s[p]=i.charCodeAt(p);return s}(this.M)},l.prototype.O=function(){return 2*this.M.length},l.prototype.L=function(i){return Lt(this.M,i.M)},l.prototype.isEqual=function(i){return this.M===i.M},l}();kt.B=new kt("");var Zn=function(){function l(i){this.q=i}return l.fromBase64String=function(i){try{return new l(kt.fromBase64String(i))}catch(s){throw new X(te.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+s)}},l.fromUint8Array=function(i){return new l(kt.fromUint8Array(i))},l.prototype.toBase64=function(){return this.q.toBase64()},l.prototype.toUint8Array=function(){return this.q.toUint8Array()},l.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},l.prototype.isEqual=function(i){return this.q.isEqual(i.q)},l}();function Rt(){if("undefined"==typeof Uint8Array)throw new X(te.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ln(){if("undefined"==typeof atob)throw new X(te.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sn=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.fromBase64String=function(s){ue("Blob.fromBase64String",arguments,1),Ne("Blob.fromBase64String","string",1,s),Ln();try{return new i(kt.fromBase64String(s))}catch(p){throw new X(te.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+p)}},i.fromUint8Array=function(s){if(ue("Blob.fromUint8Array",arguments,1),Rt(),!(s instanceof Uint8Array))throw Hn("Blob.fromUint8Array","Uint8Array",1,s);return new i(kt.fromUint8Array(s))},i.prototype.toBase64=function(){return ue("Blob.toBase64",arguments,0),Ln(),l.prototype.toBase64.call(this)},i.prototype.toUint8Array=function(){return ue("Blob.toUint8Array",arguments,0),Rt(),l.prototype.toUint8Array.call(this)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(Zn),Vn=function(l,i,s,p,y,C){this.U=l,this.persistenceKey=i,this.host=s,this.ssl=p,this.forceLongPolling=y,this.W=C},ft=function(){function l(i,s){this.projectId=i,this.database=s||"(default)"}return Object.defineProperty(l.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return i instanceof l&&i.projectId===this.projectId&&i.database===this.database},l.prototype.L=function(i){return Lt(this.projectId,i.projectId)||Lt(this.database,i.database)},l}(),je=function(){function l(i,s){this.K=i,this.G=s,this.H={}}return l.prototype.get=function(i){var s=this.K(i),p=this.H[s];if(void 0!==p)for(var y=0,C=p;y<C.length;y++){var I=C[y],H=I[1];if(this.G(I[0],i))return H}},l.prototype.has=function(i){return void 0!==this.get(i)},l.prototype.set=function(i,s){var p=this.K(i),y=this.H[p];if(void 0!==y){for(var C=0;C<y.length;C++)if(this.G(y[C][0],i))return void(y[C]=[i,s]);y.push([i,s])}else this.H[p]=[[i,s]]},l.prototype.delete=function(i){var s=this.K(i),p=this.H[s];if(void 0===p)return!1;for(var y=0;y<p.length;y++)if(this.G(p[y][0],i))return 1===p.length?delete this.H[s]:p.splice(y,1),!0;return!1},l.prototype.forEach=function(i){Gt(this.H,function(s,p){for(var y=0,C=p;y<C.length;y++){var I=C[y];i(I[0],I[1])}})},l.prototype.m=function(){return mn(this.H)},l}(),be=function(){function l(i,s){if(this.seconds=i,this.nanoseconds=s,s<0)throw new X(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new X(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(i<-62135596800)throw new X(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new X(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return l.now=function(){return l.fromMillis(Date.now())},l.fromDate=function(i){return l.fromMillis(i.getTime())},l.fromMillis=function(i){var s=Math.floor(i/1e3);return new l(s,1e6*(i-1e3*s))},l.prototype.toDate=function(){return new Date(this.toMillis())},l.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},l.prototype.Y=function(i){return this.seconds===i.seconds?Lt(this.nanoseconds,i.nanoseconds):Lt(this.seconds,i.seconds)},l.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},l.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},l.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},l.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},l}(),nt=function(){function l(i){this.timestamp=i}return l.J=function(i){return new l(i)},l.min=function(){return new l(new be(0,0))},l.prototype.L=function(i){return this.timestamp.Y(i.timestamp)},l.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},l.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},l.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},l.prototype.Z=function(){return this.timestamp},l}();function mt(l){return null==l}function Te(l){return 0===l&&1/l==-1/0}function me(l){return"number"==typeof l&&Number.isInteger(l)&&!Te(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}var Oe=function(l,i,s,p,y,C,I){void 0===i&&(i=null),void 0===s&&(s=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===C&&(C=null),void 0===I&&(I=null),this.path=l,this.collectionGroup=i,this.orderBy=s,this.filters=p,this.limit=y,this.startAt=C,this.endAt=I,this.tt=null};function ze(l,i,s,p,y,C,I){return void 0===i&&(i=null),void 0===s&&(s=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===C&&(C=null),void 0===I&&(I=null),new Oe(l,i,s,p,y,C,I)}function $e(l){var i=Qe(l);if(null===i.tt){var s=i.path.R();null!==i.collectionGroup&&(s+="|cg:"+i.collectionGroup),s+="|f:",s+=i.filters.map(function(p){return(y=p).field.R()+y.op.toString()+pn(y.value);var y}).join(","),s+="|ob:",s+=i.orderBy.map(function(p){return(y=p).field.R()+y.dir;var y}).join(","),mt(i.limit)||(s+="|l:",s+=i.limit),i.startAt&&(s+="|lb:",s+=vi(i.startAt)),i.endAt&&(s+="|ub:",s+=vi(i.endAt)),i.tt=s}return i.tt}function wt(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(var s=0;s<l.orderBy.length;s++)if(!Jo(l.orderBy[s],i.orderBy[s]))return!1;if(l.filters.length!==i.filters.length)return!1;for(var p=0;p<l.filters.length;p++)if((y=l.filters[p]).op!==(C=i.filters[p]).op||!y.field.isEqual(C.field)||!tn(y.value,C.value))return!1;var y,C;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!ds(l.startAt,i.startAt)&&ds(l.endAt,i.endAt)}function Tt(l){return z.F(l.path)&&null===l.collectionGroup&&0===l.filters.length}var jt,Et,Pt=function(){function l(i,s,p,y,C,I,L){void 0===C&&(C=nt.min()),void 0===I&&(I=nt.min()),void 0===L&&(L=kt.B),this.target=i,this.targetId=s,this.et=p,this.sequenceNumber=y,this.nt=C,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=L}return l.prototype.st=function(i){return new l(this.target,this.targetId,this.et,i,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},l.prototype.it=function(i,s){return new l(this.target,this.targetId,this.et,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,i)},l.prototype.rt=function(i){return new l(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,i,this.resumeToken)},l}(),Bt=function(l){this.count=l};function Wt(l){switch(l){case te.OK:return et();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return et()}}function wn(l){if(void 0===l)return tt("GRPC error has no .code"),te.UNKNOWN;switch(l){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return et()}}(Et=jt||(jt={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";var Nn=function(){function l(i,s){this.i=i,this.root=s||Xn.EMPTY}return l.prototype.ot=function(i,s){return new l(this.i,this.root.ot(i,s,this.i).copy(null,null,Xn.at,null,null))},l.prototype.remove=function(i){return new l(this.i,this.root.remove(i,this.i).copy(null,null,Xn.at,null,null))},l.prototype.get=function(i){for(var s=this.root;!s.m();){var p=this.i(i,s.key);if(0===p)return s.value;p<0?s=s.left:p>0&&(s=s.right)}return null},l.prototype.indexOf=function(i){for(var s=0,p=this.root;!p.m();){var y=this.i(i,p.key);if(0===y)return s+p.left.size;y<0?p=p.left:(s+=p.left.size+1,p=p.right)}return-1},l.prototype.m=function(){return this.root.m()},Object.defineProperty(l.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),l.prototype.ct=function(){return this.root.ct()},l.prototype.ut=function(){return this.root.ut()},l.prototype.ht=function(i){return this.root.ht(i)},l.prototype.forEach=function(i){this.ht(function(s,p){return i(s,p),!1})},l.prototype.toString=function(){var i=[];return this.ht(function(s,p){return i.push(s+":"+p),!1}),"{"+i.join(", ")+"}"},l.prototype.lt=function(i){return this.root.lt(i)},l.prototype._t=function(){return new Ei(this.root,null,this.i,!1)},l.prototype.ft=function(i){return new Ei(this.root,i,this.i,!1)},l.prototype.dt=function(){return new Ei(this.root,null,this.i,!0)},l.prototype.wt=function(i){return new Ei(this.root,i,this.i,!0)},l}(),Ei=function(){function l(i,s,p,y){this.Tt=y,this.Et=[];for(var C=1;!i.m();)if(C=s?p(i.key,s):1,y&&(C*=-1),C<0)i=this.Tt?i.left:i.right;else{if(0===C){this.Et.push(i);break}this.Et.push(i),i=this.Tt?i.right:i.left}}return l.prototype.It=function(){var i=this.Et.pop(),s={key:i.key,value:i.value};if(this.Tt)for(i=i.left;!i.m();)this.Et.push(i),i=i.right;else for(i=i.right;!i.m();)this.Et.push(i),i=i.left;return s},l.prototype.At=function(){return this.Et.length>0},l.prototype.Rt=function(){if(0===this.Et.length)return null;var i=this.Et[this.Et.length-1];return{key:i.key,value:i.value}},l}(),Xn=function(){function l(i,s,p,y,C){this.key=i,this.value=s,this.color=null!=p?p:l.RED,this.left=null!=y?y:l.EMPTY,this.right=null!=C?C:l.EMPTY,this.size=this.left.size+1+this.right.size}return l.prototype.copy=function(i,s,p,y,C){return new l(null!=i?i:this.key,null!=s?s:this.value,null!=p?p:this.color,null!=y?y:this.left,null!=C?C:this.right)},l.prototype.m=function(){return!1},l.prototype.ht=function(i){return this.left.ht(i)||i(this.key,this.value)||this.right.ht(i)},l.prototype.lt=function(i){return this.right.lt(i)||i(this.key,this.value)||this.left.lt(i)},l.prototype.min=function(){return this.left.m()?this:this.left.min()},l.prototype.ct=function(){return this.min().key},l.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},l.prototype.ot=function(i,s,p){var y=this,C=p(i,y.key);return(y=C<0?y.copy(null,null,null,y.left.ot(i,s,p),null):0===C?y.copy(null,s,null,null,null):y.copy(null,null,null,null,y.right.ot(i,s,p))).gt()},l.prototype.Pt=function(){if(this.left.m())return l.EMPTY;var i=this;return i.left.yt()||i.left.left.yt()||(i=i.Vt()),(i=i.copy(null,null,null,i.left.Pt(),null)).gt()},l.prototype.remove=function(i,s){var p,y=this;if(s(i,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(i,s),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===s(i,y.key)){if(y.right.m())return l.EMPTY;p=y.right.min(),y=y.copy(p.key,p.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(i,s))}return y.gt()},l.prototype.yt=function(){return this.color},l.prototype.gt=function(){var i=this;return i.right.yt()&&!i.left.yt()&&(i=i.St()),i.left.yt()&&i.left.left.yt()&&(i=i.bt()),i.left.yt()&&i.right.yt()&&(i=i.Dt()),i},l.prototype.Vt=function(){var i=this.Dt();return i.right.left.yt()&&(i=(i=(i=i.copy(null,null,null,null,i.right.bt())).St()).Dt()),i},l.prototype.vt=function(){var i=this.Dt();return i.left.left.yt()&&(i=(i=i.bt()).Dt()),i},l.prototype.St=function(){var i=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},l.prototype.bt=function(){var i=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},l.prototype.Dt=function(){var i=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,s)},l.prototype.Ct=function(){var i=this.Nt();return Math.pow(2,i)<=this.size+1},l.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw et();var i=this.left.Nt();if(i!==this.right.Nt())throw et();return i+(this.yt()?0:1)},l}();Xn.EMPTY=null,Xn.RED=!0,Xn.at=!1,Xn.EMPTY=new(function(){function l(){this.size=0}return Object.defineProperty(l.prototype,"key",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"value",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"color",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"left",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"right",{get:function(){throw et()},enumerable:!1,configurable:!0}),l.prototype.copy=function(i,s,p,y,C){return this},l.prototype.ot=function(i,s,p){return new Xn(i,s)},l.prototype.remove=function(i,s){return this},l.prototype.m=function(){return!0},l.prototype.ht=function(i){return!1},l.prototype.lt=function(i){return!1},l.prototype.ct=function(){return null},l.prototype.ut=function(){return null},l.prototype.yt=function(){return!1},l.prototype.Ct=function(){return!0},l.prototype.Nt=function(){return 0},l}());var ir=function(){function l(i){this.i=i,this.data=new Nn(this.i)}return l.prototype.has=function(i){return null!==this.data.get(i)},l.prototype.first=function(){return this.data.ct()},l.prototype.last=function(){return this.data.ut()},Object.defineProperty(l.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),l.prototype.indexOf=function(i){return this.data.indexOf(i)},l.prototype.forEach=function(i){this.data.ht(function(s,p){return i(s),!1})},l.prototype.Ft=function(i,s){for(var p=this.data.ft(i[0]);p.At();){var y=p.It();if(this.i(y.key,i[1])>=0)return;s(y.key)}},l.prototype.xt=function(i,s){var p;for(p=void 0!==s?this.data.ft(s):this.data._t();p.At();)if(!i(p.It().key))return},l.prototype.$t=function(i){var s=this.data.ft(i);return s.At()?s.It().key:null},l.prototype._t=function(){return new so(this.data._t())},l.prototype.ft=function(i){return new so(this.data.ft(i))},l.prototype.add=function(i){return this.copy(this.data.remove(i).ot(i,!0))},l.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},l.prototype.m=function(){return this.data.m()},l.prototype.kt=function(i){var s=this;return s.size<i.size&&(s=i,i=this),i.forEach(function(p){s=s.add(p)}),s},l.prototype.isEqual=function(i){if(!(i instanceof l)||this.size!==i.size)return!1;for(var s=this.data._t(),p=i.data._t();s.At();){var y=s.It().key,C=p.It().key;if(0!==this.i(y,C))return!1}return!0},l.prototype.A=function(){var i=[];return this.forEach(function(s){i.push(s)}),i},l.prototype.toString=function(){var i=[];return this.forEach(function(s){return i.push(s)}),"SortedSet("+i.toString()+")"},l.prototype.copy=function(i){var s=new l(this.i);return s.data=i,s},l}(),so=function(){function l(i){this.Mt=i}return l.prototype.It=function(){return this.Mt.It().key},l.prototype.At=function(){return this.Mt.At()},l}(),Io=new Nn(z.i);function Jr(){return Io}function ao(){return Jr()}var rn=new Nn(z.i);function Ur(){return rn}var yn=new Nn(z.i),En=new ir(z.i);function Bn(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];for(var s=En,p=0,y=l;p<y.length;p++){var C=y[p];s=s.add(C)}return s}var Hi=new ir(Lt);function _o(){return Hi}var $o=function(){function l(i){this.i=i?function(s,p){return i(s,p)||z.i(s.key,p.key)}:function(s,p){return z.i(s.key,p.key)},this.Ot=Ur(),this.Lt=new Nn(this.i)}return l.Bt=function(i){return new l(i.i)},l.prototype.has=function(i){return null!=this.Ot.get(i)},l.prototype.get=function(i){return this.Ot.get(i)},l.prototype.first=function(){return this.Lt.ct()},l.prototype.last=function(){return this.Lt.ut()},l.prototype.m=function(){return this.Lt.m()},l.prototype.indexOf=function(i){var s=this.Ot.get(i);return s?this.Lt.indexOf(s):-1},Object.defineProperty(l.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),l.prototype.forEach=function(i){this.Lt.ht(function(s,p){return i(s),!1})},l.prototype.add=function(i){var s=this.delete(i.key);return s.copy(s.Ot.ot(i.key,i),s.Lt.ot(i,null))},l.prototype.delete=function(i){var s=this.get(i);return s?this.copy(this.Ot.remove(i),this.Lt.remove(s)):this},l.prototype.isEqual=function(i){if(!(i instanceof l)||this.size!==i.size)return!1;for(var s=this.Lt._t(),p=i.Lt._t();s.At();){var y=s.It().key,C=p.It().key;if(!y.isEqual(C))return!1}return!0},l.prototype.toString=function(){var i=[];return this.forEach(function(s){i.push(s.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},l.prototype.copy=function(i,s){var p=new l;return p.i=this.i,p.Ot=i,p.Lt=s,p},l}(),kr=function(){function l(){this.qt=new Nn(z.i)}return l.prototype.track=function(i){var s=i.doc.key,p=this.qt.get(s);p?0!==i.type&&3===p.type?this.qt=this.qt.ot(s,i):3===i.type&&1!==p.type?this.qt=this.qt.ot(s,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.qt=this.qt.ot(s,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.qt=this.qt.ot(s,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.qt=this.qt.remove(s):1===i.type&&2===p.type?this.qt=this.qt.ot(s,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.qt=this.qt.ot(s,{type:2,doc:i.doc}):et():this.qt=this.qt.ot(s,i)},l.prototype.Ut=function(){var i=[];return this.qt.ht(function(s,p){i.push(p)}),i},l}(),br=function(){function l(i,s,p,y,C,I,L,H){this.query=i,this.docs=s,this.Qt=p,this.docChanges=y,this.Wt=C,this.fromCache=I,this.jt=L,this.Kt=H}return l.Gt=function(i,s,p,y){var C=[];return s.forEach(function(I){C.push({type:0,doc:I})}),new l(i,s,$o.Bt(s),C,p,y,!0,!1)},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.jt===i.jt&&this.Wt.isEqual(i.Wt)&&Si(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.Qt.isEqual(i.Qt)))return!1;var s=this.docChanges,p=i.docChanges;if(s.length!==p.length)return!1;for(var y=0;y<s.length;y++)if(s[y].type!==p[y].type||!s[y].doc.isEqual(p[y].doc))return!1;return!0},l}(),Tr=function(){function l(i,s,p,y,C){this.nt=i,this.zt=s,this.Ht=p,this.Yt=y,this.Jt=C}return l.Xt=function(i,s){var p=new Map;return p.set(i,mr.Zt(i,s)),new l(nt.min(),p,_o(),Jr(),Bn())},l}(),mr=function(){function l(i,s,p,y,C){this.resumeToken=i,this.te=s,this.ee=p,this.ne=y,this.se=C}return l.Zt=function(i,s){return new l(kt.B,s,Bn(),Bn(),Bn())},l}(),Gi=function(l,i,s,p){this.ie=l,this.removedTargetIds=i,this.key=s,this.re=p},$n=function(l,i){this.targetId=l,this.oe=i},Ot=function(l,i,s,p){void 0===s&&(s=kt.B),void 0===p&&(p=null),this.state=l,this.targetIds=i,this.resumeToken=s,this.cause=p},_n=function(){function l(){this.ae=0,this.ce=Hr(),this.ue=kt.B,this.he=!1,this.le=!0}return Object.defineProperty(l.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),l.prototype.de=function(i){i.O()>0&&(this.le=!0,this.ue=i)},l.prototype.we=function(){var i=Bn(),s=Bn(),p=Bn();return this.ce.forEach(function(y,C){switch(C){case 0:i=i.add(y);break;case 2:s=s.add(y);break;case 1:p=p.add(y);break;default:et()}}),new mr(this.ue,this.he,i,s,p)},l.prototype.me=function(){this.le=!1,this.ce=Hr()},l.prototype.Te=function(i,s){this.le=!0,this.ce=this.ce.ot(i,s)},l.prototype.Ee=function(i){this.le=!0,this.ce=this.ce.remove(i)},l.prototype.Ie=function(){this.ae+=1},l.prototype.Ae=function(){this.ae-=1},l.prototype.Re=function(){this.le=!0,this.he=!0},l}(),Jt=function(){function l(i){this.ge=i,this.Pe=new Map,this.ye=Jr(),this.Ve=jr(),this.pe=new ir(Lt)}return l.prototype.be=function(i){for(var s=0,p=i.ie;s<p.length;s++){var y=p[s];i.re instanceof Mt?this.ve(y,i.re):i.re instanceof ar&&this.Se(y,i.key,i.re)}for(var C=0,I=i.removedTargetIds;C<I.length;C++)this.Se(I[C],i.key,i.re)},l.prototype.De=function(i){var s=this;this.Ce(i,function(p){var y=s.Ne(p);switch(i.state){case 0:s.Fe(p)&&y.de(i.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(i.resumeToken);break;case 2:y.Ae(),y._e||s.removeTarget(p);break;case 3:s.Fe(p)&&(y.Re(),y.de(i.resumeToken));break;case 4:s.Fe(p)&&(s.xe(p),y.de(i.resumeToken));break;default:et()}})},l.prototype.Ce=function(i,s){var p=this;i.targetIds.length>0?i.targetIds.forEach(s):this.Pe.forEach(function(y,C){p.Fe(C)&&s(C)})},l.prototype.$e=function(i){var s=i.targetId,p=i.oe.count,y=this.ke(s);if(y){var C=y.target;if(Tt(C))if(0===p){var I=new z(C.path);this.Se(s,I,new ar(I,nt.min()))}else we(1===p);else this.Me(s)!==p&&(this.xe(s),this.pe=this.pe.add(s))}},l.prototype.Oe=function(i){var s=this,p=new Map;this.Pe.forEach(function(I,L){var H=s.ke(L);if(H){if(I.te&&Tt(H.target)){var se=new z(H.target.path);null!==s.ye.get(se)||s.Le(L,se)||s.Se(L,se,new ar(se,i))}I.fe&&(p.set(L,I.we()),I.me())}});var y=Bn();this.Ve.forEach(function(I,L){var H=!0;L.xt(function(se){var ge=s.ke(se);return!ge||2===ge.et||(H=!1,!1)}),H&&(y=y.add(I))});var C=new Tr(i,p,this.pe,this.ye,y);return this.ye=Jr(),this.Ve=jr(),this.pe=new ir(Lt),C},l.prototype.ve=function(i,s){if(this.Fe(i)){var p=this.Le(i,s.key)?2:0;this.Ne(i).Te(s.key,p),this.ye=this.ye.ot(s.key,s),this.Ve=this.Ve.ot(s.key,this.Be(s.key).add(i))}},l.prototype.Se=function(i,s,p){if(this.Fe(i)){var y=this.Ne(i);this.Le(i,s)?y.Te(s,1):y.Ee(s),this.Ve=this.Ve.ot(s,this.Be(s).delete(i)),p&&(this.ye=this.ye.ot(s,p))}},l.prototype.removeTarget=function(i){this.Pe.delete(i)},l.prototype.Me=function(i){var s=this.Ne(i).we();return this.ge.qe(i).size+s.ee.size-s.se.size},l.prototype.Ie=function(i){this.Ne(i).Ie()},l.prototype.Ne=function(i){var s=this.Pe.get(i);return s||(s=new _n,this.Pe.set(i,s)),s},l.prototype.Be=function(i){var s=this.Ve.get(i);return s||(s=new ir(Lt),this.Ve=this.Ve.ot(i,s)),s},l.prototype.Fe=function(i){var s=null!==this.ke(i);return s||ye("WatchChangeAggregator","Detected inactive target",i),s},l.prototype.ke=function(i){var s=this.Pe.get(i);return s&&s._e?null:this.ge.Ue(i)},l.prototype.xe=function(i){var s=this;this.Pe.set(i,new _n),this.ge.qe(i).forEach(function(p){s.Se(i,p,null)})},l.prototype.Le=function(i,s){return this.ge.qe(i).has(s)},l}();function jr(){return new Nn(z.i)}function Hr(){return new Nn(z.i)}function wr(l){var i,s;return"server_timestamp"===(null===(s=((null===(i=null==l?void 0:l.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===s?void 0:s.stringValue)}function Gr(l){var i=l.mapValue.fields.__previous_value__;return wr(i)?Gr(i):i}function yr(l){var i=qt(l.mapValue.fields.__local_write_time__.timestampValue);return new be(i.seconds,i.nanos)}var Yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?wr(l)?4:10:et()}function tn(l,i){var y,s=Yr(l);if(s!==Yr(i))return!1;switch(s){case 0:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return yr(l).isEqual(yr(i));case 3:return function(p,y){if("string"==typeof p.timestampValue&&"string"==typeof y.timestampValue&&p.timestampValue.length===y.timestampValue.length)return p.timestampValue===y.timestampValue;var C=qt(p.timestampValue),I=qt(y.timestampValue);return C.seconds===I.seconds&&C.nanos===I.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return y=i,er(l.bytesValue).isEqual(er(y.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(p,y){return An(p.geoPointValue.latitude)===An(y.geoPointValue.latitude)&&An(p.geoPointValue.longitude)===An(y.geoPointValue.longitude)}(l,i);case 2:return function(p,y){if("integerValue"in p&&"integerValue"in y)return An(p.integerValue)===An(y.integerValue);if("doubleValue"in p&&"doubleValue"in y){var C=An(p.doubleValue),I=An(y.doubleValue);return C===I?Te(C)===Te(I):isNaN(C)&&isNaN(I)}return!1}(l,i);case 9:return Gn(l.arrayValue.values||[],i.arrayValue.values||[],tn);case 10:return function(p,y){var C=p.mapValue.fields||{},I=y.mapValue.fields||{};if(Dt(C)!==Dt(I))return!1;for(var L in C)if(C.hasOwnProperty(L)&&(void 0===I[L]||!tn(C[L],I[L])))return!1;return!0}(l,i);default:return et()}}function Ir(l,i){return void 0!==(l.values||[]).find(function(s){return tn(s,i)})}function Wn(l,i){var y,C,I,L,s=Yr(l),p=Yr(i);if(s!==p)return Lt(s,p);switch(s){case 0:return 0;case 1:return Lt(l.booleanValue,i.booleanValue);case 2:return C=i,(I=An((y=l).integerValue||y.doubleValue))<(L=An(C.integerValue||C.doubleValue))?-1:I>L?1:I===L?0:isNaN(I)?isNaN(L)?0:-1:1;case 3:return qi(l.timestampValue,i.timestampValue);case 4:return qi(yr(l),yr(i));case 5:return Lt(l.stringValue,i.stringValue);case 6:return function(y,C){var I=er(y),L=er(C);return I.L(L)}(l.bytesValue,i.bytesValue);case 7:return function(y,C){for(var I=y.split("/"),L=C.split("/"),H=0;H<I.length&&H<L.length;H++){var se=Lt(I[H],L[H]);if(0!==se)return se}return Lt(I.length,L.length)}(l.referenceValue,i.referenceValue);case 8:return function(y,C){var I=Lt(An(y.latitude),An(C.latitude));return 0!==I?I:Lt(An(y.longitude),An(C.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(y,C){for(var I=y.values||[],L=C.values||[],H=0;H<I.length&&H<L.length;++H){var se=Wn(I[H],L[H]);if(se)return se}return Lt(I.length,L.length)}(l.arrayValue,i.arrayValue);case 10:return function(y,C){var I=y.fields||{},L=Object.keys(I),H=C.fields||{},se=Object.keys(H);L.sort(),se.sort();for(var ge=0;ge<L.length&&ge<se.length;++ge){var Pe=Lt(L[ge],se[ge]);if(0!==Pe)return Pe;var ke=Wn(I[L[ge]],H[se[ge]]);if(0!==ke)return ke}return Lt(L.length,se.length)}(l.mapValue,i.mapValue);default:throw et()}}function qi(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return Lt(l,i);var s=qt(l),p=qt(i),y=Lt(s.seconds,p.seconds);return 0!==y?y:Lt(s.nanos,p.nanos)}function pn(l){return Sr(l)}function Sr(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?"time("+(y=qt(l.timestampValue)).seconds+","+y.nanos+")":"stringValue"in l?l.stringValue:"bytesValue"in l?er(l.bytesValue).toBase64():"referenceValue"in l?z.C(l.referenceValue).toString():"geoPointValue"in l?"geo("+(i=l.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in l?function(p){for(var y="[",C=!0,I=0,L=p.values||[];I<L.length;I++)C?C=!1:y+=",",y+=Sr(L[I]);return y+"]"}(l.arrayValue):"mapValue"in l?function(p){for(var y="{",C=!0,I=0,L=Object.keys(p.fields||{}).sort();I<L.length;I++){var H=L[I];C?C=!1:y+=",",y+=H+":"+Sr(p.fields[H])}return y+"}"}(l.mapValue):et();var y,i}function qt(l){if(we(!!l),"string"==typeof l){var i=0,s=Yi.exec(l);if(we(!!s),s[1]){var p=s[1];p=(p+"000000000").substr(0,9),i=Number(p)}var y=new Date(l);return{seconds:Math.floor(y.getTime()/1e3),nanos:i}}return{seconds:An(l.seconds),nanos:An(l.nanos)}}function An(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function er(l){return"string"==typeof l?kt.fromBase64String(l):kt.fromUint8Array(l)}function Tn(l,i){return{referenceValue:"projects/"+l.projectId+"/databases/"+l.database+"/documents/"+i.path.R()}}function en(l){return!!l&&"integerValue"in l}function ss(l){return!!l&&"arrayValue"in l}function $r(l){return!!l&&"nullValue"in l}function Kr(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function ii(l){return!!l&&"mapValue"in l}var Oi={asc:"ASCENDING",desc:"DESCENDING"},Kt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dr=function(l,i){this.U=l,this.Qe=i};function Qi(l){return{integerValue:""+l}}function zn(l,i){if(l.Qe){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(i)?"-0":i}}function or(l,i){return me(i)?Qi(i):zn(l,i)}function uo(l,i){return l.Qe?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function lo(l,i){return l.Qe?i.toBase64():i.toUint8Array()}function Pi(l,i){return uo(l,i.Z())}function xr(l){return we(!!l),nt.J((s=qt(l),new be(s.seconds,s.nanos)));var s}function Zr(l,i){return(s=l,new At(["projects",s.projectId,"databases",s.database])).child("documents").child(i).R();var s}function So(l){var i=At.g(l);return we(Li(i)),i}function yi(l,i){return Zr(l.U,i.path)}function qr(l,i){var s=So(i);return we(s.get(1)===l.U.projectId),we(!s.get(3)&&!l.U.database||s.get(3)===l.U.database),new z(ki(s))}function _i(l,i){return Zr(l.U,i)}function Wo(l){var i=So(l);return 4===i.length?At.P():ki(i)}function fr(l){return new At(["projects",l.U.projectId,"databases",l.U.database]).R()}function ki(l){return we(l.length>4&&"documents"===l.get(4)),l.u(5)}function co(l,i,s){return{name:yi(l,i),fields:s.proto.mapValue.fields}}function Ji(l,i){var s,y;if(i instanceof Ht)s={update:co(l,i.key,i.value)};else if(i instanceof sr)s={delete:yi(l,i.key)};else if(i instanceof sn)s={update:co(l,i.key,i.data),updateMask:hi(i.We)};else if(i instanceof On)s={transform:{document:yi(l,i.key),fieldTransforms:i.fieldTransforms.map(function(p){return function(y,C){var I=C.transform;if(I instanceof Di)return{fieldPath:C.field.R(),setToServerValue:"REQUEST_TIME"};if(I instanceof ai)return{fieldPath:C.field.R(),appendMissingElements:{values:I.elements}};if(I instanceof Cr)return{fieldPath:C.field.R(),removeAllFromArray:{values:I.elements}};if(I instanceof Fr)return{fieldPath:C.field.R(),increment:I.je};throw et()}(0,p)})}};else{if(!(i instanceof Nr))return et();s={verify:yi(l,i.key)}}return i.Ge.Ke||(s.currentDocument=void 0!==(y=i.Ge).updateTime?{updateTime:Pi(l,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:et()),s}function Ki(l,i){var ge,s=i.currentDocument?void 0!==(ge=i.currentDocument).updateTime?Vr.updateTime(xr(ge.updateTime)):void 0!==ge.exists?Vr.exists(ge.exists):Vr.ze():Vr.ze();if(i.update){var p=qr(l,i.update.name),y=new ui({mapValue:{fields:i.update.fields}});if(i.updateMask){var C=function(ge){return new Lr((ge.fieldPaths||[]).map(function(ke){return Z.S(ke)}))}(i.updateMask);return new sn(p,y,C,s)}return new Ht(p,y,s)}if(i.delete){var I=qr(l,i.delete);return new sr(I,s)}if(i.transform){var L=qr(l,i.transform.document),H=i.transform.fieldTransforms.map(function(ge){return function(Pe,ke){var Ye=null;"setToServerValue"in ke?(we("REQUEST_TIME"===ke.setToServerValue),Ye=new Di):"appendMissingElements"in ke?Ye=new ai(ke.appendMissingElements.values||[]):"removeAllFromArray"in ke?Ye=new Cr(ke.removeAllFromArray.values||[]):"increment"in ke?Ye=new Fr(Pe,ke.increment):et();var Qt=Z.S(ke.fieldPath);return new _r(Qt,Ye)}(l,ge)});return we(!0===s.exists),new On(L,H)}if(i.verify){var se=qr(l,i.verify);return new Nr(se,s)}return et()}function oi(l,i){return{documents:[_i(l,i.path)]}}function as(l,i){var s={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(s.parent=_i(l,p),s.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(s.parent=_i(l,p.h()),s.structuredQuery.from=[{collectionId:p._()}]);var y=function(L){if(0!==L.length){var H=L.map(function(se){return function(ge){if("=="===ge.op){if(Kr(ge.value))return{unaryFilter:{field:Xr(ge.field),op:"IS_NAN"}};if($r(ge.value))return{unaryFilter:{field:Xr(ge.field),op:"IS_NULL"}}}else if("!="===ge.op){if(Kr(ge.value))return{unaryFilter:{field:Xr(ge.field),op:"IS_NOT_NAN"}};if($r(ge.value))return{unaryFilter:{field:Xr(ge.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(ge.field),op:No(ge.op),value:ge.value}}}(se)});return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}}(i.filters);y&&(s.structuredQuery.where=y);var C=function(L){if(0!==L.length)return L.map(function(H){return{field:Xr((se=H).field),direction:Cn(se.dir)};var se})}(i.orderBy);C&&(s.structuredQuery.orderBy=C);var H,I=(H=i.limit,l.Qe||mt(H)?H:{value:H});return null!==I&&(s.structuredQuery.limit=I),i.startAt&&(s.structuredQuery.startAt=fi(i.startAt)),i.endAt&&(s.structuredQuery.endAt=fi(i.endAt)),s}function Zi(l){var i=Wo(l.parent),s=l.structuredQuery,p=s.from?s.from.length:0,y=null;if(p>0){we(1===p);var C=s.from[0];C.allDescendants?y=C.collectionId:i=i.child(C.collectionId)}var I=[];s.where&&(I=$i(s.where));var L=[];s.orderBy&&(L=s.orderBy.map(function(Pe){return new Qo(si((ke=Pe).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));var Pe,ke,H=null;s.limit&&(H=mt(ke="object"==typeof(Pe=s.limit)?Pe.value:Pe)?null:ke);var se=null;s.startAt&&(se=Fi(s.startAt));var ge=null;return s.endAt&&(ge=Fi(s.endAt)),zr(ys(i,y,L,I,H,"F",se,ge))}function $i(l){return l?void 0!==l.unaryFilter?[fo(l)]:void 0!==l.fieldFilter?[Wi(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(function(i){return $i(i)}).reduce(function(i,s){return i.concat(s)}):et():[]}function fi(l){return{before:l.before,values:l.position}}function Fi(l){return new Mi(l.values||[],!!l.before)}function Cn(l){return Oi[l]}function No(l){return Kt[l]}function Xr(l){return{fieldPath:l.R()}}function si(l){return Z.S(l.fieldPath)}function Wi(l){return ur.create(si(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return et()}}(l.fieldFilter.op),l.fieldFilter.value)}function fo(l){switch(l.unaryFilter.op){case"IS_NAN":var i=si(l.unaryFilter.field);return ur.create(i,"==",{doubleValue:NaN});case"IS_NULL":var s=si(l.unaryFilter.field);return ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=si(l.unaryFilter.field);return ur.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=si(l.unaryFilter.field);return ur.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return et()}}function hi(l){var i=[];return l.fields.forEach(function(s){return i.push(s.R())}),{fieldPaths:i}}function Li(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}var gn=function(){this.He=void 0};function Wr(l,i,s){return l instanceof Di?(C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=s).seconds,nanos:p.nanoseconds}}}},(y=i)&&(C.fields.__previous_value__=y),{mapValue:C}):l instanceof ai?vo(l,i):l instanceof Cr?Ao(l,i):function(p,y){var C=As(p,y),I=bo(C)+bo(p.je);return en(C)&&en(p.je)?Qi(I):zn(p.serializer,I)}(l,i);var p,y,C}function zo(l,i,s){return l instanceof ai?vo(l,i):l instanceof Cr?Ao(l,i):s}function As(l,i){return l instanceof Fr?en(s=i)||(p=s)&&"doubleValue"in p?i:{integerValue:0}:null;var p,s}var Di=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i}(gn),ai=function(l){function i(s){var p=this;return(p=l.call(this)||this).elements=s,p}return x.__extends(i,l),i}(gn);function vo(l,i){for(var s=Xi(i),p=function(I){s.some(function(L){return tn(L,I)})||s.push(I)},y=0,C=l.elements;y<C.length;y++)p(C[y]);return{arrayValue:{values:s}}}var Cr=function(l){function i(s){var p=this;return(p=l.call(this)||this).elements=s,p}return x.__extends(i,l),i}(gn);function Ao(l,i){for(var s=Xi(i),p=function(I){s=s.filter(function(L){return!tn(L,I)})},y=0,C=l.elements;y<C.length;y++)p(C[y]);return{arrayValue:{values:s}}}var Fr=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).serializer=s,y.je=p,y}return x.__extends(i,l),i}(gn);function bo(l){return An(l.integerValue||l.doubleValue)}function Xi(l){return ss(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}var Lr=function(){function l(i){this.fields=i,i.sort(Z.i)}return l.prototype.Ye=function(i){for(var s=0,p=this.fields;s<p.length;s++)if(p[s].T(i))return!0;return!1},l.prototype.isEqual=function(i){return Gn(this.fields,i.fields,function(s,p){return s.isEqual(p)})},l}(),_r=function(l,i){this.field=l,this.transform=i},wo=function(l,i){this.version=l,this.transformResults=i},Vr=function(){function l(i,s){this.updateTime=i,this.exists=s}return l.ze=function(){return new l},l.exists=function(i){return new l(void 0,i)},l.updateTime=function(i){return new l(i)},Object.defineProperty(l.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},l}();function U(l,i){return void 0!==l.updateTime?i instanceof Mt&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i instanceof Mt}var ne=function(){};function j(l,i,s){return l instanceof Ht?new Mt((p=l).key,s.version,p.value,{hasCommittedMutations:!0}):l instanceof sn?function(p,y,C){if(!U(p.Ge,y))return new Vi(p.key,C.version);var I=Qn(p,y);return new Mt(p.key,C.version,I,{hasCommittedMutations:!0})}(l,i,s):l instanceof On?function(p,y,C){if(we(null!=C.transformResults),!U(p.Ge,y))return new Vi(p.key,C.version);var I=ln(0,y),L=function(ge,Pe,ke){var Ye=[];we(ge.length===ke.length);for(var rt=0;rt<ke.length;rt++){var ut=ge[rt],Qt=ut.transform,$t=null;Pe instanceof Mt&&($t=Pe.field(ut.field)),Ye.push(zo(Qt,$t,ke[rt]))}return Ye}(p.fieldTransforms,y,C.transformResults),H=C.version,se=Mn(p,I.data(),L);return new Mt(p.key,H,se,{hasCommittedMutations:!0})}(l,i,s):function(p,y,C){return new ar(p.key,C.version,{hasCommittedMutations:!0})}(l,0,s);var p}function le(l,i,s,p){return l instanceof Ht?function(y,C){if(!U(y.Ge,C))return C;var I=bt(C);return new Mt(y.key,I,y.value,{Je:!0})}(l,i):l instanceof sn?function(y,C){if(!U(y.Ge,C))return C;var I=bt(C),L=Qn(y,C);return new Mt(y.key,I,L,{Je:!0})}(l,i):l instanceof On?function(y,C,I,L){if(!U(y.Ge,C))return C;var H=ln(0,C),se=function(Pe,ke,Ye,rt){for(var ut=[],Qt=0,$t=Pe;Qt<$t.length;Qt++){var hn=$t[Qt],Un=hn.transform,Jn=null;Ye instanceof Mt&&(Jn=Ye.field(hn.field)),null===Jn&&rt instanceof Mt&&(Jn=rt.field(hn.field)),ut.push(Wr(Un,Jn,ke))}return ut}(y.fieldTransforms,I,C,L),ge=Mn(y,H.data(),se);return new Mt(y.key,H.version,ge,{Je:!0})}(l,i,p,s):U((y=l).Ge,C=i)?new ar(y.key,nt.min()):C;var y,C}function Ae(l,i){return l instanceof On?function(s,p){for(var y=null,C=0,I=s.fieldTransforms;C<I.length;C++){var L=I[C],H=p instanceof Mt?p.field(L.field):void 0,se=As(L.transform,H||null);null!=se&&(y=null==y?(new hr).set(L.field,se):y.set(L.field,se))}return y?y.Xe():null}(l,i):null}function st(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.Ge.isEqual(i.Ge)&&(0===l.type?l.value.isEqual(i.value):1===l.type?l.data.isEqual(i.data)&&l.We.isEqual(i.We):2!==l.type||Gn(l.fieldTransforms,l.fieldTransforms,function(s,p){return(y=s).field.isEqual((C=p).field)&&(L=C.transform,(I=y.transform)instanceof ai&&L instanceof ai||I instanceof Cr&&L instanceof Cr?Gn(I.elements,L.elements,tn):I instanceof Fr&&L instanceof Fr?tn(I.je,L.je):I instanceof Di&&L instanceof Di);var y,C,I,L}))}function bt(l){return l instanceof Mt?l.version:nt.min()}var Ht=function(l){function i(s,p,y){var C=this;return(C=l.call(this)||this).key=s,C.value=p,C.Ge=y,C.type=0,C}return x.__extends(i,l),i}(ne),sn=function(l){function i(s,p,y,C){var I=this;return(I=l.call(this)||this).key=s,I.data=p,I.We=y,I.Ge=C,I.type=1,I}return x.__extends(i,l),i}(ne);function Qn(l,i){return s=l,p=i instanceof Mt?i.data():ui.empty(),y=new hr(p),s.We.fields.forEach(function(C){if(!C.m()){var I=s.data.field(C);null!==I?y.set(C,I):y.delete(C)}}),y.Xe();var s,p,y}var On=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).key=s,y.fieldTransforms=p,y.type=2,y.Ge=Vr.exists(!0),y}return x.__extends(i,l),i}(ne);function ln(l,i){return i}function Mn(l,i,s){for(var p=new hr(i),y=0;y<l.fieldTransforms.length;y++)p.set(l.fieldTransforms[y].field,s[y]);return p.Xe()}var sr=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).key=s,y.Ge=p,y.type=3,y}return x.__extends(i,l),i}(ne),Nr=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).key=s,y.Ge=p,y.type=4,y}return x.__extends(i,l),i}(ne),ui=function(){function l(i){this.proto=i}return l.empty=function(){return new l({mapValue:{}})},l.prototype.field=function(i){if(i.m())return this.proto;for(var s=this.proto,p=0;p<i.length-1;++p)if(!s.mapValue.fields||!ii(s=s.mapValue.fields[i.get(p)]))return null;return(s=(s.mapValue.fields||{})[i._()])||null},l.prototype.isEqual=function(i){return tn(this.proto,i.proto)},l}(),hr=function(){function l(i){void 0===i&&(i=ui.empty()),this.Ze=i,this.tn=new Map}return l.prototype.set=function(i,s){return this.en(i,s),this},l.prototype.delete=function(i){return this.en(i,null),this},l.prototype.en=function(i,s){for(var p=this.tn,y=0;y<i.length-1;++y){var C=i.get(y),I=p.get(C);I instanceof Map?p=I:I&&10===Yr(I)?(I=new Map(Object.entries(I.mapValue.fields||{})),p.set(C,I),p=I):(I=new Map,p.set(C,I),p=I)}p.set(i._(),s)},l.prototype.Xe=function(){var i=this.nn(Z.P(),this.tn);return null!=i?new ui(i):this.Ze},l.prototype.nn=function(i,s){var p=this,y=!1,C=this.Ze.field(i),I=ii(C)?Object.assign({},C.mapValue.fields):{};return s.forEach(function(L,H){if(L instanceof Map){var se=p.nn(i.child(H),L);null!=se&&(I[H]=se,y=!0)}else null!==L?(I[H]=L,y=!0):I.hasOwnProperty(H)&&(delete I[H],y=!0)}),y?{mapValue:{fields:I}}:null},l}();function zi(l){var i=[];return Gt(l.fields||{},function(s,p){var y=new Z([s]);if(ii(p)){var C=zi(p.mapValue).fields;if(0===C.length)i.push(y);else for(var I=0,L=C;I<L.length;I++)i.push(y.child(L[I]))}else i.push(y)}),new Lr(i)}var tr=function(l,i){this.key=l,this.version=i},Mt=function(l){function i(s,p,y,C){var I=this;return(I=l.call(this,s,p)||this).sn=y,I.Je=!!C.Je,I.hasCommittedMutations=!!C.hasCommittedMutations,I}return x.__extends(i,l),i.prototype.field=function(s){return this.sn.field(s)},i.prototype.data=function(){return this.sn},i.prototype.rn=function(){return this.sn.proto},i.prototype.isEqual=function(s){return s instanceof i&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.Je===s.Je&&this.hasCommittedMutations===s.hasCommittedMutations&&this.sn.isEqual(s.sn)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i}(tr),ar=function(l){function i(s,p,y){var C=this;return(C=l.call(this,s,p)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),C}return x.__extends(i,l),i.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(s){return s instanceof i&&s.hasCommittedMutations===this.hasCommittedMutations&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},i}(tr),Vi=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(s){return s instanceof i&&s.version.isEqual(this.version)&&s.key.isEqual(this.key)},i}(tr),ho=function(l,i,s,p,y,C,I,L){void 0===i&&(i=null),void 0===s&&(s=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===C&&(C="F"),void 0===I&&(I=null),void 0===L&&(L=null),this.path=l,this.collectionGroup=i,this.on=s,this.filters=p,this.limit=y,this.an=C,this.startAt=I,this.endAt=L,this.cn=null,this.un=null};function ys(l,i,s,p,y,C,I,L){return new ho(l,i,s,p,y,C,I,L)}function Ti(l){return new ho(l)}function Mo(l){return!mt(l.limit)&&"F"===l.an}function Bi(l){return!mt(l.limit)&&"L"===l.an}function yt(l){return l.on.length>0?l.on[0].field:null}function Pn(l){for(var i=0,s=l.filters;i<s.length;i++){var p=s[i];if(p.hn())return p.field}return null}function Ii(l){return null!==l.collectionGroup}function nr(l){var i=Qe(l);if(null===i.cn){i.cn=[];var s=Pn(i),p=yt(i);if(null!==s&&null===p)s.p()||i.cn.push(new Qo(s)),i.cn.push(new Qo(Z.v(),"asc"));else{for(var y=!1,C=0,I=i.on;C<I.length;C++){var L=I[C];i.cn.push(L),L.field.p()&&(y=!0)}if(!y){var H=i.on.length>0?i.on[i.on.length-1].dir:"asc";i.cn.push(new Qo(Z.v(),H))}}}return i.cn}function zr(l){var i=Qe(l);if(!i.un)if("F"===i.an)i.un=ze(i.path,i.collectionGroup,nr(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var s=[],p=0,y=nr(i);p<y.length;p++){var C=y[p];s.push(new Qo(C.field,"desc"===C.dir?"asc":"desc"))}var L=i.endAt?new Mi(i.endAt.position,!i.endAt.before):null,H=i.startAt?new Mi(i.startAt.position,!i.startAt.before):null;i.un=ze(i.path,i.collectionGroup,s,i.filters,i.limit,L,H)}return i.un}function eo(l,i,s){return new ho(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),i,s,l.startAt,l.endAt)}function to(l,i){return new ho(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),l.limit,l.an,i,l.endAt)}function us(l,i){return new ho(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),l.limit,l.an,l.startAt,i)}function Si(l,i){return wt(zr(l),zr(i))&&l.an===i.an}function ks(l){return $e(zr(l))+"|lt:"+l.an}function ls(l){return"Query(target="+(s=(i=zr(l)).path.R(),null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=", filters: ["+i.filters.map(function(p){return(y=p).field.R()+" "+y.op+" "+pn(y.value);var y}).join(", ")+"]"),mt(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=", orderBy: ["+i.orderBy.map(function(p){return(y=p).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),i.startAt&&(s+=", startAt: "+vi(i.startAt)),i.endAt&&(s+=", endAt: "+vi(i.endAt)),"Target("+s+"); limitType=")+l.an+")";var i,s}function Ui(l,i){return y=(p=i).key.path,(null!==(s=l).collectionGroup?p.key.N(s.collectionGroup)&&s.path.T(y):z.F(s.path)?s.path.isEqual(y):s.path.I(y))&&function(s,p){for(var y=0,C=s.on;y<C.length;y++){var I=C[y];if(!I.field.p()&&null===p.field(I.field))return!1}return!0}(l,i)&&function(s,p){for(var y=0,C=s.filters;y<C.length;y++)if(!C[y].matches(p))return!1;return!0}(l,i)&&function(s,p){return!(s.startAt&&!_s(s.startAt,nr(s),p)||s.endAt&&_s(s.endAt,nr(s),p))}(l,i);var s,p,y}function Yo(l){return function(i,s){for(var p=!1,y=0,C=nr(l);y<C.length;y++){var I=C[y],L=vs(I,i,s);if(0!==L)return L;p=p||I.field.p()}return 0}}var ur=function(l){function i(s,p,y){var C=this;return(C=l.call(this)||this).field=s,C.op=p,C.value=y,C}return x.__extends(i,l),i.create=function(s,p,y){if(s.p())return"in"===p||"not-in"===p?this.ln(s,p,y):new Ni(s,p,y);if($r(y)){if("=="!==p&&"!="!==p)throw new X(te.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new i(s,p,y)}if(Kr(y)){if("=="!==p&&"!="!==p)throw new X(te.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new i(s,p,y)}return"array-contains"===p?new cs(s,y):"in"===p?new Ms(s,y):"not-in"===p?new xo(s,y):"array-contains-any"===p?new xs(s,y):new i(s,p,y)},i.ln=function(s,p,y){return"in"===p?new qo(s,y):new Co(s,y)},i.prototype.matches=function(s){var p=s.field(this.field);return"!="===this.op?null!==p&&this._n(Wn(p,this.value)):null!==p&&Yr(this.value)===Yr(p)&&this._n(Wn(p,this.value))},i.prototype._n=function(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return et()}},i.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),Ni=function(l){function i(s,p,y){var C=this;return(C=l.call(this,s,p,y)||this).key=z.C(y.referenceValue),C}return x.__extends(i,l),i.prototype.matches=function(s){var p=z.i(s.key,this.key);return this._n(p)},i}(ur),qo=function(l){function i(s,p){var y=this;return(y=l.call(this,s,"in",p)||this).keys=Ai(0,p),y}return x.__extends(i,l),i.prototype.matches=function(s){return this.keys.some(function(p){return p.isEqual(s.key)})},i}(ur),Co=function(l){function i(s,p){var y=this;return(y=l.call(this,s,"not-in",p)||this).keys=Ai(0,p),y}return x.__extends(i,l),i.prototype.matches=function(s){return!this.keys.some(function(p){return p.isEqual(s.key)})},i}(ur);function Ai(l,i){var s;return((null===(s=i.arrayValue)||void 0===s?void 0:s.values)||[]).map(function(p){return z.C(p.referenceValue)})}var cs=function(l){function i(s,p){return l.call(this,s,"array-contains",p)||this}return x.__extends(i,l),i.prototype.matches=function(s){var p=s.field(this.field);return ss(p)&&Ir(p.arrayValue,this.value)},i}(ur),Ms=function(l){function i(s,p){return l.call(this,s,"in",p)||this}return x.__extends(i,l),i.prototype.matches=function(s){var p=s.field(this.field);return null!==p&&Ir(this.value.arrayValue,p)},i}(ur),xo=function(l){function i(s,p){return l.call(this,s,"not-in",p)||this}return x.__extends(i,l),i.prototype.matches=function(s){if(Ir(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=s.field(this.field);return null!==p&&!Ir(this.value.arrayValue,p)},i}(ur),xs=function(l){function i(s,p){return l.call(this,s,"array-contains-any",p)||this}return x.__extends(i,l),i.prototype.matches=function(s){var p=this,y=s.field(this.field);return!(!ss(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(C){return Ir(p.value.arrayValue,C)})},i}(ur),Mi=function(l,i){this.position=l,this.before=i};function vi(l){return(l.before?"b":"a")+":"+l.position.map(function(i){return pn(i)}).join(",")}function _s(l,i,s){for(var p=0,y=0;y<l.position.length;y++){var C=i[y],I=l.position[y];if(p=C.field.p()?z.i(z.C(I.referenceValue),s.key):Wn(I,s.field(C.field)),"desc"===C.dir&&(p*=-1),0!==p)break}return l.before?p<=0:p<0}function ds(l,i){if(null===l)return null===i;if(null===i||l.before!==i.before||l.position.length!==i.position.length)return!1;for(var s=0;s<l.position.length;s++)if(!tn(l.position[s],i.position[s]))return!1;return!0}var Qo=function(l,i){void 0===i&&(i="asc"),this.field=l,this.dir=i};function vs(l,i,s){var y,I,L,H,p=l.field.p()?z.i(i.key,s.key):(I=s,L=i.field(y=l.field),H=I.field(y),null!==L&&null!==H?Wn(L,H):et());switch(l.dir){case"asc":return p;case"desc":return-1*p;default:return et()}}function Jo(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}var xn=function(){var l=this;this.promise=new Promise(function(i,s){l.resolve=i,l.reject=s})},bs=function(){function l(i,s,p,y,C){void 0===p&&(p=1e3),void 0===y&&(y=1.5),void 0===C&&(C=6e4),this.fn=i,this.dn=s,this.wn=p,this.mn=y,this.Tn=C,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return l.prototype.reset=function(){this.En=0},l.prototype.Rn=function(){this.En=this.Tn},l.prototype.gn=function(i){var s=this;this.cancel();var p=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),C=Math.max(0,p-y);C>0&&ye("ExponentialBackoff","Backing off for "+C+" ms (base delay: "+this.En+" ms, delay with jitter: "+p+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,C,function(){return s.An=Date.now(),i()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},l.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},l.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},l.prototype.Pn=function(){return(Math.random()-.5)*this.En},l}(),Ct=function(){function l(i){var s=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,i(function(p){s.Sn=!0,s.result=p,s.bn&&s.bn(p)},function(p){s.Sn=!0,s.error=p,s.vn&&s.vn(p)})}return l.prototype.catch=function(i){return this.next(void 0,i)},l.prototype.next=function(i,s){var p=this;return this.Dn&&et(),this.Dn=!0,this.Sn?this.error?this.Cn(s,this.error):this.Nn(i,this.result):new l(function(y,C){p.bn=function(I){p.Nn(i,I).next(y,C)},p.vn=function(I){p.Cn(s,I).next(y,C)}})},l.prototype.Fn=function(){var i=this;return new Promise(function(s,p){i.next(s,p)})},l.prototype.xn=function(i){try{var s=i();return s instanceof l?s:l.resolve(s)}catch(p){return l.reject(p)}},l.prototype.Nn=function(i,s){return i?this.xn(function(){return i(s)}):l.resolve(s)},l.prototype.Cn=function(i,s){return i?this.xn(function(){return i(s)}):l.reject(s)},l.resolve=function(i){return new l(function(s,p){s(i)})},l.reject=function(i){return new l(function(s,p){p(i)})},l.$n=function(i){return new l(function(s,p){var y=0,C=0,I=!1;i.forEach(function(L){++y,L.next(function(){++C,I&&C===y&&s()},function(H){return p(H)})}),I=!0,C===y&&s()})},l.kn=function(i){for(var s=l.resolve(!1),p=function(I){s=s.next(function(L){return L?l.resolve(L):I()})},y=0,C=i;y<C.length;y++)p(C[y]);return s},l.forEach=function(i,s){var p=this,y=[];return i.forEach(function(C,I){y.push(s.call(p,C,I))}),this.$n(y)},l}(),lr=function(){function l(i,s,p){this.name=i,this.version=s,this.Mn=p,12.2===l.On(He.getUA())&&tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return l.delete=function(i){return ye("SimpleDb","Removing database:",i),cr(window.indexedDB.deleteDatabase(i)).Fn()},l.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(l.Bn())return!0;var i=He.getUA(),s=l.On(i),p=0<s&&s<10,y=l.qn(i),C=0<y&&y<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||C)},l.Bn=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Un)},l.Qn=function(i,s){return i.store(s)},l.On=function(i){var s=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(p)},l.qn=function(i){var s=i.match(/Android ([\d.]+)/i),p=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(p)},l.prototype.Wn=function(i){return x.__awaiter(this,void 0,void 0,function(){var s,p=this;return x.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(ye("SimpleDb","Opening database:",this.name),s=this,[4,new Promise(function(C,I){var L=indexedDB.open(p.name,p.version);L.onsuccess=function(H){C(H.target.result)},L.onblocked=function(){I(new Oo(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},L.onerror=function(H){var se=H.target.error;I("VersionError"===se.name?new X(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Oo(i,se))},L.onupgradeneeded=function(H){ye("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',H.oldVersion),p.Mn.createOrUpgrade(H.target.result,L.transaction,H.oldVersion,p.version).next(function(){ye("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:s.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(C){return p.jn(C)}),this.db)]}})})},l.prototype.Kn=function(i){this.jn=i,this.db&&(this.db.onversionchange=function(s){return i(s)})},l.prototype.runTransaction=function(i,s,p,y){return x.__awaiter(this,void 0,void 0,function(){var C,I,L,H,se;return x.__generator(this,function(ge){switch(ge.label){case 0:C="readonly"===s,I=0,L=function(){var Pe,ke,Ye,rt,ut;return x.__generator(this,function(Qt){switch(Qt.label){case 0:++I,Qt.label=1;case 1:return Qt.trys.push([1,4,,5]),[4,H.Wn(i)];case 2:return H.db=Qt.sent(),Pe=rr.open(H.db,i,C?"readonly":"readwrite",p),ke=y(Pe).catch(function($t){return Pe.abort($t),Ct.reject($t)}).Fn(),Ye={},ke.catch(function(){}),[4,Pe.Gn];case 3:return[2,(Ye.value=(Qt.sent(),ke),Ye)];case 4:return ye("SimpleDb","Transaction failed with error:",(rt=Qt.sent()).message,"Retrying:",ut="FirebaseError"!==rt.name&&I<3),H.close(),ut?[3,5]:[2,{value:Promise.reject(rt)}];case 5:return[2]}})},H=this,ge.label=1;case 1:return[5,L()];case 2:if("object"==typeof(se=ge.sent()))return[2,se.value];ge.label=3;case 3:return[3,1];case 4:return[2]}})})},l.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},l}(),Ro=function(){function l(i){this.zn=i,this.Hn=!1,this.Yn=null}return Object.defineProperty(l.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cursor",{set:function(i){this.zn=i},enumerable:!1,configurable:!0}),l.prototype.done=function(){this.Hn=!0},l.prototype.Xn=function(i){this.Yn=i},l.prototype.delete=function(){return cr(this.zn.delete())},l}(),Oo=function(l){function i(s,p){var y=this;return(y=l.call(this,te.UNAVAILABLE,"IndexedDB transaction '"+s+"' failed: "+p)||this).name="IndexedDbTransactionError",y}return x.__extends(i,l),i}(X);function Po(l){return"IndexedDbTransactionError"===l.name}var rr=function(){function l(i,s){var p=this;this.action=i,this.transaction=s,this.aborted=!1,this.Zn=new xn,this.transaction.oncomplete=function(){p.Zn.resolve()},this.transaction.onabort=function(){s.error?p.Zn.reject(new Oo(i,s.error)):p.Zn.resolve()},this.transaction.onerror=function(y){var C=v(y.target.error);p.Zn.reject(new Oo(i,C))}}return l.open=function(i,s,p,y){try{return new l(s,i.transaction(y,p))}catch(C){throw new Oo(s,C)}},Object.defineProperty(l.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),l.prototype.abort=function(i){i&&this.Zn.reject(i),this.aborted||(ye("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},l.prototype.store=function(i){var s=this.transaction.objectStore(i);return new po(s)},l}(),po=function(){function l(i){this.store=i}return l.prototype.put=function(i,s){var p;return void 0!==s?(ye("SimpleDb","PUT",this.store.name,i,s),p=this.store.put(s,i)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),cr(p)},l.prototype.add=function(i){return ye("SimpleDb","ADD",this.store.name,i,i),cr(this.store.add(i))},l.prototype.get=function(i){var s=this;return cr(this.store.get(i)).next(function(p){return void 0===p&&(p=null),ye("SimpleDb","GET",s.store.name,i,p),p})},l.prototype.delete=function(i){return ye("SimpleDb","DELETE",this.store.name,i),cr(this.store.delete(i))},l.prototype.count=function(){return ye("SimpleDb","COUNT",this.store.name),cr(this.store.count())},l.prototype.ts=function(i,s){var p=this.cursor(this.options(i,s)),y=[];return this.es(p,function(C,I){y.push(I)}).next(function(){return y})},l.prototype.ns=function(i,s){ye("SimpleDb","DELETE ALL",this.store.name);var p=this.options(i,s);p.ss=!1;var y=this.cursor(p);return this.es(y,function(C,I,L){return L.delete()})},l.prototype.rs=function(i,s){var p;s?p=i:(p={},s=i);var y=this.cursor(p);return this.es(y,s)},l.prototype.os=function(i){var s=this.cursor({});return new Ct(function(p,y){s.onerror=function(C){var I=v(C.target.error);y(I)},s.onsuccess=function(C){var I=C.target.result;I?i(I.primaryKey,I.value).next(function(L){L?I.continue():p()}):p()}})},l.prototype.es=function(i,s){var p=[];return new Ct(function(y,C){i.onerror=function(I){C(I.target.error)},i.onsuccess=function(I){var L=I.target.result;if(L){var H=new Ro(L),se=s(L.primaryKey,L.value,H);if(se instanceof Ct){var ge=se.catch(function(Pe){return H.done(),Ct.reject(Pe)});p.push(ge)}H.Sn?y():null===H.Jn?L.continue():L.continue(H.Jn)}else y()}}).next(function(){return Ct.$n(p)})},l.prototype.options=function(i,s){var p=void 0;return void 0!==i&&("string"==typeof i?p=i:s=i),{index:p,range:s}},l.prototype.cursor=function(i){var s="next";if(i.reverse&&(s="prev"),i.index){var p=this.store.index(i.index);return i.ss?p.openKeyCursor(i.range,s):p.openCursor(i.range,s)}return this.store.openCursor(i.range,s)},l}();function cr(l){return new Ct(function(i,s){l.onsuccess=function(p){i(p.target.result)},l.onerror=function(p){var y=v(p.target.error);s(y)}})}var Rr=!1;function v(l){var i=lr.On(He.getUA());if(i>=12.2&&i<13){var s="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(s)>=0){var p=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+s+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rr||(Rr=!0,setTimeout(function(){throw p},0)),p}}return l}function F(){return"undefined"!=typeof window?window:null}function W(){return"undefined"!=typeof document?document:null}var de=function(){function l(i,s,p,y,C){this.cs=i,this.dn=s,this.us=p,this.op=y,this.hs=C,this.ls=new xn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(I){})}return l._s=function(i,s,p,y,C){var I=new l(i,s,Date.now()+p,y,C);return I.start(p),I},l.prototype.start=function(i){var s=this;this.fs=setTimeout(function(){return s.ds()},i)},l.prototype.pn=function(){return this.ds()},l.prototype.cancel=function(i){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new X(te.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},l.prototype.ds=function(){var i=this;this.cs.ws(function(){return null!==i.fs?(i.clearTimeout(),i.op().then(function(s){return i.ls.resolve(s)})):Promise.resolve()})},l.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},l}(),Me=function(){function l(){var i=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new bs(this,"async_queue_retry"),this.Vs=function(){var p=W();p&&ye("AsyncQueue","Visibility state changed to  ",p.visibilityState),i.ys.Vn()};var s=W();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(l.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),l.prototype.ws=function(i){this.enqueue(i)},l.prototype.bs=function(i){this.vs(),this.Ss(i)},l.prototype.Ds=function(){if(!this.Is){this.Is=!0;var i=W();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vs)}},l.prototype.enqueue=function(i){return this.vs(),this.Is?new Promise(function(s){}):this.Ss(i)},l.prototype.Cs=function(i){var s=this;this.ws(function(){return s.Es.push(i),s.Ns()})},l.prototype.Ns=function(){return x.__awaiter(this,void 0,void 0,function(){var i,s=this;return x.__generator(this,function(p){switch(p.label){case 0:if(0===this.Es.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return p.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Po(i=p.sent()))throw i;return ye("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return s.Ns()}),p.label=5;case 5:return[2]}})})},l.prototype.Ss=function(i){var s=this,p=this.Ts.then(function(){return s.gs=!0,i().catch(function(y){throw s.Rs=y,s.gs=!1,tt("INTERNAL UNHANDLED ERROR: ",(I=(C=y).message||"",C.stack&&(I=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),I)),y;var C,I}).then(function(y){return s.gs=!1,y})});return this.Ts=p,p},l.prototype.yn=function(i,s,p){var y=this;this.vs(),this.Ps.indexOf(i)>-1&&(s=0);var C=de._s(this,i,s,p,function(I){return y.Fs(I)});return this.As.push(C),C},l.prototype.vs=function(){this.Rs&&et()},l.prototype.xs=function(){},l.prototype.$s=function(){return x.__awaiter(this,void 0,void 0,function(){var i;return x.__generator(this,function(s){switch(s.label){case 0:return[4,i=this.Ts];case 1:s.sent(),s.label=2;case 2:if(i!==this.Ts)return[3,0];s.label=3;case 3:return[2]}})})},l.prototype.ks=function(i){for(var s=0,p=this.As;s<p.length;s++)if(p[s].dn===i)return!0;return!1},l.prototype.Ms=function(i){var s=this;return this.$s().then(function(){s.As.sort(function(I,L){return I.us-L.us});for(var p=0,y=s.As;p<y.length;p++){var C=y[p];if(C.pn(),"all"!==i&&C.dn===i)break}return s.$s()})},l.prototype.Os=function(i){this.Ps.push(i)},l.prototype.Fs=function(i){var s=this.As.indexOf(i);this.As.splice(s,1)},l}();function Je(l,i){if(tt("AsyncQueue",i+": "+l),Po(l))return new X(te.UNAVAILABLE,i+": "+l);throw l}var Nt=function(){this.Ls=void 0,this.listeners=[]},fn=function(){this.Bs=new je(function(l){return ks(l)},Si),this.onlineState="Unknown",this.qs=new Set};function un(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y,C,I,L,H;return x.__generator(this,function(se){switch(se.label){case 0:if(s=Qe(l),y=!1,(C=s.Bs.get(p=i.query))||(y=!0,C=new Nt),!y)return[3,4];se.label=1;case 1:return se.trys.push([1,3,,4]),I=C,[4,s.Us(p)];case 2:return I.Ls=se.sent(),[3,4];case 3:return L=se.sent(),H=Je(L,"Initialization of query '"+ls(i.query)+"' failed"),[2,void i.onError(H)];case 4:return s.Bs.set(p,C),C.listeners.push(i),i.Qs(s.onlineState),C.Ls&&i.Ws(C.Ls)&&xe(s),[2]}})})}function O(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y,C,I;return x.__generator(this,function(L){return s=Qe(l),y=!1,(C=s.Bs.get(p=i.query))&&(I=C.listeners.indexOf(i))>=0&&(C.listeners.splice(I,1),y=0===C.listeners.length),y?[2,(s.Bs.delete(p),s.js(p))]:[2]})})}function k(l,i){for(var s=Qe(l),p=!1,y=0,C=i;y<C.length;y++){var I=C[y],H=s.Bs.get(I.query);if(H){for(var se=0,ge=H.listeners;se<ge.length;se++)ge[se].Ws(I)&&(p=!0);H.Ls=I}}p&&xe(s)}function K(l,i,s){var p=Qe(l),y=p.Bs.get(i);if(y)for(var C=0,I=y.listeners;C<I.length;C++)I[C].onError(s);p.Bs.delete(i)}function xe(l){l.qs.forEach(function(i){i.next()})}var pt=function(){function l(i,s,p){this.query=i,this.Ks=s,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=p||{}}return l.prototype.Ws=function(i){if(!this.options.includeMetadataChanges){for(var s=[],p=0,y=i.docChanges;p<y.length;p++){var C=y[p];3!==C.type&&s.push(C)}i=new br(i.query,i.docs,i.Qt,s,i.Wt,i.fromCache,i.jt,!0)}var I=!1;return this.Gs?this.Hs(i)&&(this.Ks.next(i),I=!0):this.Ys(i,this.onlineState)&&(this.Js(i),I=!0),this.zs=i,I},l.prototype.onError=function(i){this.Ks.error(i)},l.prototype.Qs=function(i){this.onlineState=i;var s=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,i)&&(this.Js(this.zs),s=!0),s},l.prototype.Ys=function(i,s){return!i.fromCache||!(this.options.Xs&&"Offline"!==s||i.docs.m()&&"Offline"!==s)},l.prototype.Hs=function(i){return i.docChanges.length>0||!!(i.jt||this.zs&&this.zs.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},l.prototype.Js=function(i){i=br.Gt(i.query,i.docs,i.Wt,i.fromCache),this.Gs=!0,this.Ks.next(i)},l}(),zt=function(){function l(i){this.uid=i}return l.prototype.Zs=function(){return null!=this.uid},l.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},l.prototype.isEqual=function(i){return i.uid===this.uid},l}();zt.UNAUTHENTICATED=new zt(null),zt.ei=new zt("google-credentials-uid"),zt.ni=new zt("first-party-uid");var Rn=function(){function l(i,s){var p=this;this.previousValue=i,s&&(s.si=function(y){return p.ii(y)},this.ri=function(y){return s.oi(y)})}return l.prototype.ii=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},l.prototype.next=function(){var i=++this.previousValue;return this.ri&&this.ri(i),i},l}();function ei(l,i){return"firestore_clients_"+l+"_"+i}function pi(l,i,s){var p="firestore_mutations_"+l+"_"+s;return i.Zs()&&(p+="_"+i.uid),p}function ko(l,i){return"firestore_targets_"+l+"_"+i}Rn.ai=-1;var sa=function(){function l(i,s,p,y){this.user=i,this.batchId=s,this.state=p,this.error=y}return l.ci=function(i,s,p){var y=JSON.parse(p),C="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),I=void 0;return C&&y.error&&(C="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(I=new X(y.error.code,y.error.message)),C?new l(i,s,y.state,I):(tt("SharedClientState","Failed to parse mutation state for ID '"+s+"': "+p),null)},l.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},l}(),Rs=function(){function l(i,s,p){this.targetId=i,this.state=s,this.error=p}return l.ci=function(i,s){var p=JSON.parse(s),y="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),C=void 0;return y&&p.error&&(y="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(C=new X(p.error.code,p.error.message)),y?new l(i,p.state,C):(tt("SharedClientState","Failed to parse target state for ID '"+i+"': "+s),null)},l.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},l}(),Fs=function(){function l(i,s){this.clientId=i,this.activeTargetIds=s}return l.ci=function(i,s){for(var p=JSON.parse(s),y="object"==typeof p&&p.activeTargetIds instanceof Array,C=_o(),I=0;y&&I<p.activeTargetIds.length;++I)y=me(p.activeTargetIds[I]),C=C.add(p.activeTargetIds[I]);return y?new l(i,C):(tt("SharedClientState","Failed to parse client data for instance '"+i+"': "+s),null)},l}(),ou=function(){function l(i,s){this.clientId=i,this.onlineState=s}return l.ci=function(i){var s=JSON.parse(i);return"object"==typeof s&&-1!==["Unknown","Online","Offline"].indexOf(s.onlineState)&&"string"==typeof s.clientId?new l(s.clientId,s.onlineState):(tt("SharedClientState","Failed to parse online state: "+i),null)},l}(),qs=function(){function l(){this.activeTargetIds=_o()}return l.prototype.hi=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},l.prototype.li=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},l.prototype.ui=function(){var i={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(i)},l}(),aa=function(){function l(i,s,p,y,C){this.window=i,this.fn=s,this.persistenceKey=p,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Nn(Lt),this.Ei=!1,this.Ii=[];var I=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.Ai=ei(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new qs),this.gi=new RegExp("^firestore_clients_"+I+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+I+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+I+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return l.Ln=function(i){return!(!i||!i.localStorage)},l.prototype.start=function(){return x.__awaiter(this,void 0,void 0,function(){var i,s,p,y,C,I,L,H,se,ge,ke=this;return x.__generator(this,function(Ye){switch(Ye.label){case 0:return[4,this.fi.pi()];case 1:for(i=Ye.sent(),s=0,p=i;s<p.length;s++)(y=p[s])!==this._i&&(C=this.getItem(ei(this.persistenceKey,y)))&&(I=Fs.ci(y,C))&&(this.Ti=this.Ti.ot(I.clientId,I));for(this.bi(),(L=this.storage.getItem(this.Vi))&&(H=this.vi(L))&&this.Si(H),se=0,ge=this.Ii;se<ge.length;se++)this.mi(ge[se]);return this.Ii=[],this.window.addEventListener("unload",function(){return ke.Di()}),this.Ei=!0,[2]}})})},l.prototype.oi=function(i){this.setItem(this.Ri,JSON.stringify(i))},l.prototype.Ci=function(){return this.Ni(this.Ti)},l.prototype.Fi=function(i){var s=!1;return this.Ti.forEach(function(p,y){y.activeTargetIds.has(i)&&(s=!0)}),s},l.prototype.xi=function(i){this.$i(i,"pending")},l.prototype.ki=function(i,s,p){this.$i(i,s,p),this.Mi(i)},l.prototype.Oi=function(i){var s="not-current";if(this.Fi(i)){var p=this.storage.getItem(ko(this.persistenceKey,i));if(p){var y=Rs.ci(i,p);y&&(s=y.state)}}return this.Li.hi(i),this.bi(),s},l.prototype.Bi=function(i){this.Li.li(i),this.bi()},l.prototype.qi=function(i){return this.Li.activeTargetIds.has(i)},l.prototype.Ui=function(i){this.removeItem(ko(this.persistenceKey,i))},l.prototype.Qi=function(i,s,p){this.Wi(i,s,p)},l.prototype.ji=function(i,s,p){var y=this;s.forEach(function(C){y.Mi(C)}),this.currentUser=i,p.forEach(function(C){y.xi(C)})},l.prototype.Ki=function(i){this.Gi(i)},l.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},l.prototype.getItem=function(i){var s=this.storage.getItem(i);return ye("SharedClientState","READ",i,s),s},l.prototype.setItem=function(i,s){ye("SharedClientState","SET",i,s),this.storage.setItem(i,s)},l.prototype.removeItem=function(i){ye("SharedClientState","REMOVE",i),this.storage.removeItem(i)},l.prototype.mi=function(i){var s=this,p=i;if(p.storageArea===this.storage){if(ye("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Ai)return void tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return x.__awaiter(s,void 0,void 0,function(){var y,C,I,L,H,se;return x.__generator(this,function(ge){if(this.Ei){if(null!==p.key)if(this.gi.test(p.key)){if(null==p.newValue)return y=this.zi(p.key),[2,this.Hi(y,null)];if(C=this.Yi(p.key,p.newValue))return[2,this.Hi(C.clientId,C)]}else if(this.Pi.test(p.key)){if(null!==p.newValue&&(I=this.Ji(p.key,p.newValue)))return[2,this.Xi(I)]}else if(this.yi.test(p.key)){if(null!==p.newValue&&(L=this.Zi(p.key,p.newValue)))return[2,this.tr(L)]}else if(p.key===this.Vi){if(null!==p.newValue&&(H=this.vi(p.newValue)))return[2,this.Si(H)]}else p.key===this.Ri&&(se=function(Pe){var ke=Rn.ai;if(null!=Pe)try{var Ye=JSON.parse(Pe);we("number"==typeof Ye),ke=Ye}catch(rt){tt("SharedClientState","Failed to read sequence number from WebStorage",rt)}return ke}(p.newValue))!==Rn.ai&&this.si(se)}else this.Ii.push(p);return[2]})})})}},Object.defineProperty(l.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),l.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},l.prototype.$i=function(i,s,p){var y=new sa(this.currentUser,i,s,p),C=pi(this.persistenceKey,this.currentUser,i);this.setItem(C,y.ui())},l.prototype.Mi=function(i){var s=pi(this.persistenceKey,this.currentUser,i);this.removeItem(s)},l.prototype.Gi=function(i){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:i}))},l.prototype.Wi=function(i,s,p){var y=ko(this.persistenceKey,i),C=new Rs(i,s,p);this.setItem(y,C.ui())},l.prototype.zi=function(i){var s=this.gi.exec(i);return s?s[1]:null},l.prototype.Yi=function(i,s){var p=this.zi(i);return Fs.ci(p,s)},l.prototype.Ji=function(i,s){var p=this.Pi.exec(i),y=Number(p[1]);return sa.ci(new zt(void 0!==p[2]?p[2]:null),y,s)},l.prototype.Zi=function(i,s){var p=this.yi.exec(i),y=Number(p[1]);return Rs.ci(y,s)},l.prototype.vi=function(i){return ou.ci(i)},l.prototype.Xi=function(i){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(s){return i.user.uid===this.currentUser.uid?[2,this.fi.er(i.batchId,i.state,i.error)]:(ye("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},l.prototype.tr=function(i){return this.fi.nr(i.targetId,i.state,i.error)},l.prototype.Hi=function(i,s){var p=this,y=s?this.Ti.ot(i,s):this.Ti.remove(i),C=this.Ni(this.Ti),I=this.Ni(y),L=[],H=[];return I.forEach(function(se){C.has(se)||L.push(se)}),C.forEach(function(se){I.has(se)||H.push(se)}),this.fi.sr(L,H).then(function(){p.Ti=y})},l.prototype.Si=function(i){this.Ti.get(i.clientId)&&this.di(i.onlineState)},l.prototype.Ni=function(i){var s=_o();return i.forEach(function(p,y){s=s.kt(y.activeTargetIds)}),s},l}(),va=function(){function l(){this.ir=new qs,this.rr={},this.di=null,this.si=null}return l.prototype.xi=function(i){},l.prototype.ki=function(i,s,p){},l.prototype.Oi=function(i){return this.ir.hi(i),this.rr[i]||"not-current"},l.prototype.Qi=function(i,s,p){this.rr[i]=s},l.prototype.Bi=function(i){this.ir.li(i)},l.prototype.qi=function(i){return this.ir.activeTargetIds.has(i)},l.prototype.Ui=function(i){delete this.rr[i]},l.prototype.Ci=function(){return this.ir.activeTargetIds},l.prototype.Fi=function(i){return this.ir.activeTargetIds.has(i)},l.prototype.start=function(){return this.ir=new qs,Promise.resolve()},l.prototype.ji=function(i,s,p){},l.prototype.Ki=function(i){},l.prototype.Di=function(){},l.prototype.oi=function(i){},l}(),ba=function(){function l(i,s,p,y){this.batchId=i,this.ar=s,this.baseMutations=p,this.mutations=y}return l.prototype.cr=function(i,s,p){for(var y=p.ur,C=0;C<this.mutations.length;C++){var I=this.mutations[C];I.key.isEqual(i)&&(s=j(I,s,y[C]))}return s},l.prototype.hr=function(i,s){for(var p=0,y=this.baseMutations;p<y.length;p++){var C=y[p];C.key.isEqual(i)&&(s=le(C,s,s,this.ar))}for(var I=s,L=0,H=this.mutations;L<H.length;L++){var se=H[L];se.key.isEqual(i)&&(s=le(se,s,I,this.ar))}return s},l.prototype.lr=function(i){var s=this,p=i;return this.mutations.forEach(function(y){var C=s.hr(y.key,i.get(y.key));C&&(p=p.ot(y.key,C))}),p},l.prototype.keys=function(){return this.mutations.reduce(function(i,s){return i.add(s.key)},Bn())},l.prototype.isEqual=function(i){return this.batchId===i.batchId&&Gn(this.mutations,i.mutations,function(s,p){return st(s,p)})&&Gn(this.baseMutations,i.baseMutations,function(s,p){return st(s,p)})},l}(),_=function(){function l(i,s,p,y){this.batch=i,this._r=s,this.ur=p,this.dr=y}return l.from=function(i,s,p){we(i.mutations.length===p.length);for(var y=yn,C=i.mutations,I=0;I<C.length;I++)y=y.ot(C[I].key,p[I].version);return new l(i,s,p,y)},l}(),h=function(){function l(){this.wr=new je(function(i){return i.toString()},function(i,s){return i.isEqual(s)}),this.mr=!1}return Object.defineProperty(l.prototype,"readTime",{get:function(){return this.Tr},set:function(i){this.Tr=i},enumerable:!1,configurable:!0}),l.prototype.Er=function(i,s){this.Ir(),this.readTime=s,this.wr.set(i.key,i)},l.prototype.Ar=function(i,s){this.Ir(),s&&(this.readTime=s),this.wr.set(i,null)},l.prototype.Rr=function(i,s){this.Ir();var p=this.wr.get(s);return void 0!==p?Ct.resolve(p):this.gr(i,s)},l.prototype.getEntries=function(i,s){return this.Pr(i,s)},l.prototype.apply=function(i){return this.Ir(),this.mr=!0,this.yr(i)},l.prototype.Ir=function(){},l}(),m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function l(){this.Vr=[]}return l.prototype.pr=function(i){this.Vr.push(i)},l.prototype.br=function(){this.Vr.forEach(function(i){return i()})},l}(),N=function(){function l(i,s,p){this.vr=i,this.Sr=s,this.Dr=p}return l.prototype.Cr=function(i,s){var p=this;return this.Sr.Nr(i,s).next(function(y){return p.Fr(i,s,y)})},l.prototype.Fr=function(i,s,p){return this.vr.Rr(i,s).next(function(y){for(var C=0,I=p;C<I.length;C++)y=I[C].hr(s,y);return y})},l.prototype.$r=function(i,s,p){var y=ao();return s.forEach(function(C,I){for(var L=0,H=p;L<H.length;L++)I=H[L].hr(C,I);y=y.ot(C,I)}),y},l.prototype.kr=function(i,s){var p=this;return this.vr.getEntries(i,s).next(function(y){return p.Mr(i,y)})},l.prototype.Mr=function(i,s){var p=this;return this.Sr.Or(i,s).next(function(y){var C=p.$r(i,s,y),I=Jr();return C.forEach(function(L,H){H||(H=new ar(L,nt.min())),I=I.ot(L,H)}),I})},l.prototype.Lr=function(i,s,p){return z.F((y=s).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(i,s.path):Ii(s)?this.qr(i,s,p):this.Ur(i,s,p);var y},l.prototype.Br=function(i,s){return this.Cr(i,new z(s)).next(function(p){var y=Ur();return p instanceof Mt&&(y=y.ot(p.key,p)),y})},l.prototype.qr=function(i,s,p){var y=this,C=s.collectionGroup,I=Ur();return this.Dr.Qr(i,C).next(function(L){return Ct.forEach(L,function(H){var ge,Pe,se=(ge=s,Pe=H.child(C),new ho(Pe,null,ge.on.slice(),ge.filters.slice(),ge.limit,ge.an,ge.startAt,ge.endAt));return y.Ur(i,se,p).next(function(ge){ge.forEach(function(Pe,ke){I=I.ot(Pe,ke)})})}).next(function(){return I})})},l.prototype.Ur=function(i,s,p){var y,C,I=this;return this.vr.Lr(i,s,p).next(function(L){return y=L,I.Sr.Wr(i,s)}).next(function(L){return I.jr(i,C=L,y).next(function(H){y=H;for(var se=0,ge=C;se<ge.length;se++)for(var Pe=ge[se],ke=0,Ye=Pe.mutations;ke<Ye.length;ke++){var rt=Ye[ke],ut=rt.key,Qt=y.get(ut),$t=le(rt,Qt,Qt,Pe.ar);y=$t instanceof Mt?y.ot(ut,$t):y.remove(ut)}})}).next(function(){return y.forEach(function(L,H){Ui(s,H)||(y=y.remove(L))}),y})},l.prototype.jr=function(i,s,p){for(var y=Bn(),C=0,I=s;C<I.length;C++)for(var L=0,H=I[C].mutations;L<H.length;L++){var se=H[L];se instanceof sn&&null===p.get(se.key)&&(y=y.add(se.key))}var ge=p;return this.vr.getEntries(i,y).next(function(Pe){return Pe.forEach(function(ke,Ye){null!==Ye&&Ye instanceof Mt&&(ge=ge.ot(ke,Ye))}),ge})},l}(),P=function(){function l(i,s,p,y){this.targetId=i,this.fromCache=s,this.Kr=p,this.Gr=y}return l.zr=function(i,s){for(var p=Bn(),y=Bn(),C=0,I=s.docChanges;C<I.length;C++){var L=I[C];switch(L.type){case 0:p=p.add(L.doc.key);break;case 1:y=y.add(L.doc.key)}}return new l(i,s.fromCache,p,y)},l}();function Y(l,i){var p=l[1],C=i[1],I=Lt(l[0],i[0]);return 0===I?Lt(p,C):I}var re=function(){function l(i){this.Hr=i,this.buffer=new ir(Y),this.Yr=0}return l.prototype.Jr=function(){return++this.Yr},l.prototype.Xr=function(i){var s=[i,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(s);else{var p=this.buffer.last();Y(s,p)<0&&(this.buffer=this.buffer.delete(p).add(s))}},Object.defineProperty(l.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),l}(),he={Zr:!1,eo:0,no:0,so:0},fe=function(){function l(i,s,p){this.io=i,this.ro=s,this.oo=p}return l.ao=function(i){return new l(i,l.co,l.uo)},l}();fe.ho=-1,fe.lo=1048576,fe._o=41943040,fe.co=10,fe.uo=1e3,fe.fo=new fe(fe._o,fe.co,fe.uo),fe.do=new fe(fe.ho,0,0);var Ge=function(){function l(i,s){this.wo=i,this.cs=s,this.mo=!1,this.To=null}return l.prototype.start=function(i){this.wo.params.io!==fe.ho&&this.Eo(i)},l.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(l.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),l.prototype.Eo=function(i){var s=this,p=this.mo?3e5:6e4;ye("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.To=this.cs.yn("lru_garbage_collection",p,function(){return x.__awaiter(s,void 0,void 0,function(){var y;return x.__generator(this,function(C){switch(C.label){case 0:this.To=null,this.mo=!0,C.label=1;case 1:return C.trys.push([1,3,,7]),[4,i.Io(this.wo)];case 2:return C.sent(),[3,7];case 3:return Po(y=C.sent())?(ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,Ia(y)];case 5:C.sent(),C.label=6;case 6:return[3,7];case 7:return[4,this.Eo(i)];case 8:return C.sent(),[2]}})})})},l}(),Ze=function(){function l(i,s){this.Ao=i,this.params=s}return l.prototype.Ro=function(i,s){return this.Ao.Po(i).next(function(p){return Math.floor(s/100*p)})},l.prototype.yo=function(i,s){var p=this;if(0===s)return Ct.resolve(Rn.ai);var y=new re(s);return this.Ao.Ce(i,function(C){return y.Xr(C.sequenceNumber)}).next(function(){return p.Ao.Vo(i,function(C){return y.Xr(C)})}).next(function(){return y.maxValue})},l.prototype.po=function(i,s,p){return this.Ao.po(i,s,p)},l.prototype.bo=function(i,s){return this.Ao.bo(i,s)},l.prototype.vo=function(i,s){var p=this;return this.params.io===fe.ho?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),Ct.resolve(he)):this.So(i).next(function(y){return y<p.params.io?(ye("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+p.params.io),he):p.Do(i,s)})},l.prototype.So=function(i){return this.Ao.So(i)},l.prototype.Do=function(i,s){var p,y,C,I,L,H,se,ge=this,Pe=Date.now();return this.Ro(i,this.params.ro).next(function(ke){return ke>ge.params.oo?(ye("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+ge.params.oo+" from "+ke),y=ge.params.oo):y=ke,I=Date.now(),ge.yo(i,y)}).next(function(ke){return p=ke,L=Date.now(),ge.po(i,p,s)}).next(function(ke){return C=ke,H=Date.now(),ge.bo(i,p)}).next(function(ke){return se=Date.now(),_e()<=J.LogLevel.DEBUG&&ye("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(I-Pe)+"ms\n\tDetermined least recently used "+y+" in "+(L-I)+"ms\n\tRemoved "+C+" targets in "+(H-L)+"ms\n\tRemoved "+ke+" documents in "+(se-H)+"ms\nTotal Duration: "+(se-Pe)+"ms"),Ct.resolve({Zr:!0,eo:y,no:C,so:ke})})},l}();function A(l){for(var i="",s=0;s<l.length;s++)i.length>0&&(i=T(i)),i=S(l.get(s),i);return T(i)}function S(l,i){for(var s=i,p=l.length,y=0;y<p;y++){var C=l.charAt(y);switch(C){case"\0":s+="\x01\x10";break;case"\x01":s+="\x01\x11";break;default:s+=C}}return s}function T(l){return l+"\x01\x01"}function V(l){var i=l.length;if(we(i>=2),2===i)return we("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),At.P();for(var s=i-2,p=[],y="",C=0;C<i;){var I=l.indexOf("\x01",C);switch((I<0||I>s)&&et(),l.charAt(I+1)){case"\x01":var L=l.substring(C,I),H=void 0;0===y.length?H=L:(H=y+=L,y=""),p.push(H);break;case"\x10":y+=l.substring(C,I),y+="\0";break;case"\x11":y+=l.substring(C,I+1);break;default:et()}C=I+2}return new At(p)}var G=function(l){this.Co=l};function ee(l,i){if(i.document)return H=!!i.hasCommittedMutations,se=qr(l.Co,(L=i.document).name),ge=xr(L.updateTime),Pe=new ui({mapValue:{fields:L.fields}}),new Mt(se,ge,Pe,{hasCommittedMutations:!!H});var L,H,se,ge,Pe;if(i.noDocument){var s=z.$(i.noDocument.path),p=Xt(i.noDocument.readTime);return new ar(s,p,{hasCommittedMutations:!!i.hasCommittedMutations})}if(i.unknownDocument){var y=z.$(i.unknownDocument.path),C=Xt(i.unknownDocument.version);return new Vi(y,C)}return et()}function Ce(l,i,s){var ke,Ye,p=Be(s),y=i.key.path.h().A();if(i instanceof Mt){var C={name:yi(ke=l.Co,(Ye=i).key),fields:Ye.rn().mapValue.fields,updateTime:uo(ke,Ye.version.Z())};return new bi(null,null,C,i.hasCommittedMutations,p,y)}if(i instanceof ar){var L=i.key.path.A(),H=Ft(i.version),se=i.hasCommittedMutations;return new bi(null,new pf(L,H),null,se,p,y)}if(i instanceof Vi){var ge=i.key.path.A(),Pe=Ft(i.version);return new bi(new qh(ge,Pe),null,null,!0,p,y)}return et()}function Be(l){var i=l.Z();return[i.seconds,i.nanoseconds]}function at(l){var i=new be(l[0],l[1]);return nt.J(i)}function Ft(l){var i=l.Z();return new el(i.seconds,i.nanoseconds)}function Xt(l){var i=new be(l.seconds,l.nanoseconds);return nt.J(i)}function Dn(l,i){var s=(i.baseMutations||[]).map(function(C){return Ki(l.Co,C)}),p=i.mutations.map(function(C){return Ki(l.Co,C)}),y=be.fromMillis(i.localWriteTimeMs);return new ba(i.batchId,y,s,p)}function Br(l){var i,s,p=Xt(l.readTime),y=void 0!==l.lastLimboFreeSnapshotVersion?Xt(l.lastLimboFreeSnapshotVersion):nt.min();return void 0!==l.query.documents?(we(1===(s=l.query).documents.length),i=zr(Ti(Wo(s.documents[0])))):i=Zi(l.query),new Pt(i,l.targetId,0,l.lastListenSequenceNumber,p,y,kt.fromBase64String(l.resumeToken))}function pr(l,i){var s,p=Ft(i.nt),y=Ft(i.lastLimboFreeSnapshotVersion);s=Tt(i.target)?oi(l.Co,i.target):as(l.Co,i.target);var C=i.resumeToken.toBase64();return new Cs(i.targetId,$e(i.target),p,C,i.sequenceNumber,y,s)}var Qs=function(){function l(i,s,p,y){this.userId=i,this.serializer=s,this.Dr=p,this.No=y,this.Fo={}}return l.xo=function(i,s,p,y){return we(""!==i.uid),new l(i.Zs()?i.uid:"",s,p,y)},l.prototype.$o=function(i){var s=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ro(i).rs({index:Or.userMutationsIndex,range:p},function(y,C,I){s=!1,I.done()}).next(function(){return s})},l.prototype.ko=function(i,s,p,y){var C=this,I=Ko(i),L=ro(i);return L.add({}).next(function(H){we("number"==typeof H);for(var se=new ba(H,s,p,y),ge=function($t,hn,Un){var Jn=Un.baseMutations.map(function(ni){return Ji($t.Co,ni)}),Pr=Un.mutations.map(function(ni){return Ji($t.Co,ni)});return new Or(hn,Un.batchId,Un.ar.toMillis(),Jn,Pr)}(C.serializer,C.userId,se),Pe=[],ke=new ir(function($t,hn){return Lt($t.R(),hn.R())}),Ye=0,rt=y;Ye<rt.length;Ye++){var ut=rt[Ye],Qt=Eo.key(C.userId,ut.key.path,H);ke=ke.add(ut.key.path.h()),Pe.push(L.put(ge)),Pe.push(I.put(Qt,Eo.PLACEHOLDER))}return ke.forEach(function($t){Pe.push(C.Dr.Mo(i,$t))}),i.pr(function(){C.Fo[H]=se.keys()}),Ct.$n(Pe).next(function(){return se})})},l.prototype.Oo=function(i,s){var p=this;return ro(i).get(s).next(function(y){return y?(we(y.userId===p.userId),Dn(p.serializer,y)):null})},l.prototype.Lo=function(i,s){var p=this;return this.Fo[s]?Ct.resolve(this.Fo[s]):this.Oo(i,s).next(function(y){if(y){var C=y.keys();return p.Fo[s]=C,C}return null})},l.prototype.Bo=function(i,s){var p=this,y=s+1,C=IDBKeyRange.lowerBound([this.userId,y]),I=null;return ro(i).rs({index:Or.userMutationsIndex,range:C},function(L,H,se){H.userId===p.userId&&(we(H.batchId>=y),I=Dn(p.serializer,H)),se.done()}).next(function(){return I})},l.prototype.qo=function(i){var s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return ro(i).rs({index:Or.userMutationsIndex,range:s,reverse:!0},function(y,C,I){p=C.batchId,I.done()}).next(function(){return p})},l.prototype.Uo=function(i){var s=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ro(i).ts(Or.userMutationsIndex,p).next(function(y){return y.map(function(C){return Dn(s.serializer,C)})})},l.prototype.Nr=function(i,s){var p=this,y=Eo.prefixForPath(this.userId,s.path),C=IDBKeyRange.lowerBound(y),I=[];return Ko(i).rs({range:C},function(L,H,se){var ge=L[0],ke=L[2],Ye=V(L[1]);if(ge===p.userId&&s.path.isEqual(Ye))return ro(i).get(ke).next(function(rt){if(!rt)throw et();we(rt.userId===p.userId),I.push(Dn(p.serializer,rt))});se.done()}).next(function(){return I})},l.prototype.Or=function(i,s){var p=this,y=new ir(Lt),C=[];return s.forEach(function(I){var L=Eo.prefixForPath(p.userId,I.path),H=IDBKeyRange.lowerBound(L),se=Ko(i).rs({range:H},function(ge,Pe,ke){var Ye=ge[0],ut=ge[2],Qt=V(ge[1]);Ye===p.userId&&I.path.isEqual(Qt)?y=y.add(ut):ke.done()});C.push(se)}),Ct.$n(C).next(function(){return p.Qo(i,y)})},l.prototype.Wr=function(i,s){var p=this,y=s.path,C=y.length+1,I=Eo.prefixForPath(this.userId,y),L=IDBKeyRange.lowerBound(I),H=new ir(Lt);return Ko(i).rs({range:L},function(se,ge,Pe){var ke=se[0],rt=se[2],ut=V(se[1]);ke===p.userId&&y.T(ut)?ut.length===C&&(H=H.add(rt)):Pe.done()}).next(function(){return p.Qo(i,H)})},l.prototype.Qo=function(i,s){var p=this,y=[],C=[];return s.forEach(function(I){C.push(ro(i).get(I).next(function(L){if(null===L)throw et();we(L.userId===p.userId),y.push(Dn(p.serializer,L))}))}),Ct.$n(C).next(function(){return y})},l.prototype.Wo=function(i,s){var p=this;return Fo(i.jo,this.userId,s).next(function(y){return i.pr(function(){p.Ko(s.batchId)}),Ct.forEach(y,function(C){return p.No.Go(i,C)})})},l.prototype.Ko=function(i){delete this.Fo[i]},l.prototype.zo=function(i){var s=this;return this.$o(i).next(function(p){if(!p)return Ct.resolve();var y=IDBKeyRange.lowerBound(Eo.prefixForUser(s.userId)),C=[];return Ko(i).rs({range:y},function(I,L,H){if(I[0]===s.userId){var se=V(I[1]);C.push(se)}else H.done()}).next(function(){we(0===C.length)})})},l.prototype.Ho=function(i,s){return no(i,this.userId,s)},l.prototype.Yo=function(i){var s=this;return Lo(i).get(this.userId).next(function(p){return p||new wa(s.userId,-1,"")})},l}();function no(l,i,s){var p=Eo.prefixForPath(i,s.path),y=p[1],C=IDBKeyRange.lowerBound(p),I=!1;return Ko(l).rs({range:C,ss:!0},function(L,H,se){L[0]===i&&L[1]===y&&(I=!0),se.done()}).next(function(){return I})}function Fo(l,i,s){var p=l.store(Or.store),y=l.store(Eo.store),C=[],I=IDBKeyRange.only(s.batchId),L=0,H=p.rs({range:I},function(rt,ut,Qt){return L++,Qt.delete()});C.push(H.next(function(){we(1===L)}));for(var se=[],ge=0,Pe=s.mutations;ge<Pe.length;ge++){var ke=Pe[ge],Ye=Eo.key(i,ke.key.path,s.batchId);C.push(y.delete(Ye)),se.push(ke.key)}return Ct.$n(C).next(function(){return se})}function ro(l){return Ds.Qn(l,Or.store)}function Ko(l){return Ds.Qn(l,Eo.store)}function Lo(l){return Ds.Qn(l,wa.store)}var Zo=function(){function l(i,s){this.serializer=i,this.Dr=s}return l.prototype.Er=function(i,s,p){return Js(i).put(Ks(s),p)},l.prototype.Ar=function(i,s){var p=Js(i),y=Ks(s);return p.delete(y)},l.prototype.updateMetadata=function(i,s){var p=this;return this.getMetadata(i).next(function(y){return y.byteSize+=s,p.Jo(i,y)})},l.prototype.Rr=function(i,s){var p=this;return Js(i).get(Ks(s)).next(function(y){return p.Xo(y)})},l.prototype.Zo=function(i,s){var p=this;return Js(i).get(Ks(s)).next(function(y){var C=p.Xo(y);return C?{ta:C,size:Qc(y)}:null})},l.prototype.getEntries=function(i,s){var p=this,y=ao();return this.ea(i,s,function(C,I){var L=p.Xo(I);y=y.ot(C,L)}).next(function(){return y})},l.prototype.na=function(i,s){var p=this,y=ao(),C=new Nn(z.i);return this.ea(i,s,function(I,L){var H=p.Xo(L);H?(y=y.ot(I,H),C=C.ot(I,Qc(L))):(y=y.ot(I,null),C=C.ot(I,0))}).next(function(){return{sa:y,ia:C}})},l.prototype.ea=function(i,s,p){if(s.m())return Ct.resolve();var y=IDBKeyRange.bound(s.first().path.A(),s.last().path.A()),C=s._t(),I=C.It();return Js(i).rs({range:y},function(L,H,se){for(var ge=z.$(L);I&&z.i(I,ge)<0;)p(I,null),I=C.It();I&&I.isEqual(ge)&&(p(I,H),I=C.At()?C.It():null),I?se.Xn(I.path.A()):se.done()}).next(function(){for(;I;)p(I,null),I=C.At()?C.It():null})},l.prototype.Lr=function(i,s,p){var y=this,C=Ur(),I=s.path.length+1,L={};if(p.isEqual(nt.min())){var H=s.path.A();L.range=IDBKeyRange.lowerBound(H)}else{var se=s.path.A(),ge=Be(p);L.range=IDBKeyRange.lowerBound([se,ge],!0),L.index=bi.collectionReadTimeIndex}return Js(i).rs(L,function(Pe,ke,Ye){if(Pe.length===I){var rt=ee(y.serializer,ke);s.path.T(rt.key.path)?rt instanceof Mt&&Ui(s,rt)&&(C=C.ot(rt.key,rt)):Ye.done()}}).next(function(){return C})},l.prototype.ra=function(i){return new Fa(this,!!i&&i.oa)},l.prototype.aa=function(i){return this.getMetadata(i).next(function(s){return s.byteSize})},l.prototype.getMetadata=function(i){return go(i).get(Ls.key).next(function(s){return we(!!s),s})},l.prototype.Jo=function(i,s){return go(i).put(Ls.key,s)},l.prototype.Xo=function(i){if(i){var s=ee(this.serializer,i);return s instanceof ar&&s.version.isEqual(nt.min())?null:s}return null},l}(),Fa=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).ca=s,y.oa=p,y.ua=new je(function(C){return C.toString()},function(C,I){return C.isEqual(I)}),y}return x.__extends(i,l),i.prototype.yr=function(s){var p=this,y=[],C=0,I=new ir(function(L,H){return Lt(L.R(),H.R())});return this.wr.forEach(function(L,H){var se=p.ua.get(L);if(H){var ge=Ce(p.ca.serializer,H,p.readTime);I=I.add(L.path.h());var Pe=Qc(ge);C+=Pe-se,y.push(p.ca.Er(s,L,ge))}else if(C-=se,p.oa){var ke=Ce(p.ca.serializer,new ar(L,nt.min()),p.readTime);y.push(p.ca.Er(s,L,ke))}else y.push(p.ca.Ar(s,L))}),I.forEach(function(L){y.push(p.ca.Dr.Mo(s,L))}),y.push(this.ca.updateMetadata(s,C)),Ct.$n(y)},i.prototype.gr=function(s,p){var y=this;return this.ca.Zo(s,p).next(function(C){return null===C?(y.ua.set(p,0),null):(y.ua.set(p,C.size),C.ta)})},i.prototype.Pr=function(s,p){var y=this;return this.ca.na(s,p).next(function(C){var I=C.sa;return C.ia.forEach(function(L,H){y.ua.set(L,H)}),I})},i}(h);function go(l){return Ds.Qn(l,Ls.store)}function Js(l){return Ds.Qn(l,bi.store)}function Ks(l){return l.path.A()}function Qc(l){var i;if(l.document)i=l.document;else if(l.unknownDocument)i=l.unknownDocument;else{if(!l.noDocument)throw et();i=l.noDocument}return JSON.stringify(i).length}var ws=function(){function l(){this.ha=new La}return l.prototype.Mo=function(i,s){return this.ha.add(s),Ct.resolve()},l.prototype.Qr=function(i,s){return Ct.resolve(this.ha.getEntries(s))},l}(),La=function(){function l(){this.index={}}return l.prototype.add=function(i){var s=i._(),p=i.h(),y=this.index[s]||new ir(At.i),C=!y.has(p);return this.index[s]=y.add(p),C},l.prototype.has=function(i){var s=i._(),p=i.h(),y=this.index[s];return y&&y.has(p)},l.prototype.getEntries=function(i){return(this.index[i]||new ir(At.i)).A()},l}(),Yh=function(){function l(i){this.serializer=i}return l.prototype.createOrUpgrade=function(i,s,p,y){var C=this;we(p<y&&p>=0&&y<=10);var H,I=new rr("createOrUpgrade",s);p<1&&y>=1&&(i.createObjectStore(Er.store),(H=i).createObjectStore(wa.store,{keyPath:wa.keyPath}),H.createObjectStore(Or.store,{keyPath:Or.keyPath,autoIncrement:!0}).createIndex(Or.userMutationsIndex,Or.userMutationsKeyPath,{unique:!0}),H.createObjectStore(Eo.store),Es(i),function(H){H.createObjectStore(bi.store)}(i));var L=Ct.resolve();return p<3&&y>=3&&(0!==p&&(function(H){H.deleteObjectStore(Vo.store),H.deleteObjectStore(Cs.store),H.deleteObjectStore(Vs.store)}(i),Es(i)),L=L.next(function(){return function(H){var se=H.store(Vs.store),ge=new Vs(0,0,nt.min().Z(),0);return se.put(Vs.key,ge)}(I)})),p<4&&y>=4&&(0!==p&&(L=L.next(function(){return function(H,se){return se.store(Or.store).ts().next(function(ge){H.deleteObjectStore(Or.store),H.createObjectStore(Or.store,{keyPath:Or.keyPath,autoIncrement:!0}).createIndex(Or.userMutationsIndex,Or.userMutationsKeyPath,{unique:!0});var Pe=se.store(Or.store),ke=ge.map(function(Ye){return Pe.put(Ye)});return Ct.$n(ke)})}(i,I)})),L=L.next(function(){!function(H){H.createObjectStore(Xo.store,{keyPath:Xo.keyPath})}(i)})),p<5&&y>=5&&(L=L.next(function(){return C.removeAcknowledgedMutations(I)})),p<6&&y>=6&&(L=L.next(function(){return function(H){H.createObjectStore(Ls.store)}(i),C.addDocumentGlobal(I)})),p<7&&y>=7&&(L=L.next(function(){return C.ensureSequenceNumbers(I)})),p<8&&y>=8&&(L=L.next(function(){return C.createCollectionParentIndex(i,I)})),p<9&&y>=9&&(L=L.next(function(){(function(H){H.objectStoreNames.contains("remoteDocumentChanges")&&H.deleteObjectStore("remoteDocumentChanges")})(i),function(H){var se=H.objectStore(bi.store);se.createIndex(bi.readTimeIndex,bi.readTimeIndexPath,{unique:!1}),se.createIndex(bi.collectionReadTimeIndex,bi.collectionReadTimeIndexPath,{unique:!1})}(s)})),p<10&&y>=10&&(L=L.next(function(){return C.rewriteCanonicalIds(I)})),L},l.prototype.addDocumentGlobal=function(i){var s=0;return i.store(bi.store).rs(function(p,y){s+=Qc(y)}).next(function(){var p=new Ls(s);return i.store(Ls.store).put(Ls.key,p)})},l.prototype.removeAcknowledgedMutations=function(i){var s=this,p=i.store(wa.store),y=i.store(Or.store);return p.ts().next(function(C){return Ct.forEach(C,function(I){var L=IDBKeyRange.bound([I.userId,-1],[I.userId,I.lastAcknowledgedBatchId]);return y.ts(Or.userMutationsIndex,L).next(function(H){return Ct.forEach(H,function(se){we(se.userId===I.userId);var ge=Dn(s.serializer,se);return Fo(i,I.userId,ge).next(function(){})})})})})},l.prototype.ensureSequenceNumbers=function(i){var s=i.store(Vo.store),p=i.store(bi.store);return i.store(Vs.store).get(Vs.key).next(function(y){var C=[];return p.rs(function(I,L){var H=new At(I),se=[0,A(H)];C.push(s.get(se).next(function(ge){return ge?Ct.resolve():s.put(new Vo(0,A(H),y.highestListenSequenceNumber))}))}).next(function(){return Ct.$n(C)})})},l.prototype.createCollectionParentIndex=function(i,s){i.createObjectStore(Eu.store,{keyPath:Eu.keyPath});var p=s.store(Eu.store),y=new La,C=function(I){if(y.add(I)){var L=I._(),H=I.h();return p.put({collectionId:L,parent:A(H)})}};return s.store(bi.store).rs({ss:!0},function(I,L){var H=new At(I);return C(H.h())}).next(function(){return s.store(Eo.store).rs({ss:!0},function(I,L){var se=V(I[1]);return C(se.h())})})},l.prototype.rewriteCanonicalIds=function(i){var s=this,p=i.store(Cs.store);return p.rs(function(y,C){var I=Br(C),L=pr(s.serializer,I);return p.put(L)})},l}(),el=function(l,i){this.seconds=l,this.nanoseconds=i},Er=function(l,i,s){this.ownerId=l,this.allowTabSynchronization=i,this.leaseTimestampMs=s};Er.store="owner",Er.key="owner";var wa=function(l,i,s){this.userId=l,this.lastAcknowledgedBatchId=i,this.lastStreamToken=s};wa.store="mutationQueues",wa.keyPath="userId";var Or=function(l,i,s,p,y){this.userId=l,this.batchId=i,this.localWriteTimeMs=s,this.baseMutations=p,this.mutations=y};Or.store="mutations",Or.keyPath="batchId",Or.userMutationsIndex="userMutationsIndex",Or.userMutationsKeyPath=["userId","batchId"];var Eo=function(){function l(){}return l.prefixForUser=function(i){return[i]},l.prefixForPath=function(i,s){return[i,A(s)]},l.key=function(i,s,p){return[i,A(s),p]},l}();Eo.store="documentMutations",Eo.PLACEHOLDER=new Eo;var pf=function(l,i){this.path=l,this.readTime=i},qh=function(l,i){this.path=l,this.version=i},bi=function(l,i,s,p,y,C){this.unknownDocument=l,this.noDocument=i,this.document=s,this.hasCommittedMutations=p,this.readTime=y,this.parentPath=C};bi.store="remoteDocuments",bi.readTimeIndex="readTimeIndex",bi.readTimeIndexPath="readTime",bi.collectionReadTimeIndex="collectionReadTimeIndex",bi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ls=function(l){this.byteSize=l};Ls.store="remoteDocumentGlobal",Ls.key="remoteDocumentGlobalKey";var Cs=function(l,i,s,p,y,C,I){this.targetId=l,this.canonicalId=i,this.readTime=s,this.resumeToken=p,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=C,this.query=I};Cs.store="targets",Cs.keyPath="targetId",Cs.queryTargetsIndexName="queryTargetsIndex",Cs.queryTargetsKeyPath=["canonicalId","targetId"];var Vo=function(l,i,s){this.targetId=l,this.path=i,this.sequenceNumber=s};Vo.store="targetDocuments",Vo.keyPath=["targetId","path"],Vo.documentTargetsIndex="documentTargetsIndex",Vo.documentTargetsKeyPath=["path","targetId"];var Vs=function(l,i,s,p){this.highestTargetId=l,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=s,this.targetCount=p};Vs.key="targetGlobalKey",Vs.store="targetGlobal";var Eu=function(l,i){this.collectionId=l,this.parent=i};function Es(l){l.createObjectStore(Vo.store,{keyPath:Vo.keyPath}).createIndex(Vo.documentTargetsIndex,Vo.documentTargetsKeyPath,{unique:!0}),l.createObjectStore(Cs.store,{keyPath:Cs.keyPath}).createIndex(Cs.queryTargetsIndexName,Cs.queryTargetsKeyPath,{unique:!0}),l.createObjectStore(Vs.store)}Eu.store="collectionParents",Eu.keyPath=["collectionId","parent"];var Xo=function(l,i,s,p){this.clientId=l,this.updateTimeMs=i,this.networkEnabled=s,this.inForeground=p};Xo.store="clientMetadata",Xo.keyPath="clientId";var io=x.__spreadArrays(x.__spreadArrays(x.__spreadArrays([wa.store,Or.store,Eo.store,bi.store,Cs.store,Er.store,Vs.store,Vo.store],[Xo.store]),[Ls.store]),[Eu.store]),tl=function(){function l(){this.la=new La}return l.prototype.Mo=function(i,s){var p=this;if(!this.la.has(s)){var y=s._(),C=s.h();i.pr(function(){p.la.add(s)});var I={collectionId:y,parent:A(C)};return Ca(i).put(I)}return Ct.resolve()},l.prototype.Qr=function(i,s){var p=[],y=IDBKeyRange.bound([s,""],[Fn(s),""],!1,!0);return Ca(i).ts(y).next(function(C){for(var I=0,L=C;I<L.length;I++){var H=L[I];if(H.collectionId!==s)break;p.push(V(H.parent))}return p})},l}();function Ca(l){return Ds.Qn(l,Eu.store)}var $l=function(){function l(i){this._a=i}return l.prototype.next=function(){return this._a+=2,this._a},l.fa=function(){return new l(0)},l.da=function(){return new l(-1)},l}(),gf=function(){function l(i,s){this.No=i,this.serializer=s}return l.prototype.wa=function(i){var s=this;return this.ma(i).next(function(p){var y=new $l(p.highestTargetId);return p.highestTargetId=y.next(),s.Ta(i,p).next(function(){return p.highestTargetId})})},l.prototype.Ea=function(i){return this.ma(i).next(function(s){return nt.J(new be(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))})},l.prototype.Ia=function(i){return this.ma(i).next(function(s){return s.highestListenSequenceNumber})},l.prototype.Aa=function(i,s,p){var y=this;return this.ma(i).next(function(C){return C.highestListenSequenceNumber=s,p&&(C.lastRemoteSnapshotVersion=p.Z()),s>C.highestListenSequenceNumber&&(C.highestListenSequenceNumber=s),y.Ta(i,C)})},l.prototype.Ra=function(i,s){var p=this;return this.ga(i,s).next(function(){return p.ma(i).next(function(y){return y.targetCount+=1,p.Pa(s,y),p.Ta(i,y)})})},l.prototype.ya=function(i,s){return this.ga(i,s)},l.prototype.Va=function(i,s){var p=this;return this.pa(i,s.targetId).next(function(){return ji(i).delete(s.targetId)}).next(function(){return p.ma(i)}).next(function(y){return we(y.targetCount>0),y.targetCount-=1,p.Ta(i,y)})},l.prototype.po=function(i,s,p){var y=this,C=0,I=[];return ji(i).rs(function(L,H){var se=Br(H);se.sequenceNumber<=s&&null===p.get(se.targetId)&&(C++,I.push(y.Va(i,se)))}).next(function(){return Ct.$n(I)}).next(function(){return C})},l.prototype.Ce=function(i,s){return ji(i).rs(function(p,y){var C=Br(y);s(C)})},l.prototype.ma=function(i){return li(i).get(Vs.key).next(function(s){return we(null!==s),s})},l.prototype.Ta=function(i,s){return li(i).put(Vs.key,s)},l.prototype.ga=function(i,s){return ji(i).put(pr(this.serializer,s))},l.prototype.Pa=function(i,s){var p=!1;return i.targetId>s.highestTargetId&&(s.highestTargetId=i.targetId,p=!0),i.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=i.sequenceNumber,p=!0),p},l.prototype.ba=function(i){return this.ma(i).next(function(s){return s.targetCount})},l.prototype.va=function(i,s){var p=$e(s),y=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),C=null;return ji(i).rs({range:y,index:Cs.queryTargetsIndexName},function(I,L,H){var se=Br(L);wt(s,se.target)&&(C=se,H.done())}).next(function(){return C})},l.prototype.Sa=function(i,s,p){var y=this,C=[],I=Zs(i);return s.forEach(function(L){var H=A(L.path);C.push(I.put(new Vo(p,H))),C.push(y.No.Da(i,p,L))}),Ct.$n(C)},l.prototype.Ca=function(i,s,p){var y=this,C=Zs(i);return Ct.forEach(s,function(I){var L=A(I.path);return Ct.$n([C.delete([p,L]),y.No.Na(i,p,I)])})},l.prototype.pa=function(i,s){var p=Zs(i),y=IDBKeyRange.bound([s],[s+1],!1,!0);return p.delete(y)},l.prototype.Fa=function(i,s){var p=IDBKeyRange.bound([s],[s+1],!1,!0),y=Zs(i),C=Bn();return y.rs({range:p,ss:!0},function(I,L,H){var se=V(I[1]),ge=new z(se);C=C.add(ge)}).next(function(){return C})},l.prototype.Ho=function(i,s){var p=A(s.path),y=IDBKeyRange.bound([p],[Fn(p)],!1,!0),C=0;return Zs(i).rs({index:Vo.documentTargetsIndex,ss:!0,range:y},function(I,L,H){0!==I[0]&&(C++,H.done())}).next(function(){return C>0})},l.prototype.Ue=function(i,s){return ji(i).get(s).next(function(p){return p?Br(p):null})},l}();function ji(l){return Ds.Qn(l,Cs.store)}function li(l){return Ds.Qn(l,Vs.store)}function Zs(l){return Ds.Qn(l,Vo.store)}var ua="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bs=function(l){function i(s,p){var y=this;return(y=l.call(this)||this).jo=s,y.xa=p,y}return x.__extends(i,l),i}(b),Ds=function(){function l(i,s,p,y,C,I,L,H,se,ge){if(this.allowTabSynchronization=i,this.persistenceKey=s,this.clientId=p,this.fn=C,this.window=I,this.document=L,this.$a=se,this.ka=ge,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(Pe){return Promise.resolve()},!l.Ln())throw new X(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new mf(this,y),this.Wa=s+"main",this.serializer=new G(H),this.ja=new lr(this.Wa,10,new Yh(this.serializer)),this.Ka=new gf(this.No,this.serializer),this.Dr=new tl,this.vr=new Zo(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===ge&&tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return l.Qn=function(i,s){if(i instanceof Bs)return lr.Qn(i.jo,s);throw et()},l.prototype.start=function(){var i=this;return this.za().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new X(te.FAILED_PRECONDITION,ua);return i.Ha(),i.Ya(),i.Ja(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(s){return i.Ka.Ia(s)})}).then(function(s){i.Ma=new Rn(s,i.$a)}).then(function(){i.Oa=!0}).catch(function(s){return i.ja&&i.ja.close(),Promise.reject(s)})},l.prototype.Xa=function(i){var s=this;return this.Qa=function(p){return x.__awaiter(s,void 0,void 0,function(){return x.__generator(this,function(y){return this.Ei?[2,i(p)]:[2]})})},i(this.isPrimary)},l.prototype.Za=function(i){var s=this;this.ja.Kn(function(p){return x.__awaiter(s,void 0,void 0,function(){return x.__generator(this,function(y){switch(y.label){case 0:return null===p.newVersion?[4,i()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},l.prototype.tc=function(i){var s=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.fn.ws(function(){return x.__awaiter(s,void 0,void 0,function(){return x.__generator(this,function(p){switch(p.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},l.prototype.za=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(s){return Va(s).put(new Xo(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.ec(s).next(function(p){p||(i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}))})}).next(function(){return i.nc(s)}).next(function(p){return i.isPrimary&&!p?i.sc(s).next(function(){return!1}):!!p&&i.ic(s).next(function(){return!0})})}).catch(function(s){if(Po(s))return ye("IndexedDbPersistence","Failed to extend owner lease: ",s),i.isPrimary;if(!i.allowTabSynchronization)throw s;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(function(s){i.isPrimary!==s&&i.fn.Cs(function(){return i.Qa(s)}),i.isPrimary=s})},l.prototype.ec=function(i){var s=this;return Ea(i).get(Er.key).next(function(p){return Ct.resolve(s.rc(p))})},l.prototype.oc=function(i){return Va(i).delete(this.clientId)},l.prototype.ac=function(){return x.__awaiter(this,void 0,void 0,function(){var i,s,p,C=this;return x.__generator(this,function(I){switch(I.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(L){var H=l.Qn(L,Xo.store);return H.ts().next(function(se){var ge=C.uc(se,18e5),Pe=se.filter(function(ke){return-1===ge.indexOf(ke)});return Ct.forEach(Pe,function(ke){return H.delete(ke.clientId)}).next(function(){return Pe})})}).catch(function(){return[]})]);case 1:if(i=I.sent(),this.Ga)for(s=0,p=i;s<p.length;s++)this.Ga.removeItem(this.hc(p[s].clientId));I.label=2;case 2:return[2]}})})},l.prototype.Ja=function(){var i=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return i.za().then(function(){return i.ac()}).then(function(){return i.Ja()})})},l.prototype.rc=function(i){return!!i&&i.ownerId===this.clientId},l.prototype.nc=function(i){var s=this;return this.ka?Ct.resolve(!0):Ea(i).get(Er.key).next(function(p){if(null!==p&&s.cc(p.leaseTimestampMs,5e3)&&!s.lc(p.ownerId)){if(s.rc(p)&&s.networkEnabled)return!0;if(!s.rc(p)){if(!p.allowTabSynchronization)throw new X(te.FAILED_PRECONDITION,ua);return!1}}return!(!s.networkEnabled||!s.inForeground)||Va(i).ts().next(function(y){return void 0===s.uc(y,5e3).find(function(C){return!(s.clientId===C.clientId||!(!s.networkEnabled&&C.networkEnabled||!s.inForeground&&C.inForeground&&s.networkEnabled===C.networkEnabled))})})}).next(function(p){return s.isPrimary!==p&&ye("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},l.prototype.Di=function(){return x.__awaiter(this,void 0,void 0,function(){var i=this;return x.__generator(this,function(s){switch(s.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Er.store,Xo.store],function(p){var y=new Bs(p,Rn.ai);return i.sc(y).next(function(){return i.oc(y)})})];case 1:return s.sent(),this.ja.close(),this.wc(),[2]}})})},l.prototype.uc=function(i,s){var p=this;return i.filter(function(y){return p.cc(y.updateTimeMs,s)&&!p.lc(y.clientId)})},l.prototype.pi=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(s){return Va(s).ts().next(function(p){return i.uc(p,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(l.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),l.prototype.mc=function(i){return Qs.xo(i,this.serializer,this.Dr,this.No)},l.prototype.Tc=function(){return this.Ka},l.prototype.Ec=function(){return this.vr},l.prototype.Ic=function(){return this.Dr},l.prototype.runTransaction=function(i,s,p){var C,y=this;return ye("IndexedDbPersistence","Starting transaction:",i),this.ja.runTransaction(i,"readonly"===s?"readonly":"readwrite",io,function(L){return C=new Bs(L,y.Ma?y.Ma.next():Rn.ai),"readwrite-primary"===s?y.ec(C).next(function(H){return!!H||y.nc(C)}).next(function(H){if(!H)throw tt("Failed to obtain primary lease for action '"+i+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new X(te.FAILED_PRECONDITION,m);return p(C)}).next(function(H){return y.ic(C).next(function(){return H})}):y.Ac(C).next(function(){return p(C)})}).then(function(L){return C.br(),L})},l.prototype.Ac=function(i){var s=this;return Ea(i).get(Er.key).next(function(p){if(null!==p&&s.cc(p.leaseTimestampMs,5e3)&&!s.lc(p.ownerId)&&!s.rc(p)&&!(s.ka||s.allowTabSynchronization&&p.allowTabSynchronization))throw new X(te.FAILED_PRECONDITION,ua)})},l.prototype.ic=function(i){var s=new Er(this.clientId,this.allowTabSynchronization,Date.now());return Ea(i).put(Er.key,s)},l.Ln=function(){return lr.Ln()},l.prototype.sc=function(i){var s=this,p=Ea(i);return p.get(Er.key).next(function(y){return s.rc(y)?(ye("IndexedDbPersistence","Releasing primary lease."),p.delete(Er.key)):Ct.resolve()})},l.prototype.cc=function(i,s){var p=Date.now();return!(i<p-s||i>p&&(tt("Detected an update time that is in the future: "+i+" > "+p),1))},l.prototype.Ha=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){i.fn.ws(function(){return i.inForeground="visible"===i.document.visibilityState,i.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},l.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},l.prototype.Ya=function(){var i,s=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.La=function(){s._c(),s.fn.ws(function(){return s.Di()})},this.window.addEventListener("unload",this.La))},l.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},l.prototype.lc=function(i){var s;try{var p=null!==(null===(s=this.Ga)||void 0===s?void 0:s.getItem(this.hc(i)));return ye("IndexedDbPersistence","Client '"+i+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(y){return tt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},l.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(i){tt("Failed to set zombie client id.",i)}},l.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(i){}},l.prototype.hc=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},l}();function Ea(l){return Ds.Qn(l,Er.store)}function Va(l){return Ds.Qn(l,Xo.store)}var mf=function(){function l(i,s){this.db=i,this.wo=new Ze(this,s)}return l.prototype.Po=function(i){var s=this.Rc(i);return this.db.Tc().ba(i).next(function(p){return s.next(function(y){return p+y})})},l.prototype.Rc=function(i){var s=0;return this.Vo(i,function(p){s++}).next(function(){return s})},l.prototype.Ce=function(i,s){return this.db.Tc().Ce(i,s)},l.prototype.Vo=function(i,s){return this.gc(i,function(p,y){return s(y)})},l.prototype.Da=function(i,s,p){return Wl(i,p)},l.prototype.Na=function(i,s,p){return Wl(i,p)},l.prototype.po=function(i,s,p){return this.db.Tc().po(i,s,p)},l.prototype.Go=function(i,s){return Wl(i,s)},l.prototype.Pc=function(i,s){return y=s,C=!1,Lo(p=i).os(function(I){return no(p,I,y).next(function(L){return L&&(C=!0),Ct.resolve(!L)})}).next(function(){return C});var p,y,C},l.prototype.bo=function(i,s){var p=this,y=this.db.Ec().ra(),C=[],I=0;return this.gc(i,function(L,H){if(H<=s){var se=p.Pc(i,L).next(function(ge){if(!ge)return I++,y.Rr(i,L).next(function(){return y.Ar(L),Zs(i).delete([0,A(L.path)])})});C.push(se)}}).next(function(){return Ct.$n(C)}).next(function(){return y.apply(i)}).next(function(){return I})},l.prototype.removeTarget=function(i,s){var p=s.st(i.xa);return this.db.Tc().ya(i,p)},l.prototype.yc=function(i,s){return Wl(i,s)},l.prototype.gc=function(i,s){var p,y=Zs(i),C=Rn.ai;return y.rs({index:Vo.documentTargetsIndex},function(I,L){var se=L.path,ge=L.sequenceNumber;0===I[0]?(C!==Rn.ai&&s(new z(V(p)),C),C=ge,p=se):C=Rn.ai}).next(function(){C!==Rn.ai&&s(new z(V(p)),C)})},l.prototype.So=function(i){return this.db.Ec().aa(i)},l}();function Wl(l,i){return Zs(l).put((p=l.xa,new Vo(0,A(i.path),p)));var p}function nl(l,i){var s=l.projectId;return l.j||(s+="."+l.database),"firestore/"+i+"/"+s+"/"}var fs=function(){function l(i,s,p){this.persistence=i,this.Vc=s,this.bc=new Nn(Lt),this.vc=new je(function(y){return $e(y)},wt),this.Sc=nt.min(),this.Sr=i.mc(p),this.Dc=i.Ec(),this.Ka=i.Tc(),this.Cc=new N(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return l.prototype.Io=function(i){var s=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return i.vo(p,s.bc)})},l}();function rl(l,i){var s=Qe(l);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var I,L,H,se,ge,Pe,ke,y=i.batch.keys(),C=s.Dc.ra({oa:!0});return(I=s,L=p,H=i,se=C,ge=H.batch,Pe=ge.keys(),ke=Ct.resolve(),Pe.forEach(function(Ye){ke=ke.next(function(){return se.Rr(L,Ye)}).next(function(rt){var ut=rt,Qt=H.dr.get(Ye);we(null!==Qt),(!ut||ut.version.L(Qt)<0)&&(ut=ge.cr(Ye,ut,H))&&se.Er(ut,H._r)})}),ke.next(function(){return I.Sr.Wo(L,ge)})).next(function(){return C.apply(p)}).next(function(){return s.Sr.zo(p)}).next(function(){return s.Cc.kr(p,y)})})}function Da(l){var i=Qe(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(s){return i.Ka.Ea(s)})}function Qh(l,i){var s=Qe(l),p=i.nt,y=s.bc;return s.persistence.runTransaction("Apply remote event","readwrite-primary",function(C){var I=s.Dc.ra({oa:!0});y=s.bc;var L=[];i.zt.forEach(function(Pe,ke){var Qt,$t,hn,Ye=y.get(ke);if(Ye){L.push(s.Ka.Ca(C,Pe.se,ke).next(function(){return s.Ka.Sa(C,Pe.ee,ke)}));var rt=Pe.resumeToken;if(rt.O()>0){var ut=Ye.it(rt,p).st(C.xa);y=y.ot(ke,ut),Qt=Ye,hn=Pe,we(($t=ut).resumeToken.O()>0),(0===Qt.resumeToken.O()||$t.nt.X()-Qt.nt.X()>=3e8||hn.ee.size+hn.ne.size+hn.se.size>0)&&L.push(s.Ka.ya(C,ut))}}});var H=Jr(),se=Bn();if(i.Yt.forEach(function(Pe,ke){se=se.add(Pe)}),L.push(I.getEntries(C,se).next(function(Pe){i.Yt.forEach(function(ke,Ye){var rt=Pe.get(ke);Ye instanceof ar&&Ye.version.isEqual(nt.min())?(I.Ar(ke,p),H=H.ot(ke,Ye)):null==rt||Ye.version.L(rt.version)>0||0===Ye.version.L(rt.version)&&rt.hasPendingWrites?(I.Er(Ye,p),H=H.ot(ke,Ye)):ye("LocalStore","Ignoring outdated watch update for ",ke,". Current version:",rt.version," Watch version:",Ye.version),i.Jt.has(ke)&&L.push(s.persistence.No.yc(C,ke))})})),!p.isEqual(nt.min())){var ge=s.Ka.Ea(C).next(function(Pe){return s.Ka.Aa(C,C.xa,p)});L.push(ge)}return Ct.$n(L).next(function(){return I.apply(C)}).next(function(){return s.Cc.Mr(C,H)})}).then(function(C){return s.bc=y,C})}function zl(l,i){var s=Qe(l);return s.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===i&&(i=-1),s.Sr.Bo(p,i)})}function su(l,i){var s=Qe(l);return s.persistence.runTransaction("Allocate target","readwrite",function(p){var y;return s.Ka.va(p,i).next(function(C){return C?Ct.resolve(y=C):s.Ka.wa(p).next(function(I){return y=new Pt(i,I,0,p.xa),s.Ka.Ra(p,y).next(function(){return y})})})}).then(function(p){var y=s.bc.get(p.targetId);return(null===y||p.nt.L(y.nt)>0)&&(s.bc=s.bc.ot(p.targetId,p),s.vc.set(i,p.targetId)),p})}function Ta(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C,I;return x.__generator(this,function(L){switch(L.label){case 0:p=Qe(l),y=p.bc.get(i),C=s?"readwrite":"readwrite-primary",L.label=1;case 1:return L.trys.push([1,4,,5]),s?[3,3]:[4,p.persistence.runTransaction("Release target",C,function(H){return p.persistence.No.removeTarget(H,y)})];case 2:L.sent(),L.label=3;case 3:return[3,5];case 4:if(!Po(I=L.sent()))throw I;return ye("LocalStore","Failed to update sequence numbers for target "+i+": "+I),[3,5];case 5:return p.bc=p.bc.remove(i),p.vc.delete(y.target),[2]}})})}function Du(l,i,s){var p=Qe(l),y=nt.min(),C=Bn();return p.persistence.runTransaction("Execute query","readonly",function(I){return(L=p,H=I,se=zr(i),ge=Qe(L),Pe=ge.vc.get(se),void 0!==Pe?Ct.resolve(ge.bc.get(Pe)):ge.Ka.va(H,se)).next(function(L){if(L)return y=L.lastLimboFreeSnapshotVersion,p.Ka.Fa(I,L.targetId).next(function(H){C=H})}).next(function(){return p.Vc.Lr(I,i,s?y:nt.min(),s?C:Bn())}).next(function(L){return{documents:L,Fc:C}});var L,H,se,ge,Pe})}function Yl(l,i){var s=Qe(l),p=Qe(s.Ka),y=s.bc.get(i);return y?Promise.resolve(y.target):s.persistence.runTransaction("Get target data","readonly",function(C){return p.Ue(C,i).next(function(I){return I?I.target:null})})}function ql(l){var i=Qe(l);return i.persistence.runTransaction("Get new document changes","readonly",function(s){return y=s,C=i.Sc,I=Qe(i.Dc),L=Jr(),H=Be(C),se=Js(y),ge=IDBKeyRange.lowerBound(H,!0),se.rs({index:bi.readTimeIndex,range:ge},function(Pe,ke){var Ye=ee(I.serializer,ke);L=L.ot(Ye.key,Ye),H=ke.readTime}).next(function(){return{xc:L,readTime:at(H)}});var y,C,I,L,H,se,ge}).then(function(s){var p=s.xc;return i.Sc=s.readTime,p})}function Tu(l){return x.__awaiter(this,void 0,void 0,function(){var i;return x.__generator(this,function(s){return[2,(i=Qe(l)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return C=Js(p),I=nt.min(),C.rs({index:bi.readTimeIndex,reverse:!0},function(L,H,se){H.readTime&&(I=at(H.readTime)),se.done()}).next(function(){return I});var C,I}).then(function(p){i.Sc=p})]})})}function Ia(l){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){if(l.code!==te.FAILED_PRECONDITION||l.message!==m)throw l;return ye("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Iu=function(){function l(){this.$c=new ir(Bo.kc),this.Mc=new ir(Bo.Oc)}return l.prototype.m=function(){return this.$c.m()},l.prototype.Da=function(i,s){var p=new Bo(i,s);this.$c=this.$c.add(p),this.Mc=this.Mc.add(p)},l.prototype.Lc=function(i,s){var p=this;i.forEach(function(y){return p.Da(y,s)})},l.prototype.Na=function(i,s){this.Bc(new Bo(i,s))},l.prototype.qc=function(i,s){var p=this;i.forEach(function(y){return p.Na(y,s)})},l.prototype.Uc=function(i){var s=this,p=new z(new At([])),y=new Bo(p,i),C=new Bo(p,i+1),I=[];return this.Mc.Ft([y,C],function(L){s.Bc(L),I.push(L.key)}),I},l.prototype.Qc=function(){var i=this;this.$c.forEach(function(s){return i.Bc(s)})},l.prototype.Bc=function(i){this.$c=this.$c.delete(i),this.Mc=this.Mc.delete(i)},l.prototype.Wc=function(i){var s=new z(new At([])),p=new Bo(s,i),y=new Bo(s,i+1),C=Bn();return this.Mc.Ft([p,y],function(I){C=C.add(I.key)}),C},l.prototype.Ho=function(i){var s=new Bo(i,0),p=this.$c.$t(s);return null!==p&&i.isEqual(p.key)},l}(),Bo=function(){function l(i,s){this.key=i,this.jc=s}return l.kc=function(i,s){return z.i(i.key,s.key)||Lt(i.jc,s.jc)},l.Oc=function(i,s){return Lt(i.jc,s.jc)||z.i(i.key,s.key)},l}(),il=function(l,i){this.user=i,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+l},Ql=function(){function l(){this.Gc=null}return l.prototype.getToken=function(){return Promise.resolve(null)},l.prototype.zc=function(){},l.prototype.Hc=function(i){this.Gc=i,i(zt.UNAUTHENTICATED)},l.prototype.Yc=function(){this.Gc=null},l}(),Su=function(){function l(i){var s=this;this.Jc=null,this.currentUser=zt.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){s.Zc++,s.currentUser=s.tu(),s.Xc=!0,s.Gc&&s.Gc(s.currentUser)},this.Zc=0,this.auth=i.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),i.get().then(function(p){s.auth=p,s.Jc&&s.auth.addAuthTokenListener(s.Jc)},function(){}))}return l.prototype.getToken=function(){var i=this,s=this.Zc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(y){return i.Zc!==s?(ye("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):y?(we("string"==typeof y.accessToken),new il(y.accessToken,i.currentUser)):null}):Promise.resolve(null)},l.prototype.zc=function(){this.forceRefresh=!0},l.prototype.Hc=function(i){this.Gc=i,this.Xc&&i(this.currentUser)},l.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},l.prototype.tu=function(){var i=this.auth&&this.auth.getUid();return we(null===i||"string"==typeof i),new zt(i)},l}(),Jh=function(){function l(i,s){this.eu=i,this.nu=s,this.type="FirstParty",this.user=zt.ni}return Object.defineProperty(l.prototype,"Kc",{get:function(){var i={"X-Goog-AuthUser":this.nu},s=this.eu.auth.getAuthHeaderValueForFirstParty([]);return s&&(i.Authorization=s),i},enumerable:!1,configurable:!0}),l}(),Kh=function(){function l(i,s){this.eu=i,this.nu=s}return l.prototype.getToken=function(){return Promise.resolve(new Jh(this.eu,this.nu))},l.prototype.Hc=function(i){i(zt.ni)},l.prototype.Yc=function(){},l.prototype.zc=function(){},l}(),yf=function(){function l(i,s,p,y,C,I){this.fn=i,this.su=p,this.iu=y,this.ru=C,this.listener=I,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new bs(i,s)}return l.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},l.prototype.uu=function(){return 2===this.state},l.prototype.start=function(){3!==this.state?this.auth():this.hu()},l.prototype.stop=function(){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){switch(i.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.lu=function(){this.state=0,this.ys.reset()},l.prototype._u=function(){var i=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return i.fu()}))},l.prototype.du=function(i){this.wu(),this.stream.send(i)},l.prototype.fu=function(){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){return this.uu()?[2,this.close(0)]:[2]})})},l.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},l.prototype.close=function(i,s){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(p){switch(p.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==i?this.ys.reset():s&&s.code===te.RESOURCE_EXHAUSTED?(tt(s.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):s&&s.code===te.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Tu(s)];case 1:return p.sent(),[2]}})})},l.prototype.mu=function(){},l.prototype.auth=function(){var i=this;this.state=1;var s=this.Eu(this.ou),p=this.ou;this.ru.getToken().then(function(y){i.ou===p&&i.Iu(y)},function(y){s(function(){var C=new X(te.UNKNOWN,"Fetching auth token failed: "+y.message);return i.Au(C)})})},l.prototype.Iu=function(i){var s=this,p=this.Eu(this.ou);this.stream=this.Ru(i),this.stream.gu(function(){p(function(){return s.state=2,s.listener.gu()})}),this.stream.Tu(function(y){p(function(){return s.Au(y)})}),this.stream.onMessage(function(y){p(function(){return s.onMessage(y)})})},l.prototype.hu=function(){var i=this;this.state=4,this.ys.gn(function(){return x.__awaiter(i,void 0,void 0,function(){return x.__generator(this,function(s){return this.state=0,this.start(),[2]})})})},l.prototype.Au=function(i){return ye("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},l.prototype.Eu=function(i){var s=this;return function(p){s.fn.ws(function(){return s.ou===i?p():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},l}(),Ba=function(l){function i(s,p,y,C,I){var L=this;return(L=l.call(this,s,"listen_stream_connection_backoff","listen_stream_idle",p,y,I)||this).serializer=C,L}return x.__extends(i,l),i.prototype.Ru=function(s){return this.iu.Pu("Listen",s)},i.prototype.onMessage=function(s){this.ys.reset();var p=function(C,I){var L,Ss;if("targetChange"in I){var H="NO_CHANGE"===(Ss=I.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ss?1:"REMOVE"===Ss?2:"CURRENT"===Ss?3:"RESET"===Ss?4:et(),se=I.targetChange.targetIds||[],ge=function(Ss,pa){return Ss.Qe?(we(void 0===pa||"string"==typeof pa),kt.fromBase64String(pa||"")):(we(void 0===pa||pa instanceof Uint8Array),kt.fromUint8Array(pa||new Uint8Array))}(C,I.targetChange.resumeToken),Pe=I.targetChange.cause,ke=Pe&&function(Ss){var pa=void 0===Ss.code?te.UNKNOWN:wn(Ss.code);return new X(pa,Ss.message||"")}(Pe);L=new Ot(H,se,ge,ke||null)}else if("documentChange"in I){var Ye=I.documentChange,rt=qr(C,Ye.document.name),ut=xr(Ye.document.updateTime),Qt=new ui({mapValue:{fields:Ye.document.fields}}),$t=new Mt(rt,ut,Qt,{});L=new Gi(Ye.targetIds||[],Ye.removedTargetIds||[],$t.key,$t)}else if("documentDelete"in I){var Jn=I.documentDelete,Pr=qr(C,Jn.document),ni=Jn.readTime?xr(Jn.readTime):nt.min(),na=new ar(Pr,ni);L=new Gi([],Jn.removedTargetIds||[],na.key,na)}else if("documentRemove"in I){var du=I.documentRemove,Dl=qr(C,du.document);L=new Gi([],du.removedTargetIds||[],Dl,null)}else{if(!("filter"in I))return et();var fu=I.filter,vc=new Bt(fu.count||0);L=new $n(fu.targetId,vc)}return L}(this.serializer,s),y=function(C){if(!("targetChange"in C))return nt.min();var I=C.targetChange;return I.targetIds&&I.targetIds.length?nt.min():I.readTime?xr(I.readTime):nt.min()}(s);return this.listener.yu(p,y)},i.prototype.Vu=function(s){var C,I,L,H,p={};p.database=fr(this.serializer),p.addTarget=(C=this.serializer,(L=Tt(H=(I=s).target)?{documents:oi(C,H)}:{query:as(C,H)}).targetId=I.targetId,I.resumeToken.O()>0&&(L.resumeToken=lo(C,I.resumeToken)),L);var y=function(C,I){var L=function(H,se){switch(se){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,I.et);return null==L?null:{"goog-listen-tags":L}}(0,s);y&&(p.labels=y),this.du(p)},i.prototype.pu=function(s){var p={};p.database=fr(this.serializer),p.removeTarget=s,this.du(p)},i}(yf),Zh=function(l){function i(s,p,y,C,I){var L=this;return(L=l.call(this,s,"write_stream_connection_backoff","write_stream_idle",p,y,I)||this).serializer=C,L.bu=!1,L}return x.__extends(i,l),Object.defineProperty(i.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,l.prototype.start.call(this)},i.prototype.mu=function(){this.bu&&this.Su([])},i.prototype.Ru=function(s){return this.iu.Pu("Write",s)},i.prototype.onMessage=function(s){if(we(!!s.streamToken),this.lastStreamToken=s.streamToken,this.bu){this.ys.reset();var p=(I=s.commitTime,(C=s.writeResults)&&C.length>0?(we(void 0!==I),C.map(function(L){return function(H,se){var ge=xr(H.updateTime?H.updateTime:se);ge.isEqual(nt.min())&&(ge=xr(se));var Pe=null;return H.transformResults&&H.transformResults.length>0&&(Pe=H.transformResults),new wo(ge,Pe)}(L,I)})):[]),y=xr(s.commitTime);return this.listener.Du(y,p)}var C,I;return we(!s.writeResults||0===s.writeResults.length),this.bu=!0,this.listener.Cu()},i.prototype.Nu=function(){var s={};s.database=fr(this.serializer),this.du(s)},i.prototype.Su=function(s){var p=this,y={streamToken:this.lastStreamToken,writes:s.map(function(C){return Ji(p.serializer,C)})};this.du(y)},i}(yf),Ua=function(l){function i(s,p,y){var C=this;return(C=l.call(this)||this).credentials=s,C.iu=p,C.serializer=y,C.Fu=!1,C}return x.__extends(i,l),i.prototype.xu=function(){if(this.Fu)throw new X(te.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.$u=function(s,p,y){var C=this;return this.xu(),this.credentials.getToken().then(function(I){return C.iu.$u(s,p,y,I)}).catch(function(I){throw I.code===te.UNAUTHENTICATED&&C.credentials.zc(),I})},i.prototype.ku=function(s,p,y){var C=this;return this.xu(),this.credentials.getToken().then(function(I){return C.iu.ku(s,p,y,I)}).catch(function(I){throw I.code===te.UNAUTHENTICATED&&C.credentials.zc(),I})},i.prototype.terminate=function(){this.Fu=!1},i}(function(){}),es=function(){function l(i,s){this.cs=i,this.di=s,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return l.prototype.Bu=function(){var i=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return i.Ou=null,i.Uu("Backend didn't respond within 10 seconds."),i.qu("Offline"),Promise.resolve()}))},l.prototype.Qu=function(i){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+i.toString()),this.qu("Offline")))},l.prototype.set=function(i){this.Wu(),this.Mu=0,"Online"===i&&(this.Lu=!1),this.qu(i)},l.prototype.qu=function(i){i!==this.state&&(this.state=i,this.di(i))},l.prototype.Uu=function(i){var s="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(tt(s),this.Lu=!1):ye("OnlineStateTracker",s)},l.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},l}(),wi=function(l,i,s,p,y){var C=this;this.ju=l,this.Ku=i,this.cs=s,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(I){s.ws(function(){return x.__awaiter(C,void 0,void 0,function(){return x.__generator(this,function(L){switch(L.label){case 0:return Sa(this)?(ye("RemoteStore","Restarting streams for network reachability change."),[4,function(H){return x.__awaiter(this,void 0,void 0,function(){var se;return x.__generator(this,function(ge){switch(ge.label){case 0:return(se=Qe(H)).Yu.add(4),[4,ci(se)];case 1:return ge.sent(),se.th.set("Unknown"),se.Yu.delete(4),[4,Nu(se)];case 2:return ge.sent(),[2]}})})}(this)]):[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})})}),this.th=new es(s,p)};function Nu(l){return x.__awaiter(this,void 0,void 0,function(){var i,s;return x.__generator(this,function(p){switch(p.label){case 0:if(!Sa(l))return[3,4];i=0,s=l.Ju,p.label=1;case 1:return i<s.length?[4,(0,s[i])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function ci(l){return x.__awaiter(this,void 0,void 0,function(){var i,s;return x.__generator(this,function(p){switch(p.label){case 0:i=0,s=l.Ju,p.label=1;case 1:return i<s.length?[4,(0,s[i])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Jl(l){return x.__awaiter(this,void 0,void 0,function(){var i;return x.__generator(this,function(s){switch(s.label){case 0:return i=Qe(l),ye("RemoteStore","RemoteStore shutting down."),i.Yu.add(5),[4,ci(i)];case 1:return s.sent(),i.Xu.Di(),i.th.set("Unknown"),[2]}})})}function Kl(l,i){var s=Qe(l);s.Hu.has(i.targetId)||(s.Hu.set(i.targetId,i),Zl(s)?Ha(s):Ru(s).uu()&&ja(s,i))}function Us(l,i){var s=Qe(l),p=Ru(s);s.Hu.delete(i),p.uu()&&Jc(s,i),0===s.Hu.size&&(p.uu()?p._u():Sa(s)&&s.th.set("Unknown"))}function ja(l,i){l.eh.Ie(i.targetId),Ru(l).Vu(i)}function Jc(l,i){l.eh.Ie(i),Ru(l).pu(i)}function Ha(l){l.eh=new Jt({qe:function(i){return l.Gu.qe(i)},Ue:function(i){return l.Hu.get(i)||null}}),Ru(l).start(),l.th.Bu()}function Zl(l){return Sa(l)&&!Ru(l).cu()&&l.Hu.size>0}function Sa(l){return 0===Qe(l).Yu.size}function Na(l){l.eh=void 0}function Xs(l){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){return l.Hu.forEach(function(s,p){ja(l,s)}),[2]})})}function au(l,i){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(s){return Na(l),Zl(l)?(l.th.Qu(i),Ha(l)):l.th.set("Unknown"),[2]})})}function Aa(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C;return x.__generator(this,function(I){switch(I.label){case 0:if(l.th.set("Online"),!(i instanceof Ot&&2===i.state&&i.cause))return[3,6];I.label=1;case 1:return I.trys.push([1,3,,5]),[4,function(L,H){return x.__awaiter(this,void 0,void 0,function(){var se,ge,Pe,ke;return x.__generator(this,function(Ye){switch(Ye.label){case 0:se=H.cause,ge=0,Pe=H.targetIds,Ye.label=1;case 1:return ge<Pe.length?L.Hu.has(ke=Pe[ge])?[4,L.Gu.nh(ke,se)]:[3,3]:[3,5];case 2:Ye.sent(),L.Hu.delete(ke),L.eh.removeTarget(ke),Ye.label=3;case 3:Ye.label=4;case 4:return ge++,[3,1];case 5:return[2]}})})}(l,i)];case 2:return I.sent(),[3,5];case 3:return p=I.sent(),ye("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),[4,ol(l,p)];case 4:return I.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Gi?l.eh.be(i):i instanceof $n?l.eh.$e(i):l.eh.De(i),s.isEqual(nt.min()))return[3,13];I.label=7;case 7:return I.trys.push([7,11,,13]),[4,Da(l.ju)];case 8:return y=I.sent(),s.L(y)>=0?[4,(L=l,H=s,se=L.eh.Oe(H),se.zt.forEach(function(ge,Pe){if(ge.resumeToken.O()>0){var ke=L.Hu.get(Pe);ke&&L.Hu.set(Pe,ke.it(ge.resumeToken,H))}}),se.Ht.forEach(function(ge){var Pe=L.Hu.get(ge);if(Pe){L.Hu.set(ge,Pe.it(kt.B,Pe.nt)),Jc(L,ge);var ke=new Pt(Pe.target,ge,1,Pe.sequenceNumber);ja(L,ke)}}),L.Gu.sh(se))]:[3,10];case 9:I.sent(),I.label=10;case 10:return[3,13];case 11:return ye("RemoteStore","Failed to raise snapshot:",C=I.sent()),[4,ol(l,C)];case 12:return I.sent(),[3,13];case 13:return[2]}var L,H,se})})}function ol(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p=this;return x.__generator(this,function(y){switch(y.label){case 0:if(!Po(i))throw i;return l.Yu.add(1),[4,ci(l)];case 1:return y.sent(),l.th.set("Offline"),s||(s=function(){return Da(l.ju)}),l.cs.Cs(function(){return x.__awaiter(p,void 0,void 0,function(){return x.__generator(this,function(C){switch(C.label){case 0:return ye("RemoteStore","Retrying IndexedDB access"),[4,s()];case 1:return C.sent(),l.Yu.delete(1),[4,Nu(l)];case 2:return C.sent(),[2]}})})}),[2]}})})}function Xl(l,i){return i().catch(function(s){return ol(l,s,i)})}function Ma(l){return x.__awaiter(this,void 0,void 0,function(){var i,s,p,y,C;return x.__generator(this,function(I){switch(I.label){case 0:i=Qe(l),s=la(i),p=i.zu.length>0?i.zu[i.zu.length-1].batchId:-1,I.label=1;case 1:if(!(Sa(L=i)&&L.zu.length<10))return[3,7];I.label=2;case 2:return I.trys.push([2,4,,6]),[4,zl(i.ju,p)];case 3:return null===(y=I.sent())?(0===i.zu.length&&s._u(),[3,7]):(p=y.batchId,function(L,H){L.zu.push(H);var se=la(L);se.uu()&&se.vu&&se.Su(H.mutations)}(i,y),[3,6]);case 4:return C=I.sent(),[4,ol(i,C)];case 5:return I.sent(),[3,6];case 6:return[3,1];case 7:return Au(i)&&ec(i),[2]}var L})})}function Au(l){return Sa(l)&&!la(l).cu()&&l.zu.length>0}function ec(l){la(l).start()}function _f(l){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){return la(l).Nu(),[2]})})}function vf(l){return x.__awaiter(this,void 0,void 0,function(){var i,s,p;return x.__generator(this,function(C){for(i=la(l),s=0,p=l.zu;s<p.length;s++)i.Su(p[s].mutations);return[2]})})}function Mu(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y;return x.__generator(this,function(C){switch(C.label){case 0:return p=l.zu.shift(),y=_.from(p,i,s),[4,Xl(l,function(){return l.Gu.ih(y)})];case 1:return C.sent(),[4,Ma(l)];case 2:return C.sent(),[2]}})})}function xu(l,i){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(s){switch(s.label){case 0:return i&&la(l).vu?[4,function(p,y){return x.__awaiter(this,void 0,void 0,function(){var C,I;return x.__generator(this,function(L){switch(L.label){case 0:return Wt(I=y.code)&&I!==te.ABORTED?(C=p.zu.shift(),la(p).lu(),[4,Xl(p,function(){return p.Gu.rh(C.batchId,y)})]):[3,3];case 1:return L.sent(),[4,Ma(p)];case 2:L.sent(),L.label=3;case 3:return[2]}})})}(l,i)]:[3,2];case 1:s.sent(),s.label=2;case 2:return Au(l)&&ec(l),[2]}})})}function Kc(l,i){return x.__awaiter(this,void 0,void 0,function(){var s;return x.__generator(this,function(y){switch(y.label){case 0:return s=Qe(l),i?(s.Yu.delete(2),[4,Nu(s)]):[3,2];case 1:return y.sent(),[3,5];case 2:return i?[3,4]:(s.Yu.add(2),[4,ci(s)]);case 3:y.sent(),s.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function Ru(l){var s,p,y,C,i=this;return l.oh||(l.oh=(s=l.Ku,p=l.cs,y={gu:Xs.bind(null,l),Tu:au.bind(null,l),yu:Aa.bind(null,l)},(C=Qe(s)).xu(),new Ba(p,C.iu,C.credentials,C.serializer,y)),l.Ju.push(function(s){return x.__awaiter(i,void 0,void 0,function(){return x.__generator(this,function(p){switch(p.label){case 0:return s?(l.oh.lu(),Zl(l)?Ha(l):l.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,l.oh.stop()];case 2:p.sent(),Na(l),p.label=3;case 3:return[2]}})})})),l.oh}function la(l){var s,p,y,C,i=this;return l.ah||(l.ah=(s=l.Ku,p=l.cs,y={gu:_f.bind(null,l),Tu:xu.bind(null,l),Cu:vf.bind(null,l),Du:Mu.bind(null,l)},(C=Qe(s)).xu(),new Zh(p,C.iu,C.credentials,C.serializer,y)),l.Ju.push(function(s){return x.__awaiter(i,void 0,void 0,function(){return x.__generator(this,function(p){switch(p.label){case 0:return s?(l.ah.lu(),[4,Ma(l)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,l.ah.stop()];case 3:p.sent(),l.zu.length>0&&(ye("RemoteStore","Stopping write stream with "+l.zu.length+" pending writes"),l.zu=[]),p.label=4;case 4:return[2]}})})})),l.ah}var Zc=function(l){this.key=l},bf=function(l){this.key=l},Xc=function(){function l(i,s){this.query=i,this.uh=s,this.hh=null,this.te=!1,this.lh=Bn(),this.Wt=Bn(),this._h=Yo(i),this.fh=new $o(this._h)}return Object.defineProperty(l.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),l.prototype.wh=function(i,s){var p=this,y=s?s.mh:new kr,C=s?s.fh:this.fh,I=s?s.Wt:this.Wt,L=C,H=!1,se=Mo(this.query)&&C.size===this.query.limit?C.last():null,ge=Bi(this.query)&&C.size===this.query.limit?C.first():null;if(i.ht(function(ke,Ye){var rt=C.get(ke),ut=Ye instanceof Mt?Ye:null;ut&&(ut=Ui(p.query,ut)?ut:null);var Qt=!!rt&&p.Wt.has(rt.key),$t=!!ut&&(ut.Je||p.Wt.has(ut.key)&&ut.hasCommittedMutations),hn=!1;rt&&ut?rt.data().isEqual(ut.data())?Qt!==$t&&(y.track({type:3,doc:ut}),hn=!0):p.Th(rt,ut)||(y.track({type:2,doc:ut}),hn=!0,(se&&p._h(ut,se)>0||ge&&p._h(ut,ge)<0)&&(H=!0)):!rt&&ut?(y.track({type:0,doc:ut}),hn=!0):rt&&!ut&&(y.track({type:1,doc:rt}),hn=!0,(se||ge)&&(H=!0)),hn&&(ut?(L=L.add(ut),I=$t?I.add(ke):I.delete(ke)):(L=L.delete(ke),I=I.delete(ke)))}),Mo(this.query)||Bi(this.query))for(;L.size>this.query.limit;){var Pe=Mo(this.query)?L.last():L.first();L=L.delete(Pe.key),I=I.delete(Pe.key),y.track({type:1,doc:Pe})}return{fh:L,mh:y,Eh:H,Wt:I}},l.prototype.Th=function(i,s){return i.Je&&s.hasCommittedMutations&&!s.Je},l.prototype.yr=function(i,s,p){var y=this,C=this.fh;this.fh=i.fh,this.Wt=i.Wt;var I=i.mh.Ut();I.sort(function(ge,Pe){return Ye=Pe.type,(rt=function(ut){switch(ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}})(ge.type)-rt(Ye)||y._h(ge.doc,Pe.doc);var Ye,rt}),this.Ih(p);var L=s?this.Ah():[],H=0===this.lh.size&&this.te?1:0,se=H!==this.hh;return this.hh=H,0!==I.length||se?{snapshot:new br(this.query,i.fh,C,I,i.Wt,0===H,se,!1),Rh:L}:{Rh:L}},l.prototype.Qs=function(i){return this.te&&"Offline"===i?(this.te=!1,this.yr({fh:this.fh,mh:new kr,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},l.prototype.gh=function(i){return!this.uh.has(i)&&!!this.fh.has(i)&&!this.fh.get(i).Je},l.prototype.Ih=function(i){var s=this;i&&(i.ee.forEach(function(p){return s.uh=s.uh.add(p)}),i.ne.forEach(function(p){}),i.se.forEach(function(p){return s.uh=s.uh.delete(p)}),this.te=i.te)},l.prototype.Ah=function(){var i=this;if(!this.te)return[];var s=this.lh;this.lh=Bn(),this.fh.forEach(function(y){i.gh(y.key)&&(i.lh=i.lh.add(y.key))});var p=[];return s.forEach(function(y){i.lh.has(y)||p.push(new bf(y))}),this.lh.forEach(function(y){s.has(y)||p.push(new Zc(y))}),p},l.prototype.Ph=function(i){this.uh=i.Fc,this.lh=Bn();var s=this.wh(i.documents);return this.yr(s,!0)},l.prototype.yh=function(){return br.Gt(this.query,this.fh,this.Wt,0===this.hh)},l}(),wf=function(l,i,s){this.query=l,this.targetId=i,this.view=s},ed=function(l){this.key=l,this.Vh=!1},sl=function(){function l(i,s,p,y,C,I){this.ju=i,this.ph=s,this.bh=p,this.Sh=y,this.currentUser=C,this.Dh=I,this.Ch={},this.Nh=new je(function(L){return ks(L)},Si),this.Fh=new Map,this.xh=[],this.$h=new Nn(z.i),this.kh=new Map,this.Mh=new Iu,this.Oh={},this.Lh=new Map,this.Bh=$l.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(l.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),l}();function td(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,y,C,I,L;return x.__generator(this,function(H){switch(H.label){case 0:return s=oc(l),(C=s.Nh.get(i))?(s.Sh.Oi(C.targetId),y=C.view.yh(),[3,4]):[3,1];case 1:return[4,su(s.ju,zr(i))];case 2:return I=H.sent(),L=s.Sh.Oi(I.targetId),[4,gi(s,i,I.targetId,"current"===L)];case 3:y=H.sent(),s.Uh&&Kl(s.ph,I),H.label=4;case 4:return[2,y]}})})}function gi(l,i,s,p){return x.__awaiter(this,void 0,void 0,function(){var y,C,I,L,H,se;return x.__generator(this,function(ge){switch(ge.label){case 0:return l.Qh=function(Pe,ke,Ye){return function(rt,ut,Qt,$t){return x.__awaiter(this,void 0,void 0,function(){var hn,Un,Jn;return x.__generator(this,function(Pr){switch(Pr.label){case 0:return(hn=ut.view.wh(Qt)).Eh?[4,Du(rt.ju,ut.query,!1).then(function(ni){return ut.view.wh(ni.documents,hn)})]:[3,2];case 1:hn=Pr.sent(),Pr.label=2;case 2:return Un=$t&&$t.zt.get(ut.targetId),Jn=ut.view.yr(hn,rt.Uh,Un),[2,(cl(rt,ut.targetId,Jn.Rh),Jn.snapshot)]}})})}(l,Pe,ke,Ye)},[4,Du(l.ju,i,!0)];case 1:return y=ge.sent(),C=new Xc(i,y.Fc),I=C.wh(y.documents),L=mr.Zt(s,p&&"Offline"!==l.onlineState),H=C.yr(I,l.Uh,L),cl(l,s,H.Rh),se=new wf(i,s,C),[2,(l.Nh.set(i,se),l.Fh.has(s)?l.Fh.get(s).push(i):l.Fh.set(s,[i]),H.snapshot)]}})})}function nd(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y;return x.__generator(this,function(C){switch(C.label){case 0:return s=Qe(l),p=s.Nh.get(i),(y=s.Fh.get(p.targetId)).length>1?[2,(s.Fh.set(p.targetId,y.filter(function(I){return!Si(I,i)})),void s.Nh.delete(i))]:s.Uh?(s.Sh.Bi(p.targetId),s.Sh.Fi(p.targetId)?[3,2]:[4,Ta(s.ju,p.targetId,!1).then(function(){s.Sh.Ui(p.targetId),Us(s.ph,p.targetId),Ts(s,p.targetId)}).catch(Ia)]):[3,3];case 1:C.sent(),C.label=2;case 2:return[3,5];case 3:return Ts(s,p.targetId),[4,Ta(s.ju,p.targetId,!0)];case 4:C.sent(),C.label=5;case 5:return[2]}})})}function rd(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p;return x.__generator(this,function(y){switch(y.label){case 0:s=Qe(l),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Qh(s.ju,i)];case 2:return p=y.sent(),i.zt.forEach(function(C,I){var L=s.kh.get(I);L&&(we(C.ee.size+C.ne.size+C.se.size<=1),C.ee.size>0?L.Vh=!0:C.ne.size>0?we(L.Vh):C.se.size>0&&(we(L.Vh),L.Vh=!1))}),[4,hs(s,p,i)];case 3:return y.sent(),[3,6];case 4:return[4,Ia(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function Cf(l,i,s){var p=Qe(l);if(p.Uh&&0===s||!p.Uh&&1===s){var y=[];p.Nh.forEach(function(C,I){var L=I.view.Qs(i);L.snapshot&&y.push(L.snapshot)}),function(C,I){var L=Qe(C);L.onlineState=I;var H=!1;L.Bs.forEach(function(se,ge){for(var Pe=0,ke=ge.listeners;Pe<ke.length;Pe++)ke[Pe].Qs(I)&&(H=!0)}),H&&xe(L)}(p.bh,i),y.length&&p.Ch.yu(y),p.onlineState=i,p.Uh&&p.Sh.Ki(i)}}function al(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C,I,L,H;return x.__generator(this,function(se){switch(se.label){case 0:return(p=Qe(l)).Sh.Qi(i,"rejected",s),y=p.kh.get(i),(C=y&&y.key)?(I=(I=new Nn(z.i)).ot(C,new ar(C,nt.min())),L=Bn().add(C),H=new Tr(nt.min(),new Map,new ir(Lt),I,L),[4,rd(p,H)]):[3,2];case 1:return se.sent(),p.$h=p.$h.remove(C),p.kh.delete(i),rc(p),[3,4];case 2:return[4,Ta(p.ju,i,!1).then(function(){return Ts(p,i,s)}).catch(Ia)];case 3:se.sent(),se.label=4;case 4:return[2]}})})}function ul(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y;return x.__generator(this,function(C){switch(C.label){case 0:s=Qe(l),p=i.batch.batchId,C.label=1;case 1:return C.trys.push([1,4,,6]),[4,rl(s.ju,i)];case 2:return y=C.sent(),Ou(s,p,null),ll(s,p),s.Sh.ki(p,"acknowledged"),[4,hs(s,y)];case 3:return C.sent(),[3,6];case 4:return[4,Ia(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}})})}function tc(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y;return x.__generator(this,function(C){switch(C.label){case 0:p=Qe(l),C.label=1;case 1:return C.trys.push([1,4,,6]),[4,(I=p.ju,L=i,H=Qe(I),H.persistence.runTransaction("Reject batch","readwrite-primary",function(se){var ge;return H.Sr.Oo(se,L).next(function(Pe){return we(null!==Pe),ge=Pe.keys(),H.Sr.Wo(se,Pe)}).next(function(){return H.Sr.zo(se)}).next(function(){return H.Cc.kr(se,ge)})}))];case 2:return y=C.sent(),Ou(p,i,s),ll(p,i),p.Sh.ki(i,"rejected",s),[4,hs(p,y)];case 3:return C.sent(),[3,6];case 4:return[4,Ia(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}var I,L,H})})}function ll(l,i){(l.Lh.get(i)||[]).forEach(function(s){s.resolve()}),l.Lh.delete(i)}function Ou(l,i,s){var p=Qe(l),y=p.Oh[p.currentUser.ti()];if(y){var C=y.get(i);C&&(s?C.reject(s):C.resolve(),y=y.remove(i)),p.Oh[p.currentUser.ti()]=y}}function Ts(l,i,s){void 0===s&&(s=null),l.Sh.Bi(i);for(var p=0,y=l.Fh.get(i);p<y.length;p++){var C=y[p];l.Nh.delete(C),s&&l.Ch.Wh(C,s)}l.Fh.delete(i),l.Uh&&l.Mh.Uc(i).forEach(function(I){l.Mh.Ho(I)||nc(l,I)})}function nc(l,i){var s=l.$h.get(i);null!==s&&(Us(l.ph,s),l.$h=l.$h.remove(i),l.kh.delete(s),rc(l))}function cl(l,i,s){for(var p=0,y=s;p<y.length;p++){var C=y[p];C instanceof Zc?(l.Mh.Da(C.key,i),Ef(l,C)):C instanceof bf?(ye("SyncEngine","Document no longer in limbo: "+C.key),l.Mh.Na(C.key,i),l.Mh.Ho(C.key)||nc(l,C.key)):et()}}function Ef(l,i){var s=i.key;l.$h.get(s)||(ye("SyncEngine","New document in limbo: "+s),l.xh.push(s),rc(l))}function rc(l){for(;l.xh.length>0&&l.$h.size<l.Dh;){var i=l.xh.shift(),s=l.Bh.next();l.kh.set(s,new ed(i)),l.$h=l.$h.ot(i,s),Kl(l.ph,new Pt(zr(Ti(i.path)),s,2,Rn.ai))}}function hs(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C,I;return x.__generator(this,function(L){switch(L.label){case 0:return p=Qe(l),y=[],C=[],I=[],p.Nh.m()?[3,3]:(p.Nh.forEach(function(H,se){I.push(p.Qh(se,i,s).then(function(ge){if(ge){p.Uh&&p.Sh.Qi(se.targetId,ge.fromCache?"not-current":"current"),y.push(ge);var Pe=P.zr(se.targetId,ge);C.push(Pe)}}))}),[4,Promise.all(I)]);case 1:return L.sent(),p.Ch.yu(y),[4,function(H,se){return x.__awaiter(this,void 0,void 0,function(){var ge,Pe,ke,Ye,rt,ut,Qt,hn;return x.__generator(this,function(Un){switch(Un.label){case 0:ge=Qe(H),Un.label=1;case 1:return Un.trys.push([1,3,,4]),[4,ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Jn){return Ct.forEach(se,function(Pr){return Ct.forEach(Pr.Kr,function(ni){return ge.persistence.No.Da(Jn,Pr.targetId,ni)}).next(function(){return Ct.forEach(Pr.Gr,function(ni){return ge.persistence.No.Na(Jn,Pr.targetId,ni)})})})})];case 2:return Un.sent(),[3,4];case 3:if(!Po(Pe=Un.sent()))throw Pe;return ye("LocalStore","Failed to update sequence numbers: "+Pe),[3,4];case 4:for(ke=0,Ye=se;ke<Ye.length;ke++)ut=(rt=Ye[ke]).targetId,rt.fromCache||(Qt=ge.bc.get(ut),hn=Qt.rt(Qt.nt),ge.bc=ge.bc.ot(ut,hn));return[2]}})})}(p.ju,C)];case 2:L.sent(),L.label=3;case 3:return[2]}})})}function ea(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p;return x.__generator(this,function(y){switch(y.label){case 0:return(s=Qe(l)).currentUser.isEqual(i)?[3,3]:(ye("SyncEngine","User change. New user:",i.ti()),[4,function(C,I){return x.__awaiter(this,void 0,void 0,function(){var L,H,se,ge;return x.__generator(this,function(Pe){switch(Pe.label){case 0:return L=Qe(C),H=L.Sr,se=L.Cc,[4,L.persistence.runTransaction("Handle user change","readonly",function(ke){var Ye;return L.Sr.Uo(ke).next(function(rt){return Ye=rt,H=L.persistence.mc(I),se=new N(L.Dc,H,L.persistence.Ic()),H.Uo(ke)}).next(function(rt){for(var ut=[],Qt=[],$t=Bn(),hn=0,Un=Ye;hn<Un.length;hn++){var Jn=Un[hn];ut.push(Jn.batchId);for(var Pr=0,ni=Jn.mutations;Pr<ni.length;Pr++)$t=$t.add(ni[Pr].key)}for(var Hs=0,du=rt;Hs<du.length;Hs++){var Dl=du[Hs];Qt.push(Dl.batchId);for(var Hu=0,fu=Dl.mutations;Hu<fu.length;Hu++)$t=$t.add(fu[Hu].key)}return se.kr(ke,$t).next(function(vc){return{jh:vc,Kh:ut,Gh:Qt}})})})];case 1:return ge=Pe.sent(),[2,(L.Sr=H,L.Cc=se,L.Vc.Nc(L.Cc),ge)]}})})}(s.ju,i)]);case 1:return p=y.sent(),s.currentUser=i,(C=s).Lh.forEach(function(L){L.forEach(function(H){H.reject(new X(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),C.Lh.clear(),s.Sh.ji(i,p.Kh,p.Gh),[4,hs(s,p.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var C})})}function uu(l,i){var s=Qe(l),p=s.kh.get(i);if(p&&p.Vh)return Bn().add(p.key);var y=Bn(),C=s.Fh.get(i);if(!C)return y;for(var I=0,L=C;I<L.length;I++){var se=s.Nh.get(L[I]);y=y.kt(se.view.dh)}return y}function ic(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y;return x.__generator(this,function(C){switch(C.label){case 0:return[4,Du((s=Qe(l)).ju,i.query,!0)];case 1:return p=C.sent(),y=i.view.Ph(p),[2,(s.Uh&&cl(s,i.targetId,y.Rh),y)]}})})}function Xh(l,i,s,p){return x.__awaiter(this,void 0,void 0,function(){var y,C;return x.__generator(this,function(I){switch(I.label){case 0:return[4,(L=(y=Qe(l)).ju,H=i,se=Qe(L),ge=Qe(se.Sr),se.persistence.runTransaction("Lookup mutation documents","readonly",function(Pe){return ge.Lo(Pe,H).next(function(ke){return ke?se.Cc.kr(Pe,ke):Ct.resolve(null)})}))];case 1:return null===(C=I.sent())?[3,6]:"pending"!==s?[3,3]:[4,Ma(y.ph)];case 2:return I.sent(),[3,4];case 3:"acknowledged"===s||"rejected"===s?(Ou(y,i,p||null),ll(y,i),function(L,H){Qe(Qe(L).Sr).Ko(H)}(y.ju,i)):et(),I.label=4;case 4:return[4,hs(y,C)];case 5:return I.sent(),[3,7];case 6:ye("SyncEngine","Cannot apply mutation batch with id: "+i),I.label=7;case 7:return[2]}var L,H,se,ge})})}function dl(l,i){return x.__awaiter(this,void 0,void 0,function(){var s,p,y,C,I,H,se;return x.__generator(this,function(ge){switch(ge.label){case 0:return oc(s=Qe(l)),sc(s),!0!==i||!0===s.qh?[3,3]:(p=s.Sh.Ci(),[4,Ga(s,p.A())]);case 1:return y=ge.sent(),s.qh=!0,[4,Kc(s.ph,!0)];case 2:for(ge.sent(),C=0,I=y;C<I.length;C++)Kl(s.ph,I[C]);return[3,7];case 3:return!1!==i||!1===s.qh?[3,7]:(H=[],se=Promise.resolve(),s.Fh.forEach(function(Pe,ke){s.Sh.qi(ke)?H.push(ke):se=se.then(function(){return Ts(s,ke),Ta(s.ju,ke,!0)}),Us(s.ph,ke)}),[4,se]);case 4:return ge.sent(),[4,Ga(s,H)];case 5:return ge.sent(),(ke=Qe(s)).kh.forEach(function(Ye,rt){Us(ke.ph,rt)}),ke.Mh.Qc(),ke.kh=new Map,ke.$h=new Nn(z.i),s.qh=!1,[4,Kc(s.ph,!1)];case 6:ge.sent(),ge.label=7;case 7:return[2]}var ke})})}function Ga(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C,I,L,H,se,ge,Pe,ke,rt,ut,Qt;return x.__generator(this,function($t){switch($t.label){case 0:p=Qe(l),y=[],C=[],I=0,L=i,$t.label=1;case 1:return I<L.length?(se=void 0,(ge=p.Fh.get(H=L[I]))&&0!==ge.length?[4,su(p.ju,zr(ge[0]))]:[3,7]):[3,13];case 2:se=$t.sent(),Pe=0,ke=ge,$t.label=3;case 3:return Pe<ke.length?(rt=p.Nh.get(ke[Pe]),[4,ic(p,rt)]):[3,6];case 4:(ut=$t.sent()).snapshot&&C.push(ut.snapshot),$t.label=5;case 5:return Pe++,[3,3];case 6:return[3,11];case 7:return[4,Yl(p.ju,H)];case 8:return Qt=$t.sent(),[4,su(p.ju,Qt)];case 9:return se=$t.sent(),[4,gi(p,Pu(Qt),H,!1)];case 10:$t.sent(),$t.label=11;case 11:y.push(se),$t.label=12;case 12:return I++,[3,1];case 13:return[2,(p.Ch.yu(C),y)]}})})}function Pu(l){return ys(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Df(l){var i=Qe(l);return Qe(Qe(i.ju).persistence).pi()}function id(l,i,s,p){return x.__awaiter(this,void 0,void 0,function(){var y,C,I;return x.__generator(this,function(L){switch(L.label){case 0:return(y=Qe(l)).qh?(ye("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(i))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ql(y.ju)];case 3:return C=L.sent(),I=Tr.Xt(i,"current"===s),[4,hs(y,C,I)];case 4:return L.sent(),[3,8];case 5:return[4,Ta(y.ju,i,!0)];case 6:return L.sent(),Ts(y,i,p),[3,8];case 7:et(),L.label=8;case 8:return[2]}})})}function Tf(l,i,s){return x.__awaiter(this,void 0,void 0,function(){var p,y,C,I,L,H,se,ge,Pe;return x.__generator(this,function(Ye){switch(Ye.label){case 0:if(!(p=oc(l)).qh)return[3,10];y=0,C=i,Ye.label=1;case 1:return y<C.length?p.Fh.has(I=C[y])?(ye("SyncEngine","Adding an already active target "+I),[3,5]):[4,Yl(p.ju,I)]:[3,6];case 2:return L=Ye.sent(),[4,su(p.ju,L)];case 3:return H=Ye.sent(),[4,gi(p,Pu(L),H.targetId,!1)];case 4:Ye.sent(),Kl(p.ph,H),Ye.label=5;case 5:return y++,[3,1];case 6:se=function(rt){return x.__generator(this,function(ut){switch(ut.label){case 0:return p.Fh.has(rt)?[4,Ta(p.ju,rt,!1).then(function(){Us(p.ph,rt),Ts(p,rt)}).catch(Ia)]:[3,2];case 1:ut.sent(),ut.label=2;case 2:return[2]}})},ge=0,Pe=s,Ye.label=7;case 7:return ge<Pe.length?[5,se(Pe[ge])]:[3,10];case 8:Ye.sent(),Ye.label=9;case 9:return ge++,[3,7];case 10:return[2]}})})}function oc(l){var i=Qe(l);return i.ph.Gu.sh=rd.bind(null,i),i.ph.Gu.qe=uu.bind(null,i),i.ph.Gu.nh=al.bind(null,i),i.Ch.yu=k.bind(null,i.bh),i.Ch.Wh=K.bind(null,i.bh),i}function sc(l){var i=Qe(l);return i.ph.Gu.ih=ul.bind(null,i),i.ph.Gu.rh=tc.bind(null,i),i}var fl=function(){function l(){}return l.prototype.Nc=function(i){this.zh=i},l.prototype.Lr=function(i,s,p,y){var I,C=this;return 0===(I=s).filters.length&&null===I.limit&&null==I.startAt&&null==I.endAt&&(0===I.on.length||1===I.on.length&&I.on[0].field.p())||p.isEqual(nt.min())?this.Hh(i,s):this.zh.kr(i,y).next(function(I){var L=C.Yh(s,I);return(Mo(s)||Bi(s))&&C.Eh(s.an,L,y,p)?C.Hh(i,s):(_e()<=J.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),ls(s)),C.zh.Lr(i,s,p).next(function(H){return L.forEach(function(se){H=H.ot(se.key,se)}),H}))})},l.prototype.Yh=function(i,s){var p=new ir(Yo(i));return s.forEach(function(y,C){C instanceof Mt&&Ui(i,C)&&(p=p.add(C))}),p},l.prototype.Eh=function(i,s,p,y){if(p.size!==s.size)return!0;var C="F"===i?s.last():s.first();return!!C&&(C.hasPendingWrites||C.version.L(y)>0)},l.prototype.Hh=function(i,s){return _e()<=J.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Using full collection scan to execute query:",ls(s)),this.zh.Lr(i,s,nt.min())},l}(),ep=function(){function l(i,s){this.Dr=i,this.No=s,this.Sr=[],this.Jh=1,this.Xh=new ir(Bo.kc)}return l.prototype.$o=function(i){return Ct.resolve(0===this.Sr.length)},l.prototype.ko=function(i,s,p,y){var C=this.Jh;this.Jh++;var I=new ba(C,s,p,y);this.Sr.push(I);for(var L=0,H=y;L<H.length;L++){var se=H[L];this.Xh=this.Xh.add(new Bo(se.key,C)),this.Dr.Mo(i,se.key.path.h())}return Ct.resolve(I)},l.prototype.Oo=function(i,s){return Ct.resolve(this.Zh(s))},l.prototype.Bo=function(i,s){var y=this.tl(s+1),C=y<0?0:y;return Ct.resolve(this.Sr.length>C?this.Sr[C]:null)},l.prototype.qo=function(){return Ct.resolve(0===this.Sr.length?-1:this.Jh-1)},l.prototype.Uo=function(i){return Ct.resolve(this.Sr.slice())},l.prototype.Nr=function(i,s){var p=this,y=new Bo(s,0),C=new Bo(s,Number.POSITIVE_INFINITY),I=[];return this.Xh.Ft([y,C],function(L){var H=p.Zh(L.jc);I.push(H)}),Ct.resolve(I)},l.prototype.Or=function(i,s){var p=this,y=new ir(Lt);return s.forEach(function(C){var I=new Bo(C,0),L=new Bo(C,Number.POSITIVE_INFINITY);p.Xh.Ft([I,L],function(H){y=y.add(H.jc)})}),Ct.resolve(this.el(y))},l.prototype.Wr=function(i,s){var p=s.path,y=p.length+1,C=p;z.F(C)||(C=C.child(""));var I=new Bo(new z(C),0),L=new ir(Lt);return this.Xh.xt(function(H){var se=H.key.path;return!!p.T(se)&&(se.length===y&&(L=L.add(H.jc)),!0)},I),Ct.resolve(this.el(L))},l.prototype.el=function(i){var s=this,p=[];return i.forEach(function(y){var C=s.Zh(y);null!==C&&p.push(C)}),p},l.prototype.Wo=function(i,s){var p=this;we(0===this.nl(s.batchId,"removed")),this.Sr.shift();var y=this.Xh;return Ct.forEach(s.mutations,function(C){var I=new Bo(C.key,s.batchId);return y=y.delete(I),p.No.Go(i,C.key)}).next(function(){p.Xh=y})},l.prototype.Ko=function(i){},l.prototype.Ho=function(i,s){var p=new Bo(s,0),y=this.Xh.$t(p);return Ct.resolve(s.isEqual(y&&y.key))},l.prototype.zo=function(i){return Ct.resolve()},l.prototype.nl=function(i,s){return this.tl(i)},l.prototype.tl=function(i){return 0===this.Sr.length?0:i-this.Sr[0].batchId},l.prototype.Zh=function(i){var s=this.tl(i);return s<0||s>=this.Sr.length?null:this.Sr[s]},l}(),If=function(){function l(i,s){this.Dr=i,this.sl=s,this.docs=new Nn(z.i),this.size=0}return l.prototype.Er=function(i,s,p){var y=s.key,C=this.docs.get(y),I=C?C.size:0,L=this.sl(s);return this.docs=this.docs.ot(y,{ta:s,size:L,readTime:p}),this.size+=L-I,this.Dr.Mo(i,y.path.h())},l.prototype.Ar=function(i){var s=this.docs.get(i);s&&(this.docs=this.docs.remove(i),this.size-=s.size)},l.prototype.Rr=function(i,s){var p=this.docs.get(s);return Ct.resolve(p?p.ta:null)},l.prototype.getEntries=function(i,s){var p=this,y=ao();return s.forEach(function(C){var I=p.docs.get(C);y=y.ot(C,I?I.ta:null)}),Ct.resolve(y)},l.prototype.Lr=function(i,s,p){for(var y=Ur(),C=new z(s.path.child("")),I=this.docs.ft(C);I.At();){var L=I.It(),se=L.value,ge=se.ta,Pe=se.readTime;if(!s.path.T(L.key.path))break;Pe.L(p)<=0||ge instanceof Mt&&Ui(s,ge)&&(y=y.ot(ge.key,ge))}return Ct.resolve(y)},l.prototype.il=function(i,s){return Ct.forEach(this.docs,function(p){return s(p)})},l.prototype.ra=function(i){return new ti(this)},l.prototype.aa=function(i){return Ct.resolve(this.size)},l}(),ti=function(l){function i(s){var p=this;return(p=l.call(this)||this).ca=s,p}return x.__extends(i,l),i.prototype.yr=function(s){var p=this,y=[];return this.wr.forEach(function(C,I){I?y.push(p.ca.Er(s,I,p.readTime)):p.ca.Ar(C)}),Ct.$n(y)},i.prototype.gr=function(s,p){return this.ca.Rr(s,p)},i.prototype.Pr=function(s,p){return this.ca.getEntries(s,p)},i}(h),od=function(){function l(i){this.persistence=i,this.rl=new je(function(s){return $e(s)},wt),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ol=0,this.al=new Iu,this.targetCount=0,this.cl=$l.fa()}return l.prototype.Ce=function(i,s){return this.rl.forEach(function(p,y){return s(y)}),Ct.resolve()},l.prototype.Ea=function(i){return Ct.resolve(this.lastRemoteSnapshotVersion)},l.prototype.Ia=function(i){return Ct.resolve(this.ol)},l.prototype.wa=function(i){return this.highestTargetId=this.cl.next(),Ct.resolve(this.highestTargetId)},l.prototype.Aa=function(i,s,p){return p&&(this.lastRemoteSnapshotVersion=p),s>this.ol&&(this.ol=s),Ct.resolve()},l.prototype.ga=function(i){this.rl.set(i.target,i);var s=i.targetId;s>this.highestTargetId&&(this.cl=new $l(s),this.highestTargetId=s),i.sequenceNumber>this.ol&&(this.ol=i.sequenceNumber)},l.prototype.Ra=function(i,s){return this.ga(s),this.targetCount+=1,Ct.resolve()},l.prototype.ya=function(i,s){return this.ga(s),Ct.resolve()},l.prototype.Va=function(i,s){return this.rl.delete(s.target),this.al.Uc(s.targetId),this.targetCount-=1,Ct.resolve()},l.prototype.po=function(i,s,p){var y=this,C=0,I=[];return this.rl.forEach(function(L,H){H.sequenceNumber<=s&&null===p.get(H.targetId)&&(y.rl.delete(L),I.push(y.pa(i,H.targetId)),C++)}),Ct.$n(I).next(function(){return C})},l.prototype.ba=function(i){return Ct.resolve(this.targetCount)},l.prototype.va=function(i,s){var p=this.rl.get(s)||null;return Ct.resolve(p)},l.prototype.Sa=function(i,s,p){return this.al.Lc(s,p),Ct.resolve()},l.prototype.Ca=function(i,s,p){this.al.qc(s,p);var y=this.persistence.No,C=[];return y&&s.forEach(function(I){C.push(y.Go(i,I))}),Ct.$n(C)},l.prototype.pa=function(i,s){return this.al.Uc(s),Ct.resolve()},l.prototype.Fa=function(i,s){var p=this.al.Wc(s);return Ct.resolve(p)},l.prototype.Ho=function(i,s){return Ct.resolve(this.al.Ho(s))},l}(),ta=function(){function l(i){var s=this;this.ul={},this.Ma=new Rn(0),this.Oa=!1,this.Oa=!0,this.No=i(this),this.Ka=new od(this),this.Dr=new ws,this.vr=new If(this.Dr,function(C){return s.No.hl(C)})}return l.prototype.start=function(){return Promise.resolve()},l.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(l.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),l.prototype.Za=function(){},l.prototype.tc=function(){},l.prototype.Ic=function(){return this.Dr},l.prototype.mc=function(i){var s=this.ul[i.ti()];return s||(s=new ep(this.Dr,this.No),this.ul[i.ti()]=s),s},l.prototype.Tc=function(){return this.Ka},l.prototype.Ec=function(){return this.vr},l.prototype.runTransaction=function(i,s,p){var y=this;ye("MemoryPersistence","Starting transaction:",i);var C=new Uo(this.Ma.next());return this.No.ll(),p(C).next(function(I){return y.No._l(C).next(function(){return I})}).Fn().then(function(I){return C.br(),I})},l.prototype.fl=function(i,s){return Ct.kn(Object.values(this.ul).map(function(p){return function(){return p.Ho(i,s)}}))},l}(),Uo=function(l){function i(s){var p=this;return(p=l.call(this)||this).xa=s,p}return x.__extends(i,l),i}(b),hl=function(){function l(i){this.persistence=i,this.dl=new Iu,this.wl=null}return l.ml=function(i){return new l(i)},Object.defineProperty(l.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw et()},enumerable:!1,configurable:!0}),l.prototype.Da=function(i,s,p){return this.dl.Da(p,s),this.Tl.delete(p.toString()),Ct.resolve()},l.prototype.Na=function(i,s,p){return this.dl.Na(p,s),this.Tl.add(p.toString()),Ct.resolve()},l.prototype.Go=function(i,s){return this.Tl.add(s.toString()),Ct.resolve()},l.prototype.removeTarget=function(i,s){var p=this;this.dl.Uc(s.targetId).forEach(function(C){return p.Tl.add(C.toString())});var y=this.persistence.Tc();return y.Fa(i,s.targetId).next(function(C){C.forEach(function(I){return p.Tl.add(I.toString())})}).next(function(){return y.Va(i,s)})},l.prototype.ll=function(){this.wl=new Set},l.prototype._l=function(i){var s=this,p=this.persistence.Ec().ra();return Ct.forEach(this.Tl,function(y){var C=z.D(y);return s.El(i,C).next(function(I){I||p.Ar(C)})}).next(function(){return s.wl=null,p.apply(i)})},l.prototype.yc=function(i,s){var p=this;return this.El(i,s).next(function(y){y?p.Tl.delete(s.toString()):p.Tl.add(s.toString())})},l.prototype.hl=function(i){return 0},l.prototype.El=function(i,s){var p=this;return Ct.kn([function(){return Ct.resolve(p.dl.Ho(s))},function(){return p.persistence.Tc().Ho(i,s)},function(){return p.persistence.fl(i,s)}])},l}(),ku=function(){function l(i){this.Il=i.Il,this.Al=i.Al}return l.prototype.gu=function(i){this.Rl=i},l.prototype.Tu=function(i){this.gl=i},l.prototype.onMessage=function(i){this.Pl=i},l.prototype.close=function(){this.Al()},l.prototype.send=function(i){this.Il(i)},l.prototype.yl=function(){this.Rl()},l.prototype.Vl=function(i){this.gl(i)},l.prototype.pl=function(i){this.Pl(i)},l}(),sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tp=function(l){function i(s){var p=this;return(p=l.call(this,s)||this).forceLongPolling=s.forceLongPolling,p.W=s.W,p}return x.__extends(i,l),i.prototype.Nl=function(s,p,y,C){return new Promise(function(I,L){var H=new Se.XhrIo;H.listenOnce(Se.EventType.COMPLETE,function(){try{switch(H.getLastErrorCode()){case Se.ErrorCode.NO_ERROR:var ge=H.getResponseJson();ye("Connection","XHR received:",JSON.stringify(ge)),I(ge);break;case Se.ErrorCode.TIMEOUT:ye("Connection",'RPC "'+s+'" timed out'),L(new X(te.DEADLINE_EXCEEDED,"Request time out"));break;case Se.ErrorCode.HTTP_ERROR:var Pe=H.getStatus();if(ye("Connection",'RPC "'+s+'" failed with status:',Pe,"response text:",H.getResponseText()),Pe>0){var ke=H.getResponseJson().error;if(ke&&ke.status&&ke.message){var Ye=(ut=ke.status.toLowerCase().replace("_","-"),Object.values(te).indexOf(ut)>=0?ut:te.UNKNOWN);L(new X(Ye,ke.message))}else L(new X(te.UNKNOWN,"Server responded with status "+H.getStatus()))}else L(new X(te.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{ye("Connection",'RPC "'+s+'" completed.')}var ut});var se=JSON.stringify(C);H.send(p,"POST",se,y,15)})},i.prototype.Pu=function(s,p){var y=[this.vl,"/","google.firestore.v1.Firestore","/",s,"/channel"],C=Se.createWebChannelTransport(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(I.initMessageHeaders,p),He.isMobileCordova()||He.isReactNative()||He.isElectron()||He.isIE()||He.isUWP()||He.isBrowserExtension()||(I.httpHeadersOverwriteParam="$httpHeaders");var L=y.join("");ye("Connection","Creating WebChannel: "+L,I);var H=C.createWebChannel(L,I),se=!1,ge=!1,Pe=new ku({Il:function(Ye){ge?ye("Connection","Not sending because WebChannel is closed:",Ye):(se||(ye("Connection","Opening WebChannel transport."),H.open(),se=!0),ye("Connection","WebChannel sending:",Ye),H.send(Ye))},Al:function(){return H.close()}}),ke=function(Ye,rt){H.listen(Ye,function(ut){try{rt(ut)}catch(Qt){setTimeout(function(){throw Qt},0)}})};return ke(Se.WebChannel.EventType.OPEN,function(){ge||ye("Connection","WebChannel transport opened.")}),ke(Se.WebChannel.EventType.CLOSE,function(){ge||(ge=!0,ye("Connection","WebChannel transport closed"),Pe.Vl())}),ke(Se.WebChannel.EventType.ERROR,function(Ye){ge||(ge=!0,ct("Connection","WebChannel transport errored:",Ye),Pe.Vl(new X(te.UNAVAILABLE,"The operation could not be completed")))}),ke(Se.WebChannel.EventType.MESSAGE,function(Ye){var rt;if(!ge){var ut=Ye.data[0];we(!!ut);var $t=ut.error||(null===(rt=ut[0])||void 0===rt?void 0:rt.error);if($t){ye("Connection","WebChannel received error:",$t);var hn=$t.status,Un=function(Pr){var ni=jt[Pr];if(void 0!==ni)return wn(ni)}(hn),Jn=$t.message;void 0===Un&&(Un=te.INTERNAL,Jn="Unknown error status: "+hn+" with message "+$t.message),ge=!0,Pe.Vl(new X(Un,Jn)),H.close()}else ye("Connection","WebChannel received:",ut),Pe.pl(ut)}}),setTimeout(function(){Pe.yl()},0),Pe},i}(function(){function l(i){this.bl=i,this.U=i.U,this.vl=(i.ssl?"https":"http")+"://"+i.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return l.prototype.$u=function(i,s,p,y){var C=this.Dl(i,s);ye("RestConnection","Sending: ",C,p);var I={};return this.Cl(I,y),this.Nl(i,C,I,p).then(function(L){return ye("RestConnection","Received: ",L),L},function(L){throw ct("RestConnection",i+" failed with error: ",L,"url: ",C,"request:",p),L})},l.prototype.ku=function(i,s,p,y){return this.$u(i,s,p,y)},l.prototype.Cl=function(i,s){if(i["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",i["Content-Type"]="text/plain",s)for(var p in s.Kc)s.Kc.hasOwnProperty(p)&&(i[p]=s.Kc[p])},l.prototype.Dl=function(i,s){return this.vl+"/v1/"+s+":"+sd[i]},l}()),pl=function(){function l(){var i=this;this.Fl=function(){return i.xl()},this.$l=function(){return i.kl()},this.Ml=[],this.Ol()}return l.prototype.Zu=function(i){this.Ml.push(i)},l.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},l.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},l.prototype.xl=function(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,s=this.Ml;i<s.length;i++)(0,s[i])(0)},l.prototype.kl=function(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,s=this.Ml;i<s.length;i++)(0,s[i])(1)},l.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},l}(),np=function(){function l(){}return l.prototype.Zu=function(i){},l.prototype.Di=function(){},l}();function Fu(l){return new dr(l,!0)}var gl="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",$a=function(){function l(){}return l.prototype.initialize=function(i){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(s){switch(s.label){case 0:return this.Sh=this.Ll(i),this.persistence=this.Bl(i),[4,this.persistence.start()];case 1:return s.sent(),this.ql=this.Ul(i),this.ju=this.Ql(i),[2]}})})},l.prototype.Ul=function(i){return null},l.prototype.Ql=function(i){return s=this.persistence,p=new fl,new fs(s,p,i.Wl);var s,p},l.prototype.Bl=function(i){if(i.persistenceSettings.jl)throw new X(te.FAILED_PRECONDITION,gl);return new ta(hl.ml)},l.prototype.Ll=function(i){return new va},l.prototype.terminate=function(){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(i){switch(i.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return i.sent(),[4,this.persistence.Di()];case 2:return i.sent(),[2]}})})},l.prototype.clearPersistence=function(i,s){throw new X(te.FAILED_PRECONDITION,gl)},l}(),rp=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.initialize=function(s){return x.__awaiter(this,void 0,void 0,function(){var p,y=this;return x.__generator(this,function(C){switch(C.label){case 0:return[4,l.prototype.initialize.call(this,s)];case 1:return C.sent(),p=this.Kl.fi,this.Sh instanceof aa?(this.Sh.fi={er:Xh.bind(null,p),nr:id.bind(null,p),sr:Tf.bind(null,p),pi:Df.bind(null,p)},[4,this.Sh.start()]):[3,3];case 2:C.sent(),C.label=3;case 3:return[4,this.persistence.Xa(function(I){return x.__awaiter(y,void 0,void 0,function(){return x.__generator(this,function(L){switch(L.label){case 0:return[4,dl(this.Kl.fi,I)];case 1:return L.sent(),this.ql&&(I&&!this.ql.Ei?this.ql.start(this.ju):I||this.ql.stop()),[2]}})})})];case 4:return C.sent(),[2]}})})},i.prototype.Ll=function(s){if(s.persistenceSettings.jl&&s.persistenceSettings.synchronizeTabs){var p=F();if(!aa.Ln(p))throw new X(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=nl(s.bl.U,s.bl.persistenceKey);return new aa(p,s.cs,y,s.clientId,s.Wl)}return new va},i}(function(l){function i(s){var p=this;return(p=l.call(this)||this).Kl=s,p}return x.__extends(i,l),i.prototype.initialize=function(s){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(p){switch(p.label){case 0:return[4,l.prototype.initialize.call(this,s)];case 1:return p.sent(),[4,Tu(this.ju)];case 2:return p.sent(),[4,this.Kl.initialize(this,s)];case 3:return p.sent(),[4,sc(this.Kl.fi)];case 4:return p.sent(),[4,Ma(this.Kl.ph)];case 5:return p.sent(),[2]}})})},i.prototype.Ul=function(s){return new Ge(this.persistence.No.wo,s.cs)},i.prototype.Bl=function(s){var p=nl(s.bl.U,s.bl.persistenceKey),y=Fu(s.bl.U);return new Ds(s.persistenceSettings.synchronizeTabs,p,s.clientId,fe.ao(s.persistenceSettings.cacheSizeBytes),s.cs,F(),W(),y,this.Sh,s.persistenceSettings.ka)},i.prototype.Ll=function(s){return new va},i.prototype.clearPersistence=function(s,p){return function(y){return x.__awaiter(this,void 0,void 0,function(){return x.__generator(this,function(I){switch(I.label){case 0:return lr.Ln()?[4,lr.delete(y+"main")]:[2,Promise.resolve()];case 1:return I.sent(),[2]}})})}(nl(s,p))},i}($a)),Lu=function(){function l(){}return l.prototype.initialize=function(i,s){return x.__awaiter(this,void 0,void 0,function(){var p=this;return x.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=i.ju,this.Sh=i.Sh,this.Ku=this.Gl(s),this.ph=this.zl(s),this.bh=this.Hl(s),this.fi=this.Yl(s),this.Sh.di=function(C){return Cf(p.fi,C,1)},this.ph.Gu.Jl=ea.bind(null,this.fi),[4,Kc(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},l.prototype.Hl=function(i){return new fn},l.prototype.Gl=function(i){var p=Fu(i.bl.U),y=new tp(i.bl);return new Ua(i.credentials,y,p)},l.prototype.zl=function(i){var s,p,y,C,I,L=this;return s=this.ju,p=this.Ku,y=i.cs,C=function(H){return Cf(L.fi,H,0)},I=pl.Ln()?new pl:new np,new wi(s,p,y,C,I)},l.prototype.Yl=function(i){return H=!i.persistenceSettings.jl||!i.persistenceSettings.synchronizeTabs,se=new sl(this.ju,this.ph,this.bh,this.Sh,i.Wl,i.Dh),H&&(se.qh=!0),se;var H,se},l.prototype.terminate=function(){return Jl(this.ph)},l}(),Vu=function(){function l(i){this.observer=i,this.muted=!1}return l.prototype.next=function(i){this.observer.next&&this.Xl(this.observer.next,i)},l.prototype.error=function(i){this.observer.error?this.Xl(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},l.prototype.Zl=function(){this.muted=!0},l.prototype.Xl=function(i,s){var p=this;this.muted||setTimeout(function(){p.muted||i(s)},0)},l}(),ac=function(l){!function(s,p,y,C){if(!(p instanceof Array)||p.length<1)throw new X(te.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+vr(1,"element")+".")}(0,l);for(var i=0;i<l.length;++i)if(Ne("FieldPath","string",i,l[i]),0===l[i].length)throw new X(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Z(l)},Wa=function(l){function i(){for(var s=[],p=0;p<arguments.length;p++)s[p]=arguments[p];return l.call(this,s)||this}return x.__extends(i,l),i.documentId=function(){return new i(Z.v().R())},i.prototype.isEqual=function(s){if(!(s instanceof i))throw Hn("isEqual","FieldPath",1,s);return this.t_.isEqual(s.t_)},i}(ac),Sf=new RegExp("[~\\*/\\[\\]]"),za=function(l){this.e_=l},Ya=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.n_=function(s){if(2!==s.s_)throw s.i_(1===s.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return s.We.push(s.path),null},i.prototype.isEqual=function(s){return s instanceof i},i}(za);function Bu(l,i,s){return new cd({s_:3,r_:i.settings.r_,methodName:l.e_,o_:s},i.U,i.serializer,i.ignoreUndefinedProperties)}var ad=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.n_=function(s){return new _r(s.path,new Di)},i.prototype.isEqual=function(s){return s instanceof i},i}(za),uc=function(l){function i(s,p){var y=this;return(y=l.call(this,s)||this).a_=p,y}return x.__extends(i,l),i.prototype.n_=function(s){var p=Bu(this,s,!0),y=this.a_.map(function(I){return ca(I,p)}),C=new ai(y);return new _r(s.path,C)},i.prototype.isEqual=function(s){return this===s},i}(za),Nf=function(l){function i(s,p){var y=this;return(y=l.call(this,s)||this).a_=p,y}return x.__extends(i,l),i.prototype.n_=function(s){var p=Bu(this,s,!0),y=this.a_.map(function(I){return ca(I,p)}),C=new Cr(y);return new _r(s.path,C)},i.prototype.isEqual=function(s){return this===s},i}(za),xi=function(l){function i(s,p){var y=this;return(y=l.call(this,s)||this).c_=p,y}return x.__extends(i,l),i.prototype.n_=function(s){var p=new Fr(s.serializer,or(s.serializer,this.c_));return new _r(s.path,p)},i.prototype.isEqual=function(s){return this===s},i}(za),ml=function(){function l(i,s){if(ue("GeoPoint",arguments,2),Ne("GeoPoint","number",1,i),Ne("GeoPoint","number",2,s),!isFinite(i)||i<-90||i>90)throw new X(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(s)||s<-180||s>180)throw new X(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this.u_=i,this.h_=s}return Object.defineProperty(l.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return this.u_===i.u_&&this.h_===i.h_},l.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},l.prototype.Y=function(i){return Lt(this.u_,i.u_)||Lt(this.h_,i.h_)},l}(),yl=function(l){this.l_=l},lc=/^__.*__$/,js=function(l,i,s){this.__=l,this.f_=i,this.d_=s},Af=function(){function l(i,s,p){this.data=i,this.We=s,this.fieldTransforms=p}return l.prototype.w_=function(i,s){var p=[];return p.push(null!==this.We?new sn(i,this.data,this.We,s):new Ht(i,this.data,s)),this.fieldTransforms.length>0&&p.push(new On(i,this.fieldTransforms)),p},l}(),ud=function(){function l(i,s,p){this.data=i,this.We=s,this.fieldTransforms=p}return l.prototype.w_=function(i,s){var p=[new sn(i,this.data,this.We,s)];return this.fieldTransforms.length>0&&p.push(new On(i,this.fieldTransforms)),p},l}();function ld(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var cd=function(){function l(i,s,p,y,C,I){this.settings=i,this.U=s,this.serializer=p,this.ignoreUndefinedProperties=y,void 0===C&&this.m_(),this.fieldTransforms=C||[],this.We=I||[]}return Object.defineProperty(l.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),l.prototype.T_=function(i){return new l(Object.assign(Object.assign({},this.settings),i),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},l.prototype.E_=function(i){var s,p=null===(s=this.path)||void 0===s?void 0:s.child(i),y=this.T_({path:p,o_:!1});return y.I_(i),y},l.prototype.A_=function(i){var s,p=null===(s=this.path)||void 0===s?void 0:s.child(i),y=this.T_({path:p,o_:!1});return y.m_(),y},l.prototype.R_=function(i){return this.T_({path:void 0,o_:!0})},l.prototype.i_=function(i){return fc(i,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},l.prototype.contains=function(i){return void 0!==this.We.find(function(s){return i.T(s)})||void 0!==this.fieldTransforms.find(function(s){return i.T(s.field)})},l.prototype.m_=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.I_(this.path.get(i))},l.prototype.I_=function(i){if(0===i.length)throw this.i_("Document fields must not be empty");if(ld(this.s_)&&lc.test(i))throw this.i_('Document fields cannot begin and end with "__"')},l}(),Mf=function(){function l(i,s,p){this.U=i,this.ignoreUndefinedProperties=s,this.serializer=p||Fu(i)}return l.prototype.P_=function(i,s,p,y){return void 0===y&&(y=!1),new cd({s_:i,methodName:s,r_:p,path:Z.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},l}();function dd(l,i,s,p,y,C){void 0===C&&(C={});var I=l.P_(C.merge||C.mergeFields?2:0,i,s,y);mo("Data must be an object, but it was:",I,p);var L,H,se=cc(p,I);if(C.merge)L=new Lr(I.We),H=I.fieldTransforms;else if(C.mergeFields){for(var ge=[],Pe=0,ke=C.mergeFields;Pe<ke.length;Pe++){var Ye=ke[Pe],rt=void 0;if(Ye instanceof ac)rt=Ye.t_;else{if("string"!=typeof Ye)throw et();rt=Uu(i,Ye,s)}if(!I.contains(rt))throw new X(te.INVALID_ARGUMENT,"Field '"+rt+"' is specified in your field mask but missing from your input data.");hd(ge,rt)||ge.push(rt)}L=new Lr(ge),H=I.fieldTransforms.filter(function(ut){return L.Ye(ut.field)})}else L=null,H=I.fieldTransforms;return new Af(new ui(se),L,H)}function fd(l,i,s,p){var y=l.P_(1,i,s);mo("Data must be an object, but it was:",y,p);var C=[],I=new hr;Gt(p,function(H,se){var ge=Uu(i,H,s),Pe=y.A_(ge);if(se instanceof Ya||se instanceof yl&&se.l_ instanceof Ya)C.push(ge);else{var ke=ca(se,Pe);null!=ke&&(C.push(ge),I.set(ge,ke))}});var L=new Lr(C);return new ud(I.Xe(),L,y.fieldTransforms)}function qa(l,i,s,p,y,C){var I=l.P_(1,i,s),L=[da(i,p,s)],H=[y];if(C.length%2!=0)throw new X(te.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var se=0;se<C.length;se+=2)L.push(da(i,C[se])),H.push(C[se+1]);for(var ge=[],Pe=new hr,ke=L.length-1;ke>=0;--ke)if(!hd(ge,L[ke])){var Ye=L[ke],rt=H[ke],ut=I.A_(Ye);if(rt instanceof Ya||rt instanceof yl&&rt.l_ instanceof Ya)ge.push(Ye);else{var Qt=ca(rt,ut);null!=Qt&&(ge.push(Ye),Pe.set(Ye,Qt))}}var $t=new Lr(ge);return new ud(Pe.Xe(),$t,I.fieldTransforms)}function jo(l,i,s,p){return void 0===p&&(p=!1),ca(s,l.P_(p?4:3,i))}function ca(l,i){if(l instanceof yl&&(l=l.l_),dc(l))return mo("Unsupported field value:",i,l),cc(l,i);if(l instanceof za)return function(s,p){if(!ld(p.s_))throw p.i_(s.e_+"() can only be used with update() and set()");if(!p.path)throw p.i_(s.e_+"() is not currently supported inside arrays");var y=s.n_(p);y&&p.fieldTransforms.push(y)}(l,i),null;if(i.path&&i.We.push(i.path),l instanceof Array){if(i.settings.o_&&4!==i.s_)throw i.i_("Nested arrays are not supported");return function(s,p){for(var y=[],C=0,I=0,L=s;I<L.length;I++){var H=ca(L[I],p.R_(C));null==H&&(H={nullValue:"NULL_VALUE"}),y.push(H),C++}return{arrayValue:{values:y}}}(l,i)}return function(s,p){if(null===s)return{nullValue:"NULL_VALUE"};if("number"==typeof s)return or(p.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){var y=be.fromDate(s);return{timestampValue:uo(p.serializer,y)}}if(s instanceof be){var C=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uo(p.serializer,C)}}if(s instanceof ml)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:lo(p.serializer,s.q)};if(s instanceof js){var I=p.U,L=s.__;if(!L.isEqual(I))throw p.i_("Document reference is for database "+L.projectId+"/"+L.database+" but should be for database "+I.projectId+"/"+I.database);return{referenceValue:Zr(s.__||p.U,s.f_.path)}}if(void 0===s&&p.ignoreUndefinedProperties)return null;throw p.i_("Unsupported field value: "+bn(s))}(l,i)}function cc(l,i){var s={};return mn(l)?i.path&&i.path.length>0&&i.We.push(i.path):Gt(l,function(p,y){var C=ca(y,i.E_(p));null!=C&&(s[p]=C)}),{mapValue:{fields:s}}}function dc(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof be||l instanceof ml||l instanceof Zn||l instanceof js||l instanceof za)}function mo(l,i,s){if(!dc(s)||!nn(s)){var p=bn(s);throw i.i_("an object"===p?l+" a custom object":l+" "+p)}}function da(l,i,s){if(i instanceof ac)return i.t_;if("string"==typeof i)return Uu(l,i);throw fc("Field path arguments must be of type string or FieldPath.",l,!1,void 0,s)}function Uu(l,i,s){try{return function(y){if(y.search(Sf)>=0)throw new X(te.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wa.bind.apply(Wa,x.__spreadArrays([void 0],y.split("."))))}catch(C){throw new X(te.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(i).t_}catch(y){throw fc((p=y)instanceof Error?p.message:p.toString(),l,!1,void 0,s)}var p}function fc(l,i,s,p,y){var C=p&&!p.m(),I=void 0!==y,L="Function "+i+"() called with invalid data";s&&(L+=" (via `toFirestore()`)");var H="";return(C||I)&&(H+=" (found",C&&(H+=" in field "+p),I&&(H+=" in document "+y),H+=")"),new X(te.INVALID_ARGUMENT,(L+=". ")+l+H)}function hd(l,i){return l.some(function(s){return s.isEqual(i)})}var pd=function(){function l(i){this.Ku=i,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return l.prototype.v_=function(i){return x.__awaiter(this,void 0,void 0,function(){var s,p=this;return x.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new X(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(C,I){return x.__awaiter(this,void 0,void 0,function(){var L,H,se,ge,Pe,ke;return x.__generator(this,function(Ye){switch(Ye.label){case 0:return L=Qe(C),H=fr(L.serializer)+"/documents",se={documents:I.map(function(rt){return yi(L.serializer,rt)})},[4,L.ku("BatchGetDocuments",H,se)];case 1:return ge=Ye.sent(),Pe=new Map,ge.forEach(function(rt){var Qt,$t,ut=(Qt=L.serializer,"found"in($t=rt)?function(hn,Un){we(!!Un.found);var Jn=qr(hn,Un.found.name),Pr=xr(Un.found.updateTime),ni=new ui({mapValue:{fields:Un.found.fields}});return new Mt(Jn,Pr,ni,{})}(Qt,$t):"missing"in $t?function(hn,Un){we(!!Un.missing),we(!!Un.readTime);var Jn=qr(hn,Un.missing),Pr=xr(Un.readTime);return new ar(Jn,Pr)}(Qt,$t):et());Pe.set(ut.key.toString(),ut)}),ke=[],[2,(I.forEach(function(rt){var ut=Pe.get(rt.toString());we(!!ut),ke.push(ut)}),ke)]}})})}(this.Ku,i)];case 1:return[2,((s=y.sent()).forEach(function(C){C instanceof ar||C instanceof Mt?p.D_(C):et()}),s)]}})})},l.prototype.set=function(i,s){this.write(s.w_(i,this.Ge(i))),this.b_.add(i.toString())},l.prototype.update=function(i,s){try{this.write(s.w_(i,this.C_(i)))}catch(p){this.p_=p}this.b_.add(i.toString())},l.prototype.delete=function(i){this.write([new sr(i,this.Ge(i))]),this.b_.add(i.toString())},l.prototype.commit=function(){return x.__awaiter(this,void 0,void 0,function(){var i,s=this;return x.__generator(this,function(p){switch(p.label){case 0:if(this.S_(),this.p_)throw this.p_;return i=this.y_,this.mutations.forEach(function(y){i.delete(y.key.toString())}),i.forEach(function(y,C){var I=z.D(C);s.mutations.push(new Nr(I,s.Ge(I)))}),[4,function(y,C){return x.__awaiter(this,void 0,void 0,function(){var I,L,H;return x.__generator(this,function(se){switch(se.label){case 0:return I=Qe(y),L=fr(I.serializer)+"/documents",H={writes:C.map(function(ge){return Ji(I.serializer,ge)})},[4,I.$u("Commit",L,H)];case 1:return se.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return p.sent(),this.V_=!0,[2]}})})},l.prototype.D_=function(i){var s;if(i instanceof Mt)s=i.version;else{if(!(i instanceof ar))throw et();s=nt.min()}var p=this.y_.get(i.key.toString());if(p){if(!s.isEqual(p))throw new X(te.ABORTED,"Document version changed between two reads.")}else this.y_.set(i.key.toString(),s)},l.prototype.Ge=function(i){var s=this.y_.get(i.toString());return!this.b_.has(i.toString())&&s?Vr.updateTime(s):Vr.ze()},l.prototype.C_=function(i){var s=this.y_.get(i.toString());if(!this.b_.has(i.toString())&&s){if(s.isEqual(nt.min()))throw new X(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(s)}return Vr.exists(!0)},l.prototype.write=function(i){this.S_(),this.mutations=this.mutations.concat(i)},l.prototype.S_=function(){},l}(),xf=function(){function l(i,s,p,y){this.cs=i,this.Ku=s,this.updateFunction=p,this.ls=y,this.N_=5,this.ys=new bs(this.cs,"transaction_retry")}return l.prototype.run=function(){this.F_()},l.prototype.F_=function(){var i=this;this.ys.gn(function(){return x.__awaiter(i,void 0,void 0,function(){var s,p,y=this;return x.__generator(this,function(C){return s=new pd(this.Ku),(p=this.x_(s))&&p.then(function(I){y.cs.ws(function(){return s.commit().then(function(){y.ls.resolve(I)}).catch(function(L){y.k_(L)})})}).catch(function(I){y.k_(I)}),[2]})})})},l.prototype.x_=function(i){try{var s=this.updateFunction(i);return!mt(s)&&s.catch&&s.then?s:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.ls.reject(p),null}},l.prototype.k_=function(i){var s=this;this.N_>0&&this.M_(i)?(this.N_-=1,this.cs.ws(function(){return s.F_(),Promise.resolve()})):this.ls.reject(i)},l.prototype.M_=function(i){if("FirebaseError"===i.name){var s=i.code;return"aborted"===s||"failed-precondition"===s||!Wt(s)}return!1},l}(),gd=function(){function l(i,s){this.credentials=i,this.cs=s,this.clientId=an.k(),this.O_=new xn}return l.prototype.start=function(i,s,p,y){var C=this;this.L_(),this.bl=i;var I=new xn,L=!1;return this.credentials.Hc(function(H){if(!L)return L=!0,ye("FirestoreClient","Initializing. user=",H.uid),C.B_(s,p,y,H,I).then(C.O_.resolve,C.O_.reject);C.cs.Cs(function(){return function(se,ge){return x.__awaiter(this,void 0,void 0,function(){var Pe,ke;return x.__generator(this,function(Ye){switch(Ye.label){case 0:return(Pe=Qe(se)).cs.xs(),ye("RemoteStore","RemoteStore received new credentials"),ke=Sa(Pe),Pe.Yu.add(3),[4,ci(Pe)];case 1:return Ye.sent(),ke&&Pe.th.set("Unknown"),[4,Pe.Gu.Jl(ge)];case 2:return Ye.sent(),Pe.Yu.delete(3),[4,Nu(Pe)];case 3:return Ye.sent(),[2]}})})}(C.ph,H)})}),this.cs.ws(function(){return C.O_.promise}),I.promise},l.prototype.enableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!0),(p=Qe(i.ph)).Yu.delete(0),Nu(p);var p})},l.prototype.B_=function(i,s,p,y,C){return x.__awaiter(this,void 0,void 0,function(){var I,L,H=this;return x.__generator(this,function(se){switch(se.label){case 0:return se.trys.push([0,3,,4]),[4,i.initialize(I={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:p})];case 1:return se.sent(),[4,s.initialize(i,I)];case 2:return se.sent(),this.persistence=i.persistence,this.Sh=i.Sh,this.ju=i.ju,this.ql=i.ql,this.Ku=s.Ku,this.ph=s.ph,this.fi=s.fi,this.q_=s.bh,this.q_.Us=td.bind(null,this.fi),this.q_.js=nd.bind(null,this.fi),this.persistence.Za(function(){return x.__awaiter(H,void 0,void 0,function(){return x.__generator(this,function(ge){switch(ge.label){case 0:return[4,this.terminate()];case 1:return ge.sent(),[2]}})})}),C.resolve(),[3,4];case 3:if(L=se.sent(),C.reject(L),!this.U_(L))throw L;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+L),this.B_(new $a,new Lu,{jl:!1},y,C))];case 4:return[2]}})})},l.prototype.U_=function(i){return"FirebaseError"===i.name?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code},l.prototype.L_=function(){if(this.cs.ps)throw new X(te.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.disableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!1),function(s){return x.__awaiter(this,void 0,void 0,function(){var p;return x.__generator(this,function(y){switch(y.label){case 0:return(p=Qe(s)).Yu.add(0),[4,ci(p)];case 1:return y.sent(),p.th.set("Offline"),[2]}})})}(i.ph)})},l.prototype.terminate=function(){var i=this;this.cs.Ds();var s=new xn;return this.cs.bs(function(){return x.__awaiter(i,void 0,void 0,function(){var p,y;return x.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Jl(this.ph)];case 1:return C.sent(),[4,this.Sh.Di()];case 2:return C.sent(),[4,this.persistence.Di()];case 3:return C.sent(),this.credentials.Yc(),s.resolve(),[3,5];case 4:return p=C.sent(),y=Je(p,"Failed to shutdown persistence"),s.reject(y),[3,5];case 5:return[2]}})})}),s.promise},l.prototype.waitForPendingWrites=function(){var i=this;this.L_();var s=new xn;return this.cs.ws(function(){return function(p,y){return x.__awaiter(this,void 0,void 0,function(){var C,I,L,H,se;return x.__generator(this,function(ge){switch(ge.label){case 0:Sa((C=Qe(p)).ph)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),ge.label=1;case 1:return ge.trys.push([1,3,,4]),[4,(Pe=C.ju,ke=Qe(Pe),ke.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Ye){return ke.Sr.qo(Ye)}))];case 2:return-1===(I=ge.sent())?[2,void y.resolve()]:((L=C.Lh.get(I)||[]).push(y),C.Lh.set(I,L),[3,4]);case 3:return H=ge.sent(),se=Je(H,"Initialization of waitForPendingWrites() operation failed"),y.reject(se),[3,4];case 4:return[2]}var Pe,ke})})}(i.fi,s)}),s.promise},l.prototype.listen=function(i,s,p){var y=this;this.L_();var C=new Vu(p),I=new pt(i,C,s);return this.cs.ws(function(){return un(y.q_,I)}),function(){C.Zl(),y.cs.ws(function(){return O(y.q_,I)})}},l.prototype.Q_=function(i){return x.__awaiter(this,void 0,void 0,function(){var s,p=this;return x.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),s=new xn,[2,(this.cs.ws(function(){return function(C,I,L){return x.__awaiter(this,void 0,void 0,function(){var H,se,ge;return x.__generator(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,2,,3]),[4,(ke=C,Ye=I,rt=Qe(ke),rt.persistence.runTransaction("read document","readonly",function(ut){return rt.Cc.Cr(ut,Ye)}))];case 1:return(H=Pe.sent())instanceof Mt?L.resolve(H):H instanceof ar?L.resolve(null):L.reject(new X(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return se=Pe.sent(),ge=Je(se,"Failed to get document '"+I+" from cache"),L.reject(ge),[3,3];case 3:return[2]}var ke,Ye,rt})})}(p.ju,i,s)}),s.promise)]}})})},l.prototype.W_=function(i,s){return void 0===s&&(s={}),x.__awaiter(this,void 0,void 0,function(){var p,y=this;return x.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),p=new xn,[2,(this.cs.ws(function(){return I=y.q_,L=y.cs,H=i,se=s,ge=p,Pe=new Vu({next:function(Ye){L.ws(function(){return O(I,ke)});var rt=Ye.docs.has(H);!rt&&Ye.fromCache?ge.reject(new X(te.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ye.fromCache&&se&&"server"===se.source?ge.reject(new X(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ge.resolve(Ye)},error:function(Ye){return ge.reject(Ye)}}),ke=new pt(Ti(H.path),Pe,{includeMetadataChanges:!0,Xs:!0}),un(I,ke);var I,L,H,se,ge,Pe,ke}),p.promise)]}})})},l.prototype.j_=function(i){return x.__awaiter(this,void 0,void 0,function(){var s,p=this;return x.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),s=new xn,[2,(this.cs.ws(function(){return function(C,I,L){return x.__awaiter(this,void 0,void 0,function(){var H,se,ge,Pe,ke,Ye;return x.__generator(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,2,,3]),[4,Du(C,I,!0)];case 1:return H=rt.sent(),se=new Xc(I,H.Fc),ge=se.wh(H.documents),Pe=se.yr(ge,!1),L.resolve(Pe.snapshot),[3,3];case 2:return ke=rt.sent(),Ye=Je(ke,"Failed to execute query '"+I+" against cache"),L.reject(Ye),[3,3];case 3:return[2]}})})}(p.ju,i,s)}),s.promise)]}})})},l.prototype.K_=function(i,s){return void 0===s&&(s={}),x.__awaiter(this,void 0,void 0,function(){var p,y=this;return x.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),p=new xn,[2,(this.cs.ws(function(){return I=y.q_,L=y.cs,H=i,se=s,ge=p,Pe=new Vu({next:function(Ye){L.ws(function(){return O(I,ke)}),Ye.fromCache&&"server"===se.source?ge.reject(new X(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ge.resolve(Ye)},error:function(Ye){return ge.reject(Ye)}}),ke=new pt(H,Pe,{includeMetadataChanges:!0,Xs:!0}),un(I,ke);var I,L,H,se,ge,Pe,ke}),p.promise)]}})})},l.prototype.write=function(i){var s=this;this.L_();var p=new xn;return this.cs.ws(function(){return function(y,C,I){return x.__awaiter(this,void 0,void 0,function(){var L,H,se,ge;return x.__generator(this,function(Pe){switch(Pe.label){case 0:L=sc(y),Pe.label=1;case 1:return Pe.trys.push([1,5,,6]),[4,(ke=L.ju,Ye=C,ut=Qe(ke),Qt=be.now(),$t=Ye.reduce(function(hn,Un){return hn.add(Un.key)},Bn()),ut.persistence.runTransaction("Locally write mutations","readwrite",function(hn){return ut.Cc.kr(hn,$t).next(function(Un){rt=Un;for(var Jn=[],Pr=0,ni=Ye;Pr<ni.length;Pr++){var na=ni[Pr],Hs=Ae(na,rt.get(na.key));null!=Hs&&Jn.push(new sn(na.key,Hs,zi(Hs.proto.mapValue),Vr.exists(!0)))}return ut.Sr.ko(hn,Qt,Jn,Ye)})}).then(function(hn){var Un=hn.lr(rt);return{batchId:hn.batchId,wr:Un}}))];case 2:return H=Pe.sent(),L.Sh.xi(H.batchId),function(ke,Ye,rt){var ut=ke.Oh[ke.currentUser.ti()];ut||(ut=new Nn(Lt)),ut=ut.ot(Ye,rt),ke.Oh[ke.currentUser.ti()]=ut}(L,H.batchId,I),[4,hs(L,H.wr)];case 3:return Pe.sent(),[4,Ma(L.ph)];case 4:return Pe.sent(),[3,6];case 5:return se=Pe.sent(),ge=Je(se,"Failed to persist write"),I.reject(ge),[3,6];case 6:return[2]}var ke,Ye,rt,ut,Qt,$t})})}(s.fi,i,p)}),p.promise},l.prototype.U=function(){return this.bl.U},l.prototype.G_=function(i){var s=this;this.L_();var p=new Vu(i);return this.cs.ws(function(){return x.__awaiter(s,void 0,void 0,function(){return x.__generator(this,function(y){return[2,(C=this.q_,I=p,Qe(C).qs.add(I),void I.next())];var C,I})})}),function(){p.Zl(),s.cs.ws(function(){return x.__awaiter(s,void 0,void 0,function(){return x.__generator(this,function(y){return[2,(C=this.q_,I=p,void Qe(C).qs.delete(I))];var C,I})})})}},Object.defineProperty(l.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),l.prototype.transaction=function(i){var s=this;this.L_();var p=new xn;return this.cs.ws(function(){return new xf(s.cs,s.Ku,i,p).run(),Promise.resolve()}),p.promise},l}();function ju(l){return function(i,s){if("object"!=typeof i||null===i)return!1;for(var p=i,y=0,C=["next","error","complete"];y<C.length;y++){var I=C[y];if(I in p&&"function"==typeof p[I])return!0}return!1}(l)}var hc=function(){function l(i,s,p,y,C){this.U=i,this.timestampsInSnapshots=s,this.H_=p,this.Y_=y,this.J_=C}return l.prototype.X_=function(i){switch(Yr(i)){case 0:return null;case 1:return i.booleanValue;case 2:return An(i.integerValue||i.doubleValue);case 3:return this.Z_(i.timestampValue);case 4:return this.tf(i);case 5:return i.stringValue;case 6:return this.J_(er(i.bytesValue));case 7:return this.ef(i.referenceValue);case 8:return this.nf(i.geoPointValue);case 9:return this.sf(i.arrayValue);case 10:return this.if(i.mapValue);default:throw et()}},l.prototype.if=function(i){var s=this,p={};return Gt(i.fields||{},function(y,C){p[y]=s.X_(C)}),p},l.prototype.nf=function(i){return new ml(An(i.latitude),An(i.longitude))},l.prototype.sf=function(i){var s=this;return(i.values||[]).map(function(p){return s.X_(p)})},l.prototype.tf=function(i){switch(this.H_){case"previous":var s=Gr(i);return null==s?null:this.X_(s);case"estimate":return this.Z_(yr(i));default:return null}},l.prototype.Z_=function(i){var s=qt(i),p=new be(s.seconds,s.nanos);return this.timestampsInSnapshots?p:p.toDate()},l.prototype.ef=function(i){var s=At.g(i);we(Li(s));var p=new ft(s.get(1),s.get(3)),y=new z(s.u(5));return p.isEqual(this.U)||tt("Document "+y+" contains a document reference within a different database ("+p.projectId+"/"+p.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},l}(),md=fe.ho,yd=function(){function l(i){var s,p,y,C,I;if(void 0===i.host){if(void 0!==i.ssl)throw new X(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Ue("settings","non-empty string","host",i.host),this.host=i.host,dt("settings","boolean","ssl",i.ssl),this.ssl=null===(s=i.ssl)||void 0===s||s;if(on("settings",i,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),dt("settings","object","credentials",i.credentials),this.credentials=i.credentials,dt("settings","boolean","timestampsInSnapshots",i.timestampsInSnapshots),dt("settings","boolean","ignoreUndefinedProperties",i.ignoreUndefinedProperties),!0===i.timestampsInSnapshots?tt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===i.timestampsInSnapshots&&tt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(p=i.timestampsInSnapshots)||void 0===p||p,this.ignoreUndefinedProperties=null!==(y=i.ignoreUndefinedProperties)&&void 0!==y&&y,dt("settings","number","cacheSizeBytes",i.cacheSizeBytes),void 0===i.cacheSizeBytes)this.cacheSizeBytes=fe._o;else{if(i.cacheSizeBytes!==md&&i.cacheSizeBytes<fe.lo)throw new X(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fe.lo);this.cacheSizeBytes=i.cacheSizeBytes}dt("settings","boolean","experimentalForceLongPolling",i.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(C=i.experimentalForceLongPolling)&&void 0!==C&&C,dt("settings","boolean","experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(I=i.experimentalAutoDetectLongPolling)&&void 0!==I&&I,function(L,H,se,ge){if(!0===H&&!0===ge)throw new X(te.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,i.experimentalForceLongPolling,0,i.experimentalAutoDetectLongPolling)}return l.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.timestampsInSnapshots===i.timestampsInSnapshots&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties},l}(),pc=function(){function l(i,s,p,y){var C=this;if(void 0===p&&(p=new $a),void 0===y&&(y=new Lu),this.rf=p,this.af=y,this.cf=null,this.uf=new Me,this.INTERNAL={delete:function(){return x.__awaiter(C,void 0,void 0,function(){return x.__generator(this,function(H){switch(H.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return H.sent(),[2]}})})}},"object"==typeof i.options){var I=i;this.cf=I,this.__=l._f(I),this.ff=I.name,this.df=new Su(s)}else{var L=i;if(!L.projectId)throw new X(te.INVALID_ARGUMENT,"Must provide projectId");this.__=new ft(L.projectId,L.database),this.ff="[DEFAULT]",this.df=new Ql}this.wf=new yd({})}return Object.defineProperty(l.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Mf(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),l.prototype.settings=function(i){ue("Firestore.settings",arguments,1),Ne("Firestore.settings","object",1,i),i.merge&&delete(i=Object.assign(Object.assign({},this.wf),i)).merge;var s=new yd(i);if(this.lf&&!this.wf.isEqual(s))throw new X(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=s,void 0!==s.credentials&&(this.df=function(p){if(!p)return new Ql;switch(p.type){case"gapi":var y=p.client;return we(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new Kh(y,p.sessionIndex||"0");case"provider":return p.client;default:throw new X(te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},l.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},l.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},l.prototype.enablePersistence=function(i){var s,p;if(this.lf)throw new X(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,C=!1;if(i&&(void 0!==i.experimentalTabSynchronization&&tt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(p=null!==(s=i.synchronizeTabs)&&void 0!==s?s:i.experimentalTabSynchronization)&&void 0!==p&&p,C=!!i.experimentalForceOwningTab&&i.experimentalForceOwningTab,y&&C))throw new X(te.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:C})},l.prototype.clearPersistence=function(){return x.__awaiter(this,void 0,void 0,function(){var i,s=this;return x.__generator(this,function(p){if(void 0!==this.lf&&!this.lf.z_)throw new X(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return i=new xn,[2,(this.uf.bs(function(){return x.__awaiter(s,void 0,void 0,function(){var y;return x.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return C.sent(),i.resolve(),[3,3];case 2:return y=C.sent(),i.reject(y),[3,3];case 3:return[2]}})})}),i.promise)]})})},l.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(l.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),l.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},l.prototype.onSnapshotsInSync=function(i){return this.hf(),ju(i)?this.lf.G_(i):(Ne("Firestore.onSnapshotsInSync","function",1,i),this.lf.G_({next:i}))},l.prototype.hf=function(){return this.lf||this.Ef(new $a,new Lu,{jl:!1}),this.lf},l.prototype.Af=function(){return new Vn(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},l.prototype.Ef=function(i,s,p){var y=this.Af();return this.lf=new gd(this.df,this.uf),this.lf.start(y,i,s,p)},l._f=function(i){if(!Object.prototype.hasOwnProperty.call(i.options,"projectId"))throw new X(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var p=i.options.projectId;if(!p||"string"!=typeof p)throw new X(te.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ft(p)},Object.defineProperty(l.prototype,"app",{get:function(){if(!this.cf)throw new X(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),l.prototype.collection=function(i){return ue("Firestore.collection",arguments,1),Ne("Firestore.collection","non-empty string",1,i),this.hf(),new Cl(At.g(i),this,null)},l.prototype.doc=function(i){return ue("Firestore.doc",arguments,1),Ne("Firestore.doc","non-empty string",1,i),this.hf(),fa.Rf(At.g(i),this,null)},l.prototype.collectionGroup=function(i){if(ue("Firestore.collectionGroup",arguments,1),Ne("Firestore.collectionGroup","non-empty string",1,i),i.indexOf("/")>=0)throw new X(te.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new wl((s=i,new ho(At.P(),s)),this,null);var s},l.prototype.runTransaction=function(i){var s=this;return ue("Firestore.runTransaction",arguments,1),Ne("Firestore.runTransaction","function",1,i),this.hf().transaction(function(p){return i(new gc(s,p))})},l.prototype.batch=function(){return this.hf(),new _l(this)},Object.defineProperty(l,"logLevel",{get:function(){switch(_e()){case J.LogLevel.DEBUG:return"debug";case J.LogLevel.ERROR:return"error";case J.LogLevel.SILENT:return"silent";case J.LogLevel.WARN:return"warn";case J.LogLevel.INFO:return"info";case J.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),l.setLogLevel=function(i){ue("Firestore.setLogLevel",arguments,1),Ke("setLogLevel",["debug","error","silent","warn","info","verbose"],1,i),Ee.setLogLevel(i)},l.prototype.gf=function(){return this.wf.timestampsInSnapshots},l.prototype.Pf=function(){return this.wf},l}(),gc=function(){function l(i,s){this.yf=i,this.Vf=s}return l.prototype.get=function(i){var s=this;ue("Transaction.get",arguments,1);var p=ha("Transaction.get",i,this.yf);return this.Vf.v_([p.f_]).then(function(y){if(!y||1!==y.length)return et();var C=y[0];if(C instanceof ar)return new lu(s.yf,p.f_,null,!1,!1,p.d_);if(C instanceof Mt)return new lu(s.yf,p.f_,C,!1,!1,p.d_);throw et()})},l.prototype.set=function(i,s,p){Ie("Transaction.set",arguments,2,3);var y=ha("Transaction.set",i,this.yf);p=cu("Transaction.set",p);var C=El(y.d_,s,p),I=dd(this.yf.mf,"Transaction.set",y.f_,C,null!==y.d_,p);return this.Vf.set(y.f_,I),this},l.prototype.update=function(i,s,p){for(var y,C,I=[],L=3;L<arguments.length;L++)I[L-3]=arguments[L];return"string"==typeof s||s instanceof Wa?(Q("Transaction.update",arguments,3),y=ha("Transaction.update",i,this.yf),C=qa(this.yf.mf,"Transaction.update",y.f_,s,p,I)):(ue("Transaction.update",arguments,2),y=ha("Transaction.update",i,this.yf),C=fd(this.yf.mf,"Transaction.update",y.f_,s)),this.Vf.update(y.f_,C),this},l.prototype.delete=function(i){ue("Transaction.delete",arguments,1);var s=ha("Transaction.delete",i,this.yf);return this.Vf.delete(s.f_),this},l}(),_l=function(){function l(i){this.yf=i,this.pf=[],this.bf=!1}return l.prototype.set=function(i,s,p){Ie("WriteBatch.set",arguments,2,3),this.vf();var y=ha("WriteBatch.set",i,this.yf);p=cu("WriteBatch.set",p);var C=El(y.d_,s,p),I=dd(this.yf.mf,"WriteBatch.set",y.f_,C,null!==y.d_,p);return this.pf=this.pf.concat(I.w_(y.f_,Vr.ze())),this},l.prototype.update=function(i,s,p){for(var y,C,I=[],L=3;L<arguments.length;L++)I[L-3]=arguments[L];return this.vf(),"string"==typeof s||s instanceof Wa?(Q("WriteBatch.update",arguments,3),y=ha("WriteBatch.update",i,this.yf),C=qa(this.yf.mf,"WriteBatch.update",y.f_,s,p,I)):(ue("WriteBatch.update",arguments,2),y=ha("WriteBatch.update",i,this.yf),C=fd(this.yf.mf,"WriteBatch.update",y.f_,s)),this.pf=this.pf.concat(C.w_(y.f_,Vr.exists(!0))),this},l.prototype.delete=function(i){ue("WriteBatch.delete",arguments,1),this.vf();var s=ha("WriteBatch.delete",i,this.yf);return this.pf=this.pf.concat(new sr(s.f_,Vr.ze())),this},l.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},l.prototype.vf=function(){if(this.bf)throw new X(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},l}(),fa=function(l){function i(s,p,y){var C=this;return(C=l.call(this,p.__,s,y)||this).f_=s,C.firestore=p,C.d_=y,C.lf=C.firestore.hf(),C}return x.__extends(i,l),i.Rf=function(s,p,y){if(s.length%2!=0)throw new X(te.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.R()+" has "+s.length);return new i(new z(s),p,y)},Object.defineProperty(i.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Cl(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),i.prototype.collection=function(s){if(ue("DocumentReference.collection",arguments,1),Ne("DocumentReference.collection","non-empty string",1,s),!s)throw new X(te.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var p=At.g(s);return new Cl(this.f_.path.child(p),this.firestore,null)},i.prototype.isEqual=function(s){if(!(s instanceof i))throw Hn("isEqual","DocumentReference",1,s);return this.firestore===s.firestore&&this.f_.isEqual(s.f_)&&this.d_===s.d_},i.prototype.set=function(s,p){Ie("DocumentReference.set",arguments,1,2),p=cu("DocumentReference.set",p);var y=El(this.d_,s,p),C=dd(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,p);return this.lf.write(C.w_(this.f_,Vr.ze()))},i.prototype.update=function(s,p){for(var y,C=[],I=2;I<arguments.length;I++)C[I-2]=arguments[I];return"string"==typeof s||s instanceof Wa?(Q("DocumentReference.update",arguments,2),y=qa(this.firestore.mf,"DocumentReference.update",this.f_,s,p,C)):(ue("DocumentReference.update",arguments,1),y=fd(this.firestore.mf,"DocumentReference.update",this.f_,s)),this.lf.write(y.w_(this.f_,Vr.exists(!0)))},i.prototype.delete=function(){return ue("DocumentReference.delete",arguments,0),this.lf.write([new sr(this.f_,Vr.ze())])},i.prototype.onSnapshot=function(){for(var s,p,y,C=this,I=[],L=0;L<arguments.length;L++)I[L]=arguments[L];Ie("DocumentReference.onSnapshot",arguments,1,4);var H={includeMetadataChanges:!1},se=0;"object"!=typeof I[se]||ju(I[se])||(on("DocumentReference.onSnapshot",H=I[se],["includeMetadataChanges"]),dt("DocumentReference.onSnapshot","boolean","includeMetadataChanges",H.includeMetadataChanges),se++);var ge={includeMetadataChanges:H.includeMetadataChanges};if(ju(I[se])){var Pe=I[se];I[se]=null===(s=Pe.next)||void 0===s?void 0:s.bind(Pe),I[se+1]=null===(p=Pe.error)||void 0===p?void 0:p.bind(Pe),I[se+2]=null===(y=Pe.complete)||void 0===y?void 0:y.bind(Pe)}else Ne("DocumentReference.onSnapshot","function",se,I[se]),St("DocumentReference.onSnapshot","function",se+1,I[se+1]),St("DocumentReference.onSnapshot","function",se+2,I[se+2]);var ke={next:function(Ye){I[se]&&I[se](C.Sf(Ye))},error:I[se+1],complete:I[se+2]};return this.lf.listen(Ti(this.f_.path),ge,ke)},i.prototype.get=function(s){var p=this;Ie("DocumentReference.get",arguments,0,1),yc("DocumentReference.get",s);var y=this.firestore.hf();return s&&"cache"===s.source?y.Q_(this.f_).then(function(C){return new lu(p.firestore,p.f_,C,!0,C instanceof Mt&&C.Je,p.d_)}):y.W_(this.f_,s).then(function(C){return p.Sf(C)})},i.prototype.withConverter=function(s){return new i(this.f_,this.firestore,s)},i.prototype.Sf=function(s){var p=s.docs.get(this.f_);return new lu(this.firestore,this.f_,p,s.fromCache,s.hasPendingWrites,this.d_)},i}(js),_d=function(){function l(i,s){this.hasPendingWrites=i,this.fromCache=s}return l.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},l}(),lu=function(){function l(i,s,p,y,C,I){this.yf=i,this.f_=s,this.Df=p,this.Cf=y,this.Nf=C,this.d_=I}return l.prototype.data=function(i){var s=this;if(Ie("DocumentSnapshot.data",arguments,0,1),i=Is("DocumentSnapshot.data",i),this.Df){if(this.d_){var p=new vl(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(p,i)}return new hc(this.yf.__,this.yf.gf(),i.serverTimestamps||"none",function(y){return new fa(y,s.yf,null)},function(y){return new Sn(y)}).X_(this.Df.rn())}},l.prototype.get=function(i,s){var p=this;if(Ie("DocumentSnapshot.get",arguments,1,2),s=Is("DocumentSnapshot.get",s),this.Df){var y=this.Df.data().field(da("DocumentSnapshot.get",i,this.f_));if(null!==y)return new hc(this.yf.__,this.yf.gf(),s.serverTimestamps||"none",function(C){return new fa(C,p.yf,p.d_)},function(C){return new Sn(C)}).X_(y)}},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ref",{get:function(){return new fa(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"metadata",{get:function(){return new _d(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){if(!(i instanceof l))throw Hn("isEqual","DocumentSnapshot",1,i);return this.yf===i.yf&&this.Cf===i.Cf&&this.f_.isEqual(i.f_)&&(null===this.Df?null===i.Df:this.Df.isEqual(i.Df))&&this.d_===i.d_},l}(),vl=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.prototype.data=function(s){return l.prototype.data.call(this,s)},i}(lu);function bl(l,i,s,p,y,C,I){var L;if(y.p()){if("array-contains"===C||"array-contains-any"===C)throw new X(te.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){Qa(I,C);for(var H=[],se=0,ge=I;se<ge.length;se++)H.push(vd(p,l,ge[se]));L={arrayValue:{values:H}}}else L=vd(p,l,I)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Qa(I,C),L=jo(s,i,I,"in"===C||"not-in"===C);var ke=ur.create(y,C,L);return function(Ye,rt){if(rt.hn()){var ut=Pn(Ye);if(null!==ut&&!ut.isEqual(rt.field))throw new X(te.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ut.toString()+"' and '"+rt.field.toString()+"'");var Qt=yt(Ye);null!==Qt&&bd(0,rt.field,Qt)}var $t=function(hn,Un){for(var Jn=0,Pr=hn.filters;Jn<Pr.length;Jn++){var ni=Pr[Jn];if(Un.indexOf(ni.op)>=0)return ni.op}return null}(Ye,function(hn){switch(hn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(rt.op));if(null!==$t)throw new X(te.INVALID_ARGUMENT,$t===rt.op?"Invalid query. You cannot use more than one '"+rt.op.toString()+"' filter.":"Invalid query. You cannot use '"+rt.op.toString()+"' filters with '"+$t.toString()+"' filters.")}(l,ke),ke}function Rf(l,i,s){if(null!==l.startAt)throw new X(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new X(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var p=new Qo(i,s);return function(y,C){if(null===yt(y)){var I=Pn(y);null!==I&&bd(0,I,C.field)}}(l,p),p}function vd(l,i,s){if("string"==typeof s){if(""===s)throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ii(i)&&-1!==s.indexOf("/"))throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+s+"' contains a '/' character.");var p=i.path.child(At.g(s));if(!z.F(p))throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return Tn(l,new z(p))}if(s instanceof js)return Tn(l,s.f_);throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bn(s)+".")}function Qa(l,i){if(!Array.isArray(l)||0===l.length)throw new X(te.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(l.length>10)throw new X(te.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===i||"array-contains-any"===i){if(l.indexOf(null)>=0)throw new X(te.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'null' in the value array.");if(l.filter(function(s){return Number.isNaN(s)}).length>0)throw new X(te.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'NaN' in the value array.")}}function bd(l,i,s){if(!s.isEqual(i))throw new X(te.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+s.toString()+"' instead.")}function wd(l){if(Bi(l)&&0===l.on.length)throw new X(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wl=function(){function l(i,s,p){this.Ff=i,this.firestore=s,this.d_=p}return l.prototype.where=function(i,s,p){ue("Query.where",arguments,3),Qr("Query.where",3,p);var L,se,y=Ke("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,s),C=da("Query.where",i),I=bl(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,C,y,p);return new l((se=(L=this.Ff).filters.concat([I]),new ho(L.path,L.collectionGroup,L.on.slice(),se,L.limit,L.an,L.startAt,L.endAt)),this.firestore,this.d_)},l.prototype.orderBy=function(i,s){var p;if(Ie("Query.orderBy",arguments,1,2),St("Query.orderBy","non-empty string",2,s),void 0===s||"asc"===s)p="asc";else{if("desc"!==s)throw new X(te.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+s+"', expected 'asc' or 'desc'.");p="desc"}var I,H,y=da("Query.orderBy",i),C=Rf(this.Ff,y,p);return new l((H=(I=this.Ff).on.concat([C]),new ho(I.path,I.collectionGroup,H,I.filters.slice(),I.limit,I.an,I.startAt,I.endAt)),this.firestore,this.d_)},l.prototype.limit=function(i){return ue("Query.limit",arguments,1),Ne("Query.limit","number",1,i),dn("Query.limit",1,i),new l(eo(this.Ff,i,"F"),this.firestore,this.d_)},l.prototype.limitToLast=function(i){return ue("Query.limitToLast",arguments,1),Ne("Query.limitToLast","number",1,i),dn("Query.limitToLast",1,i),new l(eo(this.Ff,i,"L"),this.firestore,this.d_)},l.prototype.startAt=function(i){for(var s=[],p=1;p<arguments.length;p++)s[p-1]=arguments[p];Q("Query.startAt",arguments,1);var y=this.xf("Query.startAt",i,s,!0);return new l(to(this.Ff,y),this.firestore,this.d_)},l.prototype.startAfter=function(i){for(var s=[],p=1;p<arguments.length;p++)s[p-1]=arguments[p];Q("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",i,s,!1);return new l(to(this.Ff,y),this.firestore,this.d_)},l.prototype.endBefore=function(i){for(var s=[],p=1;p<arguments.length;p++)s[p-1]=arguments[p];Q("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",i,s,!0);return new l(us(this.Ff,y),this.firestore,this.d_)},l.prototype.endAt=function(i){for(var s=[],p=1;p<arguments.length;p++)s[p-1]=arguments[p];Q("Query.endAt",arguments,1);var y=this.xf("Query.endAt",i,s,!1);return new l(us(this.Ff,y),this.firestore,this.d_)},l.prototype.isEqual=function(i){if(!(i instanceof l))throw Hn("isEqual","Query",1,i);return this.firestore===i.firestore&&Si(this.Ff,i.Ff)&&this.d_===i.d_},l.prototype.withConverter=function(i){return new l(this.Ff,this.firestore,i)},l.prototype.xf=function(i,s,p,y){if(Qr(i,1,s),s instanceof lu)return ue(i,x.__spreadArrays([s],p),1),function(I,L,H,se,ge){if(!se)throw new X(te.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+H+"().");for(var Pe=[],ke=0,Ye=nr(I);ke<Ye.length;ke++){var rt=Ye[ke];if(rt.field.p())Pe.push(Tn(L,se.key));else{var ut=se.field(rt.field);if(wr(ut))throw new X(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+rt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ut){var Qt=rt.field.R();throw new X(te.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Qt+"' (used as the orderBy) does not exist.")}Pe.push(ut)}}return new Mi(Pe,ge)}(this.Ff,this.firestore.__,i,s.Df,y);var C=[s].concat(p);return function(I,L,H,se,ge,Pe){var ke=I.on;if(ge.length>ke.length)throw new X(te.INVALID_ARGUMENT,"Too many arguments provided to "+se+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Ye=[],rt=0;rt<ge.length;rt++){var ut=ge[rt];if(ke[rt].field.p()){if("string"!=typeof ut)throw new X(te.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+se+"(), but got a "+typeof ut);if(!Ii(I)&&-1!==ut.indexOf("/"))throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+se+"() must be a plain document ID, but '"+ut+"' contains a slash.");var Qt=I.path.child(At.g(ut));if(!z.F(Qt))throw new X(te.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+se+"() must result in a valid document path, but '"+Qt+"' is not because it contains an odd number of segments.");var $t=new z(Qt);Ye.push(Tn(L,$t))}else{var hn=jo(H,se,ut);Ye.push(hn)}}return new Mi(Ye,Pe)}(this.Ff,this.firestore.__,this.firestore.mf,i,C,y)},l.prototype.onSnapshot=function(){for(var i,s,p,y=this,C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];Ie("Query.onSnapshot",arguments,1,4);var L={},H=0;if("object"!=typeof C[H]||ju(C[H])||(on("Query.onSnapshot",L=C[H],["includeMetadataChanges"]),dt("Query.onSnapshot","boolean","includeMetadataChanges",L.includeMetadataChanges),H++),ju(C[H])){var se=C[H];C[H]=null===(i=se.next)||void 0===i?void 0:i.bind(se),C[H+1]=null===(s=se.error)||void 0===s?void 0:s.bind(se),C[H+2]=null===(p=se.complete)||void 0===p?void 0:p.bind(se)}else Ne("Query.onSnapshot","function",H,C[H]),St("Query.onSnapshot","function",H+1,C[H+1]),St("Query.onSnapshot","function",H+2,C[H+2]);var ge={next:function(Pe){C[H]&&C[H](new mc(y.firestore,y.Ff,Pe,y.d_))},error:C[H+1],complete:C[H+2]};return wd(this.Ff),this.firestore.hf().listen(this.Ff,L,ge)},l.prototype.get=function(i){var s=this;Ie("Query.get",arguments,0,1),yc("Query.get",i),wd(this.Ff);var p=this.firestore.hf();return(i&&"cache"===i.source?p.j_(this.Ff):p.K_(this.Ff,i)).then(function(y){return new mc(s.firestore,s.Ff,y,s.d_)})},l}(),mc=function(){function l(i,s,p,y){this.yf=i,this.$f=s,this.kf=p,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new _d(p.hasPendingWrites,p.fromCache)}return Object.defineProperty(l.prototype,"docs",{get:function(){var i=[];return this.forEach(function(s){return i.push(s)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),l.prototype.forEach=function(i,s){var p=this;Ie("QuerySnapshot.forEach",arguments,1,2),Ne("QuerySnapshot.forEach","function",1,i),this.kf.docs.forEach(function(y){i.call(s,p.Lf(y,p.metadata.fromCache,p.kf.Wt.has(y.key)))})},Object.defineProperty(l.prototype,"query",{get:function(){return new wl(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),l.prototype.docChanges=function(i){i&&(on("QuerySnapshot.docChanges",i,["includeMetadataChanges"]),dt("QuerySnapshot.docChanges","boolean","includeMetadataChanges",i.includeMetadataChanges));var s=!(!i||!i.includeMetadataChanges);if(s&&this.kf.Kt)throw new X(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===s||(this.Mf=function(p,y,C){if(p.Qt.m()){var I=0;return p.docChanges.map(function(H){return{type:"added",doc:C(H.doc,p.fromCache,p.Wt.has(H.doc.key)),oldIndex:-1,newIndex:I++}})}var L=p.Qt;return p.docChanges.filter(function(H){return y||3!==H.type}).map(function(H){var se=C(H.doc,p.fromCache,p.Wt.has(H.doc.key)),ge=-1,Pe=-1;return 0!==H.type&&(ge=L.indexOf(H.doc.key),L=L.delete(H.doc.key)),1!==H.type&&(Pe=(L=L.add(H.doc)).indexOf(H.doc.key)),{type:Of(H.type),doc:se,oldIndex:ge,newIndex:Pe}})}(this.kf,s,this.Lf.bind(this)),this.Of=s),this.Mf},l.prototype.isEqual=function(i){if(!(i instanceof l))throw Hn("isEqual","QuerySnapshot",1,i);return this.yf===i.yf&&Si(this.$f,i.$f)&&this.kf.isEqual(i.kf)&&this.d_===i.d_},l.prototype.Lf=function(i,s,p){return new vl(this.yf,i.key,i,s,p,this.d_)},l}(),Cl=function(l){function i(s,p,y){var C=this;if((C=l.call(this,Ti(s),p,y)||this).Bf=s,s.length%2!=1)throw new X(te.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s.R()+" has "+s.length);return C}return x.__extends(i,l),Object.defineProperty(i.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var s=this.Ff.path.h();return s.m()?null:new fa(new z(s),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),i.prototype.doc=function(s){Ie("CollectionReference.doc",arguments,0,1),0===arguments.length&&(s=an.k()),Ne("CollectionReference.doc","non-empty string",1,s);var p=At.g(s);return fa.Rf(this.Ff.path.child(p),this.firestore,this.d_)},i.prototype.add=function(s){ue("CollectionReference.add",arguments,1);var p=this.d_?this.d_.toFirestore(s):s;Ne("CollectionReference.add","object",1,p);var y=this.doc();return new fa(y.f_,this.firestore,null).set(p).then(function(){return y})},i.prototype.withConverter=function(s){return new i(this.Bf,this.firestore,s)},i}(wl);function cu(l,i){if(void 0===i)return{merge:!1};if(on(l,i,["merge","mergeFields"]),dt(l,"boolean","merge",i.merge),void 0!==(C=i.mergeFields)&&function(L,H,se,ge,Pe){if(!(ge instanceof Array))throw new X(te.INVALID_ARGUMENT,"Function "+L+"() requires its "+H+" option to be an array, but it was: "+bn(ge));for(var ke=0;ke<ge.length;++ke)if(!Pe(ge[ke]))throw new X(te.INVALID_ARGUMENT,"Function "+L+"() requires all "+H+" elements to be a string or a FieldPath, but the value at index "+ke+" was: "+bn(ge[ke]))}(l,"mergeFields",0,C,function(s){return"string"==typeof s||s instanceof Wa}),void 0!==i.mergeFields&&void 0!==i.merge)throw new X(te.INVALID_ARGUMENT,"Invalid options passed to function "+l+'(): You cannot specify both "merge" and "mergeFields".');var C;return i}function Is(l,i){return void 0===i?{}:(on(l,i,["serverTimestamps"]),xt(l,0,"serverTimestamps",i.serverTimestamps,["estimate","previous","none"]),i)}function yc(l,i){St(l,"object",1,i),i&&(on(l,i,["source"]),xt(l,0,"source",i.source,["default","server","cache"]))}function ha(l,i,s){if(i instanceof js){if(i.firestore!==s)throw new X(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}throw Hn(l,"DocumentReference",1,i)}function Of(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function El(l,i,s){return l?s&&(s.merge||s.mergeFields)?l.toFirestore(i,s):l.toFirestore(i):i}var ip=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return x.__extends(i,l),i.serverTimestamp=function(){ae("FieldValue.serverTimestamp",arguments);var s=new ad("serverTimestamp");return s.e_="FieldValue.serverTimestamp",new i(s)},i.delete=function(){ae("FieldValue.delete",arguments);var s=new Ya("deleteField");return s.e_="FieldValue.delete",new i(s)},i.arrayUnion=function(){for(var s=[],p=0;p<arguments.length;p++)s[p]=arguments[p];Q("FieldValue.arrayUnion",arguments,1);var y=function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];return Q("arrayUnion()",arguments,1),new uc("arrayUnion",C)}.apply(void 0,s);return y.e_="FieldValue.arrayUnion",new i(y)},i.arrayRemove=function(){for(var s=[],p=0;p<arguments.length;p++)s[p]=arguments[p];Q("FieldValue.arrayRemove",arguments,1);var y=function(){for(var C=[],I=0;I<arguments.length;I++)C[I]=arguments[I];return Q("arrayRemove()",arguments,1),new Nf("arrayRemove",C)}.apply(void 0,s);return y.e_="FieldValue.arrayRemove",new i(y)},i.increment=function(s){Ne("FieldValue.increment","number",1,s),ue("FieldValue.increment",arguments,1);var p=new xi("increment",s);return p.e_="FieldValue.increment",new i(p)},i.prototype.isEqual=function(s){return this.l_.isEqual(s.l_)},i}(yl),Cd={Firestore:pc,GeoPoint:ml,Timestamp:be,Blob:Sn,Transaction:gc,WriteBatch:_l,DocumentReference:fa,DocumentSnapshot:lu,Query:wl,QueryDocumentSnapshot:vl,QuerySnapshot:mc,CollectionReference:Cl,FieldPath:Wa,FieldValue:ip,setLogLevel:pc.setLogLevel,CACHE_SIZE_UNLIMITED:md};function Ed(l){l.INTERNAL.registerComponent(new Ve.Component("firestore",function(p){return y=p.getProvider("app").getImmediate(),C=p.getProvider("auth-internal"),I=new Lu,L=new rp(I),new pc(y,C,L,I);var y,C,I,L},"PUBLIC").setServiceProps(Object.assign({},Cd))),l.registerVersion("@firebase/firestore","1.18.0")}Ed(Fe.default),Le.__PRIVATE_registerFirestore=Ed},300:(Ut,Le,ie)=>{"use strict";function x(){for(var _e=0,ye=0,tt=arguments.length;ye<tt;ye++)_e+=arguments[ye].length;var ct=Array(_e),it=0;for(ye=0;ye<tt;ye++)for(var et=arguments[ye],we=0,Qe=et.length;we<Qe;we++,it++)ct[it]=et[we];return ct}ie.r(Le),ie.d(Le,{LogLevel:()=>He,Logger:()=>te,setLogLevel:()=>X,setUserLogHandler:()=>Ee});var u,J=[],He=(()=>{return(_e=He||(He={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",He;var _e})(),Se={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Ve=He.INFO,De=((u={})[He.DEBUG]="log",u[He.VERBOSE]="log",u[He.INFO]="info",u[He.WARN]="warn",u[He.ERROR]="error",u),Fe=function(_e,ye){for(var tt=[],ct=2;ct<arguments.length;ct++)tt[ct-2]=arguments[ct];if(!(ye<_e.logLevel)){var it=(new Date).toISOString(),et=De[ye];if(!et)throw new Error("Attempted to log a message with an invalid logType (value: "+ye+")");console[et].apply(console,x(["["+it+"]  "+_e.name+":"],tt))}},te=function(){function _e(ye){this.name=ye,this._logLevel=Ve,this._logHandler=Fe,this._userLogHandler=null,J.push(this)}return Object.defineProperty(_e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ye){if(!(ye in He))throw new TypeError('Invalid value "'+ye+'" assigned to `logLevel`');this._logLevel=ye},enumerable:!1,configurable:!0}),_e.prototype.setLogLevel=function(ye){this._logLevel="string"==typeof ye?Se[ye]:ye},Object.defineProperty(_e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye},enumerable:!1,configurable:!0}),Object.defineProperty(_e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ye){this._userLogHandler=ye},enumerable:!1,configurable:!0}),_e.prototype.debug=function(){for(var ye=[],tt=0;tt<arguments.length;tt++)ye[tt]=arguments[tt];this._userLogHandler&&this._userLogHandler.apply(this,x([this,He.DEBUG],ye)),this._logHandler.apply(this,x([this,He.DEBUG],ye))},_e.prototype.log=function(){for(var ye=[],tt=0;tt<arguments.length;tt++)ye[tt]=arguments[tt];this._userLogHandler&&this._userLogHandler.apply(this,x([this,He.VERBOSE],ye)),this._logHandler.apply(this,x([this,He.VERBOSE],ye))},_e.prototype.info=function(){for(var ye=[],tt=0;tt<arguments.length;tt++)ye[tt]=arguments[tt];this._userLogHandler&&this._userLogHandler.apply(this,x([this,He.INFO],ye)),this._logHandler.apply(this,x([this,He.INFO],ye))},_e.prototype.warn=function(){for(var ye=[],tt=0;tt<arguments.length;tt++)ye[tt]=arguments[tt];this._userLogHandler&&this._userLogHandler.apply(this,x([this,He.WARN],ye)),this._logHandler.apply(this,x([this,He.WARN],ye))},_e.prototype.error=function(){for(var ye=[],tt=0;tt<arguments.length;tt++)ye[tt]=arguments[tt];this._userLogHandler&&this._userLogHandler.apply(this,x([this,He.ERROR],ye)),this._logHandler.apply(this,x([this,He.ERROR],ye))},_e}();function X(_e){J.forEach(function(ye){ye.setLogLevel(_e)})}function Ee(_e,ye){for(var tt=function(we){var Qe=null;ye&&ye.level&&(Qe=Se[ye.level]),we.userLogHandler=null===_e?null:function(Dt,Gt){for(var mn=[],Vt=2;Vt<arguments.length;Vt++)mn[Vt-2]=arguments[Vt];var At=mn.map(function($){if(null==$)return null;if("string"==typeof $)return $;if("number"==typeof $||"boolean"==typeof $)return $.toString();if($ instanceof Error)return $.message;try{return JSON.stringify($)}catch(Z){return null}}).filter(function($){return $}).join(" ");Gt>=(null!=Qe?Qe:Dt.logLevel)&&_e({level:He[Gt].toLowerCase(),message:At,args:mn,type:Dt.name})}},ct=0,it=J;ct<it.length;ct++)tt(it[ct])}},1704:(Ut,Le,ie)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var x=ie(5057),u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(Te,me){if(!Te)throw He(me)},He=function(Te){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Te)},Se=function(Te){for(var me=[],Oe=0,ze=0;ze<Te.length;ze++){var $e=Te.charCodeAt(ze);$e<128?me[Oe++]=$e:$e<2048?(me[Oe++]=$e>>6|192,me[Oe++]=63&$e|128):55296==(64512&$e)&&ze+1<Te.length&&56320==(64512&Te.charCodeAt(ze+1))?($e=65536+((1023&$e)<<10)+(1023&Te.charCodeAt(++ze)),me[Oe++]=$e>>18|240,me[Oe++]=$e>>12&63|128,me[Oe++]=$e>>6&63|128,me[Oe++]=63&$e|128):(me[Oe++]=$e>>12|224,me[Oe++]=$e>>6&63|128,me[Oe++]=63&$e|128)}return me},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Te,me){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Oe=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[],$e=0;$e<Te.length;$e+=3){var wt=Te[$e],Tt=$e+1<Te.length,jt=Tt?Te[$e+1]:0,Et=$e+2<Te.length,Pt=Et?Te[$e+2]:0,wn=(15&jt)<<2|Pt>>6,Nn=63&Pt;Et||(Nn=64,Tt||(wn=64)),ze.push(Oe[wt>>2],Oe[(3&wt)<<4|jt>>4],Oe[wn],Oe[Nn])}return ze.join("")},encodeString:function(Te,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(Te):this.encodeByteArray(Se(Te),me)},decodeString:function(Te,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(Te):function(Te){for(var me=[],Oe=0,ze=0;Oe<Te.length;){var $e=Te[Oe++];if($e<128)me[ze++]=String.fromCharCode($e);else if($e>191&&$e<224){var wt=Te[Oe++];me[ze++]=String.fromCharCode((31&$e)<<6|63&wt)}else if($e>239&&$e<365){var Et=((7&$e)<<18|(63&(wt=Te[Oe++]))<<12|(63&(Tt=Te[Oe++]))<<6|63&Te[Oe++])-65536;me[ze++]=String.fromCharCode(55296+(Et>>10)),me[ze++]=String.fromCharCode(56320+(1023&Et))}else{wt=Te[Oe++];var Tt=Te[Oe++];me[ze++]=String.fromCharCode((15&$e)<<12|(63&wt)<<6|63&Tt)}}return me.join("")}(this.decodeStringToByteArray(Te,me))},decodeStringToByteArray:function(Te,me){this.init_();for(var Oe=me?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[],$e=0;$e<Te.length;){var wt=Oe[Te.charAt($e++)],jt=$e<Te.length?Oe[Te.charAt($e)]:0,Pt=++$e<Te.length?Oe[Te.charAt($e)]:64,Wt=++$e<Te.length?Oe[Te.charAt($e)]:64;if(++$e,null==wt||null==jt||null==Pt||null==Wt)throw Error();ze.push(wt<<2|jt>>4),64!==Pt&&(ze.push(jt<<4&240|Pt>>2),64!==Wt&&ze.push(Pt<<6&192|Wt))}return ze},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},te=function(Te){try{return De.decodeString(Te,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function Ee(Te,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return me}for(var ze in me)!me.hasOwnProperty(ze)||(Te[ze]=Ee(Te[ze],me[ze]));return Te}var _e=function(){function Te(){var me=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Oe,ze){me.resolve=Oe,me.reject=ze})}return Te.prototype.wrapCallback=function(me){var Oe=this;return function(ze,$e){ze?Oe.reject(ze):Oe.resolve($e),"function"==typeof me&&(Oe.promise.catch(function(){}),1===me.length?me(ze):me(ze,$e))}},Te}();function ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Te){return!1}}var ae=function(Te){function me(Oe,ze){var $e=Te.call(this,ze)||this;return $e.code=Oe,$e.name="FirebaseError",Object.setPrototypeOf($e,me.prototype),Error.captureStackTrace&&Error.captureStackTrace($e,ue.prototype.create),$e}return x.__extends(me,Te),me}(Error),ue=function(){function Te(me,Oe,ze){this.service=me,this.serviceName=Oe,this.errors=ze}return Te.prototype.create=function(me){for(var Oe=[],ze=1;ze<arguments.length;ze++)Oe[ze-1]=arguments[ze];for(var $e=Oe[0]||{},wt=this.service+"/"+me,Tt=this.errors[me],jt=Tt?Q(Tt,$e):"Error",Et=this.serviceName+": "+jt+" ("+wt+").",Pt=new ae(wt,Et),Bt=0,Wt=Object.keys($e);Bt<Wt.length;Bt++){var wn=Wt[Bt];"_"!==wn.slice(-1)&&(wn in Pt&&console.warn('Overwriting FirebaseError base field "'+wn+'" can cause unexpected behavior.'),Pt[wn]=$e[wn])}return Pt},Te}();function Q(Te,me){return Te.replace(Ie,function(Oe,ze){var $e=me[ze];return null!=$e?String($e):"<"+ze+"?>"})}var Ie=/\{\$([^}]+)}/g;function Ne(Te){return JSON.parse(Te)}var Ue=function(Te){var me={},Oe={},ze={},$e="";try{var wt=Te.split(".");me=Ne(te(wt[0])||""),Oe=Ne(te(wt[1])||""),$e=wt[2],ze=Oe.d||{},delete Oe.d}catch(Tt){}return{header:me,claims:Oe,data:ze,signature:$e}},ht=function(){function Te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}return Te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Te.prototype.compress_=function(me,Oe){Oe||(Oe=0);var ze=this.W_;if("string"==typeof me)for(var $e=0;$e<16;$e++)ze[$e]=me.charCodeAt(Oe)<<24|me.charCodeAt(Oe+1)<<16|me.charCodeAt(Oe+2)<<8|me.charCodeAt(Oe+3),Oe+=4;else for($e=0;$e<16;$e++)ze[$e]=me[Oe]<<24|me[Oe+1]<<16|me[Oe+2]<<8|me[Oe+3],Oe+=4;for($e=16;$e<80;$e++)ze[$e]=4294967295&((wt=ze[$e-3]^ze[$e-8]^ze[$e-14]^ze[$e-16])<<1|wt>>>31);var Wt,wn,Tt=this.chain_[0],jt=this.chain_[1],Et=this.chain_[2],Pt=this.chain_[3],Bt=this.chain_[4];for($e=0;$e<80;$e++){$e<40?$e<20?(Wt=Pt^jt&(Et^Pt),wn=1518500249):(Wt=jt^Et^Pt,wn=1859775393):$e<60?(Wt=jt&Et|Pt&(jt|Et),wn=2400959708):(Wt=jt^Et^Pt,wn=3395469782);var wt=(Tt<<5|Tt>>>27)+Wt+Bt+wn+ze[$e]&4294967295;Bt=Pt,Pt=Et,Et=4294967295&(jt<<30|jt>>>2),jt=Tt,Tt=wt}this.chain_[0]=this.chain_[0]+Tt&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+Bt&4294967295},Te.prototype.update=function(me,Oe){if(null!=me){void 0===Oe&&(Oe=me.length);for(var ze=Oe-this.blockSize,$e=0,wt=this.buf_,Tt=this.inbuf_;$e<Oe;){if(0===Tt)for(;$e<=ze;)this.compress_(me,$e),$e+=this.blockSize;if("string"==typeof me){for(;$e<Oe;)if(wt[Tt]=me.charCodeAt($e),++$e,++Tt===this.blockSize){this.compress_(wt),Tt=0;break}}else for(;$e<Oe;)if(wt[Tt]=me[$e],++$e,++Tt===this.blockSize){this.compress_(wt),Tt=0;break}}this.inbuf_=Tt,this.total_+=Oe}},Te.prototype.digest=function(){var me=[],Oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ze=this.blockSize-1;ze>=56;ze--)this.buf_[ze]=255&Oe,Oe/=256;this.compress_(this.buf_);var $e=0;for(ze=0;ze<5;ze++)for(var wt=24;wt>=0;wt-=8)me[$e]=this.chain_[ze]>>wt&255,++$e;return me},Te}(),di=function(){function Te(me,Oe){var ze=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(function(){me(ze)}).catch(function($e){ze.error($e)})}return Te.prototype.next=function(me){this.forEachObserver(function(Oe){Oe.next(me)})},Te.prototype.error=function(me){this.forEachObserver(function(Oe){Oe.error(me)}),this.close(me)},Te.prototype.complete=function(){this.forEachObserver(function(me){me.complete()}),this.close()},Te.prototype.subscribe=function(me,Oe,ze){var wt,$e=this;if(void 0===me&&void 0===Oe&&void 0===ze)throw new Error("Missing Observer.");void 0===(wt=function(Te,me){if("object"!=typeof Te||null===Te)return!1;for(var Oe=0,ze=["next","error","complete"];Oe<ze.length;Oe++){var $e=ze[Oe];if($e in Te&&"function"==typeof Te[$e])return!0}return!1}(me)?me:{next:me,error:Oe,complete:ze}).next&&(wt.next=Gn),void 0===wt.error&&(wt.error=Gn),void 0===wt.complete&&(wt.complete=Gn);var Tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{$e.finalError?wt.error($e.finalError):wt.complete()}catch(jt){}}),this.observers.push(wt),Tt},Te.prototype.unsubscribeOne=function(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Te.prototype.forEachObserver=function(me){if(!this.finalized)for(var Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,me)},Te.prototype.sendOne=function(me,Oe){var ze=this;this.task.then(function(){if(void 0!==ze.observers&&void 0!==ze.observers[me])try{Oe(ze.observers[me])}catch($e){"undefined"!=typeof console&&console.error&&console.error($e)}})},Te.prototype.close=function(me){var Oe=this;this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(function(){Oe.observers=void 0,Oe.onNoObservers=void 0}))},Te}();function Gn(){}function kt(Te,me,Oe){var ze="";switch(me){case 1:ze=Oe?"first":"First";break;case 2:ze=Oe?"second":"Second";break;case 3:ze=Oe?"third":"Third";break;case 4:ze=Oe?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Te+" failed: "+(ze+" argument ")}Le.CONSTANTS=u,Le.Deferred=_e,Le.ErrorFactory=ue,Le.FirebaseError=ae,Le.MAX_VALUE_MILLIS=144e5,Le.RANDOM_FACTOR=.5,Le.Sha1=ht,Le.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},Le.assert=J,Le.assertionError=He,Le.async=function(Te,me){return function(){for(var Oe=[],ze=0;ze<arguments.length;ze++)Oe[ze]=arguments[ze];Promise.resolve(!0).then(function(){Te.apply(void 0,Oe)}).catch(function($e){me&&me($e)})}},Le.base64=De,Le.base64Decode=te,Le.base64Encode=function(Te){var me=Se(Te);return De.encodeByteArray(me,!0)},Le.calculateBackoffMillis=function(Te,me,Oe){void 0===me&&(me=1e3),void 0===Oe&&(Oe=2);var ze=me*Math.pow(Oe,Te),$e=Math.round(.5*ze*(Math.random()-.5)*2);return Math.min(144e5,ze+$e)},Le.contains=function(Te,me){return Object.prototype.hasOwnProperty.call(Te,me)},Le.createSubscribe=function(Te,me){var Oe=new di(Te,me);return Oe.subscribe.bind(Oe)},Le.decode=Ue,Le.deepCopy=function(Te){return Ee(void 0,Te)},Le.deepExtend=Ee,Le.errorPrefix=kt,Le.getUA=ye,Le.isAdmin=function(Te){var me=Ue(Te).claims;return"object"==typeof me&&!0===me.admin},Le.isBrowser=function(){return"object"==typeof self&&self.self===self},Le.isBrowserExtension=function(){var Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id},Le.isElectron=function(){return ye().indexOf("Electron/")>=0},Le.isEmpty=function(Te){for(var me in Te)if(Object.prototype.hasOwnProperty.call(Te,me))return!1;return!0},Le.isIE=function(){var Te=ye();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0},Le.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},Le.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())},Le.isNode=ct,Le.isNodeSdk=function(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN},Le.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Le.isSafari=function(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Le.isUWP=function(){return ye().indexOf("MSAppHost/")>=0},Le.isValidFormat=function(Te){var Oe=Ue(Te).claims;return!!Oe&&"object"==typeof Oe&&Oe.hasOwnProperty("iat")},Le.isValidTimestamp=function(Te){var me=Ue(Te).claims,Oe=Math.floor((new Date).getTime()/1e3),ze=0,$e=0;return"object"==typeof me&&(me.hasOwnProperty("nbf")?ze=me.nbf:me.hasOwnProperty("iat")&&(ze=me.iat),$e=me.hasOwnProperty("exp")?me.exp:ze+86400),!!Oe&&!!ze&&!!$e&&Oe>=ze&&Oe<=$e},Le.issuedAtTime=function(Te){var me=Ue(Te).claims;return"object"==typeof me&&me.hasOwnProperty("iat")?me.iat:null},Le.jsonEval=Ne,Le.map=function(Te,me,Oe){var ze={};for(var $e in Te)Object.prototype.hasOwnProperty.call(Te,$e)&&(ze[$e]=me.call(Oe,Te[$e],$e,Te));return ze},Le.querystring=function(Te){for(var me=[],Oe=function(Et,Pt){Array.isArray(Pt)?Pt.forEach(function(Bt){me.push(encodeURIComponent(Et)+"="+encodeURIComponent(Bt))}):me.push(encodeURIComponent(Et)+"="+encodeURIComponent(Pt))},ze=0,$e=Object.entries(Te);ze<$e.length;ze++){var wt=$e[ze];Oe(wt[0],wt[1])}return me.length?"&"+me.join("&"):""},Le.querystringDecode=function(Te){var me={};return Te.replace(/^\?/,"").split("&").forEach(function(ze){if(ze){var $e=ze.split("=");me[$e[0]]=$e[1]}}),me},Le.safeGet=function(Te,me){if(Object.prototype.hasOwnProperty.call(Te,me))return Te[me]},Le.stringLength=function(Te){for(var me=0,Oe=0;Oe<Te.length;Oe++){var ze=Te.charCodeAt(Oe);ze<128?me++:ze<2048?me+=2:ze>=55296&&ze<=56319?(me+=4,Oe++):me+=3}return me},Le.stringToByteArray=function(Te){for(var me=[],Oe=0,ze=0;ze<Te.length;ze++){var $e=Te.charCodeAt(ze);if($e>=55296&&$e<=56319){var wt=$e-55296;ze++,J(ze<Te.length,"Surrogate pair missing trail surrogate."),$e=65536+(wt<<10)+(Te.charCodeAt(ze)-56320)}$e<128?me[Oe++]=$e:$e<2048?(me[Oe++]=$e>>6|192,me[Oe++]=63&$e|128):$e<65536?(me[Oe++]=$e>>12|224,me[Oe++]=$e>>6&63|128,me[Oe++]=63&$e|128):(me[Oe++]=$e>>18|240,me[Oe++]=$e>>12&63|128,me[Oe++]=$e>>6&63|128,me[Oe++]=63&$e|128)}return me},Le.stringify=function(Te){return JSON.stringify(Te)},Le.validateArgCount=function(Te,me,Oe,ze){var $e;if(ze<me?$e="at least "+me:ze>Oe&&($e=0===Oe?"none":"no more than "+Oe),$e)throw new Error(Te+" failed: Was called with "+ze+(1===ze?" argument.":" arguments.")+" Expects "+$e+".")},Le.validateCallback=function(Te,me,Oe,ze){if((!ze||Oe)&&"function"!=typeof Oe)throw new Error(kt(Te,me,ze)+"must be a valid function.")},Le.validateContextObject=function(Te,me,Oe,ze){if((!ze||Oe)&&("object"!=typeof Oe||null===Oe))throw new Error(kt(Te,me,ze)+"must be a valid context object.")},Le.validateIndexedDBOpenable=function(){return new Promise(function(Te,me){try{var Oe=!0,ze="validate-browser-context-for-indexeddb-analytics-module",$e=window.indexedDB.open(ze);$e.onsuccess=function(){$e.result.close(),Oe||window.indexedDB.deleteDatabase(ze),Te(!0)},$e.onupgradeneeded=function(){Oe=!1},$e.onerror=function(){var wt;me((null===(wt=$e.error)||void 0===wt?void 0:wt.message)||"")}}catch(wt){me(wt)}})},Le.validateNamespace=function(Te,me,Oe,ze){if((!ze||Oe)&&"string"!=typeof Oe)throw new Error(kt(Te,me,ze)+"must be a valid firebase namespace.")}},2870:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{default:()=>Rr,ErrorCode:()=>Oo,EventType:()=>Po,WebChannel:()=>rr,XhrIo:()=>po,createWebChannelTransport:()=>Ro});var x=function(v,F){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,de){W.__proto__=de}||function(W,de){for(var Me in de)Object.prototype.hasOwnProperty.call(de,Me)&&(W[Me]=de[Me])})(v,F)};function J(v){var F="function"==typeof Symbol&&Symbol.iterator,W=F&&v[F],de=0;if(W)return W.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&de>=v.length&&(v=void 0),{value:v&&v[de++],done:!v}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}var Se,He="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ve=Ve||{},De=He||self;function Fe(){}function te(v){var F=typeof v;return"object"!=F?F:v?Array.isArray(v)?"array":F:"null"}function X(v){var F=te(v);return"array"==F||"object"==F&&"number"==typeof v.length}function Ee(v){var F=typeof v;return"object"==F&&null!=v||"function"==F}var ye="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function ct(v,F,W){return v.call.apply(v.bind,arguments)}function it(v,F,W){if(!v)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,de),v.apply(F,Me)}}return function(){return v.apply(F,arguments)}}function et(v,F,W){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:it).apply(null,arguments)}function we(v,F){var W=Array.prototype.slice.call(arguments,1);return function(){var de=W.slice();return de.push.apply(de,arguments),v.apply(this,de)}}var Qe=Date.now;function Dt(v,F){function W(){}W.prototype=F.prototype,v.S=F.prototype,v.prototype=new W,v.prototype.constructor=v}function Gt(){this.j=this.j,this.i=this.i}Gt.prototype.j=!1,Gt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(v){Object.prototype.hasOwnProperty.call(v,ye)&&v[ye]||(v[ye]=++tt)}(this)},Gt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Vt=Array.prototype.indexOf?function(v,F){return Array.prototype.indexOf.call(v,F,void 0)}:function(v,F){if("string"==typeof v)return"string"!=typeof F||1!=F.length?-1:v.indexOf(F,0);for(var W=0;W<v.length;W++)if(W in v&&v[W]===F)return W;return-1},At=Array.prototype.forEach?function(v,F,W){Array.prototype.forEach.call(v,F,W)}:function(v,F,W){for(var de=v.length,Me="string"==typeof v?v.split(""):v,Je=0;Je<de;Je++)Je in Me&&F.call(W,Me[Je],Je,v)};function Z(v){return Array.prototype.concat.apply([],arguments)}function z(v){var F=v.length;if(0<F){for(var W=Array(F),de=0;de<F;de++)W[de]=v[de];return W}return[]}function ae(v){return/^[\s\xa0]*$/.test(v)}var Ne,ue=String.prototype.trim?function(v){return v.trim()}:function(v){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(v)[1]};function Q(v,F){return-1!=v.indexOf(F)}function Ie(v,F){return v<F?-1:v>F?1:0}e:{var St=De.navigator;if(St){var Ue=St.userAgent;if(Ue){Ne=Ue;break e}}Ne=""}function dt(v,F,W){for(var de in v)F.call(W,v[de],de,v)}function xt(v){var F={};for(var W in v)F[W]=v[W];return F}var Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(v,F){for(var W,de,Me=1;Me<arguments.length;Me++){for(W in de=arguments[Me])v[W]=de[W];for(var Je=0;Je<Ke.length;Je++)W=Ke[Je],Object.prototype.hasOwnProperty.call(de,W)&&(v[W]=de[W])}}function nn(v){return nn[" "](v),v}nn[" "]=Fe;var an,v,Qr=Q(Ne,"Opera"),on=Q(Ne,"Trident")||Q(Ne,"MSIE"),Hn=Q(Ne,"Edge"),dn=Hn||on,ht=Q(Ne,"Gecko")&&!(Q(Ne.toLowerCase(),"webkit")&&!Q(Ne,"Edge"))&&!(Q(Ne,"Trident")||Q(Ne,"MSIE"))&&!Q(Ne,"Edge"),vr=Q(Ne.toLowerCase(),"webkit")&&!Q(Ne,"Edge");function di(){var v=De.document;return v?v.documentMode:void 0}e:{var Lt="",Gn=(v=Ne,ht?/rv:([^\);]+)(\)|;)/.exec(v):Hn?/Edge\/([\d\.]+)/.exec(v):on?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(v):vr?/WebKit\/(\S+)/.exec(v):Qr?/(?:Version)[ \/]?(\S+)/.exec(v):void 0);if(Gn&&(Lt=Gn?Gn[1]:""),on){var Fn=di();if(null!=Fn&&Fn>parseFloat(Lt)){an=String(Fn);break e}}an=Lt}var kt={};function Zn(v){return function(v,F){var W=kt;return Object.prototype.hasOwnProperty.call(W,v)?W[v]:W[v]=F()}(v,function(){for(var F=0,W=ue(String(an)).split("."),de=ue(String(v)).split("."),Me=Math.max(W.length,de.length),Je=0;0==F&&Je<Me;Je++){var Nt=W[Je]||"",fn=de[Je]||"";do{if(Nt=/(\d*)(\D*)(.*)/.exec(Nt)||["","","",""],fn=/(\d*)(\D*)(.*)/.exec(fn)||["","","",""],0==Nt[0].length&&0==fn[0].length)break;F=Ie(0==Nt[1].length?0:parseInt(Nt[1],10),0==fn[1].length?0:parseInt(fn[1],10))||Ie(0==Nt[2].length,0==fn[2].length)||Ie(Nt[2],fn[2]),Nt=Nt[3],fn=fn[3]}while(0==F)}return 0<=F})}var Sn=De.document&&on&&(di()||parseInt(an,10))||void 0,Vn=!on||9<=Number(Sn),ft=on&&!Zn("9"),je=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{De.addEventListener("test",Fe,F),De.removeEventListener("test",Fe,F)}catch(W){}return v}();function be(v,F){this.type=v,this.a=this.target=F,this.defaultPrevented=!1}function nt(v,F){if(be.call(this,v?v.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,v){var W=this.type=v.type,de=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.a=F,F=v.relatedTarget){if(ht){e:{try{nn(F.nodeName);var Me=!0;break e}catch(Je){}Me=!1}Me||(F=null)}}else"mouseover"==W?F=v.fromElement:"mouseout"==W&&(F=v.toElement);this.relatedTarget=F,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:mt[v.pointerType]||"",this.c=v,v.defaultPrevented&&this.b()}}be.prototype.b=function(){this.defaultPrevented=!0},Dt(nt,be);var mt={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.S.b.call(this);var v=this.c;if(v.preventDefault)v.preventDefault();else if(v.returnValue=!1,ft)try{(v.ctrlKey||112<=v.keyCode&&123>=v.keyCode)&&(v.keyCode=-1)}catch(F){}};var Te="closure_listenable_"+(1e6*Math.random()|0),me=0;function Oe(v,F,W,de,Me){this.listener=v,this.proxy=null,this.src=F,this.type=W,this.capture=!!de,this.ca=Me,this.key=++me,this.Y=this.Z=!1}function ze(v){v.Y=!0,v.listener=null,v.proxy=null,v.src=null,v.ca=null}function $e(v){this.src=v,this.a={},this.b=0}function wt(v,F){var W=F.type;if(W in v.a){var Je,de=v.a[W],Me=Vt(de,F);(Je=0<=Me)&&Array.prototype.splice.call(de,Me,1),Je&&(ze(F),0==v.a[W].length&&(delete v.a[W],v.b--))}}function Tt(v,F,W,de){for(var Me=0;Me<v.length;++Me){var Je=v[Me];if(!Je.Y&&Je.listener==F&&Je.capture==!!W&&Je.ca==de)return Me}return-1}$e.prototype.add=function(v,F,W,de,Me){var Je=v.toString();(v=this.a[Je])||(v=this.a[Je]=[],this.b++);var Nt=Tt(v,F,de,Me);return-1<Nt?(F=v[Nt],W||(F.Z=!1)):((F=new Oe(F,this.src,Je,!!de,Me)).Z=W,v.push(F)),F};var jt="closure_lm_"+(1e6*Math.random()|0),Et={};function Pt(v,F,W,de,Me){if(de&&de.once)return wn(v,F,W,de,Me);if(Array.isArray(F)){for(var Je=0;Je<F.length;Je++)Pt(v,F[Je],W,de,Me);return null}return W=ao(W),v&&v[Te]?v.va(F,W,Ee(de)?!!de.capture:!!de,Me):Bt(v,F,W,!1,de,Me)}function Bt(v,F,W,de,Me,Je){if(!F)throw Error("Invalid event type");var Nt=Ee(Me)?!!Me.capture:!!Me;if(Nt&&!Vn)return null;var fn=Io(v);if(fn||(v[jt]=fn=new $e(v)),(W=fn.add(F,W,de,Nt,Je)).proxy)return W;if(de=function(){var v=so,F=Vn?function(W){return v.call(F.src,F.listener,W)}:function(W){if(!(W=v.call(F.src,F.listener,W)))return W};return F}(),W.proxy=de,de.src=v,de.listener=W,v.addEventListener)je||(Me=Nt),void 0===Me&&(Me=!1),v.addEventListener(F.toString(),de,Me);else if(v.attachEvent)v.attachEvent(Xn(F.toString()),de);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(de)}return W}function wn(v,F,W,de,Me){if(Array.isArray(F)){for(var Je=0;Je<F.length;Je++)wn(v,F[Je],W,de,Me);return null}return W=ao(W),v&&v[Te]?v.wa(F,W,Ee(de)?!!de.capture:!!de,Me):Bt(v,F,W,!0,de,Me)}function Nn(v,F,W,de,Me){if(Array.isArray(F))for(var Je=0;Je<F.length;Je++)Nn(v,F[Je],W,de,Me);else de=Ee(de)?!!de.capture:!!de,W=ao(W),v&&v[Te]?(v=v.c,(F=String(F).toString())in v.a&&-1<(W=Tt(Je=v.a[F],W,de,Me))&&(ze(Je[W]),Array.prototype.splice.call(Je,W,1),0==Je.length&&(delete v.a[F],v.b--))):v&&(v=Io(v))&&(F=v.a[F.toString()],v=-1,F&&(v=Tt(F,W,de,Me)),(W=-1<v?F[v]:null)&&Ei(W))}function Ei(v){if("number"!=typeof v&&v&&!v.Y){var F=v.src;if(F&&F[Te])wt(F.c,v);else{var W=v.type,de=v.proxy;F.removeEventListener?F.removeEventListener(W,de,v.capture):F.detachEvent?F.detachEvent(Xn(W),de):F.addListener&&F.removeListener&&F.removeListener(de),(W=Io(F))?(wt(W,v),0==W.b&&(W.src=null,F[jt]=null)):ze(v)}}}function Xn(v){return v in Et?Et[v]:Et[v]="on"+v}function ir(v,F){var W=v.listener,de=v.ca||v.src;return v.Z&&Ei(v),W.call(de,F)}function so(v,F){if(v.Y)return!0;if(!Vn){if(!F)e:{F=["window","event"];for(var W=De,de=0;de<F.length;de++)if(null==(W=W[F[de]])){F=null;break e}F=W}return ir(v,F=new nt(F,this))}return ir(v,new nt(F,this))}function Io(v){return(v=v[jt])instanceof $e?v:null}var Jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(v){return"function"==te(v)?v:(v[Jr]||(v[Jr]=function(F){return v.handleEvent(F)}),v[Jr])}function rn(){Gt.call(this),this.c=new $e(this),this.J=this,this.C=null}function Ur(v,F,W,de){if(!(F=v.c.a[String(F)]))return!0;F=F.concat();for(var Me=!0,Je=0;Je<F.length;++Je){var Nt=F[Je];if(Nt&&!Nt.Y&&Nt.capture==W){var fn=Nt.listener,un=Nt.ca||Nt.src;Nt.Z&&wt(v.c,Nt),Me=!1!==fn.call(un,de)&&Me}}return Me&&!de.defaultPrevented}Dt(rn,Gt),rn.prototype[Te]=!0,(Se=rn.prototype).addEventListener=function(v,F,W,de){Pt(this,v,F,W,de)},Se.removeEventListener=function(v,F,W,de){Nn(this,v,F,W,de)},Se.dispatchEvent=function(v){var F,W=this.C;if(W)for(F=[];W;W=W.C)F.push(W);W=this.J;var de=v.type||v;if("string"==typeof v)v=new be(v,W);else if(v instanceof be)v.target=v.target||W;else{var Me=v;vt(v=new be(de,W),Me)}if(Me=!0,F)for(var Je=F.length-1;0<=Je;Je--){var Nt=v.a=F[Je];Me=Ur(Nt,de,!0,v)&&Me}if(Me=Ur(Nt=v.a=W,de,!0,v)&&Me,Me=Ur(Nt,de,!1,v)&&Me,F)for(Je=0;Je<F.length;Je++)Me=Ur(Nt=v.a=F[Je],de,!1,v)&&Me;return Me},Se.G=function(){if(rn.S.G.call(this),this.c){var F,v=this.c;for(F in v.a){for(var W=v.a[F],de=0;de<W.length;de++)ze(W[de]);delete v.a[F],v.b--}}this.C=null},Se.va=function(v,F,W,de){return this.c.add(String(v),F,!1,W,de)},Se.wa=function(v,F,W,de){return this.c.add(String(v),F,!0,W,de)};var yn=De.JSON.stringify;function En(){this.b=this.a=null}var br,Bn=new(function(){function v(F,W,de){this.f=de,this.c=F,this.g=W,this.b=0,this.a=null}return v.prototype.get=function(){var F;return 0<this.b?(this.b--,this.a=(F=this.a).next,F.next=null):F=this.c(),F},v}())(function(){return new _o},function(v){v.reset()},100);function Hi(){var v=Gi,F=null;return v.a&&(F=v.a,v.a=v.a.next,v.a||(v.b=null),F.next=null),F}function _o(){this.next=this.b=this.a=null}function $o(v){De.setTimeout(function(){throw v},0)}function kr(v,F){br||function(){var v=De.Promise.resolve(void 0);br=function(){v.then($n)}}(),mr||(br(),mr=!0),Gi.add(v,F)}En.prototype.add=function(v,F){var W=Bn.get();W.set(v,F),this.b?this.b.next=W:this.a=W,this.b=W},_o.prototype.set=function(v,F){this.a=v,this.b=F,this.next=null},_o.prototype.reset=function(){this.next=this.b=this.a=null};var mr=!1,Gi=new En;function $n(){for(var v;v=Hi();){try{v.a.call(v.b)}catch(W){$o(W)}var F=Bn;F.g(v),F.b<F.f&&(F.b++,v.next=F.a,F.a=v)}mr=!1}function Ot(v,F){rn.call(this),this.b=v||1,this.a=F||De,this.f=et(this.Ya,this),this.g=Qe()}function _n(v){v.aa=!1,v.M&&(v.a.clearTimeout(v.M),v.M=null)}function Jt(v,F,W){if("function"==te(v))W&&(v=et(v,W));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=et(v.handleEvent,v)}return 2147483647<Number(F)?-1:De.setTimeout(v,F||0)}function jr(v){v.a=Jt(function(){v.a=null,v.c&&(v.c=!1,jr(v))},v.h);var F=v.b;v.b=null,v.g.apply(null,F)}Dt(Ot,rn),(Se=Ot.prototype).aa=!1,Se.M=null,Se.Ya=function(){if(this.aa){var v=Qe()-this.g;0<v&&v<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-v):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(_n(this),this.start()))}},Se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Qe())},Se.G=function(){Ot.S.G.call(this),_n(this),delete this.a};var Hr=function(v){function F(W,de,Me){var Je=v.call(this)||this;return Je.g=null!=Me?W.bind(Me):W,Je.h=de,Je.b=null,Je.c=!1,Je.a=null,Je}return function(v,F){function W(){this.constructor=v}x(v,F),v.prototype=null===F?Object.create(F):(W.prototype=F.prototype,new W)}(F,v),F.prototype.f=function(W){this.b=arguments,this.a?this.c=!0:jr(this)},F.prototype.G=function(){v.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},F}(Gt);function wr(v){Gt.call(this),this.b=v,this.a={}}Dt(wr,Gt);var Gr=[];function yr(v,F,W,de){Array.isArray(W)||(W&&(Gr[0]=W.toString()),W=Gr);for(var Me=0;Me<W.length;Me++){var Je=Pt(F,W[Me],de||v.handleEvent,!1,v.b||v);if(!Je)break;v.a[Je.key]=Je}}function Yi(v){dt(v.a,function(F,W){this.a.hasOwnProperty(W)&&Ei(F)},v),v.a={}}function Yr(){this.a=!0}function Wn(v,F,W,de){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+function(v,F){if(!v.a)return F;if(!F)return null;try{var W=JSON.parse(F);if(W)for(v=0;v<W.length;v++)if(Array.isArray(W[v])){var de=W[v];if(!(2>de.length)){var Me=de[1];if(Array.isArray(Me)&&!(1>Me.length)){var Je=Me[0];if("noop"!=Je&&"stop"!=Je&&"close"!=Je)for(var Nt=1;Nt<Me.length;Nt++)Me[Nt]=""}}}return yn(W)}catch(fn){return F}}(v,W)+(de?" "+de:"")})}wr.prototype.G=function(){wr.S.G.call(this),Yi(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yr.prototype.info=function(){};var Sr=null;function qt(){return Sr=Sr||new rn}function An(v){be.call(this,"serverreachability",v)}function er(v){var F=qt();F.dispatchEvent(new An(F,v))}function Tn(v){be.call(this,"statevent",v)}function en(v){var F=qt();F.dispatchEvent(new Tn(F,v))}function ss(v){be.call(this,"timingevent",v)}function $r(v,F){if("function"!=te(v))throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){v()},F)}Dt(An,be),Dt(Tn,be),Dt(ss,be);var Kr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ii={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Oi(){}function dr(){}Oi.prototype.a=null;var uo,Qi={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function zn(){be.call(this,"d")}function or(){be.call(this,"c")}function lo(){}function Pi(v,F,W,de){this.g=v,this.c=F,this.f=W,this.T=de||1,this.J=new wr(this),this.P=xr,this.R=new Ot(v=dn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Dt(zn,be),Dt(or,be),Dt(lo,Oi),uo=new lo;var xr=45e3,Zr={},So={};function yi(v,F,W){v.H=1,v.i=Wr(si(F)),v.j=W,v.I=!0,qr(v,null)}function qr(v,F){v.u=Qe(),fr(v),v.l=si(v.i);var W=v.l,de=v.T;Array.isArray(de)||(de=[String(de)]),U(W.b,"t",de),v.D=0,v.a=Qo(v.g,v.g.C?F:null),0<v.O&&(v.F=new Hr(et(v.Ca,v,v.a),v.O)),yr(v.J,v.a,"readystatechange",v.Wa),F=v.B?xt(v.B):{},v.j?(v.m||(v.m="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.a.ba(v.l,v.m,v.j,F)):(v.m="GET",v.a.ba(v.l,v.m,null,F)),er(1),function(v,F,W,de,Me,Je){v.info(function(){if(v.a)if(Je)for(var Nt="",fn=Je.split("&"),un=0;un<fn.length;un++){var O=fn[un].split("=");if(1<O.length){var k=O[0];O=O[1];var K=k.split("_");Nt=2<=K.length&&"type"==K[1]?Nt+(k+"=")+O+"&":Nt+(k+"=redacted&")}}else Nt=null;else Nt=Je;return"XMLHTTP REQ ("+de+") [attempt "+Me+"]: "+F+"\n"+W+"\n"+Nt})}(v.c,v.m,v.l,v.f,v.T,v.j)}function _i(v,F,W){for(var de=!0;!v.A&&v.D<W.length;){var Me=Wo(v,W);if(Me==So){4==F&&(v.h=4,en(14),de=!1),Wn(v.c,v.f,null,"[Incomplete Response]");break}if(Me==Zr){v.h=4,en(15),Wn(v.c,v.f,W,"[Invalid Chunk]"),de=!1;break}Wn(v.c,v.f,Me,null),oi(v,Me)}4==F&&0==W.length&&(v.h=1,en(16),de=!1),v.b=v.b&&de,de?0<W.length&&!v.W&&(v.W=!0,(F=v.g).a==v&&F.V&&!F.F&&(F.c.info("Great, no buffering proxy detected. Bytes received: "+W.length),cs(F),F.F=!0)):(Wn(v.c,v.f,W,"[Invalid Chunked Response]"),Ki(v),Ji(v))}function Wo(v,F){var W=v.D,de=F.indexOf("\n",W);return-1==de?So:(W=Number(F.substring(W,de)),isNaN(W)?Zr:(de+=1)+W>F.length?So:(F=F.substr(de,W),v.D=de+W,F))}function fr(v){v.U=Qe()+v.P,ki(v,v.P)}function ki(v,F){if(null!=v.o)throw Error("WatchDog timer not null");v.o=$r(et(v.Ua,v),F)}function co(v){v.o&&(De.clearTimeout(v.o),v.o=null)}function Ji(v){0==v.g.v||v.A||xs(v.g,v)}function Ki(v){co(v);var F=v.F;F&&"function"==typeof F.ja&&F.ja(),v.F=null,_n(v.R),Yi(v.J),v.a&&(F=v.a,v.a=null,F.abort(),F.ja())}function oi(v,F){try{var W=v.g;if(0!=W.v&&(W.a==v||sn(W.b,v)))if(W.I=v.N,!v.C&&sn(W.b,v)&&3==W.v){try{var de=W.ka.a.parse(F)}catch(ei){de=null}if(Array.isArray(de)&&3==de.length){var Me=de;if(0==Me[0])e:if(W.j)W.oa=Me[1],0<W.oa-W.P&&37500>Me[2]&&W.H&&0==W.o&&!W.m&&(W.m=$r(et(W.Ra,W),6e3));else{if(W.a){if(!(W.a.u+3e3<v.u))break e;xo(W),Si(W)}Ai(W),en(18)}if(1>=Ht(W.b)&&W.ea){try{W.ea()}catch(ei){}W.ea=void 0}}else vi(W,11)}else if((v.C||W.a==v)&&xo(W),!ae(F))for(F=de=W.ka.a.parse(F),de=0;de<F.length;de++)if(W.P=(Me=F[de])[0],Me=Me[1],2==W.v)if("c"==Me[0]){W.J=Me[1],W.ga=Me[2];var Je=Me[3];null!=Je&&(W.ha=Je,W.c.info("VER="+W.ha));var Nt=Me[4];null!=Nt&&(W.pa=Nt,W.c.info("SVER="+W.pa));var fn=Me[5];if(null!=fn&&"number"==typeof fn&&0<fn){var un=1.5*fn;W.D=un,W.c.info("backChannelRequestTimeoutMs_="+un)}un=W;var O=v.a;if(O){var k=O.a?O.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var K=un.b;!K.a&&(Q(k,"spdy")||Q(k,"quic")||Q(k,"h2"))&&(K.f=K.g,K.a=new Set,K.b&&(Qn(K,K.b),K.b=null))}if(un.A){var xe=O.a?O.a.getResponseHeader("X-HTTP-Session-Id"):null;xe&&(un.na=xe,gn(un.B,un.A,xe))}}W.v=3,W.f&&W.f.ta(),W.V&&(W.N=Qe()-v.u,W.c.info("Handshake RTT: "+W.N+"ms"));var pt=v;if((un=W).la=ds(un,un.C?un.ga:null,un.fa),pt.C){On(un.b,pt);var zt=pt,Rn=un.D;Rn&&zt.setTimeout(Rn),zt.o&&(co(zt),fr(zt)),un.a=pt}else Co(un);0<W.g.length&&Ui(W)}else"stop"!=Me[0]&&"close"!=Me[0]||vi(W,7);else 3==W.v&&("stop"==Me[0]||"close"==Me[0]?"stop"==Me[0]?vi(W,7):us(W):"noop"!=Me[0]&&W.f&&W.f.sa(Me),W.o=0);er(4)}catch(ei){}}function Zi(v,F){if(v.forEach&&"function"==typeof v.forEach)v.forEach(F,void 0);else if(X(v)||"string"==typeof v)At(v,F,void 0);else{if(v.L&&"function"==typeof v.L)var W=v.L();else if(v.K&&"function"==typeof v.K)W=void 0;else if(X(v)||"string"==typeof v){W=[];for(var de=v.length,Me=0;Me<de;Me++)W.push(Me)}else for(Me in W=[],de=0,v)W[de++]=Me;Me=(de=function(v){if(v.K&&"function"==typeof v.K)return v.K();if("string"==typeof v)return v.split("");if(X(v)){for(var F=[],W=v.length,de=0;de<W;de++)F.push(v[de]);return F}for(de in F=[],W=0,v)F[W++]=v[de];return F}(v)).length;for(var Je=0;Je<Me;Je++)F.call(void 0,de[Je],W&&W[Je],v)}}function $i(v,F){this.b={},this.a=[],this.c=0;var W=arguments.length;if(1<W){if(W%2)throw Error("Uneven number of arguments");for(var de=0;de<W;de+=2)this.set(arguments[de],arguments[de+1])}else if(v)if(v instanceof $i)for(W=v.L(),de=0;de<W.length;de++)this.set(W[de],v.get(W[de]));else for(de in v)this.set(de,v[de])}function fi(v){if(v.c!=v.a.length){for(var F=0,W=0;F<v.a.length;){var de=v.a[F];Fi(v.b,de)&&(v.a[W++]=de),F++}v.a.length=W}if(v.c!=v.a.length){var Me={};for(W=F=0;F<v.a.length;)Fi(Me,de=v.a[F])||(v.a[W++]=de,Me[de]=1),F++;v.a.length=W}}function Fi(v,F){return Object.prototype.hasOwnProperty.call(v,F)}(Se=Pi.prototype).setTimeout=function(v){this.P=v},Se.Wa=function(v){v=v.target;var F=this.F;F&&3==Ii(v)?F.f():this.Ca(v)},Se.Ca=function(v){try{if(v==this.a)e:{var F=Ii(this.a),W=this.a.ua(),de=this.a.X();if(!(3>F||3==F&&!dn&&!this.a.$())){this.A||4!=F||7==W||er(8==W||0>=de?3:2),co(this);var Me=this.a.X();this.N=Me;var Je=this.a.$();if(this.b=200==Me,function(v,F,W,de,Me,Je,Nt){v.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+Me+"]: "+F+"\n"+W+"\n"+Je+" "+Nt})}(this.c,this.m,this.l,this.f,this.T,F,Me),this.b){if(this.V&&!this.C){t:{if(this.a){var Nt,fn=this.a;if((Nt=fn.a?fn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Nt)){var un=Nt;break t}}un=null}if(!un){this.b=!1,this.h=3,en(12),Ki(this),Ji(this);break e}Wn(this.c,this.f,un,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,oi(this,un)}this.I?(_i(this,F,Je),dn&&this.b&&3==F&&(yr(this.J,this.R,"tick",this.Va),this.R.start())):(Wn(this.c,this.f,Je,null),oi(this,Je)),4==F&&Ki(this),this.b&&!this.A&&(4==F?xs(this.g,this):(this.b=!1,fr(this)))}else 400==Me&&0<Je.indexOf("Unknown SID")?(this.h=3,en(12)):(this.h=0,en(13)),Ki(this),Ji(this)}}}catch(O){}},Se.Va=function(){if(this.a){var v=Ii(this.a),F=this.a.$();this.D<F.length&&(co(this),_i(this,v,F),this.b&&4!=v&&fr(this))}},Se.cancel=function(){this.A=!0,Ki(this)},Se.Ua=function(){this.o=null;var v=Qe();0<=v-this.U?(function(v,F){v.info(function(){return"TIMEOUT: "+F})}(this.c,this.l),2!=this.H&&(er(3),en(17)),Ki(this),this.h=2,Ji(this)):ki(this,this.U-v)},(Se=$i.prototype).K=function(){fi(this);for(var v=[],F=0;F<this.a.length;F++)v.push(this.b[this.a[F]]);return v},Se.L=function(){return fi(this),this.a.concat()},Se.get=function(v,F){return Fi(this.b,v)?this.b[v]:F},Se.set=function(v,F){Fi(this.b,v)||(this.c++,this.a.push(v)),this.b[v]=F},Se.forEach=function(v,F){for(var W=this.L(),de=0;de<W.length;de++){var Me=W[de],Je=this.get(Me);v.call(F,Je,Me,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xr(v,F){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,v instanceof Xr){this.a=void 0!==F?F:v.a,Wi(this,v.f),this.j=v.j,fo(this,v.c),hi(this,v.h),this.g=v.g,F=v.b;var W=new Lr;W.c=F.c,F.a&&(W.a=new $i(F.a),W.b=F.b),Li(this,W),this.i=v.i}else v&&(W=String(v).match(Cn))?(this.a=!!F,Wi(this,W[1]||"",!0),this.j=Di(W[2]||""),fo(this,W[3]||"",!0),hi(this,W[4]),this.g=Di(W[5]||"",!0),Li(this,W[6]||"",!0),this.i=Di(W[7]||"")):(this.a=!!F,this.b=new Lr(null,this.a))}function si(v){return new Xr(v)}function Wi(v,F,W){v.f=W?Di(F,!0):F,v.f&&(v.f=v.f.replace(/:$/,""))}function fo(v,F,W){v.c=W?Di(F,!0):F}function hi(v,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);v.h=F}else v.h=null}function Li(v,F,W){F instanceof Lr?(v.b=F,function(v,F){F&&!v.f&&(_r(v),v.c=null,v.a.forEach(function(W,de){var Me=de.toLowerCase();de!=Me&&(wo(this,de),U(this,Me,W))},v)),v.f=F}(v.b,v.a)):(W||(F=ai(F,bo)),v.b=new Lr(F,v.a))}function gn(v,F,W){v.b.set(F,W)}function Wr(v){return gn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qe()).toString(36)),v}function Di(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ai(v,F,W){return"string"==typeof v?(v=encodeURI(v).replace(F,vo),W&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function vo(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Xr.prototype.toString=function(){var v=[],F=this.f;F&&v.push(ai(F,Cr,!0),":");var W=this.c;return(W||"file"==F)&&(v.push("//"),(F=this.j)&&v.push(ai(F,Cr,!0),"@"),v.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.h)&&v.push(":",String(W))),(W=this.g)&&(this.c&&"/"!=W.charAt(0)&&v.push("/"),v.push(ai(W,"/"==W.charAt(0)?Fr:Ao,!0))),(W=this.b.toString())&&v.push("?",W),(W=this.i)&&v.push("#",ai(W,Xi)),v.join("")};var Cr=/[#\/\?@]/g,Ao=/[#\?:]/g,Fr=/[#\?]/g,bo=/[#\?@]/g,Xi=/#/g;function Lr(v,F){this.b=this.a=null,this.c=v||null,this.f=!!F}function _r(v){v.a||(v.a=new $i,v.b=0,v.c&&function(v,F){if(v){v=v.split("&");for(var W=0;W<v.length;W++){var de=v[W].indexOf("="),Me=null;if(0<=de){var Je=v[W].substring(0,de);Me=v[W].substring(de+1)}else Je=v[W];F(Je,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}(v.c,function(F,W){v.add(decodeURIComponent(F.replace(/\+/g," ")),W)}))}function wo(v,F){_r(v),F=ne(v,F),Fi(v.a.b,F)&&(v.c=null,v.b-=v.a.get(F).length,Fi((v=v.a).b,F)&&(delete v.b[F],v.c--,v.a.length>2*v.c&&fi(v)))}function Vr(v,F){return _r(v),F=ne(v,F),Fi(v.a.b,F)}function U(v,F,W){wo(v,F),0<W.length&&(v.c=null,v.a.set(ne(v,F),z(W)),v.b+=W.length)}function ne(v,F){return F=String(F),v.f&&(F=F.toLowerCase()),F}function le(v,F){this.b=v,this.a=F}function Ae(v){this.g=v||st,v=De.PerformanceNavigationTiming?0<(v=De.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().qb),this.f=v?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Se=Lr.prototype).add=function(v,F){_r(this),this.c=null,v=ne(this,v);var W=this.a.get(v);return W||this.a.set(v,W=[]),W.push(F),this.b+=1,this},Se.forEach=function(v,F){_r(this),this.a.forEach(function(W,de){At(W,function(Me){v.call(F,Me,de,this)},this)},this)},Se.L=function(){_r(this);for(var v=this.a.K(),F=this.a.L(),W=[],de=0;de<F.length;de++)for(var Me=v[de],Je=0;Je<Me.length;Je++)W.push(F[de]);return W},Se.K=function(v){_r(this);var F=[];if("string"==typeof v)Vr(this,v)&&(F=Z(F,this.a.get(ne(this,v))));else{v=this.a.K();for(var W=0;W<v.length;W++)F=Z(F,v[W])}return F},Se.set=function(v,F){return _r(this),this.c=null,Vr(this,v=ne(this,v))&&(this.b-=this.a.get(v).length),this.a.set(v,[F]),this.b+=1,this},Se.get=function(v,F){return v&&0<(v=this.K(v)).length?String(v[0]):F},Se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var v=[],F=this.a.L(),W=0;W<F.length;W++){var de=F[W],Me=encodeURIComponent(String(de));de=this.K(de);for(var Je=0;Je<de.length;Je++){var Nt=Me;""!==de[Je]&&(Nt+="="+encodeURIComponent(String(de[Je]))),v.push(Nt)}}return this.c=v.join("&")};var st=10;function bt(v){return!!v.b||!!v.a&&v.a.size>=v.f}function Ht(v){return v.b?1:v.a?v.a.size:0}function sn(v,F){return v.b?v.b==F:!!v.a&&v.a.has(F)}function Qn(v,F){v.a?v.a.add(F):v.b=F}function On(v,F){v.b&&v.b==F?v.b=null:v.a&&v.a.has(F)&&v.a.delete(F)}function ln(v){var F,W;if(null!=v.b)return v.c.concat(v.b.s);if(null!=v.a&&0!==v.a.size){var de=v.c;try{for(var Me=J(v.a.values()),Je=Me.next();!Je.done;Je=Me.next())de=de.concat(Je.value.s)}catch(fn){F={error:fn}}finally{try{Je&&!Je.done&&(W=Me.return)&&W.call(Me)}finally{if(F)throw F.error}}return de}return z(v.c)}function Mn(){}function sr(){this.a=new Mn}function Nr(v,F,W){var de=W||"";try{Zi(v,function(Me,Je){var Nt=Me;Ee(Me)&&(Nt=yn(Me)),F.push(de+Je+"="+encodeURIComponent(Nt))})}catch(Me){throw F.push(de+"type="+encodeURIComponent("_badmap")),Me}}function hr(v,F,W,de,Me){try{F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null,Me(de)}catch(Je){}}Ae.prototype.cancel=function(){var v,F;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var W=J(this.a.values()),de=W.next();!de.done;de=W.next())de.value.cancel()}catch(Je){v={error:Je}}finally{try{de&&!de.done&&(F=W.return)&&F.call(W)}finally{if(v)throw v.error}}this.a.clear()}},Mn.prototype.stringify=function(v){return De.JSON.stringify(v,void 0)},Mn.prototype.parse=function(v){return De.JSON.parse(v,void 0)};var zi=De.JSON.parse;function tr(v){rn.call(this),this.headers=new $i,this.H=v||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Mt,this.D=this.F=!1}Dt(tr,rn);var Mt="",ar=/^https?$/i,Vi=["POST","PUT"];function ys(v){return"content-type"==v.toLowerCase()}function Ti(v,F){v.b=!1,v.a&&(v.g=!0,v.a.abort(),v.g=!1),v.f=F,v.h=5,Mo(v),yt(v)}function Mo(v){v.u||(v.u=!0,v.dispatchEvent("complete"),v.dispatchEvent("error"))}function Bi(v){if(v.b&&void 0!==Ve&&(!v.s[1]||4!=Ii(v)||2!=v.X()))if(v.l&&4==Ii(v))Jt(v.za,0,v);else if(v.dispatchEvent("readystatechange"),4==Ii(v)){v.b=!1;try{var de,F=v.X();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var W=!0;break e;default:W=!1}if(!(de=W)){var Me;if(Me=0===F){var Je=String(v.B).match(Cn)[1]||null;if(!Je&&De.self&&De.self.location){var Nt=De.self.location.protocol;Je=Nt.substr(0,Nt.length-1)}Me=!ar.test(Je?Je.toLowerCase():"")}de=Me}if(de)v.dispatchEvent("complete"),v.dispatchEvent("success");else{v.h=6;try{var fn=2<Ii(v)?v.a.statusText:""}catch(un){fn=""}v.f=fn+" ["+v.X()+"]",Mo(v)}}finally{yt(v)}}}function yt(v,F){if(v.a){Pn(v);var W=v.a,de=v.s[0]?Fe:null;v.a=null,v.s=null,F||v.dispatchEvent("ready");try{W.onreadystatechange=de}catch(Me){}}}function Pn(v){v.a&&v.D&&(v.a.ontimeout=null),v.m&&(De.clearTimeout(v.m),v.m=null)}function Ii(v){return v.a?v.a.readyState:0}function zr(v,F,W){e:{for(de in W){var de=!1;break e}de=!0}de||(W=function(v){var F="";return dt(v,function(W,de){F+=de,F+=":",F+=W,F+="\r\n"}),F}(W),"string"==typeof v?null!=W&&encodeURIComponent(String(W)):gn(v,F,W))}function eo(v,F,W){return W&&W.internalChannelParams&&W.internalChannelParams[v]||F}function to(v){this.pa=0,this.g=[],this.c=new Yr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=eo("failFast",!1,v),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=eo("baseRetryDelayMs",5e3,v),this.Ma=eo("retryDelaySeedMs",1e4,v),this.Ja=eo("forwardChannelMaxRetries",2,v),this.ma=eo("forwardChannelRequestTimeoutMs",2e4,v),this.Ka=v&&v.g||void 0,this.D=void 0,this.C=v&&v.supportsCrossDomainXhr||!1,this.J="",this.b=new Ae(v&&v.concurrentRequestLimit),this.ka=new sr,this.da=v&&v.fastHandshake||!1,this.Ga=v&&v.b||!1,v&&v.f&&(this.c.a=!1),v&&v.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&v&&v.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function us(v){if(ks(v),3==v.v){var F=v.R++,W=si(v.B);gn(W,"SID",v.J),gn(W,"RID",F),gn(W,"TYPE","terminate"),Ni(v,W),(F=new Pi(v,v.c,F,void 0)).H=2,F.i=Wr(si(W)),W=!1,De.navigator&&De.navigator.sendBeacon&&(W=De.navigator.sendBeacon(F.i.toString(),"")),!W&&De.Image&&((new Image).src=F.i,W=!0),W||(F.a=Qo(F.g,null),F.a.ba(F.i)),F.u=Qe(),fr(F)}_s(v)}function Si(v){v.a&&(cs(v),v.a.cancel(),v.a=null)}function ks(v){Si(v),v.j&&(De.clearTimeout(v.j),v.j=null),xo(v),v.b.cancel(),v.h&&("number"==typeof v.h&&De.clearTimeout(v.h),v.h=null)}function ls(v,F){v.g.push(new le(v.La++,F)),3==v.v&&Ui(v)}function Ui(v){bt(v.b)||v.h||(v.h=!0,kr(v.Ba,v),v.u=0)}function ur(v,F){var W;W=F?F.f:v.R++;var de=si(v.B);gn(de,"SID",v.J),gn(de,"RID",W),gn(de,"AID",v.P),Ni(v,de),v.i&&v.l&&zr(de,v.i,v.l),W=new Pi(v,v.c,W,v.u+1),null===v.i&&(W.B=v.l),F&&(v.g=F.s.concat(v.g)),F=qo(v,W,1e3),W.setTimeout(Math.round(.5*v.ma)+Math.round(.5*v.ma*Math.random())),Qn(v.b,W),yi(W,de,F)}function Ni(v,F){v.f&&Zi({},function(W,de){gn(F,de,W)})}function qo(v,F,W){W=Math.min(v.g.length,W);var de=v.f?et(v.f.Ha,v.f,v):null;e:for(var Me=v.g,Je=-1;;){var Nt=["count="+W];-1==Je?0<W?Nt.push("ofs="+(Je=Me[0].b)):Je=0:Nt.push("ofs="+Je);for(var fn=!0,un=0;un<W;un++){var O=Me[un].b,k=Me[un].a;if(0>(O-=Je))Je=Math.max(0,Me[un].b-100),fn=!1;else try{Nr(k,Nt,"req"+O+"_")}catch(K){de&&de(k)}}if(fn){de=Nt.join("&");break e}}return v=v.g.splice(0,W),F.s=v,de}function Co(v){v.a||v.j||(v.U=1,kr(v.Aa,v),v.o=0)}function Ai(v){return!(v.a||v.j||3<=v.o||(v.U++,v.j=$r(et(v.Aa,v),Mi(v,v.o)),v.o++,0))}function cs(v){null!=v.s&&(De.clearTimeout(v.s),v.s=null)}function Ms(v){v.a=new Pi(v,v.c,"rpc",v.U),null===v.i&&(v.a.B=v.l),v.a.O=0;var F=si(v.la);gn(F,"RID","rpc"),gn(F,"SID",v.J),gn(F,"CI",v.H?"0":"1"),gn(F,"AID",v.P),Ni(v,F),gn(F,"TYPE","xmlhttp"),v.i&&v.l&&zr(F,v.i,v.l),v.D&&v.a.setTimeout(v.D);var W=v.a;v=v.ga,W.H=1,W.i=Wr(si(F)),W.j=null,W.I=!0,qr(W,v)}function xo(v){null!=v.m&&(De.clearTimeout(v.m),v.m=null)}function xs(v,F){var W=null;if(v.a==F){xo(v),cs(v),v.a=null;var de=2}else{if(!sn(v.b,F))return;W=F.s,On(v.b,F),de=1}if(v.I=F.N,0!=v.v)if(F.b)if(1==de){W=F.j?F.j.length:0,F=Qe()-F.u;var Me=v.u;(de=qt()).dispatchEvent(new ss(de,W,F,Me)),Ui(v)}else Co(v);else if(3==(Me=F.h)||0==Me&&0<v.I||!(1==de&&function(v,F){return!(Ht(v.b)>=v.b.f-(v.h?1:0)||(v.h?(v.g=F.s.concat(v.g),0):1==v.v||2==v.v||v.u>=(v.Ia?0:v.Ja)||(v.h=$r(et(v.Ba,v,F),Mi(v,v.u)),v.u++,0)))}(v,F)||2==de&&Ai(v)))switch(W&&0<W.length&&(F=v.b,F.c=F.c.concat(W)),Me){case 1:vi(v,5);break;case 4:vi(v,10);break;case 3:vi(v,6);break;default:vi(v,2)}}function Mi(v,F){var W=v.Fa+Math.floor(Math.random()*v.Ma);return v.f||(W*=2),W*F}function vi(v,F){if(v.c.info("Error code "+F),2==F){var W=null;v.f&&(W=null);var de=et(v.Xa,v);W||(W=new Xr("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||Wi(W,"https"),Wr(W)),function(v,F){var W=new Yr;if(De.Image){var de=new Image;de.onload=we(hr,W,de,"TestLoadImage: loaded",!0,F),de.onerror=we(hr,W,de,"TestLoadImage: error",!1,F),de.onabort=we(hr,W,de,"TestLoadImage: abort",!1,F),de.ontimeout=we(hr,W,de,"TestLoadImage: timeout",!1,F),De.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=v}else F(!1)}(W.toString(),de)}else en(2);v.v=0,v.f&&v.f.ra(F),_s(v),ks(v)}function _s(v){v.v=0,v.I=-1,v.f&&((0!=ln(v.b).length||0!=v.g.length)&&(v.b.c.length=0,z(v.g),v.g.length=0),v.f.qa())}function ds(v,F,W){var de=function(v){return v instanceof Xr?si(v):new Xr(v,void 0)}(W);if(""!=de.c)F&&fo(de,F+"."+de.c),hi(de,de.h);else{var Me=De.location;de=function(v,F,W,de){var Me=new Xr(null,void 0);return v&&Wi(Me,v),F&&fo(Me,F),W&&hi(Me,W),de&&(Me.g=de),Me}(Me.protocol,F?F+"."+Me.hostname:Me.hostname,+Me.port,W)}return v.W&&dt(v.W,function(Je,Nt){gn(de,Nt,Je)}),W=v.na,(F=v.A)&&W&&gn(de,F,W),gn(de,"VER",v.ha),Ni(v,de),de}function Qo(v,F){if(F&&!v.C)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new tr(v.Ka)).F=v.C,F}function vs(){}function Jo(){if(on&&!(10<=Number(Sn)))throw Error("Environmental error: no available transport.")}function xn(v,F){rn.call(this),this.a=new to(F),this.l=v,this.b=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.a.l=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.a&&(v?v["X-WebChannel-Client-Profile"]=F.a:v={"X-WebChannel-Client-Profile":F.a}),this.a.O=v,(v=F&&F.httpHeadersOverwriteParam)&&!ae(v)&&(this.a.i=v),this.h=F&&F.supportsCrossDomainXhr||!1,this.g=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!ae(F)&&(this.a.A=F,null!==(v=this.b)&&F in v&&F in(v=this.b)&&delete v[F]),this.f=new lr(this)}function bs(v){zn.call(this);var F=v.__sm__;if(F){e:{for(var W in F){v=W;break e}v=void 0}(this.c=v)?(v=this.c,this.data=null!==F&&v in F?F[v]:void 0):this.data=F}else this.data=v}function Ct(){or.call(this),this.status=1}function lr(v){this.a=v}(Se=tr.prototype).ba=function(v,F,W,de){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+v);F=F?F.toUpperCase():"GET",this.B=v,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(v){var F;return(F=v.a)||(F=v.a={}),F}(this.H?this.H:uo),this.a.onreadystatechange=et(this.za,this);try{this.A=!0,this.a.open(F,String(v),!0),this.A=!1}catch(Je){return void Ti(this,Je)}v=W||"";var Me=new $i(this.headers);de&&Zi(de,function(Je,Nt){Me.set(Nt,Je)}),de=function(v){e:{for(var F=ys,W=v.length,de="string"==typeof v?v.split(""):v,Me=0;Me<W;Me++)if(Me in de&&F.call(void 0,de[Me],Me,v)){F=Me;break e}F=-1}return 0>F?null:"string"==typeof v?v.charAt(F):v[F]}(Me.L()),W=De.FormData&&v instanceof De.FormData,!(0<=Vt(Vi,F))||de||W||Me.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Me.forEach(function(Je,Nt){this.a.setRequestHeader(Nt,Je)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(v){return on&&Zn(9)&&"number"==typeof v.timeout&&void 0!==v.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=et(this.xa,this)):this.m=Jt(this.xa,this.o,this)),this.l=!0,this.a.send(v),this.l=!1}catch(Je){Ti(this,Je)}},Se.xa=function(){void 0!==Ve&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Se.abort=function(v){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=v||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yt(this))},Se.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yt(this,!0)),tr.S.G.call(this)},Se.za=function(){this.j||(this.A||this.l||this.g?Bi(this):this.Ta())},Se.Ta=function(){Bi(this)},Se.X=function(){try{return 2<Ii(this)?this.a.status:-1}catch(v){return-1}},Se.$=function(){try{return this.a?this.a.responseText:""}catch(v){return""}},Se.Na=function(v){if(this.a){var F=this.a.responseText;return v&&0==F.indexOf(v)&&(F=F.substring(v.length)),zi(F)}},Se.ua=function(){return this.h},Se.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Se=to.prototype).ha=8,Se.v=1,Se.Ba=function(v){if(this.h)if(this.h=null,1==this.v){if(!v){this.R=Math.floor(1e5*Math.random()),v=this.R++;var de,F=new Pi(this,this.c,v,void 0),W=this.l;if(this.O&&(W?vt(W=xt(W),this.O):W=this.O),null===this.i&&(F.B=W),this.da)e:{for(var Me=de=0;Me<this.g.length;Me++){var Je=this.g[Me];if(void 0===(Je="__data__"in Je.a&&"string"==typeof(Je=Je.a.__data__)?Je.length:void 0))break;if(4096<(de+=Je)){de=Me;break e}if(4096===de||Me===this.g.length-1){de=Me+1;break e}}de=1e3}else de=1e3;de=qo(this,F,de),gn(Me=si(this.B),"RID",v),gn(Me,"CVER",22),this.A&&gn(Me,"X-HTTP-Session-Id",this.A),Ni(this,Me),this.i&&W&&zr(Me,this.i,W),Qn(this.b,F),this.Ga&&gn(Me,"TYPE","init"),this.da?(gn(Me,"$req",de),gn(Me,"SID","null"),F.V=!0,yi(F,Me,null)):yi(F,Me,de),this.v=2}}else 3==this.v&&(v?ur(this,v):0==this.g.length||bt(this.b)||ur(this))},Se.Aa=function(){if(this.j=null,Ms(this),this.V&&!(this.F||null==this.a||0>=this.N)){var v=2*this.N;this.c.info("BP detection timer enabled: "+v),this.s=$r(et(this.Sa,this),v)}},Se.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Si(this),Ms(this))},Se.Ra=function(){null!=this.m&&(this.m=null,Si(this),Ai(this),en(19))},Se.Xa=function(v){v?(this.c.info("Successfully pinged google.com"),en(2)):(this.c.info("Failed to ping google.com"),en(1))},(Se=vs.prototype).ta=function(){},Se.sa=function(){},Se.ra=function(){},Se.qa=function(){},Se.Ha=function(){},Jo.prototype.a=function(v,F){return new xn(v,F)},Dt(xn,rn),(Se=xn.prototype).addEventListener=function(v,F,W,de){xn.S.addEventListener.call(this,v,F,W,de)},Se.removeEventListener=function(v,F,W,de){xn.S.removeEventListener.call(this,v,F,W,de)},Se.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var v=this.a,F=this.l,W=this.b||void 0;en(0),v.fa=F,v.W=W||{},v.H=v.T,v.B=ds(v,null,v.fa),Ui(v)},Se.close=function(){us(this.a)},Se.Pa=function(v){if("string"==typeof v){var F={};F.__data__=v,ls(this.a,F)}else this.g?((F={}).__data__=yn(v),ls(this.a,F)):ls(this.a,v)},Se.G=function(){this.a.f=null,delete this.f,us(this.a),delete this.a,xn.S.G.call(this)},Dt(bs,zn),Dt(Ct,or),Dt(lr,vs),lr.prototype.ta=function(){this.a.dispatchEvent("a")},lr.prototype.sa=function(v){this.a.dispatchEvent(new bs(v))},lr.prototype.ra=function(v){this.a.dispatchEvent(new Ct(v))},lr.prototype.qa=function(){this.a.dispatchEvent("b")},Jo.prototype.createWebChannel=Jo.prototype.a,xn.prototype.send=xn.prototype.Pa,xn.prototype.open=xn.prototype.Oa,xn.prototype.close=xn.prototype.close,Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,ii.COMPLETE="complete",dr.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",rn.prototype.listen=rn.prototype.va,tr.prototype.listenOnce=tr.prototype.wa,tr.prototype.getLastError=tr.prototype.Qa,tr.prototype.getLastErrorCode=tr.prototype.ua,tr.prototype.getStatus=tr.prototype.X,tr.prototype.getResponseJson=tr.prototype.Na,tr.prototype.getResponseText=tr.prototype.$,tr.prototype.send=tr.prototype.ba;var Ro=function(){return new Jo},Oo=Kr,Po=ii,rr=dr,po=tr;const Rr={createWebChannelTransport:Ro,ErrorCode:Kr,EventType:ii,WebChannel:dr,XhrIo:tr}},4395:(Ut,Le,ie)=>{"use strict";function u(Ve){return Ve&&"object"==typeof Ve&&"default"in Ve?Ve:{default:Ve}}var J=u(ie(6279));J.default.registerVersion("firebase","7.24.0","app"),Ut.exports=J.default},6215:(Ut,Le,ie)=>{"use strict";ie.d(Le,{X:()=>J});var x=ie(9765),u=ie(7971);class J extends x.xQ{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Ve=super._subscribe(Se);return Ve&&!Ve.closed&&Se.next(this._value),Ve}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.N;return this._value}next(Se){super.next(this._value=Se)}}},7574:(Ut,Le,ie)=>{"use strict";ie.d(Le,{y:()=>Ee});var x=ie(7393),J=ie(9181),He=ie(6490),Ve=ie(6554),De=ie(4487);var X=ie(2494);let Ee=(()=>{class ye{constructor(ct){this._isScalar=!1,ct&&(this._subscribe=ct)}lift(ct){const it=new ye;return it.source=this,it.operator=ct,it}subscribe(ct,it,et){const{operator:we}=this,Qe=function(ye,tt,ct){if(ye){if(ye instanceof x.L)return ye;if(ye[J.b])return ye[J.b]()}return ye||tt||ct?new x.L(ye,tt,ct):new x.L(He.c)}(ct,it,et);if(Qe.add(we?we.call(Qe,this.source):this.source||X.v.useDeprecatedSynchronousErrorHandling&&!Qe.syncErrorThrowable?this._subscribe(Qe):this._trySubscribe(Qe)),X.v.useDeprecatedSynchronousErrorHandling&&Qe.syncErrorThrowable&&(Qe.syncErrorThrowable=!1,Qe.syncErrorThrown))throw Qe.syncErrorValue;return Qe}_trySubscribe(ct){try{return this._subscribe(ct)}catch(it){X.v.useDeprecatedSynchronousErrorHandling&&(ct.syncErrorThrown=!0,ct.syncErrorValue=it),function(ye){for(;ye;){const{closed:tt,destination:ct,isStopped:it}=ye;if(tt||it)return!1;ye=ct&&ct instanceof x.L?ct:null}return!0}(ct)?ct.error(it):console.warn(it)}}forEach(ct,it){return new(it=_e(it))((et,we)=>{let Qe;Qe=this.subscribe(Dt=>{try{ct(Dt)}catch(Gt){we(Gt),Qe&&Qe.unsubscribe()}},we,et)})}_subscribe(ct){const{source:it}=this;return it&&it.subscribe(ct)}[Ve.L](){return this}pipe(...ct){return 0===ct.length?this:function(ye){return 0===ye.length?De.y:1===ye.length?ye[0]:function(ct){return ye.reduce((it,et)=>et(it),ct)}}(ct)(this)}toPromise(ct){return new(ct=_e(ct))((it,et)=>{let we;this.subscribe(Qe=>we=Qe,Qe=>et(Qe),()=>it(we))})}}return ye.create=tt=>new ye(tt),ye})();function _e(ye){if(ye||(ye=X.v.Promise||Promise),!ye)throw new Error("no Promise impl found");return ye}},6490:(Ut,Le,ie)=>{"use strict";ie.d(Le,{c:()=>J});var x=ie(2494),u=ie(4449);const J={closed:!0,next(He){},error(He){if(x.v.useDeprecatedSynchronousErrorHandling)throw He;(0,u.z)(He)},complete(){}}},5197:(Ut,Le,ie)=>{"use strict";ie.d(Le,{L:()=>u});var x=ie(7393);class u extends x.L{notifyNext(He,Se,Ve,De,Fe){this.destination.next(Se)}notifyError(He,Se){this.destination.error(He)}notifyComplete(He){this.destination.complete()}}},9765:(Ut,Le,ie)=>{"use strict";ie.d(Le,{Yc:()=>De,xQ:()=>Fe});var x=ie(7574),u=ie(7393),J=ie(5319),He=ie(7971),Se=ie(8858),Ve=ie(9181);class De extends u.L{constructor(Ee){super(Ee),this.destination=Ee}}let Fe=(()=>{class X extends x.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ve.b](){return new De(this)}lift(_e){const ye=new te(this,this);return ye.operator=_e,ye}next(_e){if(this.closed)throw new He.N;if(!this.isStopped){const{observers:ye}=this,tt=ye.length,ct=ye.slice();for(let it=0;it<tt;it++)ct[it].next(_e)}}error(_e){if(this.closed)throw new He.N;this.hasError=!0,this.thrownError=_e,this.isStopped=!0;const{observers:ye}=this,tt=ye.length,ct=ye.slice();for(let it=0;it<tt;it++)ct[it].error(_e);this.observers.length=0}complete(){if(this.closed)throw new He.N;this.isStopped=!0;const{observers:_e}=this,ye=_e.length,tt=_e.slice();for(let ct=0;ct<ye;ct++)tt[ct].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(_e){if(this.closed)throw new He.N;return super._trySubscribe(_e)}_subscribe(_e){if(this.closed)throw new He.N;return this.hasError?(_e.error(this.thrownError),J.w.EMPTY):this.isStopped?(_e.complete(),J.w.EMPTY):(this.observers.push(_e),new Se.W(this,_e))}asObservable(){const _e=new x.y;return _e.source=this,_e}}return X.create=(Ee,_e)=>new te(Ee,_e),X})();class te extends Fe{constructor(Ee,_e){super(),this.destination=Ee,this.source=_e}next(Ee){const{destination:_e}=this;_e&&_e.next&&_e.next(Ee)}error(Ee){const{destination:_e}=this;_e&&_e.error&&this.destination.error(Ee)}complete(){const{destination:Ee}=this;Ee&&Ee.complete&&this.destination.complete()}_subscribe(Ee){const{source:_e}=this;return _e?this.source.subscribe(Ee):J.w.EMPTY}}},8858:(Ut,Le,ie)=>{"use strict";ie.d(Le,{W:()=>u});var x=ie(5319);class u extends x.w{constructor(He,Se){super(),this.subject=He,this.subscriber=Se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const He=this.subject,Se=He.observers;if(this.subject=null,!Se||0===Se.length||He.isStopped||He.closed)return;const Ve=Se.indexOf(this.subscriber);-1!==Ve&&Se.splice(Ve,1)}}},7393:(Ut,Le,ie)=>{"use strict";ie.d(Le,{L:()=>De});var x=ie(9105),u=ie(6490),J=ie(5319),He=ie(9181),Se=ie(2494),Ve=ie(4449);class De extends J.w{constructor(X,Ee,_e){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.c;break;case 1:if(!X){this.destination=u.c;break}if("object"==typeof X){X instanceof De?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new Fe(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new Fe(this,X,Ee,_e)}}[He.b](){return this}static create(X,Ee,_e){const ye=new De(X,Ee,_e);return ye.syncErrorThrowable=!1,ye}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class Fe extends De{constructor(X,Ee,_e,ye){super(),this._parentSubscriber=X;let tt,ct=this;(0,x.m)(Ee)?tt=Ee:Ee&&(tt=Ee.next,_e=Ee.error,ye=Ee.complete,Ee!==u.c&&(ct=Object.create(Ee),(0,x.m)(ct.unsubscribe)&&this.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=this.unsubscribe.bind(this))),this._context=ct,this._next=tt,this._error=_e,this._complete=ye}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:Ee}=this;Se.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable?this.__tryOrSetError(Ee,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:Ee}=this,{useDeprecatedSynchronousErrorHandling:_e}=Se.v;if(this._error)_e&&Ee.syncErrorThrowable?(this.__tryOrSetError(Ee,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(Ee.syncErrorThrowable)_e?(Ee.syncErrorValue=X,Ee.syncErrorThrown=!0):(0,Ve.z)(X),this.unsubscribe();else{if(this.unsubscribe(),_e)throw X;(0,Ve.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const Ee=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,Ee),this.unsubscribe()):(this.__tryOrUnsub(Ee),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,Ee){try{X.call(this._context,Ee)}catch(_e){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw _e;(0,Ve.z)(_e)}}__tryOrSetError(X,Ee,_e){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Ee.call(this._context,_e)}catch(ye){return Se.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=ye,X.syncErrorThrown=!0,!0):((0,Ve.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},5319:(Ut,Le,ie)=>{"use strict";ie.d(Le,{w:()=>Ve});var x=ie(9796),u=ie(1555),J=ie(9105);const Se=(()=>{function Fe(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((X,Ee)=>`${Ee+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return Fe.prototype=Object.create(Error.prototype),Fe})();class Ve{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:Ee,_unsubscribe:_e,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof Ve)X.remove(this);else if(null!==X)for(let tt=0;tt<X.length;++tt)X[tt].remove(this);if((0,J.m)(_e)){Ee&&(this._unsubscribe=void 0);try{_e.call(this)}catch(tt){te=tt instanceof Se?De(tt.errors):[tt]}}if((0,x.k)(ye)){let tt=-1,ct=ye.length;for(;++tt<ct;){const it=ye[tt];if((0,u.K)(it))try{it.unsubscribe()}catch(et){te=te||[],et instanceof Se?te=te.concat(De(et.errors)):te.push(et)}}}if(te)throw new Se(te)}add(te){let X=te;if(!te)return Ve.EMPTY;switch(typeof te){case"function":X=new Ve(te);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof Ve)){const ye=X;X=new Ve,X._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:Ee}=X;if(null===Ee)X._parentOrParents=this;else if(Ee instanceof Ve){if(Ee===this)return X;X._parentOrParents=[Ee,this]}else{if(-1!==Ee.indexOf(this))return X;Ee.push(this)}const _e=this._subscriptions;return null===_e?this._subscriptions=[X]:_e.push(X),X}remove(te){const X=this._subscriptions;if(X){const Ee=X.indexOf(te);-1!==Ee&&X.splice(Ee,1)}}}var Fe;function De(Fe){return Fe.reduce((te,X)=>te.concat(X instanceof Se?X.errors:X),[])}Ve.EMPTY=((Fe=new Ve).closed=!0,Fe)},2494:(Ut,Le,ie)=>{"use strict";ie.d(Le,{v:()=>u});let x=!1;const u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const He=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+He.stack)}else x&&console.log("RxJS: Back to a better error behavior. Thank you. <3");x=J},get useDeprecatedSynchronousErrorHandling(){return x}}},5345:(Ut,Le,ie)=>{"use strict";ie.d(Le,{IY:()=>He,Ds:()=>Ve,ft:()=>Fe});var x=ie(7393),u=ie(7574),J=ie(7444);class He extends x.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ve extends x.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function Fe(te,X){if(X.closed)return;if(te instanceof u.y)return te.subscribe(X);let Ee;try{Ee=(0,J.s)(te)(X)}catch(_e){X.error(_e)}return Ee}},2441:(Ut,Le,ie)=>{"use strict";ie.d(Le,{c:()=>Se,N:()=>Ve});var x=ie(9765),u=ie(7574),J=ie(5319),He=ie(1307);class Se extends u.y{constructor(Ee,_e){super(),this.source=Ee,this.subjectFactory=_e,this._refCount=0,this._isComplete=!1}_subscribe(Ee){return this.getSubject().subscribe(Ee)}getSubject(){const Ee=this._subject;return(!Ee||Ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Ee=this._connection;return Ee||(this._isComplete=!1,Ee=this._connection=new J.w,Ee.add(this.source.subscribe(new De(this.getSubject(),this))),Ee.closed&&(this._connection=null,Ee=J.w.EMPTY)),Ee}refCount(){return(0,He.x)()(this)}}const Ve=(()=>{const X=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class De extends x.Yc{constructor(Ee,_e){super(Ee),this.connectable=_e}_error(Ee){this._unsubscribe(),super._error(Ee)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Ee=this.connectable;if(Ee){this.connectable=null;const _e=Ee._connection;Ee._refCount=0,Ee._subject=null,Ee._connection=null,_e&&_e.unsubscribe()}}}},9112:(Ut,Le,ie)=>{"use strict";ie.d(Le,{aj:()=>De});var x=ie(4869),u=ie(9796),J=ie(5197),He=ie(509),Se=ie(6693);const Ve={};function De(...X){let Ee,_e;return(0,x.K)(X[X.length-1])&&(_e=X.pop()),"function"==typeof X[X.length-1]&&(Ee=X.pop()),1===X.length&&(0,u.k)(X[0])&&(X=X[0]),(0,Se.n)(X,_e).lift(new Fe(Ee))}class Fe{constructor(Ee){this.resultSelector=Ee}call(Ee,_e){return _e.subscribe(new te(Ee,this.resultSelector))}}class te extends J.L{constructor(Ee,_e){super(Ee),this.resultSelector=_e,this.active=0,this.values=[],this.observables=[]}_next(Ee){this.values.push(Ve),this.observables.push(Ee)}_complete(){const Ee=this.observables,_e=Ee.length;if(0===_e)this.destination.complete();else{this.active=_e,this.toRespond=_e;for(let ye=0;ye<_e;ye++)this.add((0,He.D)(this,Ee[ye],void 0,ye))}}notifyComplete(Ee){0==(this.active-=1)&&this.destination.complete()}notifyNext(Ee,_e,ye){const tt=this.values,it=this.toRespond?tt[ye]===Ve?--this.toRespond:this.toRespond:0;tt[ye]=_e,0===it&&(this.resultSelector?this._tryResultSelector(tt):this.destination.next(tt.slice()))}_tryResultSelector(Ee){let _e;try{_e=this.resultSelector.apply(this,Ee)}catch(ye){return void this.destination.error(ye)}this.destination.next(_e)}}},8071:(Ut,Le,ie)=>{"use strict";ie.d(Le,{z:()=>He});var x=ie(5917),u=ie(3282);function He(...Se){return(0,u.J)(1)((0,x.of)(...Se))}},9193:(Ut,Le,ie)=>{"use strict";ie.d(Le,{E:()=>u,c:()=>J});var x=ie(7574);const u=new x.y(Se=>Se.complete());function J(Se){return Se?function(Se){return new x.y(Ve=>Se.schedule(()=>Ve.complete()))}(Se):u}},4402:(Ut,Le,ie)=>{"use strict";ie.d(Le,{D:()=>ct});var x=ie(7574),u=ie(7444),J=ie(5319),He=ie(6554),De=ie(4087),Fe=ie(377),Ee=ie(4072),_e=ie(9489);function ct(it,et){return et?function(it,et){if(null!=it){if(function(it){return it&&"function"==typeof it[He.L]}(it))return function(it,et){return new x.y(we=>{const Qe=new J.w;return Qe.add(et.schedule(()=>{const Dt=it[He.L]();Qe.add(Dt.subscribe({next(Gt){Qe.add(et.schedule(()=>we.next(Gt)))},error(Gt){Qe.add(et.schedule(()=>we.error(Gt)))},complete(){Qe.add(et.schedule(()=>we.complete()))}}))})),Qe})}(it,et);if((0,Ee.t)(it))return function(it,et){return new x.y(we=>{const Qe=new J.w;return Qe.add(et.schedule(()=>it.then(Dt=>{Qe.add(et.schedule(()=>{we.next(Dt),Qe.add(et.schedule(()=>we.complete()))}))},Dt=>{Qe.add(et.schedule(()=>we.error(Dt)))}))),Qe})}(it,et);if((0,_e.z)(it))return(0,De.r)(it,et);if(function(it){return it&&"function"==typeof it[Fe.hZ]}(it)||"string"==typeof it)return function(it,et){if(!it)throw new Error("Iterable cannot be null");return new x.y(we=>{const Qe=new J.w;let Dt;return Qe.add(()=>{Dt&&"function"==typeof Dt.return&&Dt.return()}),Qe.add(et.schedule(()=>{Dt=it[Fe.hZ](),Qe.add(et.schedule(function(){if(we.closed)return;let Gt,mn;try{const Vt=Dt.next();Gt=Vt.value,mn=Vt.done}catch(Vt){return void we.error(Vt)}mn?we.complete():(we.next(Gt),this.schedule())}))})),Qe})}(it,et)}throw new TypeError((null!==it&&typeof it||it)+" is not observable")}(it,et):it instanceof x.y?it:new x.y((0,u.s)(it))}},6693:(Ut,Le,ie)=>{"use strict";ie.d(Le,{n:()=>He});var x=ie(7574),u=ie(5015),J=ie(4087);function He(Se,Ve){return Ve?(0,J.r)(Se,Ve):new x.y((0,u.V)(Se))}},6682:(Ut,Le,ie)=>{"use strict";ie.d(Le,{T:()=>Se});var x=ie(7574),u=ie(4869),J=ie(3282),He=ie(6693);function Se(...Ve){let De=Number.POSITIVE_INFINITY,Fe=null,te=Ve[Ve.length-1];return(0,u.K)(te)?(Fe=Ve.pop(),Ve.length>1&&"number"==typeof Ve[Ve.length-1]&&(De=Ve.pop())):"number"==typeof te&&(De=Ve.pop()),null===Fe&&1===Ve.length&&Ve[0]instanceof x.y?Ve[0]:(0,J.J)(De)((0,He.n)(Ve,Fe))}},5917:(Ut,Le,ie)=>{"use strict";ie.d(Le,{of:()=>He});var x=ie(4869),u=ie(6693),J=ie(4087);function He(...Se){let Ve=Se[Se.length-1];return(0,x.K)(Ve)?(Se.pop(),(0,J.r)(Se,Ve)):(0,u.n)(Se)}},4612:(Ut,Le,ie)=>{"use strict";ie.d(Le,{b:()=>u});var x=ie(9773);function u(J,He){return(0,x.zg)(J,He,1)}},5242:(Ut,Le,ie)=>{"use strict";ie.d(Le,{d:()=>u});var x=ie(7393);function u(Se=null){return Ve=>Ve.lift(new J(Se))}class J{constructor(Ve){this.defaultValue=Ve}call(Ve,De){return De.subscribe(new He(Ve,this.defaultValue))}}class He extends x.L{constructor(Ve,De){super(Ve),this.defaultValue=De,this.isEmpty=!0}_next(Ve){this.isEmpty=!1,this.destination.next(Ve)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Ut,Le,ie)=>{"use strict";ie.d(Le,{h:()=>u});var x=ie(7393);function u(Se,Ve){return function(Fe){return Fe.lift(new J(Se,Ve))}}class J{constructor(Ve,De){this.predicate=Ve,this.thisArg=De}call(Ve,De){return De.subscribe(new He(Ve,this.predicate,this.thisArg))}}class He extends x.L{constructor(Ve,De,Fe){super(Ve),this.predicate=De,this.thisArg=Fe,this.count=0}_next(Ve){let De;try{De=this.predicate.call(this.thisArg,Ve,this.count++)}catch(Fe){return void this.destination.error(Fe)}De&&this.destination.next(Ve)}}},8049:(Ut,Le,ie)=>{"use strict";ie.d(Le,{P:()=>De});var x=ie(3410),u=ie(5435),J=ie(5257),He=ie(5242),Se=ie(4635),Ve=ie(4487);function De(Fe,te){const X=arguments.length>=2;return Ee=>Ee.pipe(Fe?(0,u.h)((_e,ye)=>Fe(_e,ye,Ee)):Ve.y,(0,J.q)(1),X?(0,He.d)(te):(0,Se.T)(()=>new x.K))}},8002:(Ut,Le,ie)=>{"use strict";ie.d(Le,{U:()=>u});var x=ie(7393);function u(Se,Ve){return function(Fe){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Fe.lift(new J(Se,Ve))}}class J{constructor(Ve,De){this.project=Ve,this.thisArg=De}call(Ve,De){return De.subscribe(new He(Ve,this.project,this.thisArg))}}class He extends x.L{constructor(Ve,De,Fe){super(Ve),this.project=De,this.count=0,this.thisArg=Fe||this}_next(Ve){let De;try{De=this.project.call(this.thisArg,Ve,this.count++)}catch(Fe){return void this.destination.error(Fe)}this.destination.next(De)}}},3282:(Ut,Le,ie)=>{"use strict";ie.d(Le,{J:()=>J});var x=ie(9773),u=ie(4487);function J(He=Number.POSITIVE_INFINITY){return(0,x.zg)(u.y,He)}},9773:(Ut,Le,ie)=>{"use strict";ie.d(Le,{zg:()=>He});var x=ie(8002),u=ie(4402),J=ie(5345);function He(Fe,te,X=Number.POSITIVE_INFINITY){return"function"==typeof te?Ee=>Ee.pipe(He((_e,ye)=>(0,u.D)(Fe(_e,ye)).pipe((0,x.U)((tt,ct)=>te(_e,tt,ye,ct))),X)):("number"==typeof te&&(X=te),Ee=>Ee.lift(new Se(Fe,X)))}class Se{constructor(te,X=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=X}call(te,X){return X.subscribe(new Ve(te,this.project,this.concurrent))}}class Ve extends J.Ds{constructor(te,X,Ee=Number.POSITIVE_INFINITY){super(te),this.project=X,this.concurrent=Ee,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let X;const Ee=this.index++;try{X=this.project(te,Ee)}catch(_e){return void this.destination.error(_e)}this.active++,this._innerSub(X)}_innerSub(te){const X=new J.IY(this),Ee=this.destination;Ee.add(X);const _e=(0,J.ft)(te,X);_e!==X&&Ee.add(_e)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(Ut,Le,ie)=>{"use strict";ie.d(Le,{x:()=>u});var x=ie(7393);function u(){return function(Ve){return Ve.lift(new J(Ve))}}class J{constructor(Ve){this.connectable=Ve}call(Ve,De){const{connectable:Fe}=this;Fe._refCount++;const te=new He(Ve,Fe),X=De.subscribe(te);return te.closed||(te.connection=Fe.connect()),X}}class He extends x.L{constructor(Ve,De){super(Ve),this.connectable=De}_unsubscribe(){const{connectable:Ve}=this;if(!Ve)return void(this.connection=null);this.connectable=null;const De=Ve._refCount;if(De<=0)return void(this.connection=null);if(Ve._refCount=De-1,De>1)return void(this.connection=null);const{connection:Fe}=this,te=Ve._connection;this.connection=null,te&&(!Fe||te===Fe)&&te.unsubscribe()}}},2145:(Ut,Le,ie)=>{"use strict";ie.d(Le,{R:()=>u});var x=ie(7393);function u(Se,Ve){let De=!1;return arguments.length>=2&&(De=!0),function(te){return te.lift(new J(Se,Ve,De))}}class J{constructor(Ve,De,Fe=!1){this.accumulator=Ve,this.seed=De,this.hasSeed=Fe}call(Ve,De){return De.subscribe(new He(Ve,this.accumulator,this.seed,this.hasSeed))}}class He extends x.L{constructor(Ve,De,Fe,te){super(Ve),this.accumulator=De,this._seed=Fe,this.hasSeed=te,this.index=0}get seed(){return this._seed}set seed(Ve){this.hasSeed=!0,this._seed=Ve}_next(Ve){if(this.hasSeed)return this._tryNext(Ve);this.seed=Ve,this.destination.next(Ve)}_tryNext(Ve){const De=this.index++;let Fe;try{Fe=this.accumulator(this.seed,Ve,De)}catch(te){this.destination.error(te)}this.seed=Fe,this.destination.next(Fe)}}},8819:(Ut,Le,ie)=>{"use strict";ie.d(Le,{B:()=>De});var x=ie(2441);var He=ie(1307),Se=ie(9765);function Ve(){return new Se.xQ}function De(){return Fe=>(0,He.x)()(function(Fe,te){return function(Ee){let _e;_e="function"==typeof Fe?Fe:function(){return Fe};const ye=Object.create(Ee,x.N);return ye.source=Ee,ye.subjectFactory=_e,ye}}(Ve)(Fe))}},9761:(Ut,Le,ie)=>{"use strict";ie.d(Le,{O:()=>J});var x=ie(8071),u=ie(4869);function J(...He){const Se=He[He.length-1];return(0,u.K)(Se)?(He.pop(),Ve=>(0,x.z)(He,Ve,Se)):Ve=>(0,x.z)(He,Ve)}},3190:(Ut,Le,ie)=>{"use strict";ie.d(Le,{w:()=>He});var x=ie(8002),u=ie(4402),J=ie(5345);function He(De,Fe){return"function"==typeof Fe?te=>te.pipe(He((X,Ee)=>(0,u.D)(De(X,Ee)).pipe((0,x.U)((_e,ye)=>Fe(X,_e,Ee,ye))))):te=>te.lift(new Se(De))}class Se{constructor(Fe){this.project=Fe}call(Fe,te){return te.subscribe(new Ve(Fe,this.project))}}class Ve extends J.Ds{constructor(Fe,te){super(Fe),this.project=te,this.index=0}_next(Fe){let te;const X=this.index++;try{te=this.project(Fe,X)}catch(Ee){return void this.destination.error(Ee)}this._innerSub(te)}_innerSub(Fe){const te=this.innerSubscription;te&&te.unsubscribe();const X=new J.IY(this),Ee=this.destination;Ee.add(X),this.innerSubscription=(0,J.ft)(Fe,X),this.innerSubscription!==X&&Ee.add(this.innerSubscription)}_complete(){const{innerSubscription:Fe}=this;(!Fe||Fe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Fe){this.destination.next(Fe)}}},5257:(Ut,Le,ie)=>{"use strict";ie.d(Le,{q:()=>He});var x=ie(7393),u=ie(7108),J=ie(9193);function He(De){return Fe=>0===De?(0,J.c)():Fe.lift(new Se(De))}class Se{constructor(Fe){if(this.total=Fe,this.total<0)throw new u.W}call(Fe,te){return te.subscribe(new Ve(Fe,this.total))}}class Ve extends x.L{constructor(Fe,te){super(Fe),this.total=te,this.count=0}_next(Fe){const te=this.total,X=++this.count;X<=te&&(this.destination.next(Fe),X===te&&(this.destination.complete(),this.unsubscribe()))}}},8307:(Ut,Le,ie)=>{"use strict";ie.d(Le,{b:()=>He});var x=ie(7393),u=ie(8640),J=ie(9105);function He(De,Fe,te){return function(Ee){return Ee.lift(new Se(De,Fe,te))}}class Se{constructor(Fe,te,X){this.nextOrObserver=Fe,this.error=te,this.complete=X}call(Fe,te){return te.subscribe(new Ve(Fe,this.nextOrObserver,this.error,this.complete))}}class Ve extends x.L{constructor(Fe,te,X,Ee){super(Fe),this._tapNext=u.Z,this._tapError=u.Z,this._tapComplete=u.Z,this._tapError=X||u.Z,this._tapComplete=Ee||u.Z,(0,J.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||u.Z,this._tapError=te.error||u.Z,this._tapComplete=te.complete||u.Z)}_next(Fe){try{this._tapNext.call(this._context,Fe)}catch(te){return void this.destination.error(te)}this.destination.next(Fe)}_error(Fe){try{this._tapError.call(this._context,Fe)}catch(te){return void this.destination.error(te)}this.destination.error(Fe)}_complete(){try{this._tapComplete.call(this._context)}catch(Fe){return void this.destination.error(Fe)}return this.destination.complete()}}},4635:(Ut,Le,ie)=>{"use strict";ie.d(Le,{T:()=>J});var x=ie(3410),u=ie(7393);function J(De=Ve){return Fe=>Fe.lift(new He(De))}class He{constructor(Fe){this.errorFactory=Fe}call(Fe,te){return te.subscribe(new Se(Fe,this.errorFactory))}}class Se extends u.L{constructor(Fe,te){super(Fe),this.errorFactory=te,this.hasValue=!1}_next(Fe){this.hasValue=!0,this.destination.next(Fe)}_complete(){if(this.hasValue)return this.destination.complete();{let Fe;try{Fe=this.errorFactory()}catch(te){Fe=te}this.destination.error(Fe)}}}function Ve(){return new x.K}},4087:(Ut,Le,ie)=>{"use strict";ie.d(Le,{r:()=>J});var x=ie(7574),u=ie(5319);function J(He,Se){return new x.y(Ve=>{const De=new u.w;let Fe=0;return De.add(Se.schedule(function(){Fe!==He.length?(Ve.next(He[Fe++]),Ve.closed||De.add(this.schedule())):Ve.complete()})),De})}},377:(Ut,Le,ie)=>{"use strict";ie.d(Le,{hZ:()=>u});const u="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ut,Le,ie)=>{"use strict";ie.d(Le,{L:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ut,Le,ie)=>{"use strict";ie.d(Le,{b:()=>x});const x="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Ut,Le,ie)=>{"use strict";ie.d(Le,{W:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return J.prototype=Object.create(Error.prototype),J})()},3410:(Ut,Le,ie)=>{"use strict";ie.d(Le,{K:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return J.prototype=Object.create(Error.prototype),J})()},7971:(Ut,Le,ie)=>{"use strict";ie.d(Le,{N:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(Ut,Le,ie)=>{"use strict";function x(u){setTimeout(()=>{throw u},0)}ie.d(Le,{z:()=>x})},4487:(Ut,Le,ie)=>{"use strict";function x(u){return u}ie.d(Le,{y:()=>x})},9796:(Ut,Le,ie)=>{"use strict";ie.d(Le,{k:()=>x});const x=Array.isArray||(u=>u&&"number"==typeof u.length)},9489:(Ut,Le,ie)=>{"use strict";ie.d(Le,{z:()=>x});const x=u=>u&&"number"==typeof u.length&&"function"!=typeof u},9105:(Ut,Le,ie)=>{"use strict";function x(u){return"function"==typeof u}ie.d(Le,{m:()=>x})},1555:(Ut,Le,ie)=>{"use strict";function x(u){return null!==u&&"object"==typeof u}ie.d(Le,{K:()=>x})},4072:(Ut,Le,ie)=>{"use strict";function x(u){return!!u&&"function"!=typeof u.subscribe&&"function"==typeof u.then}ie.d(Le,{t:()=>x})},4869:(Ut,Le,ie)=>{"use strict";function x(u){return u&&"function"==typeof u.schedule}ie.d(Le,{K:()=>x})},8640:(Ut,Le,ie)=>{"use strict";function x(){}ie.d(Le,{Z:()=>x})},7444:(Ut,Le,ie)=>{"use strict";ie.d(Le,{s:()=>Ee});var x=ie(5015),u=ie(4449),He=ie(377),Ve=ie(6554),Fe=ie(9489),te=ie(4072),X=ie(1555);const Ee=_e=>{if(_e&&"function"==typeof _e[Ve.L])return(_e=>ye=>{const tt=_e[Ve.L]();if("function"!=typeof tt.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return tt.subscribe(ye)})(_e);if((0,Fe.z)(_e))return(0,x.V)(_e);if((0,te.t)(_e))return(_e=>ye=>(_e.then(tt=>{ye.closed||(ye.next(tt),ye.complete())},tt=>ye.error(tt)).then(null,u.z),ye))(_e);if(_e&&"function"==typeof _e[He.hZ])return(_e=>ye=>{const tt=_e[He.hZ]();for(;;){let ct;try{ct=tt.next()}catch(it){return ye.error(it),ye}if(ct.done){ye.complete();break}if(ye.next(ct.value),ye.closed)break}return"function"==typeof tt.return&&ye.add(()=>{tt.return&&tt.return()}),ye})(_e);{const tt=`You provided ${(0,X.K)(_e)?"an invalid object":`'${_e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(tt)}}},5015:(Ut,Le,ie)=>{"use strict";ie.d(Le,{V:()=>x});const x=u=>J=>{for(let He=0,Se=u.length;He<Se&&!J.closed;He++)J.next(u[He]);J.complete()}},509:(Ut,Le,ie)=>{"use strict";ie.d(Le,{D:()=>Se});var x=ie(7393);class u extends x.L{constructor(De,Fe,te){super(),this.parent=De,this.outerValue=Fe,this.outerIndex=te,this.index=0}_next(De){this.parent.notifyNext(this.outerValue,De,this.outerIndex,this.index++,this)}_error(De){this.parent.notifyError(De,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var J=ie(7444),He=ie(7574);function Se(Ve,De,Fe,te,X=new u(Ve,Fe,te)){if(!X.closed)return De instanceof He.y?De.subscribe(X):(0,J.s)(De)(X)}},8259:function(Ut){Ut.exports=function(){"use strict";const Le=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ie="SweetAlert2:",u=O=>O.charAt(0).toUpperCase()+O.slice(1),J=O=>Array.prototype.slice.call(O),He=O=>{console.warn("".concat(ie," ").concat("object"==typeof O?O.join(" "):O))},Se=O=>{console.error("".concat(ie," ").concat(O))},Ve=[],Fe=(O,k)=>{(O=>{Ve.includes(O)||(Ve.push(O),He(O))})('"'.concat(O,'" is deprecated and will be removed in the next major release. Please use "').concat(k,'" instead.'))},te=O=>"function"==typeof O?O():O,X=O=>O&&"function"==typeof O.toPromise,Ee=O=>X(O)?O.toPromise():Promise.resolve(O),_e=O=>O&&Promise.resolve(O)===O,tt=O=>O instanceof Element||(O=>"object"==typeof O&&O.jquery)(O),et=O=>{const k={};for(const K in O)k[O[K]]="swal2-"+O[K];return k},we=et(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Qe=et(["success","warning","info","question","error"]),Dt=()=>document.body.querySelector(".".concat(we.container)),Gt=O=>{const k=Dt();return k?k.querySelector(O):null},mn=O=>Gt(".".concat(O)),Vt=()=>mn(we.popup),At=()=>mn(we.icon),$=()=>mn(we.title),Z=()=>mn(we["html-container"]),z=()=>mn(we.image),ae=()=>mn(we["progress-steps"]),ue=()=>mn(we["validation-message"]),Q=()=>Gt(".".concat(we.actions," .").concat(we.confirm)),Ie=()=>Gt(".".concat(we.actions," .").concat(we.deny)),St=()=>Gt(".".concat(we.loader)),Ue=()=>Gt(".".concat(we.actions," .").concat(we.cancel)),dt=()=>mn(we.actions),xt=()=>mn(we.footer),Ke=()=>mn(we["timer-progress-bar"]),vt=()=>mn(we.close),bn=()=>{const O=J(Vt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((K,xe)=>(K=parseInt(K.getAttribute("tabindex")))>(xe=parseInt(xe.getAttribute("tabindex")))?1:K<xe?-1:0),k=J(Vt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(K=>"-1"!==K.getAttribute("tabindex"));return(O=>{const k=[];for(let K=0;K<O.length;K++)-1===k.indexOf(O[K])&&k.push(O[K]);return k})(O.concat(k)).filter(K=>be(K))},Qr=()=>!on()&&!document.body.classList.contains(we["no-backdrop"]),on=()=>document.body.classList.contains(we["toast-shown"]),dn={previousBodyPadding:null},ht=(O,k)=>{if(O.textContent="",k){const xe=(new DOMParser).parseFromString(k,"text/html");J(xe.querySelector("head").childNodes).forEach(pt=>{O.appendChild(pt)}),J(xe.querySelector("body").childNodes).forEach(pt=>{O.appendChild(pt)})}},vr=(O,k)=>{if(!k)return!1;const K=k.split(/\s+/);for(let xe=0;xe<K.length;xe++)if(!O.classList.contains(K[xe]))return!1;return!0},an=(O,k,K)=>{if(((O,k)=>{J(O.classList).forEach(K=>{!Object.values(we).includes(K)&&!Object.values(Qe).includes(K)&&!Object.values(k.showClass).includes(K)&&O.classList.remove(K)})})(O,k),k.customClass&&k.customClass[K]){if("string"!=typeof k.customClass[K]&&!k.customClass[K].forEach)return He("Invalid type of customClass.".concat(K,'! Expected string or iterable object, got "').concat(typeof k.customClass[K],'"'));kt(O,k.customClass[K])}},Lt=(O,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return Rt(O,we[k]);case"checkbox":return O.querySelector(".".concat(we.checkbox," input"));case"radio":return O.querySelector(".".concat(we.radio," input:checked"))||O.querySelector(".".concat(we.radio," input:first-child"));case"range":return O.querySelector(".".concat(we.range," input"));default:return Rt(O,we.input)}},Gn=O=>{if(O.focus(),"file"!==O.type){const k=O.value;O.value="",O.value=k}},Fn=(O,k,K)=>{!O||!k||("string"==typeof k&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(xe=>{O.forEach?O.forEach(pt=>{K?pt.classList.add(xe):pt.classList.remove(xe)}):K?O.classList.add(xe):O.classList.remove(xe)}))},kt=(O,k)=>{Fn(O,k,!0)},Zn=(O,k)=>{Fn(O,k,!1)},Rt=(O,k)=>{for(let K=0;K<O.childNodes.length;K++)if(vr(O.childNodes[K],k))return O.childNodes[K]},Ln=(O,k,K)=>{K==="".concat(parseInt(K))&&(K=parseInt(K)),K||0===parseInt(K)?O.style[k]="number"==typeof K?"".concat(K,"px"):K:O.style.removeProperty(k)},Sn=(O,k="flex")=>{O.style.display=k},Vn=O=>{O.style.display="none"},ft=(O,k,K,xe)=>{const pt=O.querySelector(k);pt&&(pt.style[K]=xe)},je=(O,k,K)=>{k?Sn(O,K):Vn(O)},be=O=>!(!O||!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)),mt=O=>O.scrollHeight>O.clientHeight,Te=O=>{const k=window.getComputedStyle(O),K=parseFloat(k.getPropertyValue("animation-duration")||"0"),xe=parseFloat(k.getPropertyValue("transition-duration")||"0");return K>0||xe>0},me=(O,k=!1)=>{const K=Ke();be(K)&&(k&&(K.style.transition="none",K.style.width="100%"),setTimeout(()=>{K.style.transition="width ".concat(O/1e3,"s linear"),K.style.width="0%"},10))},ze=()=>"undefined"==typeof window||"undefined"==typeof document,$e='\n <div aria-labelledby="'.concat(we.title,'" aria-describedby="').concat(we["html-container"],'" class="').concat(we.popup,'" tabindex="-1">\n   <button type="button" class="').concat(we.close,'"></button>\n   <ul class="').concat(we["progress-steps"],'"></ul>\n   <div class="').concat(we.icon,'"></div>\n   <img class="').concat(we.image,'" />\n   <h2 class="').concat(we.title,'" id="').concat(we.title,'"></h2>\n   <div class="').concat(we["html-container"],'" id="').concat(we["html-container"],'"></div>\n   <input class="').concat(we.input,'" />\n   <input type="file" class="').concat(we.file,'" />\n   <div class="').concat(we.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(we.select,'"></select>\n   <div class="').concat(we.radio,'"></div>\n   <label for="').concat(we.checkbox,'" class="').concat(we.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(we.label,'"></span>\n   </label>\n   <textarea class="').concat(we.textarea,'"></textarea>\n   <div class="').concat(we["validation-message"],'" id="').concat(we["validation-message"],'"></div>\n   <div class="').concat(we.actions,'">\n     <div class="').concat(we.loader,'"></div>\n     <button type="button" class="').concat(we.confirm,'"></button>\n     <button type="button" class="').concat(we.deny,'"></button>\n     <button type="button" class="').concat(we.cancel,'"></button>\n   </div>\n   <div class="').concat(we.footer,'"></div>\n   <div class="').concat(we["timer-progress-bar-container"],'">\n     <div class="').concat(we["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Tt=()=>{un.isVisible()&&un.resetValidationMessage()},Wt=O=>{const k=(()=>{const O=Dt();return!!O&&(O.remove(),Zn([document.documentElement,document.body],[we["no-backdrop"],we["toast-shown"],we["has-column"]]),!0)})();if(ze())return void Se("SweetAlert2 requires document to initialize");const K=document.createElement("div");K.className=we.container,k&&kt(K,we["no-transition"]),ht(K,$e);const xe=(O=>"string"==typeof O?document.querySelector(O):O)(O.target);xe.appendChild(K),(O=>{const k=Vt();k.setAttribute("role",O.toast?"alert":"dialog"),k.setAttribute("aria-live",O.toast?"polite":"assertive"),O.toast||k.setAttribute("aria-modal","true")})(O),(O=>{"rtl"===window.getComputedStyle(O).direction&&kt(Dt(),we.rtl)})(xe),(()=>{const O=Vt(),k=Rt(O,we.input),K=Rt(O,we.file),xe=O.querySelector(".".concat(we.range," input")),pt=O.querySelector(".".concat(we.range," output")),zt=Rt(O,we.select),Rn=O.querySelector(".".concat(we.checkbox," input")),ei=Rt(O,we.textarea);k.oninput=Tt,K.onchange=Tt,zt.onchange=Tt,Rn.onchange=Tt,ei.oninput=Tt,xe.oninput=()=>{Tt(),pt.value=xe.value},xe.onchange=()=>{Tt(),xe.nextSibling.value=xe.value}})()},wn=(O,k)=>{O instanceof HTMLElement?k.appendChild(O):"object"==typeof O?Nn(O,k):O&&ht(k,O)},Nn=(O,k)=>{O.jquery?Ei(k,O):ht(k,O.toString())},Ei=(O,k)=>{if(O.textContent="",0 in k)for(let K=0;K in k;K++)O.appendChild(k[K].cloneNode(!0));else O.appendChild(k.cloneNode(!0))},Xn=(()=>{if(ze())return!1;const O=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const K in k)if(Object.prototype.hasOwnProperty.call(k,K)&&void 0!==O.style[K])return k[K];return!1})(),so=(O,k)=>{const K=dt(),xe=St(),pt=Q(),zt=Ie(),Rn=Ue();k.showConfirmButton||k.showDenyButton||k.showCancelButton?Sn(K):Vn(K),an(K,k,"actions"),Jr(pt,"confirm",k),Jr(zt,"deny",k),Jr(Rn,"cancel",k),function(O,k,K,xe){if(!xe.buttonsStyling)return Zn([O,k,K],we.styled);kt([O,k,K],we.styled),xe.confirmButtonColor&&(O.style.backgroundColor=xe.confirmButtonColor,kt(O,we["default-outline"])),xe.denyButtonColor&&(k.style.backgroundColor=xe.denyButtonColor,kt(k,we["default-outline"])),xe.cancelButtonColor&&(K.style.backgroundColor=xe.cancelButtonColor,kt(K,we["default-outline"]))}(pt,zt,Rn,k),k.reverseButtons&&(K.insertBefore(Rn,xe),K.insertBefore(zt,xe),K.insertBefore(pt,xe)),ht(xe,k.loaderHtml),an(xe,k,"loader")};function Jr(O,k,K){je(O,K["show".concat(u(k),"Button")],"inline-block"),ht(O,K["".concat(k,"ButtonText")]),O.setAttribute("aria-label",K["".concat(k,"ButtonAriaLabel")]),O.className=we[k],an(O,K,"".concat(k,"Button")),kt(O,K["".concat(k,"ButtonClass")])}const yn=(O,k)=>{const K=Dt();!K||(function(O,k){"string"==typeof k?O.style.background=k:k||kt([document.documentElement,document.body],we["no-backdrop"])}(K,k.backdrop),function(O,k){k in we?kt(O,we[k]):(He('The "position" parameter is not valid, defaulting to "center"'),kt(O,we.center))}(K,k.position),function(O,k){if(k&&"string"==typeof k){const K="grow-".concat(k);K in we&&kt(O,we[K])}}(K,k.grow),an(K,k,"container"))};var En={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Bn=["input","file","range","select","radio","checkbox","textarea"],_o=O=>{if(!$n[O.input])return Se('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(O.input,'"'));const k=Gi(O.input),K=$n[O.input](k,O);Sn(K),setTimeout(()=>{Gn(K)})},kr=(O,k)=>{const K=Lt(Vt(),O);if(K){(O=>{for(let k=0;k<O.attributes.length;k++){const K=O.attributes[k].name;["type","value","style"].includes(K)||O.removeAttribute(K)}})(K);for(const xe in k)K.setAttribute(xe,k[xe])}},br=O=>{const k=Gi(O.input);O.customClass&&kt(k,O.customClass.input)},Tr=(O,k)=>{(!O.placeholder||k.inputPlaceholder)&&(O.placeholder=k.inputPlaceholder)},mr=(O,k,K)=>{if(K.inputLabel){O.id=we.input;const xe=document.createElement("label"),pt=we["input-label"];xe.setAttribute("for",O.id),xe.className=pt,kt(xe,K.customClass.inputLabel),xe.innerText=K.inputLabel,k.insertAdjacentElement("beforebegin",xe)}},Gi=O=>{const k=we[O]?we[O]:we.input;return Rt(Vt(),k)},$n={};$n.text=$n.email=$n.password=$n.number=$n.tel=$n.url=(O,k)=>("string"==typeof k.inputValue||"number"==typeof k.inputValue?O.value=k.inputValue:_e(k.inputValue)||He('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof k.inputValue,'"')),mr(O,O,k),Tr(O,k),O.type=k.input,O),$n.file=(O,k)=>(mr(O,O,k),Tr(O,k),O),$n.range=(O,k)=>{const K=O.querySelector("input"),xe=O.querySelector("output");return K.value=k.inputValue,K.type=k.input,xe.value=k.inputValue,mr(K,O,k),O},$n.select=(O,k)=>{if(O.textContent="",k.inputPlaceholder){const K=document.createElement("option");ht(K,k.inputPlaceholder),K.value="",K.disabled=!0,K.selected=!0,O.appendChild(K)}return mr(O,O,k),O},$n.radio=O=>(O.textContent="",O),$n.checkbox=(O,k)=>{const K=Lt(Vt(),"checkbox");K.value=1,K.id=we.checkbox,K.checked=Boolean(k.inputValue);const xe=O.querySelector("span");return ht(xe,k.inputPlaceholder),O},$n.textarea=(O,k)=>{O.value=k.inputValue,Tr(O,k),mr(O,O,k);return setTimeout(()=>{if("MutationObserver"in window){const xe=parseInt(window.getComputedStyle(Vt()).width);new MutationObserver(()=>{const zt=O.offsetWidth+(xe=>parseInt(window.getComputedStyle(xe).marginLeft)+parseInt(window.getComputedStyle(xe).marginRight))(O);Vt().style.width=zt>xe?"".concat(zt,"px"):null}).observe(O,{attributes:!0,attributeFilter:["style"]})}}),O};const Ot=(O,k)=>{const K=Z();an(K,k,"htmlContainer"),k.html?(wn(k.html,K),Sn(K,"block")):k.text?(K.textContent=k.text,Sn(K,"block")):Vn(K),((O,k)=>{const K=Vt(),xe=En.innerParams.get(O),pt=!xe||k.input!==xe.input;Bn.forEach(zt=>{const Rn=we[zt],ei=Rt(K,Rn);kr(zt,k.inputAttributes),ei.className=Rn,pt&&Vn(ei)}),k.input&&(pt&&_o(k),br(k))})(O,k)},Hr=(O,k)=>{for(const K in Qe)k.icon!==K&&Zn(O,Qe[K]);kt(O,Qe[k.icon]),yr(O,k),wr(),an(O,k,"icon")},wr=()=>{const O=Vt(),k=window.getComputedStyle(O).getPropertyValue("background-color"),K=O.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let xe=0;xe<K.length;xe++)K[xe].style.backgroundColor=k},Gr=(O,k)=>{O.textContent="",ht(O,k.iconHtml?Yi(k.iconHtml):"success"===k.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===k.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Yi({question:"?",warning:"!",info:"i"}[k.icon]))},yr=(O,k)=>{if(k.iconColor){O.style.color=k.iconColor,O.style.borderColor=k.iconColor;for(const K of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ft(O,K,"backgroundColor",k.iconColor);ft(O,".swal2-success-ring","borderColor",k.iconColor)}},Yi=O=>'<div class="'.concat(we["icon-content"],'">').concat(O,"</div>"),Wn=(O,k)=>{const K=ae();if(!k.progressSteps||0===k.progressSteps.length)return Vn(K);Sn(K),K.textContent="",k.currentProgressStep>=k.progressSteps.length&&He("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((xe,pt)=>{const zt=(O=>{const k=document.createElement("li");return kt(k,we["progress-step"]),ht(k,O),k})(xe);if(K.appendChild(zt),pt===k.currentProgressStep&&kt(zt,we["active-progress-step"]),pt!==k.progressSteps.length-1){const Rn=(O=>{const k=document.createElement("li");return kt(k,we["progress-step-line"]),O.progressStepsDistance&&(k.style.width=O.progressStepsDistance),k})(k);K.appendChild(Rn)}})},Sr=(O,k)=>{O.className="".concat(we.popup," ").concat(be(O)?k.showClass.popup:""),k.toast?(kt([document.documentElement,document.body],we["toast-shown"]),kt(O,we.toast)):kt(O,we.modal),an(O,k,"popup"),"string"==typeof k.customClass&&kt(O,k.customClass),k.icon&&kt(O,we["icon-".concat(k.icon)])},qt=(O,k)=>{((O,k)=>{const K=Dt(),xe=Vt();k.toast?(Ln(K,"width",k.width),xe.style.width="100%",xe.insertBefore(St(),At())):Ln(xe,"width",k.width),Ln(xe,"padding",k.padding),k.background&&(xe.style.background=k.background),Vn(ue()),Sr(xe,k)})(0,k),yn(0,k),Wn(0,k),((O,k)=>{const K=En.innerParams.get(O),xe=At();K&&k.icon===K.icon?(Gr(xe,k),Hr(xe,k)):k.icon||k.iconHtml?k.icon&&-1===Object.keys(Qe).indexOf(k.icon)?(Se('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(k.icon,'"')),Vn(xe)):(Sn(xe),Gr(xe,k),Hr(xe,k),kt(xe,k.showClass.icon)):Vn(xe)})(O,k),((O,k)=>{const K=z();if(!k.imageUrl)return Vn(K);Sn(K,""),K.setAttribute("src",k.imageUrl),K.setAttribute("alt",k.imageAlt),Ln(K,"width",k.imageWidth),Ln(K,"height",k.imageHeight),K.className=we.image,an(K,k,"image")})(0,k),((O,k)=>{const K=$();je(K,k.title||k.titleText,"block"),k.title&&wn(k.title,K),k.titleText&&(K.innerText=k.titleText),an(K,k,"title")})(0,k),((O,k)=>{const K=vt();ht(K,k.closeButtonHtml),an(K,k,"closeButton"),je(K,k.showCloseButton),K.setAttribute("aria-label",k.closeButtonAriaLabel)})(0,k),Ot(O,k),so(0,k),((O,k)=>{const K=xt();je(K,k.footer),k.footer&&wn(k.footer,K),an(K,k,"footer")})(0,k),"function"==typeof k.didRender&&k.didRender(Vt())},er=()=>Q()&&Q().click();const Kr=O=>{let k=Vt();k||un.fire(),k=Vt();const K=St();on()?Vn(At()):ii(k,O),Sn(K),k.setAttribute("data-loading",!0),k.setAttribute("aria-busy",!0),k.focus()},ii=(O,k)=>{const K=dt(),xe=St();!k&&be(Q())&&(k=Q()),Sn(K),k&&(Vn(k),xe.setAttribute("data-button-to-replace",k.className)),xe.parentNode.insertBefore(xe,k),kt([O,K],we.loading)},Kt={},Qi=O=>new Promise(k=>{if(!O)return k();const K=window.scrollX,xe=window.scrollY;Kt.restoreFocusTimeout=setTimeout(()=>{Kt.previousActiveElement&&Kt.previousActiveElement.focus?(Kt.previousActiveElement.focus(),Kt.previousActiveElement=null):document.body&&document.body.focus(),k()},100),window.scrollTo(K,xe)}),or=()=>{if(Kt.timeout)return(()=>{const O=Ke(),k=parseInt(window.getComputedStyle(O).width);O.style.removeProperty("transition"),O.style.width="100%";const K=parseInt(window.getComputedStyle(O).width),xe=parseInt(k/K*100);O.style.removeProperty("transition"),O.style.width="".concat(xe,"%")})(),Kt.timeout.stop()},uo=()=>{if(Kt.timeout){const O=Kt.timeout.start();return me(O),O}};let Zr=!1;const So={};const qr=O=>{for(let k=O.target;k&&k!==document;k=k.parentNode)for(const K in So){const xe=k.getAttribute(K);if(xe)return void So[K].fire({template:xe})}},_i={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Wo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],fr={},ki=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],co=O=>Object.prototype.hasOwnProperty.call(_i,O),Ki=O=>fr[O],oi=O=>{co(O)||He('Unknown parameter "'.concat(O,'"'))},as=O=>{ki.includes(O)&&He('The parameter "'.concat(O,'" is incompatible with toasts'))},Zi=O=>{Ki(O)&&Fe(O,Ki(O))};var fi=Object.freeze({isValidParameter:co,isUpdatableParameter:O=>-1!==Wo.indexOf(O),isDeprecatedParameter:Ki,argsToParams:O=>{const k={};return"object"!=typeof O[0]||tt(O[0])?["title","html","icon"].forEach((K,xe)=>{const pt=O[xe];"string"==typeof pt||tt(pt)?k[K]=pt:void 0!==pt&&Se("Unexpected type of ".concat(K,'! Expected "string" or "Element", got ').concat(typeof pt))}):Object.assign(k,O[0]),k},isVisible:()=>be(Vt()),clickConfirm:er,clickDeny:()=>Ie()&&Ie().click(),clickCancel:()=>Ue()&&Ue().click(),getContainer:Dt,getPopup:Vt,getTitle:$,getHtmlContainer:Z,getImage:z,getIcon:At,getInputLabel:()=>mn(we["input-label"]),getCloseButton:vt,getActions:dt,getConfirmButton:Q,getDenyButton:Ie,getCancelButton:Ue,getLoader:St,getFooter:xt,getTimerProgressBar:Ke,getFocusableElements:bn,getValidationMessage:ue,isLoading:()=>Vt().hasAttribute("data-loading"),fire:function(...O){return new this(...O)},mixin:function(O){return class extends(this){_main(xe,pt){return super._main(xe,Object.assign({},O,pt))}}},showLoading:Kr,enableLoading:Kr,getTimerLeft:()=>Kt.timeout&&Kt.timeout.getTimerLeft(),stopTimer:or,resumeTimer:uo,toggleTimer:()=>{const O=Kt.timeout;return O&&(O.running?or():uo())},increaseTimer:O=>{if(Kt.timeout){const k=Kt.timeout.increase(O);return me(k,!0),k}},isTimerRunning:()=>Kt.timeout&&Kt.timeout.isRunning(),bindClickHandler:function(O="data-swal-template"){So[O]=this,Zr||(document.body.addEventListener("click",qr),Zr=!0)}});function Fi(){const O=En.innerParams.get(this);if(!O)return;const k=En.domCache.get(this);Vn(k.loader),on()?O.icon&&Sn(At()):Cn(k),Zn([k.popup,k.actions],we.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const Cn=O=>{const k=O.popup.getElementsByClassName(O.loader.getAttribute("data-button-to-replace"));k.length?Sn(k[0],"inline-block"):!be(Q())&&!be(Ie())&&!be(Ue())&&Vn(O.actions)};const Xr=()=>{null===dn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(dn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(dn.previousBodyPadding+(()=>{const O=document.createElement("div");O.className=we["scrollbar-measure"],document.body.appendChild(O);const k=O.getBoundingClientRect().width-O.clientWidth;return document.body.removeChild(O),k})(),"px"))},fo=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const k=44;Vt().scrollHeight>window.innerHeight-k&&(Dt().style.paddingBottom="".concat(k,"px"))}},hi=()=>{const O=Dt();let k;O.ontouchstart=K=>{k=Li(K)},O.ontouchmove=K=>{k&&(K.preventDefault(),K.stopPropagation())}},Li=O=>{const k=O.target,K=Dt();return!(gn(O)||Wr(O)||k!==K&&(mt(K)||"INPUT"===k.tagName||"TEXTAREA"===k.tagName||mt(Z())&&Z().contains(k)))},gn=O=>O.touches&&O.touches.length&&"stylus"===O.touches[0].touchType,Wr=O=>O.touches&&O.touches.length>1,Di=()=>{J(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})};var ai={swalPromiseResolve:new WeakMap};function vo(O,k,K,xe){on()?Lr(O,xe):(Qi(K).then(()=>Lr(O,xe)),Kt.keydownTarget.removeEventListener("keydown",Kt.keydownHandler,{capture:Kt.keydownListenerCapture}),Kt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Qr()&&(null!==dn.previousBodyPadding&&(document.body.style.paddingRight="".concat(dn.previousBodyPadding,"px"),dn.previousBodyPadding=null),(()=>{if(vr(document.body,we.iosfix)){const O=parseInt(document.body.style.top,10);Zn(document.body,we.iosfix),document.body.style.top="",document.body.scrollTop=-1*O}})(),Di()),Zn([document.documentElement,document.body],[we.shown,we["height-auto"],we["no-backdrop"],we["toast-shown"]])}function Ao(O){const k=Vt();if(!k)return;O=Fr(O);const K=En.innerParams.get(this);if(!K||vr(k,K.hideClass.popup))return;const xe=ai.swalPromiseResolve.get(this);Zn(k,K.showClass.popup),kt(k,K.hideClass.popup);const pt=Dt();Zn(pt,K.showClass.backdrop),kt(pt,K.hideClass.backdrop),bo(this,k,K),xe(O)}const Fr=O=>void 0===O?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},O),bo=(O,k,K)=>{const xe=Dt(),pt=Xn&&Te(k);"function"==typeof K.willClose&&K.willClose(k),pt?Xi(O,k,xe,K.returnFocus,K.didClose):vo(O,xe,K.returnFocus,K.didClose)},Xi=(O,k,K,xe,pt)=>{Kt.swalCloseEventFinishedCallback=vo.bind(null,O,K,xe,pt),k.addEventListener(Xn,function(zt){zt.target===k&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback)})},Lr=(O,k)=>{setTimeout(()=>{"function"==typeof k&&k.bind(O.params)(),O._destroy()})};function _r(O,k,K){const xe=En.domCache.get(O);k.forEach(pt=>{xe[pt].disabled=K})}function wo(O,k){if(!O)return!1;if("radio"===O.type){const xe=O.parentNode.parentNode.querySelectorAll("input");for(let pt=0;pt<xe.length;pt++)xe[pt].disabled=k}else O.disabled=k}class bt{constructor(k,K){this.callback=k,this.remaining=K,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(k){const K=this.running;return K&&this.stop(),this.remaining+=k,K&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Ht={email:(O,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(O)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(O,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(O)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function On(O){(function(O){O.inputValidator||Object.keys(Ht).forEach(k=>{O.input===k&&(O.inputValidator=Ht[k])})})(O),O.showLoaderOnConfirm&&!O.preConfirm&&He("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(O){(!O.target||"string"==typeof O.target&&!document.querySelector(O.target)||"string"!=typeof O.target&&!O.target.appendChild)&&(He('Target parameter is not valid, defaulting to "body"'),O.target="body")}(O),"string"==typeof O.title&&(O.title=O.title.split("\n").join("<br />")),Wt(O)}const ln=["swal-title","swal-html","swal-footer"],sr=O=>{const k={};return J(O.querySelectorAll("swal-param")).forEach(K=>{ar(K,["name","value"]);const xe=K.getAttribute("name");let pt=K.getAttribute("value");"boolean"==typeof _i[xe]&&"false"===pt&&(pt=!1),"object"==typeof _i[xe]&&(pt=JSON.parse(pt)),k[xe]=pt}),k},Nr=O=>{const k={};return J(O.querySelectorAll("swal-button")).forEach(K=>{ar(K,["type","color","aria-label"]);const xe=K.getAttribute("type");k["".concat(xe,"ButtonText")]=K.innerHTML,k["show".concat(u(xe),"Button")]=!0,K.hasAttribute("color")&&(k["".concat(xe,"ButtonColor")]=K.getAttribute("color")),K.hasAttribute("aria-label")&&(k["".concat(xe,"ButtonAriaLabel")]=K.getAttribute("aria-label"))}),k},ui=O=>{const k={},K=O.querySelector("swal-image");return K&&(ar(K,["src","width","height","alt"]),K.hasAttribute("src")&&(k.imageUrl=K.getAttribute("src")),K.hasAttribute("width")&&(k.imageWidth=K.getAttribute("width")),K.hasAttribute("height")&&(k.imageHeight=K.getAttribute("height")),K.hasAttribute("alt")&&(k.imageAlt=K.getAttribute("alt"))),k},hr=O=>{const k={},K=O.querySelector("swal-icon");return K&&(ar(K,["type","color"]),K.hasAttribute("type")&&(k.icon=K.getAttribute("type")),K.hasAttribute("color")&&(k.iconColor=K.getAttribute("color")),k.iconHtml=K.innerHTML),k},zi=O=>{const k={},K=O.querySelector("swal-input");K&&(ar(K,["type","label","placeholder","value"]),k.input=K.getAttribute("type")||"text",K.hasAttribute("label")&&(k.inputLabel=K.getAttribute("label")),K.hasAttribute("placeholder")&&(k.inputPlaceholder=K.getAttribute("placeholder")),K.hasAttribute("value")&&(k.inputValue=K.getAttribute("value")));const xe=O.querySelectorAll("swal-input-option");return xe.length&&(k.inputOptions={},J(xe).forEach(pt=>{ar(pt,["value"]);const zt=pt.getAttribute("value");k.inputOptions[zt]=pt.innerHTML})),k},tr=(O,k)=>{const K={};for(const xe in k){const pt=k[xe],zt=O.querySelector(pt);zt&&(ar(zt,[]),K[pt.replace(/^swal-/,"")]=zt.innerHTML.trim())}return K},Mt=O=>{const k=ln.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);J(O.children).forEach(K=>{const xe=K.tagName.toLowerCase();-1===k.indexOf(xe)&&He("Unrecognized element <".concat(xe,">"))})},ar=(O,k)=>{J(O.attributes).forEach(K=>{-1===k.indexOf(K.name)&&He(['Unrecognized attribute "'.concat(K.name,'" on <').concat(O.tagName.toLowerCase(),">."),"".concat(k.length?"Allowed attributes are: ".concat(k.join(", ")):"To set the value, use HTML within the element.")])})},ho=O=>{const k=Dt(),K=Vt();"function"==typeof O.willOpen&&O.willOpen(K);const pt=window.getComputedStyle(document.body).overflowY;Bi(k,K,O),setTimeout(()=>{Ti(k,K)},10),Qr()&&(Mo(k,O.scrollbarPadding,pt),J(document.body.children).forEach(k=>{k===Dt()||k.contains(Dt())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})),!on()&&!Kt.previousActiveElement&&(Kt.previousActiveElement=document.activeElement),"function"==typeof O.didOpen&&setTimeout(()=>O.didOpen(K)),Zn(k,we["no-transition"])},ys=O=>{const k=Vt();if(O.target!==k)return;const K=Dt();k.removeEventListener(Xn,ys),K.style.overflowY="auto"},Ti=(O,k)=>{Xn&&Te(k)?(O.style.overflowY="hidden",k.addEventListener(Xn,ys)):O.style.overflowY="auto"},Mo=(O,k,K)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!vr(document.body,we.iosfix)){const k=document.body.scrollTop;document.body.style.top="".concat(-1*k,"px"),kt(document.body,we.iosfix),hi(),fo()}})(),k&&"hidden"!==K&&Xr(),setTimeout(()=>{O.scrollTop=0})},Bi=(O,k,K)=>{kt(O,K.showClass.backdrop),k.style.setProperty("opacity","0","important"),Sn(k,"grid"),setTimeout(()=>{kt(k,K.showClass.popup),k.style.removeProperty("opacity")},10),kt([document.documentElement,document.body],we.shown),K.heightAuto&&K.backdrop&&!K.toast&&kt([document.documentElement,document.body],we["height-auto"])},Ii=O=>O.checked?1:0,nr=O=>O.checked?O.value:null,zr=O=>O.files.length?null!==O.getAttribute("multiple")?O.files:O.files[0]:null,eo=(O,k)=>{const K=Vt(),xe=pt=>us[k.input](K,Si(pt),k);X(k.inputOptions)||_e(k.inputOptions)?(Kr(Q()),Ee(k.inputOptions).then(pt=>{O.hideLoading(),xe(pt)})):"object"==typeof k.inputOptions?xe(k.inputOptions):Se("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof k.inputOptions))},to=(O,k)=>{const K=O.getInput();Vn(K),Ee(k.inputValue).then(xe=>{K.value="number"===k.input?parseFloat(xe)||0:"".concat(xe),Sn(K),K.focus(),O.hideLoading()}).catch(xe=>{Se("Error in inputValue promise: ".concat(xe)),K.value="",Sn(K),K.focus(),O.hideLoading()})},us={select:(O,k,K)=>{const xe=Rt(O,we.select),pt=(zt,Rn,ei)=>{const pi=document.createElement("option");pi.value=ei,ht(pi,Rn),pi.selected=ks(ei,K.inputValue),zt.appendChild(pi)};k.forEach(zt=>{const Rn=zt[0],ei=zt[1];if(Array.isArray(ei)){const pi=document.createElement("optgroup");pi.label=Rn,pi.disabled=!1,xe.appendChild(pi),ei.forEach(ko=>pt(pi,ko[1],ko[0]))}else pt(xe,ei,Rn)}),xe.focus()},radio:(O,k,K)=>{const xe=Rt(O,we.radio);k.forEach(zt=>{const Rn=zt[0],ei=zt[1],pi=document.createElement("input"),ko=document.createElement("label");pi.type="radio",pi.name=we.radio,pi.value=Rn,ks(Rn,K.inputValue)&&(pi.checked=!0);const sa=document.createElement("span");ht(sa,ei),sa.className=we.label,ko.appendChild(pi),ko.appendChild(sa),xe.appendChild(ko)});const pt=xe.querySelectorAll("input");pt.length&&pt[0].focus()}},Si=O=>{const k=[];return"undefined"!=typeof Map&&O instanceof Map?O.forEach((K,xe)=>{let pt=K;"object"==typeof pt&&(pt=Si(pt)),k.push([xe,pt])}):Object.keys(O).forEach(K=>{let xe=O[K];"object"==typeof xe&&(xe=Si(xe)),k.push([K,xe])}),k},ks=(O,k)=>k&&k.toString()===O.toString(),ur=(O,k)=>{const K=En.innerParams.get(O),xe=((O,k)=>{const K=O.getInput();if(!K)return null;switch(k.input){case"checkbox":return Ii(K);case"radio":return nr(K);case"file":return zr(K);default:return k.inputAutoTrim?K.value.trim():K.value}})(O,K);K.inputValidator?Ni(O,xe,k):O.getInput().checkValidity()?"deny"===k?qo(O,xe):Ai(O,xe):(O.enableButtons(),O.showValidationMessage(K.validationMessage))},Ni=(O,k,K)=>{const xe=En.innerParams.get(O);O.disableInput(),Promise.resolve().then(()=>Ee(xe.inputValidator(k,xe.validationMessage))).then(zt=>{O.enableButtons(),O.enableInput(),zt?O.showValidationMessage(zt):"deny"===K?qo(O,k):Ai(O,k)})},qo=(O,k)=>{const K=En.innerParams.get(O||void 0);K.showLoaderOnDeny&&Kr(Ie()),K.preDeny?Promise.resolve().then(()=>Ee(K.preDeny(k,K.validationMessage))).then(pt=>{!1===pt?O.hideLoading():O.closePopup({isDenied:!0,value:void 0===pt?k:pt})}):O.closePopup({isDenied:!0,value:k})},Co=(O,k)=>{O.closePopup({isConfirmed:!0,value:k})},Ai=(O,k)=>{const K=En.innerParams.get(O||void 0);K.showLoaderOnConfirm&&Kr(),K.preConfirm?(O.resetValidationMessage(),Promise.resolve().then(()=>Ee(K.preConfirm(k,K.validationMessage))).then(pt=>{be(ue())||!1===pt?O.hideLoading():Co(O,void 0===pt?k:pt)})):Co(O,k)},Ms=(O,k,K)=>{const xe=bn();if(xe.length)return(k+=K)===xe.length?k=0:-1===k&&(k=xe.length-1),xe[k].focus();Vt().focus()},xo=["ArrowRight","ArrowDown"],xs=["ArrowLeft","ArrowUp"],Mi=(O,k,K)=>{const xe=En.innerParams.get(O);!xe||(xe.stopKeydownPropagation&&k.stopPropagation(),"Enter"===k.key?vi(O,k,xe):"Tab"===k.key?_s(k,xe):[...xo,...xs].includes(k.key)?ds(k.key):"Escape"===k.key&&Qo(k,xe,K))},vi=(O,k,K)=>{if(!k.isComposing&&k.target&&O.getInput()&&k.target.outerHTML===O.getInput().outerHTML){if(["textarea","file"].includes(K.input))return;er(),k.preventDefault()}},_s=(O,k)=>{const K=O.target,xe=bn();let pt=-1;for(let zt=0;zt<xe.length;zt++)if(K===xe[zt]){pt=zt;break}Ms(0,pt,O.shiftKey?-1:1),O.stopPropagation(),O.preventDefault()},ds=O=>{if(![Q(),Ie(),Ue()].includes(document.activeElement))return;const pt=xo.includes(O)?"nextElementSibling":"previousElementSibling",zt=document.activeElement[pt];zt&&zt.focus()},Qo=(O,k,K)=>{te(k.allowEscapeKey)&&(O.preventDefault(),K(Le.esc))},Jo=(O,k,K)=>{k.popup.onclick=()=>{const xe=En.innerParams.get(O);xe.showConfirmButton||xe.showDenyButton||xe.showCancelButton||xe.showCloseButton||xe.timer||xe.input||K(Le.close)}};let xn=!1;const bs=O=>{O.popup.onmousedown=()=>{O.container.onmouseup=function(k){O.container.onmouseup=void 0,k.target===O.container&&(xn=!0)}}},Ct=O=>{O.container.onmousedown=()=>{O.popup.onmouseup=function(k){O.popup.onmouseup=void 0,(k.target===O.popup||O.popup.contains(k.target))&&(xn=!0)}}},lr=(O,k,K)=>{k.container.onclick=xe=>{const pt=En.innerParams.get(O);xn?xn=!1:xe.target===k.container&&te(pt.allowOutsideClick)&&K(Le.backdrop)}};const Oo=(O,k)=>{const K=(O=>{const k="string"==typeof O.template?document.querySelector(O.template):O.template;if(!k)return{};const K=k.content;return Mt(K),Object.assign(sr(K),Nr(K),ui(K),hr(K),zi(K),tr(K,ln))})(O),xe=Object.assign({},_i,k,K,O);return xe.showClass=Object.assign({},_i.showClass,xe.showClass),xe.hideClass=Object.assign({},_i.hideClass,xe.hideClass),xe},Po=(O,k,K)=>new Promise(xe=>{const pt=zt=>{O.closePopup({isDismissed:!0,dismiss:zt})};ai.swalPromiseResolve.set(O,xe),k.confirmButton.onclick=()=>(O=>{const k=En.innerParams.get(O);O.disableButtons(),k.input?ur(O,"confirm"):Ai(O,!0)})(O),k.denyButton.onclick=()=>(O=>{const k=En.innerParams.get(O);O.disableButtons(),k.returnInputValueOnDeny?ur(O,"deny"):qo(O,!1)})(O),k.cancelButton.onclick=()=>((O,k)=>{O.disableButtons(),k(Le.cancel)})(O,pt),k.closeButton.onclick=()=>pt(Le.close),((O,k,K)=>{En.innerParams.get(O).toast?Jo(O,k,K):(bs(k),Ct(k),lr(O,k,K))})(O,k,pt),((O,k,K,xe)=>{k.keydownTarget&&k.keydownHandlerAdded&&(k.keydownTarget.removeEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!1),K.toast||(k.keydownHandler=pt=>Mi(O,pt,xe),k.keydownTarget=K.keydownListenerCapture?window:Vt(),k.keydownListenerCapture=K.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)})(O,Kt,K,pt),((O,k)=>{"select"===k.input||"radio"===k.input?eo(O,k):["text","email","number","tel","textarea"].includes(k.input)&&(X(k.inputValue)||_e(k.inputValue))&&(Kr(Q()),to(O,k))})(O,K),ho(K),po(Kt,K,pt),cr(k,K),setTimeout(()=>{k.container.scrollTop=0})}),rr=O=>{const k={popup:Vt(),container:Dt(),actions:dt(),confirmButton:Q(),denyButton:Ie(),cancelButton:Ue(),loader:St(),closeButton:vt(),validationMessage:ue(),progressSteps:ae()};return En.domCache.set(O,k),k},po=(O,k,K)=>{const xe=Ke();Vn(xe),k.timer&&(O.timeout=new bt(()=>{K("timer"),delete O.timeout},k.timer),k.timerProgressBar&&(Sn(xe),setTimeout(()=>{O.timeout&&O.timeout.running&&me(k.timer)})))},cr=(O,k)=>{if(!k.toast){if(!te(k.allowEnterKey))return v();Rr(O,k)||Ms(0,-1,1)}},Rr=(O,k)=>k.focusDeny&&be(O.denyButton)?(O.denyButton.focus(),!0):k.focusCancel&&be(O.cancelButton)?(O.cancelButton.focus(),!0):!(!k.focusConfirm||!be(O.confirmButton)||(O.confirmButton.focus(),0)),v=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const de=O=>{delete O.params,delete Kt.keydownHandler,delete Kt.keydownTarget,Me(En),Me(ai),delete Kt.currentInstance},Me=O=>{for(const k in O)O[k]=new WeakMap};var Je=Object.freeze({hideLoading:Fi,disableLoading:Fi,getInput:function(O){const k=En.innerParams.get(O||this),K=En.domCache.get(O||this);return K?Lt(K.popup,k.input):null},close:Ao,closePopup:Ao,closeModal:Ao,closeToast:Ao,enableButtons:function(){_r(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){_r(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return wo(this.getInput(),!1)},disableInput:function(){return wo(this.getInput(),!0)},showValidationMessage:function(O){const k=En.domCache.get(this),K=En.innerParams.get(this);ht(k.validationMessage,O),k.validationMessage.className=we["validation-message"],K.customClass&&K.customClass.validationMessage&&kt(k.validationMessage,K.customClass.validationMessage),Sn(k.validationMessage);const xe=this.getInput();xe&&(xe.setAttribute("aria-invalid",!0),xe.setAttribute("aria-describedby",we["validation-message"]),Gn(xe),kt(xe,we.inputerror))},resetValidationMessage:function(){const O=En.domCache.get(this);O.validationMessage&&Vn(O.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),Zn(k,we.inputerror))},getProgressSteps:function(){return En.domCache.get(this).progressSteps},_main:function(O,k={}){(O=>{!O.backdrop&&O.allowOutsideClick&&He('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in O)oi(k),O.toast&&as(k),Zi(k)})(Object.assign({},k,O)),Kt.currentInstance&&(Kt.currentInstance._destroy(),Qr()&&Di()),Kt.currentInstance=this;const K=Oo(O,k);On(K),Object.freeze(K),Kt.timeout&&(Kt.timeout.stop(),delete Kt.timeout),clearTimeout(Kt.restoreFocusTimeout);const xe=rr(this);return qt(this,K),En.innerParams.set(this,K),Po(this,xe,K)},update:function(O){const k=Vt(),K=En.innerParams.get(this);if(!k||vr(k,K.hideClass.popup))return He("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const xe={};Object.keys(O).forEach(zt=>{un.isUpdatableParameter(zt)?xe[zt]=O[zt]:He('Invalid parameter to update: "'.concat(zt,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const pt=Object.assign({},K,xe);qt(this,pt),En.innerParams.set(this,pt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,O),writable:!1,enumerable:!0}})},_destroy:function(){const O=En.domCache.get(this),k=En.innerParams.get(this);!k||(O.popup&&Kt.swalCloseEventFinishedCallback&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback),Kt.deferDisposalTimer&&(clearTimeout(Kt.deferDisposalTimer),delete Kt.deferDisposalTimer),"function"==typeof k.didDestroy&&k.didDestroy(),de(this))}});let Nt;class fn{constructor(...k){if("undefined"==typeof window)return;Nt=this;const K=Object.freeze(this.constructor.argsToParams(k));Object.defineProperties(this,{params:{value:K,writable:!1,enumerable:!0,configurable:!0}});const xe=this._main(this.params);En.promise.set(this,xe)}then(k){return En.promise.get(this).then(k)}finally(k){return En.promise.get(this).finally(k)}}Object.assign(fn.prototype,Je),Object.assign(fn,fi),Object.keys(Je).forEach(O=>{fn[O]=function(...k){if(Nt)return Nt[O](...k)}}),fn.DismissReason=Le,fn.version="11.1.7";const un=fn;return un.default=un,un}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Le,ie){var x=Le.createElement("style");if(Le.getElementsByTagName("head")[0].appendChild(x),x.styleSheet)x.styleSheet.disabled||(x.styleSheet.cssText=ie);else try{x.innerHTML=ie}catch(u){x.innerText=ie}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3010:(Ut,Le,ie)=>{"use strict";ie.d(Le,{k:()=>Ve});var x=ie(7716),u=ie(3587),J=ie(7748),He=ie(8583);function Se(De,Fe){if(1&De){const te=x.EpF();x.TgZ(0,"div",8),x.TgZ(1,"div",9),x.TgZ(2,"div",10),x._UZ(3,"img",11),x.TgZ(4,"h1",12),x._uU(5),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"div",13),x.NdJ("click",function(){const _e=x.CHM(te).$implicit;return x.oxw().seleccionoPeli(_e.id)}),x.qZA(),x.qZA()}if(2&De){const te=Fe.$implicit;x.xp6(3),x.s9C("src",te.photoURL,x.LSH),x.xp6(2),x.Oqu(te.nombre)}}let Ve=(()=>{class De{constructor(te,X){this.datosApi=te,this.peliSeleccionada=X,this.eventoSeleccionePeli=new x.vpe,this.firstMovie={id:694,nombre:"The Shining",tipo:"Terror",fechaEstreno:"1980-12-25",cantPublico:"3.000.000",photoURL:"https://librolibertate.files.wordpress.com/2019/10/the-shining-1.jpg"},this.movieListId=new Array,this.imageUrl="",this.movieName="",this.loadMovie(782),this.loadMovie(680),this.loadMovie(493922),this.loadMovie(550),this.obtenerLista(782),this.obtenerLista(493922),this.movieListId.push(this.firstMovie),this.pickedMovie=X}loadMovie(te){this.datosApi.obtenerDatos(te).subscribe(X=>{let Ee={id:694,nombre:"The shining",tipo:"Terror",fechaEstreno:"01/01/1990",cantPublico:"3.000.000",photoURL:"https://librolibertate.files.wordpress.com/2019/10/the-shining-1.jpg"};Ee.id=te,Ee.nombre=X.title,Ee.cantPublico=X.popularity,Ee.fechaEstreno=X.release_date,Ee.tipo=X.genres[0].name,Ee.photoURL="https://www.themoviedb.org/t/p/w533_and_h300_bestv2/"+X.backdrop_path,this.movieListId.push(Ee)},X=>{console.log(X)})}obtenerLista(te){this.datosApi.obtenerListaGenero(te).subscribe(X=>{X.results.map(Ee=>{this.loadMovie(Ee.id)})},X=>{console.log(X)})}compare(te,X){return te.name<X.name?-1:te.name>X.name?1:0}sortList(){this.movieListId.sort(this.compare)}seleccionoPeli(te){this.pickedMovie=this.movieListId.find(X=>X.id===te),this.eventoSeleccionePeli.emit(this.pickedMovie)}ngOnInit(){}}return De.\u0275fac=function(te){return new(te||De)(x.Y36(u.t),x.Y36(J.K))},De.\u0275cmp=x.Xpm({type:De,selectors:[["app-tabla-pelicula"]],outputs:{eventoSeleccionePeli:"eventoSeleccionePeli"},decls:11,vars:5,consts:[[1,"py-5","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light"],[1,"album","py-5","bg-light"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col movieCard",4,"ngFor","ngForOf"],[1,"col","movieCard"],[1,"card","shadow-sm"],[1,"foto"],["alt","",1,"poster",3,"src"],[1,"title"],["id","clickTarget",3,"click"]],template:function(te,X){1&te&&(x.TgZ(0,"main"),x.TgZ(1,"section",0),x.TgZ(2,"div",1),x.TgZ(3,"div",2),x.TgZ(4,"h1",3),x._uU(5,"Tabla Peliculas"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"div",4),x.TgZ(7,"div",5),x.TgZ(8,"div",6),x.YNc(9,Se,7,2,"div",7),x.ALo(10,"slice"),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&te&&(x.xp6(9),x.Q6J("ngForOf",x.Dn7(10,1,X.movieListId,0,9)))},directives:[He.sg],pipes:[He.OU],styles:[".foto[_ngcontent-%COMP%]{width:100%;height:225px;overflow:hidden}.poster[_ngcontent-%COMP%]{width:auto;height:100%;background-size:cover}.title[_ngcontent-%COMP%]{position:absolute;color:#fff;top:100px;left:20px;text-shadow:5px 5px 20px black}.movieCard[_ngcontent-%COMP%]{margin-bottom:10px}#clickTarget[_ngcontent-%COMP%]{width:100%;height:225px;position:absolute;top:0;left:0;cursor:pointer}"]}),De})()},3587:(Ut,Le,ie)=>{"use strict";ie.d(Le,{t:()=>J});var x=ie(7716),u=ie(1841);let J=(()=>{class He{constructor(Ve){this.http=Ve}obtenerFrames(Ve){return this.http.get("https://api.themoviedb.org/3/movie/"+Ve+"/images?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}obtenerDatos(Ve){return this.http.get("https://api.themoviedb.org/3/movie/"+Ve+"?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}obtenerListaGenero(Ve){return this.http.get("https://api.themoviedb.org/3/movie/"+Ve+"/recommendations?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}}return He.\u0275fac=function(Ve){return new(Ve||He)(x.LFG(u.eN))},He.\u0275prov=x.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})()},7748:(Ut,Le,ie)=>{"use strict";ie.d(Le,{K:()=>u});var x=ie(7716);let u=(()=>{class J{constructor(){}}return J.\u0275fac=function(Se){return new(Se||J)},J.\u0275prov=x.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},6149:(Ut,Le,ie)=>{"use strict";var x=ie(8583),u=ie(7716);class J extends x.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class He extends J{static makeCurrent(){(0,x.HT)(new He)}onAndCancel(c,r,d){return c.addEventListener(r,d,!1),()=>{c.removeEventListener(r,d,!1)}}dispatchEvent(c,r){c.dispatchEvent(r)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,r){return(r=r||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,r){return"window"===r?window:"document"===r?c:"body"===r?c.body:null}getBaseHref(c){const r=(Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null);return null==r?null:function(a){De=De||document.createElement("a"),De.setAttribute("href",a);const c=De.pathname;return"/"===c.charAt(0)?c:`/${c}`}(r)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,x.Mx)(document.cookie,c)}}let De,Se=null;const te=new u.OlP("TRANSITION_ID"),Ee=[{provide:u.ip1,useFactory:function(a,c,r){return()=>{r.get(u.CZH).donePromise.then(()=>{const d=(0,x.q)(),E=c.querySelectorAll(`style[ng-transition="${a}"]`);for(let R=0;R<E.length;R++)d.remove(E[R])})}},deps:[te,x.K0,u.zs3],multi:!0}];class _e{static init(){(0,u.VLi)(new _e)}addToWindow(c){u.dqk.getAngularTestability=(d,E=!0)=>{const R=c.findTestabilityInTree(d,E);if(null==R)throw new Error("Could not find testability for element.");return R},u.dqk.getAllAngularTestabilities=()=>c.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>c.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(d=>{const E=u.dqk.getAllAngularTestabilities();let R=E.length,oe=!1;const ve=function(qe){oe=oe||qe,R--,0==R&&d(oe)};E.forEach(function(qe){qe.whenStable(ve)})})}findTestabilityInTree(c,r,d){if(null==r)return null;const E=c.getTestability(r);return null!=E?E:d?(0,x.q)().isShadowRoot(r)?this.findTestabilityInTree(c,r.host,!0):this.findTestabilityInTree(c,r.parentElement,!0):null}}let ye=(()=>{class a{build(){return new XMLHttpRequest}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();const ue=new u.OlP("EventManagerPlugins");let Q=(()=>{class a{constructor(r,d){this._zone=d,this._eventNameToPlugin=new Map,r.forEach(E=>E.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,d,E){return this._findPluginFor(d).addEventListener(r,d,E)}addGlobalEventListener(r,d,E){return this._findPluginFor(d).addGlobalEventListener(r,d,E)}getZone(){return this._zone}_findPluginFor(r){const d=this._eventNameToPlugin.get(r);if(d)return d;const E=this._plugins;for(let R=0;R<E.length;R++){const oe=E[R];if(oe.supports(r))return this._eventNameToPlugin.set(r,oe),oe}throw new Error(`No event manager plugin found for event ${r}`)}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(ue),u.LFG(u.R0b))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();class Ie{constructor(c){this._doc=c}addGlobalEventListener(c,r,d){const E=(0,x.q)().getGlobalEventTarget(this._doc,c);if(!E)throw new Error(`Unsupported event target ${E} for event ${r}`);return this.addEventListener(E,r,d)}}let Ne=(()=>{class a{constructor(){this._stylesSet=new Set}addStyles(r){const d=new Set;r.forEach(E=>{this._stylesSet.has(E)||(this._stylesSet.add(E),d.add(E))}),this.onStylesAdded(d)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})(),St=(()=>{class a extends Ne{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,d,E){r.forEach(R=>{const oe=this._doc.createElement("style");oe.textContent=R,E.push(d.appendChild(oe))})}addHost(r){const d=[];this._addStylesToHost(this._stylesSet,r,d),this._hostNodes.set(r,d)}removeHost(r){const d=this._hostNodes.get(r);d&&d.forEach(Ue),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((d,E)=>{this._addStylesToHost(r,E,d)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Ue))}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(x.K0))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();function Ue(a){(0,x.q)().remove(a)}const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function Hn(a,c,r){for(let d=0;d<c.length;d++){let E=c[d];Array.isArray(E)?Hn(a,E,r):(E=E.replace(xt,a),r.push(E))}return r}function dn(a){return c=>{if("__ngUnwrap__"===c)return a;!1===a(c)&&(c.preventDefault(),c.returnValue=!1)}}let vr=(()=>{class a{constructor(r,d,E){this.eventManager=r,this.sharedStylesHost=d,this.appId=E,this.rendererByCompId=new Map,this.defaultRenderer=new di(r)}createRenderer(r,d){if(!r||!d)return this.defaultRenderer;switch(d.encapsulation){case u.ifc.Emulated:{let E=this.rendererByCompId.get(d.id);return E||(E=new Fn(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,E)),E.applyToHost(r),E}case 1:case u.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,r,d);default:if(!this.rendererByCompId.has(d.id)){const E=Hn(d.id,d.styles,[]);this.sharedStylesHost.addStyles(E),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Q),u.LFG(St),u.LFG(u.AFp))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();class di{constructor(c){this.eventManager=c,this.data=Object.create(null)}destroy(){}createElement(c,r){return r?document.createElementNS(dt[r]||r,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,r){c.appendChild(r)}insertBefore(c,r,d){c&&c.insertBefore(r,d)}removeChild(c,r){c&&c.removeChild(r)}selectRootElement(c,r){let d="string"==typeof c?document.querySelector(c):c;if(!d)throw new Error(`The selector "${c}" did not match any elements`);return r||(d.textContent=""),d}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,r,d,E){if(E){r=E+":"+r;const R=dt[E];R?c.setAttributeNS(R,r,d):c.setAttribute(r,d)}else c.setAttribute(r,d)}removeAttribute(c,r,d){if(d){const E=dt[d];E?c.removeAttributeNS(E,r):c.removeAttribute(`${d}:${r}`)}else c.removeAttribute(r)}addClass(c,r){c.classList.add(r)}removeClass(c,r){c.classList.remove(r)}setStyle(c,r,d,E){E&(u.JOm.DashCase|u.JOm.Important)?c.style.setProperty(r,d,E&u.JOm.Important?"important":""):c.style[r]=d}removeStyle(c,r,d){d&u.JOm.DashCase?c.style.removeProperty(r):c.style[r]=""}setProperty(c,r,d){c[r]=d}setValue(c,r){c.nodeValue=r}listen(c,r,d){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,r,dn(d)):this.eventManager.addEventListener(c,r,dn(d))}}class Fn extends di{constructor(c,r,d,E){super(c),this.component=d;const R=Hn(E+"-"+d.id,d.styles,[]);r.addStyles(R),this.contentAttr="_ngcontent-%COMP%".replace(xt,E+"-"+d.id),this.hostAttr="_nghost-%COMP%".replace(xt,E+"-"+d.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,r){const d=super.createElement(c,r);return super.setAttribute(d,this.contentAttr,""),d}}class kt extends di{constructor(c,r,d,E){super(c),this.sharedStylesHost=r,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=Hn(E.id,E.styles,[]);for(let oe=0;oe<R.length;oe++){const ve=document.createElement("style");ve.textContent=R[oe],this.shadowRoot.appendChild(ve)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,r){return super.appendChild(this.nodeOrShadowRoot(c),r)}insertBefore(c,r,d){return super.insertBefore(this.nodeOrShadowRoot(c),r,d)}removeChild(c,r){return super.removeChild(this.nodeOrShadowRoot(c),r)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let Zn=(()=>{class a extends Ie{constructor(r){super(r)}supports(r){return!0}addEventListener(r,d,E){return r.addEventListener(d,E,!1),()=>this.removeEventListener(r,d,E)}removeEventListener(r,d,E){return r.removeEventListener(d,E)}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(x.K0))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();const Te=["alt","control","meta","shift"],Oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ze={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let Pt=(()=>{class a extends Ie{constructor(r){super(r)}supports(r){return null!=a.parseEventName(r)}addEventListener(r,d,E){const R=a.parseEventName(d),oe=a.eventCallback(R.fullKey,E,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.q)().onAndCancel(r,R.domEventName,oe))}static parseEventName(r){const d=r.toLowerCase().split("."),E=d.shift();if(0===d.length||"keydown"!==E&&"keyup"!==E)return null;const R=a._normalizeKey(d.pop());let oe="";if(Te.forEach(qe=>{const lt=d.indexOf(qe);lt>-1&&(d.splice(lt,1),oe+=qe+".")}),oe+=R,0!=d.length||0===R.length)return null;const ve={};return ve.domEventName=E,ve.fullKey=oe,ve}static getEventFullKey(r){let d="",E=function(a){let c=a.key;if(null==c){if(c=a.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===a.location&&ze.hasOwnProperty(c)&&(c=ze[c]))}return Oe[c]||c}(r);return E=E.toLowerCase()," "===E?E="space":"."===E&&(E="dot"),Te.forEach(R=>{R!=E&&Et[R](r)&&(d+=R+".")}),d+=E,d}static eventCallback(r,d,E){return R=>{a.getEventFullKey(R)===r&&E.runGuarded(()=>d(R))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(x.K0))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac}),a})();const Ur=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:x.bD},{provide:u.g9A,useValue:function(){He.makeCurrent(),_e.init()},multi:!0},{provide:x.K0,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),yn=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:ue,useClass:Zn,multi:!0,deps:[x.K0,u.R0b,u.Lbi]},{provide:ue,useClass:Pt,multi:!0,deps:[x.K0]},[],{provide:vr,useClass:vr,deps:[Q,St,u.AFp]},{provide:u.FYo,useExisting:vr},{provide:Ne,useExisting:St},{provide:St,useClass:St,deps:[x.K0]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Q,useClass:Q,deps:[ue,u.R0b]},{provide:x.JF,useClass:ye,deps:[]},[]];let En=(()=>{class a{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:a,providers:[{provide:u.AFp,useValue:r.appId},{provide:te,useExisting:u.AFp},Ee]}}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(a,12))},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:yn,imports:[x.ez,u.hGG]}),a})();"undefined"!=typeof window&&window;var Ir=ie(4402),Wn=ie(7574),qi=ie(9796),pn=ie(8002);ie(1555);let cs=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({}),a})(),_=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[cs]]}),a})(),h=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[_]}),a})();var Y=ie(5319);class re extends Y.w{constructor(c,r){super()}schedule(c,r=0){return this}}class he extends re{constructor(c,r){super(c,r),this.scheduler=c,this.work=r,this.pending=!1}schedule(c,r=0){if(this.closed)return this;this.state=c;const d=this.id,E=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(E,d,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(E,this.id,r),this}requestAsyncId(c,r,d=0){return setInterval(c.flush.bind(c,this),d)}recycleAsyncId(c,r,d=0){if(null!==d&&this.delay===d&&!1===this.pending)return r;clearInterval(r)}execute(c,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(c,r);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,r){let E,d=!1;try{this.work(c)}catch(R){d=!0,E=!!R&&R||new Error(R)}if(d)return this.unsubscribe(),E}_unsubscribe(){const c=this.id,r=this.scheduler,d=r.actions,E=d.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&d.splice(E,1),null!=c&&(this.id=this.recycleAsyncId(r,c,null)),this.delay=null}}let Ge=(()=>{class a{constructor(r,d=a.now){this.SchedulerAction=r,this.now=d}schedule(r,d=0,E){return new this.SchedulerAction(this,r).schedule(E,d)}}return a.now=()=>Date.now(),a})();class Ze extends Ge{constructor(c,r=Ge.now){super(c,()=>Ze.delegate&&Ze.delegate!==this?Ze.delegate.now():r()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(c,r=0,d){return Ze.delegate&&Ze.delegate!==this?Ze.delegate.schedule(c,r,d):super.schedule(c,r,d)}flush(c){const{actions:r}=this;if(this.active)return void r.push(c);let d;this.active=!0;do{if(d=c.execute(c.state,c.delay))break}while(c=r.shift());if(this.active=!1,d){for(;c=r.shift();)c.unsubscribe();throw d}}}const S=new class extends Ze{}(class extends he{constructor(c,r){super(c,r),this.scheduler=c,this.work=r}schedule(c,r=0){return r>0?super.schedule(c,r):(this.delay=r,this.state=c,this.scheduler.flush(this),this)}execute(c,r){return r>0||this.closed?super.execute(c,r):this._execute(c,r)}requestAsyncId(c,r,d=0){return null!==d&&d>0||null===d&&this.delay>0?super.requestAsyncId(c,r,d):c.flush(this)}}),T=S,V=new Ze(he),G=V;var ee=ie(8307);let Ce=1;const Be=Promise.resolve(),at={};function Ft(a){return a in at&&(delete at[a],!0)}const Xt={setImmediate(a){const c=Ce++;return at[c]=!0,Be.then(()=>Ft(c)&&a()),c},clearImmediate(a){Ft(a)}},no=new class extends Ze{flush(c){this.active=!0,this.scheduled=void 0;const{actions:r}=this;let d,E=-1,R=r.length;c=c||r.shift();do{if(d=c.execute(c.state,c.delay))break}while(++E<R&&(c=r.shift()));if(this.active=!1,d){for(;++E<R&&(c=r.shift());)c.unsubscribe();throw d}}}(class extends he{constructor(c,r){super(c,r),this.scheduler=c,this.work=r}requestAsyncId(c,r,d=0){return null!==d&&d>0?super.requestAsyncId(c,r,d):(c.actions.push(this),c.scheduled||(c.scheduled=Xt.setImmediate(c.flush.bind(c,null))))}recycleAsyncId(c,r,d=0){if(null!==d&&d>0||null===d&&this.delay>0)return super.recycleAsyncId(c,r,d);0===c.actions.length&&(Xt.clearImmediate(r),c.scheduled=void 0)}});function Fo(a){return!(0,qi.k)(a)&&a-parseFloat(a)+1>=0}class ro extends Wn.y{constructor(c,r=0,d=no){super(),this.source=c,this.delayTime=r,this.scheduler=d,(!Fo(r)||r<0)&&(this.delayTime=0),(!d||"function"!=typeof d.schedule)&&(this.scheduler=no)}static create(c,r=0,d=no){return new ro(c,r,d)}static dispatch(c){const{source:r,subscriber:d}=c;return this.add(r.subscribe(d))}_subscribe(c){return this.scheduler.schedule(ro.dispatch,this.delayTime,{source:this.source,subscriber:c})}}class Lo{constructor(c,r){this.scheduler=c,this.delay=r}call(c,r){return new ro(r,this.delay,this.scheduler).subscribe(c)}}var Zo=ie(7393),Fa=ie(9193),go=ie(5917);class ws{constructor(c,r,d){this.kind=c,this.value=r,this.error=d,this.hasValue="N"===c}observe(c){switch(this.kind){case"N":return c.next&&c.next(this.value);case"E":return c.error&&c.error(this.error);case"C":return c.complete&&c.complete()}}do(c,r,d){switch(this.kind){case"N":return c&&c(this.value);case"E":return r&&r(this.error);case"C":return d&&d()}}accept(c,r,d){return c&&"function"==typeof c.next?this.observe(c):this.do(c,r,d)}toObservable(){switch(this.kind){case"N":return(0,go.of)(this.value);case"E":return a=this.error,new Wn.y(r=>r.error(a));case"C":return(0,Fa.c)()}var a;throw new Error("unexpected notification kind value")}static createNext(c){return void 0!==c?new ws("N",c):ws.undefinedValueNotification}static createError(c){return new ws("E",void 0,c)}static createComplete(){return ws.completeNotification}}function La(a,c=0){return function(d){return d.lift(new Yh(a,c))}}ws.completeNotification=new ws("C"),ws.undefinedValueNotification=new ws("N",void 0);class Yh{constructor(c,r=0){this.scheduler=c,this.delay=r}call(c,r){return r.subscribe(new el(c,this.scheduler,this.delay))}}class el extends Zo.L{constructor(c,r,d=0){super(c),this.scheduler=r,this.delay=d}static dispatch(c){const{notification:r,destination:d}=c;r.observe(d),this.unsubscribe()}scheduleMessage(c){this.destination.add(this.scheduler.schedule(el.dispatch,this.delay,new Er(c,this.destination)))}_next(c){this.scheduleMessage(ws.createNext(c))}_error(c){this.scheduleMessage(ws.createError(c)),this.unsubscribe()}_complete(){this.scheduleMessage(ws.createComplete()),this.unsubscribe()}}class Er{constructor(c,r){this.notification=c,this.destination=r}}var wa=ie(4395),Or=ie.n(wa);function Eo(){}class pf{constructor(c,r=S){this.zone=c,this.delegate=r}now(){return this.delegate.now()}schedule(c,r,d){const E=this.zone;return this.delegate.schedule(function(oe){E.runGuarded(()=>{c.apply(this,[oe])})},r,d)}}class qh{constructor(c){this.zone=c,this.task=null}call(c,r){const d=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),r.pipe((0,ee.b)({next:d,complete:d,error:d})).subscribe(c).add(d)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class bi{constructor(c){this.ngZone=c,this.outsideAngular=c.runOutsideAngular(()=>new pf(Zone.current)),this.insideAngular=c.run(()=>new pf(Zone.current,V))}}function Ls(a){return function(r){return(r=r.lift(new qh(a.ngZone))).pipe(function(a,c=0){return function(d){return d.lift(new Lo(a,c))}}(a.outsideAngular),La(a.insideAngular))}}const Cs=["ngOnDestroy"],Es=new u.OlP("angularfire2.app.options"),Xo=new u.OlP("angularfire2.app.nameOrConfig"),tl=new u.GfV("6.0.4-canary.9a26fbe");function Ca(a,c,r){const E="object"==typeof r&&r||{};return E.name=E.name||"string"==typeof r&&r||"[DEFAULT]",Or().apps.filter(oe=>oe&&oe.name===E.name)[0]||c.runOutsideAngular(()=>Or().initializeApp(a,E))}const $l={provide:class{},useFactory:Ca,deps:[Es,u.R0b,[new u.FiY,Xo]]};let gf=(()=>{class a{constructor(r){Or().registerVersion("angularfire",tl.full,r.toString()),Or().registerVersion("angular",u.q4F.full)}static initializeApp(r,d){return{ngModule:a,providers:[{provide:Es,useValue:r},{provide:Xo,useValue:d}]}}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(u.Lbi))},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:[$l]}),a})();var ji=ie(2145),li=ie(5435);function Bs(a,c){return function(a,c=V){return new Wn.y(r=>{let d;return null!=c?c.schedule(()=>{d=a.onSnapshot(r)}):d=a.onSnapshot(r),()=>{null!=d&&d()}})}(a,c)}function Ea(a,c){return Bs(a,c).pipe((0,pn.U)(r=>({payload:r,type:"query"})))}function Va(a,c){return Ea(a,c).pipe((0,pn.U)(r=>r.payload.docChanges().map(d=>({type:d.type,payload:d}))))}function mf(a,c,r){return Ea(a,r).pipe((0,pn.U)(d=>d.payload.docChanges()),(0,ji.R)((d,E)=>function(a,c,r){return c.forEach(d=>{r.indexOf(d.type)>-1&&(a=function(a,c){switch(c.type){case"added":a[c.newIndex]&&a[c.newIndex].doc.ref.isEqual(c.doc.ref)||a.splice(c.newIndex,0,c);break;case"modified":(null==a[c.oldIndex]||a[c.oldIndex].doc.ref.isEqual(c.doc.ref))&&(c.oldIndex!==c.newIndex?(a.splice(c.oldIndex,1),a.splice(c.newIndex,0,c)):a.splice(c.newIndex,1,c));break;case"removed":a[c.oldIndex]&&a[c.oldIndex].doc.ref.isEqual(c.doc.ref)&&a.splice(c.oldIndex,1)}return a}(a,d))}),a}(d,E,c),[]),(0,pn.U)(d=>d.map(E=>({type:E.type,payload:E}))))}function fs(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}ie(5910);class rl{constructor(c,r,d){this.ref=c,this.query=r,this.afs=d}stateChanges(c){return c&&0!==c.length?Va(this.query,this.afs.schedulers.outsideAngular).pipe((0,pn.U)(r=>r.filter(d=>c.indexOf(d.type)>-1)),(0,li.h)(r=>r.length>0),this.afs.keepUnstableUntilFirst):Va(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(c){return this.stateChanges(c).pipe((0,ji.R)((r,d)=>[...r,...d],[]))}snapshotChanges(c){const r=fs(c);return mf(this.query,r,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(c={}){return Ea(this.query,this.afs.schedulers.outsideAngular).pipe((0,pn.U)(r=>r.payload.docs.map(d=>c.idField?Object.assign(Object.assign({},d.data()),{[c.idField]:d.id}):d.data())),this.afs.keepUnstableUntilFirst)}get(c){return(0,Ir.D)(this.query.get(c)).pipe(La(this.afs.schedulers.insideAngular))}add(c){return this.ref.add(c)}doc(c){return new Da(this.ref.doc(c),this.afs)}}class Da{constructor(c,r){this.ref=c,this.afs=r}set(c,r){return this.ref.set(c,r)}update(c){return this.ref.update(c)}delete(){return this.ref.delete()}collection(c,r){const d=this.ref.collection(c),{ref:E,query:R}=Yl(d,r);return new rl(E,R,this.afs)}snapshotChanges(){return(a=this.ref,c=this.afs.schedulers.outsideAngular,Bs(a,c).pipe((0,pn.U)(r=>({payload:r,type:"value"})))).pipe(this.afs.keepUnstableUntilFirst);var a,c}valueChanges(){return this.snapshotChanges().pipe((0,pn.U)(c=>c.payload.data()))}get(c){return(0,Ir.D)(this.ref.get(c)).pipe(La(this.afs.schedulers.insideAngular))}}class Qh{constructor(c,r){this.query=c,this.afs=r}stateChanges(c){return c&&0!==c.length?Va(this.query,this.afs.schedulers.outsideAngular).pipe((0,pn.U)(r=>r.filter(d=>c.indexOf(d.type)>-1)),(0,li.h)(r=>r.length>0),this.afs.keepUnstableUntilFirst):Va(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(c){return this.stateChanges(c).pipe((0,ji.R)((r,d)=>[...r,...d],[]))}snapshotChanges(c){const r=fs(c);return mf(this.query,r,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Ea(this.query,this.afs.schedulers.outsideAngular).pipe((0,pn.U)(r=>r.payload.docs.map(d=>d.data())),this.afs.keepUnstableUntilFirst)}get(c){return(0,Ir.D)(this.query.get(c)).pipe(La(this.afs.schedulers.insideAngular))}}const zl=ie(5910),su=new u.OlP("angularfire2.enableFirestorePersistence"),Ta=new u.OlP("angularfire2.firestore.persistenceSettings"),Du=new u.OlP("angularfire2.firestore.settings");function Yl(a,c=(r=>r)){return{query:c(a),ref:a}}let ql=(()=>{class a{constructor(r,d,E,R,oe,ve,qe){this.schedulers=new bi(ve),this.keepUnstableUntilFirst=Ls(this.schedulers),this.firestore=ve.runOutsideAngular(()=>{const lt=Ca(r,ve,d);"registerFirestore"in zl&&zl.registerFirestore(Or());const _t=lt.firestore();return R&&_t.settings(R),_t}),this.persistenceEnabled$=E&&!(0,x.PM)(oe)?ve.runOutsideAngular(()=>{try{return(0,Ir.D)(this.firestore.enablePersistence(qe||void 0).then(()=>!0,()=>!1))}catch(_t){return(0,go.of)(!1)}}):(0,go.of)(!1)}collection(r,d){let E;E="string"==typeof r?this.firestore.collection(r):r;const{ref:R,query:oe}=Yl(E,d),ve=this.schedulers.ngZone.run(()=>R);return new rl(ve,oe,this)}collectionGroup(r,d){const E=d||(oe=>oe),R=this.firestore.collectionGroup(r);return new Qh(E(R),this)}doc(r){let d;d="string"==typeof r?this.firestore.doc(r):r;const E=this.schedulers.ngZone.run(()=>d);return new Da(E,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Es),u.LFG(Xo,8),u.LFG(su,8),u.LFG(Du,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ta,8))},a.\u0275prov=(0,u.Yz7)({factory:function(){return new a((0,u.LFG)(Es),(0,u.LFG)(Xo,8),(0,u.LFG)(su,8),(0,u.LFG)(Du,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b),(0,u.LFG)(Ta,8))},token:a,providedIn:"any"}),a})(),Tu=(()=>{class a{static enablePersistence(r){return{ngModule:a,providers:[{provide:su,useValue:!0},{provide:Ta,useValue:r}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:[ql]}),a})();var Ba=ie(906),Zh=ie(8259),Ua=ie.n(Zh),es=ie(3190),wi=ie(9765),Nu=ie(7971),ci=ie(8858);class Jl extends wi.xQ{constructor(c=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,d){super(),this.scheduler=d,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=c<1?1:c,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(c){if(!this.isStopped){const r=this._events;r.push(c),r.length>this._bufferSize&&r.shift()}super.next(c)}nextTimeWindow(c){this.isStopped||(this._events.push(new Kl(this._getNow(),c)),this._trimBufferThenGetEvents()),super.next(c)}_subscribe(c){const r=this._infiniteTimeWindow,d=r?this._events:this._trimBufferThenGetEvents(),E=this.scheduler,R=d.length;let oe;if(this.closed)throw new Nu.N;if(this.isStopped||this.hasError?oe=Y.w.EMPTY:(this.observers.push(c),oe=new ci.W(this,c)),E&&c.add(c=new el(c,E)),r)for(let ve=0;ve<R&&!c.closed;ve++)c.next(d[ve]);else for(let ve=0;ve<R&&!c.closed;ve++)c.next(d[ve].value);return this.hasError?c.error(this.thrownError):this.isStopped&&c.complete(),oe}_getNow(){return(this.scheduler||T).now()}_trimBufferThenGetEvents(){const c=this._getNow(),r=this._bufferSize,d=this._windowTime,E=this._events,R=E.length;let oe=0;for(;oe<R&&!(c-E[oe].time<d);)oe++;return R>r&&(oe=Math.max(oe,R-r)),oe>0&&E.splice(0,oe),E}}class Kl{constructor(c,r){this.time=c,this.value=r}}var Jc=ie(8049);let Ha=(()=>{class a{constructor(r,d,E,R){const oe=new bi(R),ve=Ls(oe),qe=(0,go.of)(void 0).pipe(La(oe.outsideAngular),(0,es.w)(()=>R.runOutsideAngular(()=>ie.e(952).then(ie.bind(ie,1952)))),(0,pn.U)(()=>Ca(r,R,d)),(0,pn.U)(lt=>R.runOutsideAngular(()=>lt.auth())),function(a,c,r){let d;return d=a&&"object"==typeof a?a:{bufferSize:a,windowTime:c,refCount:!1,scheduler:r},E=>E.lift(function({bufferSize:a=Number.POSITIVE_INFINITY,windowTime:c=Number.POSITIVE_INFINITY,refCount:r,scheduler:d}){let E,oe,R=0,ve=!1,qe=!1;return function(_t){let Zt;R++,!E||ve?(ve=!1,E=new Jl(a,c,d),Zt=E.subscribe(this),oe=_t.subscribe({next(Yt){E.next(Yt)},error(Yt){ve=!0,E.error(Yt)},complete(){qe=!0,oe=void 0,E.complete()}}),qe&&(oe=void 0)):Zt=E.subscribe(this),this.add(()=>{R--,Zt.unsubscribe(),Zt=void 0,oe&&!qe&&r&&0===R&&(oe.unsubscribe(),oe=void 0,E=void 0)})}}(d))}({bufferSize:1,refCount:!1}));return(0,x.PM)(E)?this.authState=this.user=this.idToken=this.idTokenResult=(0,go.of)(null):(qe.pipe((0,Jc.P)()).subscribe(),this.authState=qe.pipe((0,es.w)(_t=>_t.getRedirectResult().then(()=>_t,()=>_t)),(0,es.w)(_t=>R.runOutsideAngular(()=>new Wn.y(_t.onAuthStateChanged.bind(_t)))),ve),this.user=qe.pipe((0,es.w)(_t=>_t.getRedirectResult().then(()=>_t,()=>_t)),(0,es.w)(_t=>R.runOutsideAngular(()=>new Wn.y(_t.onIdTokenChanged.bind(_t)))),ve),this.idToken=this.user.pipe((0,es.w)(_t=>_t?(0,Ir.D)(_t.getIdToken()):(0,go.of)(null))),this.idTokenResult=this.user.pipe((0,es.w)(_t=>_t?(0,Ir.D)(_t.getIdTokenResult()):(0,go.of)(null)))),((a,c,r)=>new Proxy(a,{get:(d,E)=>r.runOutsideAngular(()=>{if(a[E])return a[E];if(Cs.includes(E))return()=>{};const R=c.toPromise().then(oe=>{const ve=oe&&oe[E];return"function"==typeof ve?ve.bind(oe):ve&&ve.then?ve.then(qe=>r.run(()=>qe)):r.run(()=>ve)});return new Proxy(()=>{},{get:(oe,ve)=>R[ve],apply:(oe,ve,qe)=>R.then(lt=>lt&&lt(...qe))})})}))(this,qe,R)}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Es),u.LFG(Xo,8),u.LFG(u.Lbi),u.LFG(u.R0b))},a.\u0275prov=(0,u.Yz7)({factory:function(){return new a((0,u.LFG)(Es),(0,u.LFG)(Xo,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b))},token:a,providedIn:"any"}),a})();function Sa(a,c,r,d,E,R,oe){try{var ve=a[R](oe),qe=ve.value}catch(lt){return void r(lt)}ve.done?c(qe):Promise.resolve(qe).then(d,E)}function Na(a){return function(){var c=this,r=arguments;return new Promise(function(d,E){var R=a.apply(c,r);function oe(qe){Sa(R,d,E,oe,ve,"next",qe)}function ve(qe){Sa(R,d,E,oe,ve,"throw",qe)}oe(void 0)})}}let Xs=(()=>{class a{constructor(r,d){this.afAuth=r,this.afs=d,this.nameCollectionDB="puntajes",this.nameCollectionDB_2="usuarios",this.listaPuntajes=[],this.listaUsuarios=[],this.usuarioId="",this.puntajesCollection=d.collection(this.nameCollectionDB),this.usuariosCollection=d.collection(this.nameCollectionDB_2),this.afAuth.onAuthStateChanged(E=>{this.currentUser=E})}loadAllPuntajes(){return this.puntajesCollection.valueChanges().pipe((0,pn.U)(r=>{this.listaPuntajes=[];for(const d of r)this.listaPuntajes.unshift(d);return this.listaPuntajes}))}loadAllUsuarios(){return this.usuariosCollection.valueChanges().pipe((0,pn.U)(r=>{this.listaUsuarios=[];for(const d of r)this.listaUsuarios.unshift(d);return this.listaUsuarios}))}addUserCollection(r,d,E,R){var oe=this;return Na(function*(){var ve;try{const qe={uid:null===(ve=oe.currentUser)||void 0===ve?void 0:ve.uid,displayName:d,email:r,photoURL:E,puntaje:R};return yield oe.usuariosCollection.add(qe)}catch(qe){throw new Error(qe.message)}})()}updatePuntaje(r){var d=this;return Na(function*(){try{if(d.currentUser){let E=0;(yield d.afs.collection(d.nameCollectionDB_2).ref.where("email","==",d.currentUser.email).get()).forEach(oe=>{console.log(oe.data().puntaje),d.usuarioId=oe.id,E=oe.data().puntaje+r}),yield d.afs.collection(d.nameCollectionDB_2).doc(`/${d.usuarioId}`).update({puntaje:E})}}catch(E){throw new Error(E.message)}})()}obtenerUsuarios(){return this.usuariosCollection.valueChanges()}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Ha),u.LFG(ql))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),au=(()=>{class a{constructor(r,d,E,R){this.angularFireAuth=r,this.routes=d,this.afs=E,this.dbService=R,this.nameCollectionDB="usuarios",this.email="",this.userData=r.authState,this.angularFireAuth.onAuthStateChanged(oe=>{this.currentUser=oe}),this.usersCollection=E.collection(this.nameCollectionDB)}SignUp(r,d,E,R){this.angularFireAuth.createUserWithEmailAndPassword(r,d).then(oe=>{console.log("You are Successfully signed up!",oe),this.email=r,this.dbService.addUserCollection(r,E,R,0),this.routes.navigate(["/home"]),Ua().fire({icon:"success",title:"Successful sign up!",text:"Welcome "+r,showConfirmButton:!1,timer:1500})}).catch(oe=>{Ua().fire({icon:"error",title:"Error",text:oe.message,showConfirmButton:!1,timer:1500})})}SignIn(r,d){this.angularFireAuth.signInWithEmailAndPassword(r,d).then(E=>{console.log("You are in!"),this.email=r,this.routes.navigate(["/home"]),Ua().fire({icon:"success",title:"Successful login!",text:"Welcome "+r,showConfirmButton:!1,timer:1500})}).catch(E=>{Ua().fire({icon:"error",title:"Error",text:E.message,showConfirmButton:!1,timer:1500})})}SignOut(){this.angularFireAuth.signOut(),this.email="",Ua().fire({icon:"warning",title:"Bye",text:"See you soon !",showConfirmButton:!1,timer:1500}),setTimeout(()=>{this.routes.navigate(["/home"])},1500)}getIsLoggedIn(){return sessionStorage.getItem("loggedUser")}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Ha),u.LFG(Ba.F0),u.LFG(ql),u.LFG(Xs))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Aa=(()=>{class a{constructor(r,d){this.authService=r,this.angularFireAuth=d,this.angularFireAuth.onAuthStateChanged(E=>{this.currentUser=E,this.currentUser&&(this.userEmail=this.currentUser.email)})}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(au),u.Y36(Ha))},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-bienvenido"]],decls:2,vars:0,template:function(r,d){1&r&&(u.TgZ(0,"p"),u._uU(1,"Bienveido"),u.qZA())},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,a.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),a})();var ol=ie(3010),Xl=ie(7748);function Ma(a,c){if(1&a&&(u.TgZ(0,"p",5),u._uU(1),u.qZA()),2&a){const r=u.oxw();u.xp6(1),u.hij("Titulo: ",r.movieRecibida.nombre,"")}}function Au(a,c){if(1&a&&(u.TgZ(0,"p",5),u._uU(1),u.qZA()),2&a){const r=u.oxw();u.xp6(1),u.hij("Tipo: ",r.movieRecibida.tipo,"")}}function ec(a,c){if(1&a&&(u.TgZ(0,"small",6),u._uU(1),u.qZA()),2&a){const r=u.oxw();u.xp6(1),u.hij("Estreno: ",r.movieRecibida.fechaEstreno,"")}}function _f(a,c){if(1&a&&(u.TgZ(0,"small",6),u._uU(1),u.qZA()),2&a){const r=u.oxw();u.xp6(1),u.hij("Publico: ",r.movieRecibida.cantPublico,"")}}let vf=(()=>{class a{constructor(r){this.peliSeleccionada=r}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(Xl.K))},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-detalle-pelicula"]],inputs:{movieRecibida:"movieRecibida"},decls:7,vars:4,consts:[[1,"card-body"],["class","card-text",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["class","text-muted",4,"ngIf"],[1,"card-text"],[1,"text-muted"]],template:function(r,d){1&r&&(u.TgZ(0,"div",0),u.YNc(1,Ma,2,1,"p",1),u.YNc(2,Au,2,1,"p",1),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.YNc(5,ec,2,1,"small",4),u.qZA(),u.YNc(6,_f,2,1,"small",4),u.qZA(),u.qZA()),2&r&&(u.xp6(1),u.Q6J("ngIf",d.movieRecibida),u.xp6(1),u.Q6J("ngIf",d.movieRecibida),u.xp6(3),u.Q6J("ngIf",d.movieRecibida),u.xp6(1),u.Q6J("ngIf",d.movieRecibida))},directives:[x.O5],styles:[""]}),a})();const xu=[{path:"",redirectTo:"busqueda",pathMatch:"full"},{path:"bievenido",component:Aa},{path:"busqueda",component:(()=>{class a{constructor(){}cambiarPeli(r){this.peliActual=r}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-busqueda"]],inputs:{peliRecibida:"peliRecibida"},decls:7,vars:1,consts:[[3,"eventoSeleccionePeli"],[1,"album","py-5","bg-light"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col","movieCard"],[1,"card","shadow-sm"],[3,"movieRecibida"]],template:function(r,d){1&r&&(u.TgZ(0,"app-tabla-pelicula",0),u.NdJ("eventoSeleccionePeli",function(R){return d.cambiarPeli(R)}),u.qZA(),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._UZ(6,"app-detalle-pelicula",6),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(6),u.Q6J("movieRecibida",d.peliActual))},directives:[ol.k,vf],styles:[""]}),a})()},{path:"peliculas",loadChildren:()=>ie.e(89).then(ie.bind(ie,2089)).then(a=>a.PeliculasModule)},{path:"actor",loadChildren:()=>ie.e(784).then(ie.bind(ie,2784)).then(a=>a.ActorModule)}];let Ru=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[Ba.Bz.forRoot(xu)],Ba.Bz]}),a})();function la(a,c){1&a&&(u.TgZ(0,"a",12),u._uU(1,"Login/Signup"),u.qZA())}function Zc(a,c){if(1&a){const r=u.EpF();u.TgZ(0,"a",13),u.NdJ("click",function(){return u.CHM(r),u.oxw().signOut()}),u._uU(1,"Logout"),u.qZA()}}function bf(a,c){if(1&a&&(u.TgZ(0,"p",14),u._uU(1),u.qZA()),2&a){const r=u.oxw();u.xp6(1),u.hij("Bienvenida/o: ",r.userDisplayName,"")}}let Xc=(()=>{class a{constructor(r,d,E){this.authService=r,this.angularFireAuth=d,this.DBdata=E,this.angularFireAuth.onAuthStateChanged(R=>{var oe;this.currentUser=R,this.userDisplayName=null===(oe=this.currentUser)||void 0===oe?void 0:oe.email})}ngOnInit(){}signOut(){this.authService.SignOut()}isUserLogged(){return!!this.currentUser}getUserLogged(){return this.currentUser}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(au),u.Y36(Ha),u.Y36(Xs))},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-nav-bar"]],decls:18,vars:3,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["id","logo","xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#002BFF","role","img","viewBox","0 0 32 32","focusable","false",1,"d-block","mx-auto"],["d","M27.5,15.4c0.8-2.6,0.6-5.4-0.6-7.9L26,5.7c-0.2-0.3-0.6-0.5-0.9-0.4l-2.2,0.8c-2,0.7-3.8,1.9-5.3,3.5\n\tc-0.5-0.1-1.1-0.1-1.6-0.1c-0.6,0-1.1,0-1.6,0.1c-1.4-1.6-3.2-2.8-5.3-3.5L6.9,5.4C6.6,5.2,6.2,5.4,6,5.7L5.2,7.5\n\tC4,10,3.8,12.8,4.5,15.4c-0.4,0.8-0.6,1.7-0.6,2.7c0,4.7,5.4,8.6,12.1,8.6s12.1-3.8,12.1-8.6C28.1,17.2,27.9,16.3,27.5,15.4z\n\t M18.1,21.7l-1.6,1.4c-0.2,0.1-0.3,0.2-0.5,0.2c-0.2,0-0.4-0.1-0.5-0.2l-1.6-1.4c-0.6-0.5-0.2-1.4,0.5-1.4h3.2\n\tC18.3,20.3,18.7,21.2,18.1,21.7z",1,"st0"],["routerLink","/home",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/quien-soy",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/ej1",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/error",1,"py-2","d-none","d-md-inline-block","buttonNav"],["class","py-2 d-none d-md-inline-block buttonNav","routerLink","/login",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav","id","logout",3,"click",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav",4,"ngIf"],["routerLink","/login",1,"py-2","d-none","d-md-inline-block","buttonNav"],["id","logout",1,"py-2","d-none","d-md-inline-block","buttonNav",3,"click"],[1,"py-2","d-none","d-md-inline-block","buttonNav"]],template:function(r,d){1&r&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"a",2),u.O4$(),u.TgZ(3,"svg",3),u.TgZ(4,"title"),u._uU(5,"Logo"),u.qZA(),u._UZ(6,"path",4),u.qZA(),u.qZA(),u.kcU(),u.TgZ(7,"a",5),u._uU(8,"Home"),u.qZA(),u.TgZ(9,"a",6),u._uU(10,"Quien soy"),u.qZA(),u.TgZ(11,"a",7),u._uU(12,"Ejercicio 1"),u.qZA(),u.TgZ(13,"a",8),u._uU(14,"Ejercicio 2"),u.qZA(),u.YNc(15,la,2,0,"a",9),u.YNc(16,Zc,2,0,"a",10),u.YNc(17,bf,2,1,"p",11),u.qZA(),u.qZA()),2&r&&(u.xp6(15),u.Q6J("ngIf",!d.currentUser),u.xp6(1),u.Q6J("ngIf",d.currentUser),u.xp6(1),u.Q6J("ngIf",d.currentUser))},directives:[Ba.yS,x.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{font-family:"Raleway"}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}#logout[_ngcontent-%COMP%]{color:salmon;cursor:pointer}.site-header[_ngcontent-%COMP%]{background-color:#1f2732e6;height:70px}.buttonNav[_ngcontent-%COMP%]{text-decoration:none;font-family:"Raleway";font-weight:400;font-size:17px;padding:0 35px;margin-top:9px;letter-spacing:.05em;color:#66fcf1}.buttonNav[_ngcontent-%COMP%]:hover{color:#c5c6c8}.st0[_ngcontent-%COMP%]{fill:#66fcf1}.st0[_ngcontent-%COMP%]:hover{fill:#c5c6c8}#logo[_ngcontent-%COMP%]{margin-top:5px}']}),a})(),wf=(()=>{class a{constructor(){this.title="my-app",this.edadUno=0,this.edadDos=0,this.promedio=0}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(r,d){1&r&&(u._UZ(0,"app-nav-bar"),u._UZ(1,"router-outlet"))},directives:[Xc,Ba.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#0f1014;font-family:"Raleway"}#navBar[_ngcontent-%COMP%]{width:150px;background-color:#2e1284;height:100%;position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;font-family:"Vollkorn";font-weight:400;font-size:16px;padding-top:20px}.navItem[_ngcontent-%COMP%]{padding:15px 0;color:#fffaff;text-decoration:none;display:flex;flex-direction:column;align-items:center;border-bottom:solid 1px rgba(251,241,231,.5);width:100%}.navItem[_ngcontent-%COMP%]:hover{opacity:.5}.navIcon[_ngcontent-%COMP%]{width:35px;height:auto;fill:azure}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}']}),a})();const ed_firebaseConfig={apiKey:"AIzaSyCnTq9tZXg8rOShB4Umkxj0V94t9qo9JT8",authDomain:"yanina-perez-labiv.firebaseapp.com",databaseURL:"https://yanina-perez-labiv-default-rtdb.firebaseio.com",projectId:"yanina-perez-labiv",storageBucket:"yanina-perez-labiv.appspot.com",messagingSenderId:"1024446828734",appId:"1:1024446828734:web:e4dd40ffa1eb8959a70eef"};var sl=ie(9105);function gi(a,c,r,d){return(0,sl.m)(r)&&(d=r,r=void 0),d?gi(a,c,r).pipe((0,pn.U)(E=>(0,qi.k)(E)?d(...E):d(E))):new Wn.y(E=>{nd(a,c,function(oe){E.next(arguments.length>1?Array.prototype.slice.call(arguments):oe)},E,r)})}function nd(a,c,r,d,E){let R;if(function(a){return a&&"function"==typeof a.addEventListener&&"function"==typeof a.removeEventListener}(a)){const oe=a;a.addEventListener(c,r,E),R=()=>oe.removeEventListener(c,r,E)}else if(function(a){return a&&"function"==typeof a.on&&"function"==typeof a.off}(a)){const oe=a;a.on(c,r),R=()=>oe.off(c,r)}else if(function(a){return a&&"function"==typeof a.addListener&&"function"==typeof a.removeListener}(a)){const oe=a;a.addListener(c,r),R=()=>oe.removeListener(c,r)}else{if(!a||!a.length)throw new TypeError("Invalid event target");for(let oe=0,ve=a.length;oe<ve;oe++)nd(a[oe],c,r,d,E)}d.add(R)}var ul=ie(4869);function ll(a){const{index:c,period:r,subscriber:d}=a;if(d.next(c),!d.closed){if(-1===r)return d.complete();a.index=c+1,this.schedule(a,r)}}var Ou=ie(6693),Ts=ie(5197),nc=ie(509);class Ef{call(c,r){return r.subscribe(new rc(c))}}class rc extends Ts.L{constructor(c){super(c),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(c){this.observables.push(c)}_complete(){const c=this.observables,r=c.length;if(0===r)this.destination.complete();else{for(let d=0;d<r&&!this.hasFirst;d++){const R=(0,nc.D)(this,c[d],void 0,d);this.subscriptions&&this.subscriptions.push(R),this.add(R)}this.observables=null}}notifyNext(c,r,d){if(!this.hasFirst){this.hasFirst=!0;for(let E=0;E<this.subscriptions.length;E++)if(E!==d){let R=this.subscriptions[E];R.unsubscribe(),this.remove(R)}this.subscriptions=null}this.destination.next(r)}}ie(6215),ie(9112);var uu=ie(8640);new Wn.y(uu.Z);var dl=ie(377),Ga=ie(5345);function Pu(...a){const c=a[a.length-1];return"function"==typeof c&&a.pop(),(0,Ou.n)(a,void 0).lift(new Df(c))}class Df{constructor(c){this.resultSelector=c}call(c,r){return r.subscribe(new id(c,this.resultSelector))}}class id extends Zo.L{constructor(c,r,d=Object.create(null)){super(c),this.resultSelector=r,this.iterators=[],this.active=0,this.resultSelector="function"==typeof r?r:void 0}_next(c){const r=this.iterators;(0,qi.k)(c)?r.push(new oc(c)):r.push("function"==typeof c[dl.hZ]?new Tf(c[dl.hZ]()):new sc(this.destination,this,c))}_complete(){const c=this.iterators,r=c.length;if(this.unsubscribe(),0!==r){this.active=r;for(let d=0;d<r;d++){let E=c[d];E.stillUnsubscribed?this.destination.add(E.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const c=this.iterators,r=c.length,d=this.destination;for(let oe=0;oe<r;oe++){let ve=c[oe];if("function"==typeof ve.hasValue&&!ve.hasValue())return}let E=!1;const R=[];for(let oe=0;oe<r;oe++){let ve=c[oe],qe=ve.next();if(ve.hasCompleted()&&(E=!0),qe.done)return void d.complete();R.push(qe.value)}this.resultSelector?this._tryresultSelector(R):d.next(R),E&&d.complete()}_tryresultSelector(c){let r;try{r=this.resultSelector.apply(this,c)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}class Tf{constructor(c){this.iterator=c,this.nextResult=c.next()}hasValue(){return!0}next(){const c=this.nextResult;return this.nextResult=this.iterator.next(),c}hasCompleted(){const c=this.nextResult;return Boolean(c&&c.done)}}class oc{constructor(c){this.array=c,this.index=0,this.length=0,this.length=c.length}[dl.hZ](){return this}next(c){const r=this.index++;return r<this.length?{value:this.array[r],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class sc extends Ga.Ds{constructor(c,r,d){super(c),this.parent=r,this.observable=d,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[dl.hZ](){return this}next(){const c=this.buffer;return 0===c.length&&this.isComplete?{value:null,done:!0}:{value:c.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(c){this.buffer.push(c),this.parent.checkIterators()}subscribe(){return(0,Ga.ft)(this.observable,new Ga.IY(this))}}var fl=ie(6682),ep=ie(8071);function ti(a){return c=>c.lift(new od(a))}class od{constructor(c){this.notifier=c}call(c,r){const d=new ta(c),E=(0,Ga.ft)(this.notifier,new Ga.IY(d));return E&&!d.seenValue?(d.add(E),r.subscribe(d)):d}}class ta extends Ga.Ds{constructor(c){super(c),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Uo=ie(5257);ie(9761);class sd{constructor(c,r){this.compare=c,this.keySelector=r}call(c,r){return r.subscribe(new tp(c,this.compare,this.keySelector))}}class tp extends Zo.L{constructor(c,r,d){super(c),this.keySelector=d,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(c,r){return c===r}_next(c){let r;try{const{keySelector:E}=this;r=E?E(c):c}catch(E){return this.destination.error(E)}let d=!1;if(this.hasKey)try{const{compare:E}=this;d=E(this.key,r)}catch(E){return this.destination.error(E)}else this.hasKey=!0;d||(this.key=r,this.destination.next(c))}}function pl(...a){return c=>{let r;return"function"==typeof a[a.length-1]&&(r=a.pop()),c.lift(new np(a,r))}}class np{constructor(c,r){this.observables=c,this.project=r}call(c,r){return r.subscribe(new Fu(c,this.observables,this.project))}}class Fu extends Ts.L{constructor(c,r,d){super(c),this.observables=r,this.project=d,this.toRespond=[];const E=r.length;this.values=new Array(E);for(let R=0;R<E;R++)this.toRespond.push(R);for(let R=0;R<E;R++)this.add((0,nc.D)(this,r[R],void 0,R))}notifyNext(c,r,d){this.values[d]=r;const E=this.toRespond;if(E.length>0){const R=E.indexOf(d);-1!==R&&E.splice(R,1)}}notifyComplete(){}_next(c){if(0===this.toRespond.length){const r=[c,...this.values];this.project?this._tryProject(r):this.destination.next(r)}}_tryProject(c){let r;try{r=this.project.apply(this,c)}catch(d){return void this.destination.error(d)}this.destination.next(r)}}ie(9773);var Ya=ie(8819);const js=["*"],vd=["dialog"];function Ja(a){return null!=a}function Sl(a){return(a||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(a){let c=this;if(!document.documentElement.contains(c))return null;do{if(c.matches(a))return c;c=c.parentElement||c.parentNode}while(null!==c&&1===c.nodeType);return null});const hp={animation:!0,transitionTimerDelayMs:5};let Do=(()=>{class a{constructor(){this.animation=hp.animation}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=u.Yz7({factory:function(){return new a},token:a,providedIn:"root"}),a})();const G_=()=>{},{transitionTimerDelayMs:nm}=hp,Nl=new Map,To=(a,c,r,d)=>{let E=d.context||{};const R=Nl.get(c);if(R)switch(d.runningTransition){case"continue":return Fa.E;case"stop":a.run(()=>R.transition$.complete()),E=Object.assign(R.context,E),Nl.delete(c)}const oe=r(c,d.animation,E)||G_;if(!d.animation||"none"===window.getComputedStyle(c).transitionProperty)return a.run(()=>oe()),(0,go.of)(void 0).pipe(function(a){return c=>new Wn.y(r=>c.subscribe(oe=>a.run(()=>r.next(oe)),oe=>a.run(()=>r.error(oe)),()=>a.run(()=>r.complete())))}(a));const ve=new wi.xQ,qe=new wi.xQ,lt=ve.pipe(function(...a){return c=>(0,ep.z)(c,(0,go.of)(...a))}(!0));Nl.set(c,{transition$:ve,complete:()=>{qe.next(),qe.complete()},context:E});const _t=function(a){const{transitionDelay:c,transitionDuration:r}=window.getComputedStyle(a);return 1e3*(parseFloat(c)+parseFloat(r))}(c);return a.runOutsideAngular(()=>{const Zt=gi(c,"transitionend").pipe(ti(lt),(0,li.h)(({target:vn})=>vn===c));(function(...a){if(1===a.length){if(!(0,qi.k)(a[0]))return a[0];a=a[0]}return(0,Ou.n)(a,void 0).lift(new Ef)})(function(a=0,c,r){let d=-1;return Fo(c)?d=Number(c)<1?1:Number(c):(0,ul.K)(c)&&(r=c),(0,ul.K)(r)||(r=G),new Wn.y(E=>{const R=Fo(a)?a:+a-r.now();return r.schedule(ll,R,{index:0,period:d,subscriber:E})})}(_t+nm).pipe(ti(lt)),Zt,qe).pipe(ti(lt)).subscribe(()=>{Nl.delete(c),a.run(()=>{oe(),ve.next(),ve.complete()})})}),ve.asObservable()};let vp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),Cc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),Uf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({}),a})(),$f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),dm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({}),a})();var Yn=(()=>{return(a=Yn||(Yn={}))[a.Tab=9]="Tab",a[a.Enter=13]="Enter",a[a.Escape=27]="Escape",a[a.Space=32]="Space",a[a.PageUp=33]="PageUp",a[a.PageDown=34]="PageDown",a[a.End=35]="End",a[a.Home=36]="Home",a[a.ArrowLeft=37]="ArrowLeft",a[a.ArrowUp=38]="ArrowUp",a[a.ArrowRight=39]="ArrowRight",a[a.ArrowDown=40]="ArrowDown",Yn;var a})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Jf=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Kf(a){const c=Array.from(a.querySelectorAll(Jf)).filter(r=>-1!==r.tabIndex);return[c[0],c[c.length-1]]}new class{getAllStyles(c){return window.getComputedStyle(c)}getStyle(c,r){return this.getAllStyles(c)[r]}isStaticPositioned(c){return"static"===(this.getStyle(c,"position")||"static")}offsetParent(c){let r=c.offsetParent||document.documentElement;for(;r&&r!==document.documentElement&&this.isStaticPositioned(r);)r=r.offsetParent;return r||document.documentElement}position(c,r=!0){let d,E={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(c,"position"))d=c.getBoundingClientRect(),d={top:d.top,bottom:d.bottom,left:d.left,right:d.right,height:d.height,width:d.width};else{const R=this.offsetParent(c);d=this.offset(c,!1),R!==document.documentElement&&(E=this.offset(R,!1)),E.top+=R.clientTop,E.left+=R.clientLeft}return d.top-=E.top,d.bottom-=E.top,d.left-=E.left,d.right-=E.left,r&&(d.top=Math.round(d.top),d.bottom=Math.round(d.bottom),d.left=Math.round(d.left),d.right=Math.round(d.right)),d}offset(c,r=!0){const d=c.getBoundingClientRect(),E_top=window.pageYOffset-document.documentElement.clientTop,E_left=window.pageXOffset-document.documentElement.clientLeft;let R={height:d.height||c.offsetHeight,width:d.width||c.offsetWidth,top:d.top+E_top,bottom:d.bottom+E_top,left:d.left+E_left,right:d.right+E_left};return r&&(R.height=Math.round(R.height),R.width=Math.round(R.width),R.top=Math.round(R.top),R.bottom=Math.round(R.bottom),R.left=Math.round(R.left),R.right=Math.round(R.right)),R}positionElements(c,r,d,E){const[R="top",oe="center"]=d.split("-"),ve=E?this.offset(c,!1):this.position(c,!1),qe=this.getAllStyles(r),lt=parseFloat(qe.marginTop),_t=parseFloat(qe.marginBottom),Zt=parseFloat(qe.marginLeft),Yt=parseFloat(qe.marginRight);let vn=0,gr=0;switch(R){case"top":vn=ve.top-(r.offsetHeight+lt+_t);break;case"bottom":vn=ve.top+ve.height;break;case"left":gr=ve.left-(r.offsetWidth+Zt+Yt);break;case"right":gr=ve.left+ve.width}switch(oe){case"top":vn=ve.top;break;case"bottom":vn=ve.top+ve.height-r.offsetHeight;break;case"left":gr=ve.left;break;case"right":gr=ve.left+ve.width-r.offsetWidth;break;case"center":"top"===R||"bottom"===R?gr=ve.left+ve.width/2-r.offsetWidth/2:vn=ve.top+ve.height/2-r.offsetHeight/2}r.style.transform=`translate(${Math.round(gr)}px, ${Math.round(vn)}px)`;const Dr=r.getBoundingClientRect(),ns=document.documentElement,ps=window.innerHeight||ns.clientHeight,rs=window.innerWidth||ns.clientWidth;return Dr.left>=0&&Dr.top>=0&&Dr.right<=rs&&Dr.bottom<=ps}},new Date(1882,10,12),new Date(2174,10,25);let eh=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez,h]]}),a})(),Gp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({}),a})(),th=(()=>{class a{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Do))},a.\u0275prov=u.Yz7({factory:function(){return new a(u.LFG(Do))},token:a,providedIn:"root"}),a})();class Ar{constructor(c,r,d){this.nodes=c,this.viewRef=r,this.componentRef=d}}const mv=()=>{};let Ud=(()=>{class a{constructor(r){this._document=r}compensate(){const r=this._getWidth();return this._isPresent(r)?this._adjustBody(r):mv}_adjustBody(r){const d=this._document.body,E=d.style.paddingRight,R=parseFloat(window.getComputedStyle(d)["padding-right"]);return d.style["padding-right"]=`${R+r}px`,()=>d.style["padding-right"]=E}_isPresent(r){const d=this._document.body.getBoundingClientRect();return window.innerWidth-(d.left+d.right)>=r-.1*r}_getWidth(){const r=this._document.createElement("div");r.className="modal-scrollbar-measure";const d=this._document.body;d.appendChild(r);const E=r.getBoundingClientRect().width-r.clientWidth;return d.removeChild(r),E}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(x.K0))},a.\u0275prov=u.Yz7({factory:function(){return new a(u.LFG(x.K0))},token:a,providedIn:"root"}),a})(),nh=(()=>{class a{constructor(r,d){this._el=r,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Uo.q)(1)).subscribe(()=>{To(this._zone,this._el.nativeElement,(r,d)=>{d&&Sl(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return To(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(u.SBq),u.Y36(u.R0b))},a.\u0275cmp=u.Xpm({type:a,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(r,d){2&r&&(u.Tol("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),u.ekj("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(r,d){},encapsulation:2}),a})();class Gm{close(c){}dismiss(c){}}class $m{constructor(c,r,d,E){this._windowCmptRef=c,this._contentRef=r,this._backdropCmptRef=d,this._beforeDismiss=E,this._closed=new wi.xQ,this._dismissed=new wi.xQ,this._hidden=new wi.xQ,c.instance.dismissEvent.subscribe(R=>{this.dismiss(R)}),this.result=new Promise((R,oe)=>{this._resolve=R,this._reject=oe}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ti(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ti(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(c){this._windowCmptRef&&(this._closed.next(c),this._resolve(c),this._removeModalElements())}_dismiss(c){this._dismissed.next(c),this._reject(c),this._removeModalElements()}dismiss(c){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();r&&r.then?r.then(d=>{!1!==d&&this._dismiss(c)},()=>{}):!1!==r&&this._dismiss(c)}else this._dismiss(c)}_removeModalElements(){const c=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,go.of)(void 0);c.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pu(c,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Lc=(()=>{return(a=Lc||(Lc={}))[a.BACKDROP_CLICK=0]="BACKDROP_CLICK",a[a.ESC=1]="ESC",Lc;var a})();let $p=(()=>{class a{constructor(r,d,E){this._document=r,this._elRef=d,this._zone=E,this._closed$=new wi.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new wi.xQ,this.hidden=new wi.xQ}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Uo.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,d={animation:this.animation,runningTransition:"stop"},oe=Pu(To(this._zone,r,()=>r.classList.remove("show"),d),To(this._zone,this._dialogEl.nativeElement,()=>{},d));return oe.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),oe}_show(){const r={animation:this.animation,runningTransition:"continue"};Pu(To(this._zone,this._elRef.nativeElement,(R,oe)=>{oe&&Sl(R),R.classList.add("show")},r),To(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{gi(r,"keydown").pipe(ti(this._closed$),(0,li.h)(E=>E.which===Yn.Escape)).subscribe(E=>{this.keyboard?requestAnimationFrame(()=>{E.defaultPrevented||this._zone.run(()=>this.dismiss(Lc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;gi(this._dialogEl.nativeElement,"mousedown").pipe(ti(this._closed$),(0,ee.b)(()=>d=!1),(0,es.w)(()=>gi(r,"mouseup").pipe(ti(this._closed$),(0,Uo.q)(1))),(0,li.h)(({target:E})=>r===E)).subscribe(()=>{d=!0}),gi(r,"click").pipe(ti(this._closed$)).subscribe(({target:E})=>{r===E&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(Lc.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const d=r.querySelector("[ngbAutofocus]"),E=Kf(r)[0];(d||E||r).focus()}}_restoreFocus(){const r=this._document.body,d=this._elWithFocus;let E;E=d&&d.focus&&r.contains(d)?d:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>E.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&To(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return a.\u0275fac=function(r){return new(r||a)(u.Y36(x.K0),u.Y36(u.SBq),u.Y36(u.R0b))},a.\u0275cmp=u.Xpm({type:a,selectors:[["ngb-modal-window"]],viewQuery:function(r,d){if(1&r&&u.Gf(vd,7),2&r){let E;u.iGM(E=u.CRH())&&(d._dialogEl=E.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,d){2&r&&(u.uIk("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),u.Tol("modal d-block"+(d.windowClass?" "+d.windowClass:"")),u.ekj("fade",d.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:js,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,d){1&r&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&r&&u.Tol("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),a})(),rh=(()=>{class a{constructor(r,d,E,R,oe,ve){this._applicationRef=r,this._injector=d,this._document=E,this._scrollBar=R,this._rendererFactory=oe,this._ngZone=ve,this._activeWindowCmptHasChanged=new wi.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const qe=this._windowCmpts[this._windowCmpts.length-1];((a,c,r,d=!1)=>{a.runOutsideAngular(()=>{const E=gi(c,"focusin").pipe(ti(r),(0,pn.U)(R=>R.target));gi(c,"keydown").pipe(ti(r),(0,li.h)(R=>R.which===Yn.Tab),pl(E)).subscribe(([R,oe])=>{const[ve,qe]=Kf(c);(oe===ve||oe===c)&&R.shiftKey&&(qe.focus(),R.preventDefault()),oe===qe&&!R.shiftKey&&(ve.focus(),R.preventDefault())}),d&&gi(c,"click").pipe(ti(r),pl(E),(0,pn.U)(R=>R[1])).subscribe(R=>R.focus())})})(this._ngZone,qe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(qe.location.nativeElement)}})}open(r,d,E,R){const oe=R.container instanceof HTMLElement?R.container:Ja(R.container)?this._document.querySelector(R.container):this._document.body,ve=this._rendererFactory.createRenderer(null,null),qe=this._scrollBar.compensate(),lt=()=>{this._modalRefs.length||(ve.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!oe)throw new Error(`The specified modal container "${R.container||"body"}" was not found in the DOM.`);const _t=new Gm,Zt=this._getContentRef(r,R.injector||d,E,_t,R);let Yt=!1!==R.backdrop?this._attachBackdrop(r,oe):void 0,vn=this._attachWindowComponent(r,oe,Zt),gr=new $m(vn,Zt,Yt,R.beforeDismiss);return this._registerModalRef(gr),this._registerWindowCmpt(vn),gr.result.then(qe,qe),gr.result.then(lt,lt),_t.close=Dr=>{gr.close(Dr)},_t.dismiss=Dr=>{gr.dismiss(Dr)},this._applyWindowOptions(vn.instance,R),1===this._modalRefs.length&&ve.addClass(this._document.body,"modal-open"),Yt&&Yt.instance&&(this._applyBackdropOptions(Yt.instance,R),Yt.changeDetectorRef.detectChanges()),vn.changeDetectorRef.detectChanges(),gr}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(d=>d.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r,d){let R=r.resolveComponentFactory(nh).create(this._injector);return this._applicationRef.attachView(R.hostView),d.appendChild(R.location.nativeElement),R}_attachWindowComponent(r,d,E){let oe=r.resolveComponentFactory($p).create(this._injector,E.nodes);return this._applicationRef.attachView(oe.hostView),d.appendChild(oe.location.nativeElement),oe}_applyWindowOptions(r,d){this._windowAttributes.forEach(E=>{Ja(d[E])&&(r[E]=d[E])})}_applyBackdropOptions(r,d){this._backdropAttributes.forEach(E=>{Ja(d[E])&&(r[E]=d[E])})}_getContentRef(r,d,E,R,oe){return E?E instanceof u.Rgc?this._createFromTemplateRef(E,R):function(a){return"string"==typeof a}(E)?this._createFromString(E):this._createFromComponent(r,d,E,R,oe):new Ar([])}_createFromTemplateRef(r,d){const R=r.createEmbeddedView({$implicit:d,close(oe){d.close(oe)},dismiss(oe){d.dismiss(oe)}});return this._applicationRef.attachView(R),new Ar([R.rootNodes],R)}_createFromString(r){const d=this._document.createTextNode(`${r}`);return new Ar([[d]])}_createFromComponent(r,d,E,R,oe){const ve=r.resolveComponentFactory(E),qe=u.zs3.create({providers:[{provide:Gm,useValue:R}],parent:d}),lt=ve.create(qe),_t=lt.location.nativeElement;return oe.scrollable&&_t.classList.add("component-host-scrollable"),this._applicationRef.attachView(lt.hostView),new Ar([[_t]],lt.hostView,lt)}_setAriaHidden(r){const d=r.parentElement;d&&r!==this._document.body&&(Array.from(d.children).forEach(E=>{E!==r&&"SCRIPT"!==E.nodeName&&(this._ariaHiddenValues.set(E,E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,d)=>{r?d.setAttribute("aria-hidden",r):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const d=()=>{const E=this._modalRefs.indexOf(r);E>-1&&(this._modalRefs.splice(E,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(d,d)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const d=this._windowCmpts.indexOf(r);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(x.K0),u.LFG(Ud),u.LFG(u.FYo),u.LFG(u.R0b))},a.\u0275prov=u.Yz7({factory:function(){return new a(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(x.K0),u.LFG(Ud),u.LFG(u.FYo),u.LFG(u.R0b))},token:a,providedIn:"root"}),a})(),Wp=(()=>{class a{constructor(r,d,E,R){this._moduleCFR=r,this._injector=d,this._modalStack=E,this._config=R}open(r,d={}){const E=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),d);return this._modalStack.open(this._moduleCFR,this._injector,r,E)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(rh),u.LFG(th))},a.\u0275prov=u.Yz7({factory:function(){return new a(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(rh),u.LFG(th))},token:a,providedIn:"root"}),a})(),ih=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:[Wp]}),a})(),Jm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),ia=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),tg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),ng=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),Vc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),yu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),Ku=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})(),Zu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({}),a})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let gh=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[[x.ez]]}),a})();const uy=[vp,Cc,Uf,$f,dm,eh,Gp,ih,Jm,ia,tg,ng,Vc,yu,Ku,Zu,gh];let lg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({imports:[uy,vp,Cc,Uf,$f,dm,eh,Gp,ih,Jm,ia,tg,ng,Vc,yu,Ku,Zu,gh]}),a})();class cg{constructor(c){this.predicate=c}call(c,r){return r.subscribe(new dg(c,this.predicate))}}class dg extends Zo.L{constructor(c,r){super(c),this.predicate=r,this.skipping=!0,this.index=0}_next(c){const r=this.destination;this.skipping&&this.tryCallPredicate(c),this.skipping||r.next(c)}tryCallPredicate(c){try{const r=this.predicate(c,this.index++);this.skipping=Boolean(r)}catch(r){this.destination.error(r)}}}var fg=ie(4614);function mh(a){return null==a}function hg(a){return"function"==typeof a.set}function yh(a,c){return hg(c)?c:a.ref(c)}function pg(a,c){if(function(a){return"string"==typeof a}(a))return c.stringCase();if(hg(a))return c.firebaseCase();if(function(a){return"function"==typeof a.exportVal}(a))return c.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function Yd(a,c,r="on",d=V){return new Wn.y(E=>{let R=null;return R=a[r](c,(oe,ve)=>{d.schedule(()=>{E.next({snapshot:oe,prevKey:ve})}),"once"===r&&d.schedule(()=>E.complete())},oe=>{d.schedule(()=>E.error(oe))}),"on"===r?{unsubscribe(){null!=R&&a.off(c,R)}}:{unsubscribe(){}}}).pipe((0,pn.U)(E=>{const{snapshot:R,prevKey:oe}=E;let ve=null;return R.exists()&&(ve=R.key),{type:c,payload:R,prevKey:oe,key:ve}}),(0,Ya.B)())}function _h(a,c){const r=a.length;for(let d=0;d<r;d++)if(a[d].payload.key===c)return d;return-1}function Tv(a,c){const{payload:r,prevKey:d,key:E}=c,R=_h(a,E),oe=function(a,c){if(mh(c))return 0;{const r=_h(a,c);return-1===r?a.length:r+1}}(a,d);switch(c.type){case"value":if(c.payload&&c.payload.exists()){let ve=null;c.payload.forEach(qe=>{const lt={payload:qe,type:"value",prevKey:ve,key:qe.key};return ve=qe.key,a=[...a,lt],!1})}return a;case"child_added":if(R>-1){const ve=a[R-1];(ve&&ve.key||null)!==d&&(a=a.filter(qe=>qe.payload.key!==r.key)).splice(oe,0,c)}else{if(null==d)return[c,...a];(a=a.slice()).splice(oe,0,c)}return a;case"child_removed":return a.filter(ve=>ve.payload.key!==r.key);case"child_changed":return a.map(ve=>ve.payload.key===E?c:ve);case"child_moved":if(R>-1){const ve=a.splice(R,1)[0];return(a=a.slice()).splice(oe,0,ve),a}return a;default:return a}}function fy(a){return(mh(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function gg(a,c,r){return function(a,c,r){return Yd(a,"value","once",r).pipe((0,es.w)(d=>{const E=[(0,go.of)(d)];return c.forEach(R=>E.push(Yd(a,R,"on",r))),(0,fl.T)(...E).pipe((0,ji.R)(Tv,[]))}),function(a,c){return r=>r.lift(new sd(a,c))}())}(a,c=fy(c),r)}function hy(a,c,r){const d=(c=fy(c)).map(E=>Yd(a,E,"on",r));return(0,fl.T)(...d)}function mg(a,c){return function(d,E){return pg(d,{stringCase:()=>a.child(d)[c](E),firebaseCase:()=>d[c](E),snapshotCase:()=>d.ref[c](E)})}}function Sv(a){return function(r){return r?pg(r,{stringCase:()=>a.child(r).remove(),firebaseCase:()=>r.remove(),snapshotCase:()=>r.ref.remove()}):a.remove()}}function gy(a,c){return function(){return Yd(a,"value","on",c)}}const wh=new u.OlP("angularfire2.realtimeDatabaseURL");let Av=(()=>{class a{constructor(r,d,E,R,oe){this.schedulers=new bi(oe),this.keepUnstableUntilFirst=Ls(this.schedulers),this.database=oe.runOutsideAngular(()=>{const ve=Ca(r,oe,d);return fg.registerDatabase&&(0,fg.registerDatabase)(Or()),ve.database(E||void 0)})}list(r,d){const E=yh(this.database,r);let R=E;return d&&(R=d(E)),function(a,c){const r=c.schedulers.outsideAngular,d=c.schedulers.ngZone.run(()=>a.ref);return{query:a,update:mg(d,"update"),set:mg(d,"set"),push:E=>d.push(E),remove:Sv(d),snapshotChanges:E=>gg(a,E,r).pipe(c.keepUnstableUntilFirst),stateChanges:E=>hy(a,E,r).pipe(c.keepUnstableUntilFirst),auditTrail:E=>function(a,c,r){return function(a,c,r){return function(a,c){return Yd(a,"value","on",c).pipe((0,pn.U)(r=>{let d;return r.payload.forEach(E=>(d=E.key,!1)),{data:r,lastKeyToLoad:d}}))}(a,r).pipe(pl(c),(0,pn.U)(([E,R])=>{const oe=E.lastKeyToLoad,ve=R.map(qe=>qe.key);return{actions:R,lastKeyToLoad:oe,loadedKeys:ve}}),function(a){return c=>c.lift(new cg(a))}(E=>-1===E.loadedKeys.indexOf(E.lastKeyToLoad)),(0,pn.U)(E=>E.actions))}(a,hy(a,c).pipe((0,ji.R)((E,R)=>[...E,R],[])),r)}(a,E,r).pipe(c.keepUnstableUntilFirst),valueChanges:E=>gg(a,E,r).pipe((0,pn.U)(oe=>oe.map(ve=>ve.payload.val())),c.keepUnstableUntilFirst)}}(R,this)}object(r){return function(a,c){return{query:a,snapshotChanges:()=>gy(a,c.schedulers.outsideAngular)().pipe(c.keepUnstableUntilFirst),update:r=>a.ref.update(r),set:r=>a.ref.set(r),remove:()=>a.ref.remove(),valueChanges:()=>gy(a,c.schedulers.outsideAngular)().pipe(c.keepUnstableUntilFirst,(0,pn.U)(d=>d.payload.exists()?d.payload.val():null))}}(yh(this.database,r),this)}createPushId(){return this.database.ref().push().key}}return a.\u0275fac=function(r){return new(r||a)(u.LFG(Es),u.LFG(Xo,8),u.LFG(wh,8),u.LFG(u.Lbi),u.LFG(u.R0b))},a.\u0275prov=(0,u.Yz7)({factory:function(){return new a((0,u.LFG)(Es),(0,u.LFG)(Xo,8),(0,u.LFG)(wh,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b))},token:a,providedIn:"any"}),a})(),yy=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:[Av]}),a})();var Ul=ie(1841);let _y=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=u.oAB({type:a,bootstrap:[wf]}),a.\u0275inj=u.cJS({providers:[au],imports:[[En,Ru,h,gf.initializeApp(ed_firebaseConfig),Tu,lg,yy,Ul.JF]]}),a})();(0,u.G48)(),Ur().bootstrapModule(_y).catch(a=>console.error(a))},7796:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{__extends:()=>u,__assign:()=>J,__rest:()=>He,__decorate:()=>Se,__param:()=>Ve,__metadata:()=>De,__awaiter:()=>Fe,__generator:()=>te,__createBinding:()=>X,__exportStar:()=>Ee,__values:()=>_e,__read:()=>ye,__spread:()=>tt,__spreadArrays:()=>ct,__await:()=>it,__asyncGenerator:()=>et,__asyncDelegator:()=>we,__asyncValues:()=>Qe,__makeTemplateObject:()=>Dt,__importStar:()=>Gt,__importDefault:()=>mn,__classPrivateFieldGet:()=>Vt,__classPrivateFieldSet:()=>At});var x=function($,Z){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var ue in ae)ae.hasOwnProperty(ue)&&(z[ue]=ae[ue])})($,Z)};function u($,Z){function z(){this.constructor=$}x($,Z),$.prototype=null===Z?Object.create(Z):(z.prototype=Z.prototype,new z)}var J=function(){return(J=Object.assign||function(Z){for(var z,ae=1,ue=arguments.length;ae<ue;ae++)for(var Q in z=arguments[ae])Object.prototype.hasOwnProperty.call(z,Q)&&(Z[Q]=z[Q]);return Z}).apply(this,arguments)};function He($,Z){var z={};for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&Z.indexOf(ae)<0&&(z[ae]=$[ae]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols($);ue<ae.length;ue++)Z.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call($,ae[ue])&&(z[ae[ue]]=$[ae[ue]])}return z}function Se($,Z,z,ae){var Ie,ue=arguments.length,Q=ue<3?Z:null===ae?ae=Object.getOwnPropertyDescriptor(Z,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($,Z,z,ae);else for(var Ne=$.length-1;Ne>=0;Ne--)(Ie=$[Ne])&&(Q=(ue<3?Ie(Q):ue>3?Ie(Z,z,Q):Ie(Z,z))||Q);return ue>3&&Q&&Object.defineProperty(Z,z,Q),Q}function Ve($,Z){return function(z,ae){Z(z,ae,$)}}function De($,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,Z)}function Fe($,Z,z,ae){return new(z||(z=Promise))(function(Q,Ie){function Ne(dt){try{Ue(ae.next(dt))}catch(xt){Ie(xt)}}function St(dt){try{Ue(ae.throw(dt))}catch(xt){Ie(xt)}}function Ue(dt){dt.done?Q(dt.value):function(Q){return Q instanceof z?Q:new z(function(Ie){Ie(Q)})}(dt.value).then(Ne,St)}Ue((ae=ae.apply($,Z||[])).next())})}function te($,Z){var ae,ue,Q,Ie,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Ie={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ne(Ue){return function(dt){return function(Ue){if(ae)throw new TypeError("Generator is already executing.");for(;z;)try{if(ae=1,ue&&(Q=2&Ue[0]?ue.return:Ue[0]?ue.throw||((Q=ue.return)&&Q.call(ue),0):ue.next)&&!(Q=Q.call(ue,Ue[1])).done)return Q;switch(ue=0,Q&&(Ue=[2&Ue[0],Q.value]),Ue[0]){case 0:case 1:Q=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ue=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Q||Ue[1]>Q[0]&&Ue[1]<Q[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Q[1]){z.label=Q[1],Q=Ue;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Ue);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Ue=Z.call($,z)}catch(dt){Ue=[6,dt],ue=0}finally{ae=Q=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,dt])}}}function X($,Z,z,ae){void 0===ae&&(ae=z),$[ae]=Z[z]}function Ee($,Z){for(var z in $)"default"!==z&&!Z.hasOwnProperty(z)&&(Z[z]=$[z])}function _e($){var Z="function"==typeof Symbol&&Symbol.iterator,z=Z&&$[Z],ae=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ae>=$.length&&($=void 0),{value:$&&$[ae++],done:!$}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,Z){var z="function"==typeof Symbol&&$[Symbol.iterator];if(!z)return $;var ue,Ie,ae=z.call($),Q=[];try{for(;(void 0===Z||Z-- >0)&&!(ue=ae.next()).done;)Q.push(ue.value)}catch(Ne){Ie={error:Ne}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(Ie)throw Ie.error}}return Q}function tt(){for(var $=[],Z=0;Z<arguments.length;Z++)$=$.concat(ye(arguments[Z]));return $}function ct(){for(var $=0,Z=0,z=arguments.length;Z<z;Z++)$+=arguments[Z].length;var ae=Array($),ue=0;for(Z=0;Z<z;Z++)for(var Q=arguments[Z],Ie=0,Ne=Q.length;Ie<Ne;Ie++,ue++)ae[ue]=Q[Ie];return ae}function it($){return this instanceof it?(this.v=$,this):new it($)}function et($,Z,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=z.apply($,Z||[]),Q=[];return ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Ie(Ke){ae[Ke]&&(ue[Ke]=function(vt){return new Promise(function(nn,bn){Q.push([Ke,vt,nn,bn])>1||Ne(Ke,vt)})})}function Ne(Ke,vt){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(Ue,dt):xt(Q[0][2],Ke)}(ae[Ke](vt))}catch(nn){xt(Q[0][3],nn)}}function Ue(Ke){Ne("next",Ke)}function dt(Ke){Ne("throw",Ke)}function xt(Ke,vt){Ke(vt),Q.shift(),Q.length&&Ne(Q[0][0],Q[0][1])}}function we($){var Z,z;return Z={},ae("next"),ae("throw",function(ue){throw ue}),ae("return"),Z[Symbol.iterator]=function(){return this},Z;function ae(ue,Q){Z[ue]=$[ue]?function(Ie){return(z=!z)?{value:it($[ue](Ie)),done:"return"===ue}:Q?Q(Ie):Ie}:Q}}function Qe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=$[Symbol.asyncIterator];return Z?Z.call($):($=_e($),z={},ae("next"),ae("throw"),ae("return"),z[Symbol.asyncIterator]=function(){return this},z);function ae(Q){z[Q]=$[Q]&&function(Ie){return new Promise(function(Ne,St){!function(Q,Ie,Ne,St){Promise.resolve(St).then(function(Ue){Q({value:Ue,done:Ne})},Ie)}(Ne,St,(Ie=$[Q](Ie)).done,Ie.value)})}}}function Dt($,Z){return Object.defineProperty?Object.defineProperty($,"raw",{value:Z}):$.raw=Z,$}function Gt($){if($&&$.__esModule)return $;var Z={};if(null!=$)for(var z in $)Object.hasOwnProperty.call($,z)&&(Z[z]=$[z]);return Z.default=$,Z}function mn($){return $&&$.__esModule?$:{default:$}}function Vt($,Z){if(!Z.has($))throw new TypeError("attempted to get private field on non-instance");return Z.get($)}function At($,Z,z){if(!Z.has($))throw new TypeError("attempted to set private field on non-instance");return Z.set($,z),z}},5385:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{__extends:()=>u,__assign:()=>J,__rest:()=>He,__decorate:()=>Se,__param:()=>Ve,__metadata:()=>De,__awaiter:()=>Fe,__generator:()=>te,__createBinding:()=>X,__exportStar:()=>Ee,__values:()=>_e,__read:()=>ye,__spread:()=>tt,__spreadArrays:()=>ct,__await:()=>it,__asyncGenerator:()=>et,__asyncDelegator:()=>we,__asyncValues:()=>Qe,__makeTemplateObject:()=>Dt,__importStar:()=>Gt,__importDefault:()=>mn,__classPrivateFieldGet:()=>Vt,__classPrivateFieldSet:()=>At});var x=function($,Z){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var ue in ae)ae.hasOwnProperty(ue)&&(z[ue]=ae[ue])})($,Z)};function u($,Z){function z(){this.constructor=$}x($,Z),$.prototype=null===Z?Object.create(Z):(z.prototype=Z.prototype,new z)}var J=function(){return(J=Object.assign||function(Z){for(var z,ae=1,ue=arguments.length;ae<ue;ae++)for(var Q in z=arguments[ae])Object.prototype.hasOwnProperty.call(z,Q)&&(Z[Q]=z[Q]);return Z}).apply(this,arguments)};function He($,Z){var z={};for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&Z.indexOf(ae)<0&&(z[ae]=$[ae]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols($);ue<ae.length;ue++)Z.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call($,ae[ue])&&(z[ae[ue]]=$[ae[ue]])}return z}function Se($,Z,z,ae){var Ie,ue=arguments.length,Q=ue<3?Z:null===ae?ae=Object.getOwnPropertyDescriptor(Z,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($,Z,z,ae);else for(var Ne=$.length-1;Ne>=0;Ne--)(Ie=$[Ne])&&(Q=(ue<3?Ie(Q):ue>3?Ie(Z,z,Q):Ie(Z,z))||Q);return ue>3&&Q&&Object.defineProperty(Z,z,Q),Q}function Ve($,Z){return function(z,ae){Z(z,ae,$)}}function De($,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,Z)}function Fe($,Z,z,ae){return new(z||(z=Promise))(function(Q,Ie){function Ne(dt){try{Ue(ae.next(dt))}catch(xt){Ie(xt)}}function St(dt){try{Ue(ae.throw(dt))}catch(xt){Ie(xt)}}function Ue(dt){dt.done?Q(dt.value):function(Q){return Q instanceof z?Q:new z(function(Ie){Ie(Q)})}(dt.value).then(Ne,St)}Ue((ae=ae.apply($,Z||[])).next())})}function te($,Z){var ae,ue,Q,Ie,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Ie={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ne(Ue){return function(dt){return function(Ue){if(ae)throw new TypeError("Generator is already executing.");for(;z;)try{if(ae=1,ue&&(Q=2&Ue[0]?ue.return:Ue[0]?ue.throw||((Q=ue.return)&&Q.call(ue),0):ue.next)&&!(Q=Q.call(ue,Ue[1])).done)return Q;switch(ue=0,Q&&(Ue=[2&Ue[0],Q.value]),Ue[0]){case 0:case 1:Q=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ue=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Q||Ue[1]>Q[0]&&Ue[1]<Q[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Q[1]){z.label=Q[1],Q=Ue;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Ue);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Ue=Z.call($,z)}catch(dt){Ue=[6,dt],ue=0}finally{ae=Q=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,dt])}}}function X($,Z,z,ae){void 0===ae&&(ae=z),$[ae]=Z[z]}function Ee($,Z){for(var z in $)"default"!==z&&!Z.hasOwnProperty(z)&&(Z[z]=$[z])}function _e($){var Z="function"==typeof Symbol&&Symbol.iterator,z=Z&&$[Z],ae=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ae>=$.length&&($=void 0),{value:$&&$[ae++],done:!$}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,Z){var z="function"==typeof Symbol&&$[Symbol.iterator];if(!z)return $;var ue,Ie,ae=z.call($),Q=[];try{for(;(void 0===Z||Z-- >0)&&!(ue=ae.next()).done;)Q.push(ue.value)}catch(Ne){Ie={error:Ne}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(Ie)throw Ie.error}}return Q}function tt(){for(var $=[],Z=0;Z<arguments.length;Z++)$=$.concat(ye(arguments[Z]));return $}function ct(){for(var $=0,Z=0,z=arguments.length;Z<z;Z++)$+=arguments[Z].length;var ae=Array($),ue=0;for(Z=0;Z<z;Z++)for(var Q=arguments[Z],Ie=0,Ne=Q.length;Ie<Ne;Ie++,ue++)ae[ue]=Q[Ie];return ae}function it($){return this instanceof it?(this.v=$,this):new it($)}function et($,Z,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=z.apply($,Z||[]),Q=[];return ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Ie(Ke){ae[Ke]&&(ue[Ke]=function(vt){return new Promise(function(nn,bn){Q.push([Ke,vt,nn,bn])>1||Ne(Ke,vt)})})}function Ne(Ke,vt){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(Ue,dt):xt(Q[0][2],Ke)}(ae[Ke](vt))}catch(nn){xt(Q[0][3],nn)}}function Ue(Ke){Ne("next",Ke)}function dt(Ke){Ne("throw",Ke)}function xt(Ke,vt){Ke(vt),Q.shift(),Q.length&&Ne(Q[0][0],Q[0][1])}}function we($){var Z,z;return Z={},ae("next"),ae("throw",function(ue){throw ue}),ae("return"),Z[Symbol.iterator]=function(){return this},Z;function ae(ue,Q){Z[ue]=$[ue]?function(Ie){return(z=!z)?{value:it($[ue](Ie)),done:"return"===ue}:Q?Q(Ie):Ie}:Q}}function Qe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=$[Symbol.asyncIterator];return Z?Z.call($):($=_e($),z={},ae("next"),ae("throw"),ae("return"),z[Symbol.asyncIterator]=function(){return this},z);function ae(Q){z[Q]=$[Q]&&function(Ie){return new Promise(function(Ne,St){!function(Q,Ie,Ne,St){Promise.resolve(St).then(function(Ue){Q({value:Ue,done:Ne})},Ie)}(Ne,St,(Ie=$[Q](Ie)).done,Ie.value)})}}}function Dt($,Z){return Object.defineProperty?Object.defineProperty($,"raw",{value:Z}):$.raw=Z,$}function Gt($){if($&&$.__esModule)return $;var Z={};if(null!=$)for(var z in $)Object.hasOwnProperty.call($,z)&&(Z[z]=$[z]);return Z.default=$,Z}function mn($){return $&&$.__esModule?$:{default:$}}function Vt($,Z){if(!Z.has($))throw new TypeError("attempted to get private field on non-instance");return Z.get($)}function At($,Z,z){if(!Z.has($))throw new TypeError("attempted to set private field on non-instance");return Z.set($,z),z}},209:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{__extends:()=>u,__assign:()=>J,__rest:()=>He,__decorate:()=>Se,__param:()=>Ve,__metadata:()=>De,__awaiter:()=>Fe,__generator:()=>te,__createBinding:()=>X,__exportStar:()=>Ee,__values:()=>_e,__read:()=>ye,__spread:()=>tt,__spreadArrays:()=>ct,__await:()=>it,__asyncGenerator:()=>et,__asyncDelegator:()=>we,__asyncValues:()=>Qe,__makeTemplateObject:()=>Dt,__importStar:()=>Gt,__importDefault:()=>mn,__classPrivateFieldGet:()=>Vt,__classPrivateFieldSet:()=>At});var x=function($,Z){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var ue in ae)ae.hasOwnProperty(ue)&&(z[ue]=ae[ue])})($,Z)};function u($,Z){function z(){this.constructor=$}x($,Z),$.prototype=null===Z?Object.create(Z):(z.prototype=Z.prototype,new z)}var J=function(){return(J=Object.assign||function(Z){for(var z,ae=1,ue=arguments.length;ae<ue;ae++)for(var Q in z=arguments[ae])Object.prototype.hasOwnProperty.call(z,Q)&&(Z[Q]=z[Q]);return Z}).apply(this,arguments)};function He($,Z){var z={};for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&Z.indexOf(ae)<0&&(z[ae]=$[ae]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols($);ue<ae.length;ue++)Z.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call($,ae[ue])&&(z[ae[ue]]=$[ae[ue]])}return z}function Se($,Z,z,ae){var Ie,ue=arguments.length,Q=ue<3?Z:null===ae?ae=Object.getOwnPropertyDescriptor(Z,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($,Z,z,ae);else for(var Ne=$.length-1;Ne>=0;Ne--)(Ie=$[Ne])&&(Q=(ue<3?Ie(Q):ue>3?Ie(Z,z,Q):Ie(Z,z))||Q);return ue>3&&Q&&Object.defineProperty(Z,z,Q),Q}function Ve($,Z){return function(z,ae){Z(z,ae,$)}}function De($,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,Z)}function Fe($,Z,z,ae){return new(z||(z=Promise))(function(Q,Ie){function Ne(dt){try{Ue(ae.next(dt))}catch(xt){Ie(xt)}}function St(dt){try{Ue(ae.throw(dt))}catch(xt){Ie(xt)}}function Ue(dt){dt.done?Q(dt.value):function(Q){return Q instanceof z?Q:new z(function(Ie){Ie(Q)})}(dt.value).then(Ne,St)}Ue((ae=ae.apply($,Z||[])).next())})}function te($,Z){var ae,ue,Q,Ie,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Ie={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ne(Ue){return function(dt){return function(Ue){if(ae)throw new TypeError("Generator is already executing.");for(;z;)try{if(ae=1,ue&&(Q=2&Ue[0]?ue.return:Ue[0]?ue.throw||((Q=ue.return)&&Q.call(ue),0):ue.next)&&!(Q=Q.call(ue,Ue[1])).done)return Q;switch(ue=0,Q&&(Ue=[2&Ue[0],Q.value]),Ue[0]){case 0:case 1:Q=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ue=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Q||Ue[1]>Q[0]&&Ue[1]<Q[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Q[1]){z.label=Q[1],Q=Ue;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Ue);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Ue=Z.call($,z)}catch(dt){Ue=[6,dt],ue=0}finally{ae=Q=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,dt])}}}function X($,Z,z,ae){void 0===ae&&(ae=z),$[ae]=Z[z]}function Ee($,Z){for(var z in $)"default"!==z&&!Z.hasOwnProperty(z)&&(Z[z]=$[z])}function _e($){var Z="function"==typeof Symbol&&Symbol.iterator,z=Z&&$[Z],ae=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ae>=$.length&&($=void 0),{value:$&&$[ae++],done:!$}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,Z){var z="function"==typeof Symbol&&$[Symbol.iterator];if(!z)return $;var ue,Ie,ae=z.call($),Q=[];try{for(;(void 0===Z||Z-- >0)&&!(ue=ae.next()).done;)Q.push(ue.value)}catch(Ne){Ie={error:Ne}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(Ie)throw Ie.error}}return Q}function tt(){for(var $=[],Z=0;Z<arguments.length;Z++)$=$.concat(ye(arguments[Z]));return $}function ct(){for(var $=0,Z=0,z=arguments.length;Z<z;Z++)$+=arguments[Z].length;var ae=Array($),ue=0;for(Z=0;Z<z;Z++)for(var Q=arguments[Z],Ie=0,Ne=Q.length;Ie<Ne;Ie++,ue++)ae[ue]=Q[Ie];return ae}function it($){return this instanceof it?(this.v=$,this):new it($)}function et($,Z,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=z.apply($,Z||[]),Q=[];return ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Ie(Ke){ae[Ke]&&(ue[Ke]=function(vt){return new Promise(function(nn,bn){Q.push([Ke,vt,nn,bn])>1||Ne(Ke,vt)})})}function Ne(Ke,vt){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(Ue,dt):xt(Q[0][2],Ke)}(ae[Ke](vt))}catch(nn){xt(Q[0][3],nn)}}function Ue(Ke){Ne("next",Ke)}function dt(Ke){Ne("throw",Ke)}function xt(Ke,vt){Ke(vt),Q.shift(),Q.length&&Ne(Q[0][0],Q[0][1])}}function we($){var Z,z;return Z={},ae("next"),ae("throw",function(ue){throw ue}),ae("return"),Z[Symbol.iterator]=function(){return this},Z;function ae(ue,Q){Z[ue]=$[ue]?function(Ie){return(z=!z)?{value:it($[ue](Ie)),done:"return"===ue}:Q?Q(Ie):Ie}:Q}}function Qe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=$[Symbol.asyncIterator];return Z?Z.call($):($=_e($),z={},ae("next"),ae("throw"),ae("return"),z[Symbol.asyncIterator]=function(){return this},z);function ae(Q){z[Q]=$[Q]&&function(Ie){return new Promise(function(Ne,St){!function(Q,Ie,Ne,St){Promise.resolve(St).then(function(Ue){Q({value:Ue,done:Ne})},Ie)}(Ne,St,(Ie=$[Q](Ie)).done,Ie.value)})}}}function Dt($,Z){return Object.defineProperty?Object.defineProperty($,"raw",{value:Z}):$.raw=Z,$}function Gt($){if($&&$.__esModule)return $;var Z={};if(null!=$)for(var z in $)Object.hasOwnProperty.call($,z)&&(Z[z]=$[z]);return Z.default=$,Z}function mn($){return $&&$.__esModule?$:{default:$}}function Vt($,Z){if(!Z.has($))throw new TypeError("attempted to get private field on non-instance");return Z.get($)}function At($,Z,z){if(!Z.has($))throw new TypeError("attempted to set private field on non-instance");return Z.set($,z),z}},5704:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{__extends:()=>u,__assign:()=>J,__rest:()=>He,__decorate:()=>Se,__param:()=>Ve,__metadata:()=>De,__awaiter:()=>Fe,__generator:()=>te,__createBinding:()=>X,__exportStar:()=>Ee,__values:()=>_e,__read:()=>ye,__spread:()=>tt,__spreadArrays:()=>ct,__await:()=>it,__asyncGenerator:()=>et,__asyncDelegator:()=>we,__asyncValues:()=>Qe,__makeTemplateObject:()=>Dt,__importStar:()=>Gt,__importDefault:()=>mn,__classPrivateFieldGet:()=>Vt,__classPrivateFieldSet:()=>At});var x=function($,Z){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var ue in ae)ae.hasOwnProperty(ue)&&(z[ue]=ae[ue])})($,Z)};function u($,Z){function z(){this.constructor=$}x($,Z),$.prototype=null===Z?Object.create(Z):(z.prototype=Z.prototype,new z)}var J=function(){return(J=Object.assign||function(Z){for(var z,ae=1,ue=arguments.length;ae<ue;ae++)for(var Q in z=arguments[ae])Object.prototype.hasOwnProperty.call(z,Q)&&(Z[Q]=z[Q]);return Z}).apply(this,arguments)};function He($,Z){var z={};for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&Z.indexOf(ae)<0&&(z[ae]=$[ae]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols($);ue<ae.length;ue++)Z.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call($,ae[ue])&&(z[ae[ue]]=$[ae[ue]])}return z}function Se($,Z,z,ae){var Ie,ue=arguments.length,Q=ue<3?Z:null===ae?ae=Object.getOwnPropertyDescriptor(Z,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($,Z,z,ae);else for(var Ne=$.length-1;Ne>=0;Ne--)(Ie=$[Ne])&&(Q=(ue<3?Ie(Q):ue>3?Ie(Z,z,Q):Ie(Z,z))||Q);return ue>3&&Q&&Object.defineProperty(Z,z,Q),Q}function Ve($,Z){return function(z,ae){Z(z,ae,$)}}function De($,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,Z)}function Fe($,Z,z,ae){return new(z||(z=Promise))(function(Q,Ie){function Ne(dt){try{Ue(ae.next(dt))}catch(xt){Ie(xt)}}function St(dt){try{Ue(ae.throw(dt))}catch(xt){Ie(xt)}}function Ue(dt){dt.done?Q(dt.value):function(Q){return Q instanceof z?Q:new z(function(Ie){Ie(Q)})}(dt.value).then(Ne,St)}Ue((ae=ae.apply($,Z||[])).next())})}function te($,Z){var ae,ue,Q,Ie,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Ie={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ne(Ue){return function(dt){return function(Ue){if(ae)throw new TypeError("Generator is already executing.");for(;z;)try{if(ae=1,ue&&(Q=2&Ue[0]?ue.return:Ue[0]?ue.throw||((Q=ue.return)&&Q.call(ue),0):ue.next)&&!(Q=Q.call(ue,Ue[1])).done)return Q;switch(ue=0,Q&&(Ue=[2&Ue[0],Q.value]),Ue[0]){case 0:case 1:Q=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ue=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Q||Ue[1]>Q[0]&&Ue[1]<Q[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Q[1]){z.label=Q[1],Q=Ue;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Ue);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Ue=Z.call($,z)}catch(dt){Ue=[6,dt],ue=0}finally{ae=Q=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,dt])}}}function X($,Z,z,ae){void 0===ae&&(ae=z),$[ae]=Z[z]}function Ee($,Z){for(var z in $)"default"!==z&&!Z.hasOwnProperty(z)&&(Z[z]=$[z])}function _e($){var Z="function"==typeof Symbol&&Symbol.iterator,z=Z&&$[Z],ae=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ae>=$.length&&($=void 0),{value:$&&$[ae++],done:!$}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,Z){var z="function"==typeof Symbol&&$[Symbol.iterator];if(!z)return $;var ue,Ie,ae=z.call($),Q=[];try{for(;(void 0===Z||Z-- >0)&&!(ue=ae.next()).done;)Q.push(ue.value)}catch(Ne){Ie={error:Ne}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(Ie)throw Ie.error}}return Q}function tt(){for(var $=[],Z=0;Z<arguments.length;Z++)$=$.concat(ye(arguments[Z]));return $}function ct(){for(var $=0,Z=0,z=arguments.length;Z<z;Z++)$+=arguments[Z].length;var ae=Array($),ue=0;for(Z=0;Z<z;Z++)for(var Q=arguments[Z],Ie=0,Ne=Q.length;Ie<Ne;Ie++,ue++)ae[ue]=Q[Ie];return ae}function it($){return this instanceof it?(this.v=$,this):new it($)}function et($,Z,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=z.apply($,Z||[]),Q=[];return ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Ie(Ke){ae[Ke]&&(ue[Ke]=function(vt){return new Promise(function(nn,bn){Q.push([Ke,vt,nn,bn])>1||Ne(Ke,vt)})})}function Ne(Ke,vt){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(Ue,dt):xt(Q[0][2],Ke)}(ae[Ke](vt))}catch(nn){xt(Q[0][3],nn)}}function Ue(Ke){Ne("next",Ke)}function dt(Ke){Ne("throw",Ke)}function xt(Ke,vt){Ke(vt),Q.shift(),Q.length&&Ne(Q[0][0],Q[0][1])}}function we($){var Z,z;return Z={},ae("next"),ae("throw",function(ue){throw ue}),ae("return"),Z[Symbol.iterator]=function(){return this},Z;function ae(ue,Q){Z[ue]=$[ue]?function(Ie){return(z=!z)?{value:it($[ue](Ie)),done:"return"===ue}:Q?Q(Ie):Ie}:Q}}function Qe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=$[Symbol.asyncIterator];return Z?Z.call($):($=_e($),z={},ae("next"),ae("throw"),ae("return"),z[Symbol.asyncIterator]=function(){return this},z);function ae(Q){z[Q]=$[Q]&&function(Ie){return new Promise(function(Ne,St){!function(Q,Ie,Ne,St){Promise.resolve(St).then(function(Ue){Q({value:Ue,done:Ne})},Ie)}(Ne,St,(Ie=$[Q](Ie)).done,Ie.value)})}}}function Dt($,Z){return Object.defineProperty?Object.defineProperty($,"raw",{value:Z}):$.raw=Z,$}function Gt($){if($&&$.__esModule)return $;var Z={};if(null!=$)for(var z in $)Object.hasOwnProperty.call($,z)&&(Z[z]=$[z]);return Z.default=$,Z}function mn($){return $&&$.__esModule?$:{default:$}}function Vt($,Z){if(!Z.has($))throw new TypeError("attempted to get private field on non-instance");return Z.get($)}function At($,Z,z){if(!Z.has($))throw new TypeError("attempted to set private field on non-instance");return Z.set($,z),z}},5057:(Ut,Le,ie)=>{"use strict";ie.r(Le),ie.d(Le,{__extends:()=>u,__assign:()=>J,__rest:()=>He,__decorate:()=>Se,__param:()=>Ve,__metadata:()=>De,__awaiter:()=>Fe,__generator:()=>te,__createBinding:()=>X,__exportStar:()=>Ee,__values:()=>_e,__read:()=>ye,__spread:()=>tt,__spreadArrays:()=>ct,__await:()=>it,__asyncGenerator:()=>et,__asyncDelegator:()=>we,__asyncValues:()=>Qe,__makeTemplateObject:()=>Dt,__importStar:()=>Gt,__importDefault:()=>mn,__classPrivateFieldGet:()=>Vt,__classPrivateFieldSet:()=>At});var x=function($,Z){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var ue in ae)ae.hasOwnProperty(ue)&&(z[ue]=ae[ue])})($,Z)};function u($,Z){function z(){this.constructor=$}x($,Z),$.prototype=null===Z?Object.create(Z):(z.prototype=Z.prototype,new z)}var J=function(){return(J=Object.assign||function(Z){for(var z,ae=1,ue=arguments.length;ae<ue;ae++)for(var Q in z=arguments[ae])Object.prototype.hasOwnProperty.call(z,Q)&&(Z[Q]=z[Q]);return Z}).apply(this,arguments)};function He($,Z){var z={};for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&Z.indexOf(ae)<0&&(z[ae]=$[ae]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols($);ue<ae.length;ue++)Z.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call($,ae[ue])&&(z[ae[ue]]=$[ae[ue]])}return z}function Se($,Z,z,ae){var Ie,ue=arguments.length,Q=ue<3?Z:null===ae?ae=Object.getOwnPropertyDescriptor(Z,z):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate($,Z,z,ae);else for(var Ne=$.length-1;Ne>=0;Ne--)(Ie=$[Ne])&&(Q=(ue<3?Ie(Q):ue>3?Ie(Z,z,Q):Ie(Z,z))||Q);return ue>3&&Q&&Object.defineProperty(Z,z,Q),Q}function Ve($,Z){return function(z,ae){Z(z,ae,$)}}function De($,Z){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,Z)}function Fe($,Z,z,ae){return new(z||(z=Promise))(function(Q,Ie){function Ne(dt){try{Ue(ae.next(dt))}catch(xt){Ie(xt)}}function St(dt){try{Ue(ae.throw(dt))}catch(xt){Ie(xt)}}function Ue(dt){dt.done?Q(dt.value):function(Q){return Q instanceof z?Q:new z(function(Ie){Ie(Q)})}(dt.value).then(Ne,St)}Ue((ae=ae.apply($,Z||[])).next())})}function te($,Z){var ae,ue,Q,Ie,z={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Ie={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ne(Ue){return function(dt){return function(Ue){if(ae)throw new TypeError("Generator is already executing.");for(;z;)try{if(ae=1,ue&&(Q=2&Ue[0]?ue.return:Ue[0]?ue.throw||((Q=ue.return)&&Q.call(ue),0):ue.next)&&!(Q=Q.call(ue,Ue[1])).done)return Q;switch(ue=0,Q&&(Ue=[2&Ue[0],Q.value]),Ue[0]){case 0:case 1:Q=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ue=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Q=(Q=z.trys).length>0&&Q[Q.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Q||Ue[1]>Q[0]&&Ue[1]<Q[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Q[1]){z.label=Q[1],Q=Ue;break}if(Q&&z.label<Q[2]){z.label=Q[2],z.ops.push(Ue);break}Q[2]&&z.ops.pop(),z.trys.pop();continue}Ue=Z.call($,z)}catch(dt){Ue=[6,dt],ue=0}finally{ae=Q=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,dt])}}}function X($,Z,z,ae){void 0===ae&&(ae=z),$[ae]=Z[z]}function Ee($,Z){for(var z in $)"default"!==z&&!Z.hasOwnProperty(z)&&(Z[z]=$[z])}function _e($){var Z="function"==typeof Symbol&&Symbol.iterator,z=Z&&$[Z],ae=0;if(z)return z.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ae>=$.length&&($=void 0),{value:$&&$[ae++],done:!$}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,Z){var z="function"==typeof Symbol&&$[Symbol.iterator];if(!z)return $;var ue,Ie,ae=z.call($),Q=[];try{for(;(void 0===Z||Z-- >0)&&!(ue=ae.next()).done;)Q.push(ue.value)}catch(Ne){Ie={error:Ne}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(Ie)throw Ie.error}}return Q}function tt(){for(var $=[],Z=0;Z<arguments.length;Z++)$=$.concat(ye(arguments[Z]));return $}function ct(){for(var $=0,Z=0,z=arguments.length;Z<z;Z++)$+=arguments[Z].length;var ae=Array($),ue=0;for(Z=0;Z<z;Z++)for(var Q=arguments[Z],Ie=0,Ne=Q.length;Ie<Ne;Ie++,ue++)ae[ue]=Q[Ie];return ae}function it($){return this instanceof it?(this.v=$,this):new it($)}function et($,Z,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=z.apply($,Z||[]),Q=[];return ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Ie(Ke){ae[Ke]&&(ue[Ke]=function(vt){return new Promise(function(nn,bn){Q.push([Ke,vt,nn,bn])>1||Ne(Ke,vt)})})}function Ne(Ke,vt){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(Ue,dt):xt(Q[0][2],Ke)}(ae[Ke](vt))}catch(nn){xt(Q[0][3],nn)}}function Ue(Ke){Ne("next",Ke)}function dt(Ke){Ne("throw",Ke)}function xt(Ke,vt){Ke(vt),Q.shift(),Q.length&&Ne(Q[0][0],Q[0][1])}}function we($){var Z,z;return Z={},ae("next"),ae("throw",function(ue){throw ue}),ae("return"),Z[Symbol.iterator]=function(){return this},Z;function ae(ue,Q){Z[ue]=$[ue]?function(Ie){return(z=!z)?{value:it($[ue](Ie)),done:"return"===ue}:Q?Q(Ie):Ie}:Q}}function Qe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=$[Symbol.asyncIterator];return Z?Z.call($):($=_e($),z={},ae("next"),ae("throw"),ae("return"),z[Symbol.asyncIterator]=function(){return this},z);function ae(Q){z[Q]=$[Q]&&function(Ie){return new Promise(function(Ne,St){!function(Q,Ie,Ne,St){Promise.resolve(St).then(function(Ue){Q({value:Ue,done:Ne})},Ie)}(Ne,St,(Ie=$[Q](Ie)).done,Ie.value)})}}}function Dt($,Z){return Object.defineProperty?Object.defineProperty($,"raw",{value:Z}):$.raw=Z,$}function Gt($){if($&&$.__esModule)return $;var Z={};if(null!=$)for(var z in $)Object.hasOwnProperty.call($,z)&&(Z[z]=$[z]);return Z.default=$,Z}function mn($){return $&&$.__esModule?$:{default:$}}function Vt($,Z){if(!Z.has($))throw new TypeError("attempted to get private field on non-instance");return Z.get($)}function At($,Z,z){if(!Z.has($))throw new TypeError("attempted to set private field on non-instance");return Z.set($,z),z}}},Ut=>{Ut(Ut.s=6149)}]);