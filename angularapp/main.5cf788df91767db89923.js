(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{8255:zt=>{function Pe(ee){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+ee+"'");throw E.code="MODULE_NOT_FOUND",E})}Pe.keys=()=>[],Pe.resolve=Pe,Pe.id=8255,zt.exports=Pe},8583:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{mr:()=>Ze,ez:()=>sr,K0:()=>Ee,x:()=>de,Do:()=>Ft,V_:()=>X,Ye:()=>Gt,S$:()=>nt,sg:()=>$n,O5:()=>zr,tP:()=>Si,b0:()=>xt,Zx:()=>ti,lw:()=>Ie,OU:()=>oi,Tn:()=>Z,EM:()=>q,JF:()=>Jt,p6:()=>Ke,Mn:()=>Vt,ol:()=>mt,UT:()=>rt,NF:()=>ri,PM:()=>Do,w_:()=>Ne,bD:()=>Ai,q:()=>J,Mx:()=>Tr,HT:()=>Se});var E=ee(7716);let u=null;function J(){return u}function Se(U){u||(u=U)}class Ne{}const Ee=new E.OlP("DocumentToken");let Ie=(()=>{class U{historyGo(G){throw new Error("Not implemented")}}return U.\u0275fac=function(G){return new(G||U)},U.\u0275prov=(0,E.Yz7)({factory:ne,token:U,providedIn:"platform"}),U})();function ne(){return(0,E.LFG)(De)}const X=new E.OlP("Location Initialized");let De=(()=>{class U extends Ie{constructor(G){super(),this._doc=G,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(G){const fe=J().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",G,!1),()=>fe.removeEventListener("popstate",G)}onHashChange(G){const fe=J().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",G,!1),()=>fe.removeEventListener("hashchange",G)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(G){this.location.pathname=G}pushState(G,fe,Fe){ge()?this._history.pushState(G,fe,Fe):this.location.hash=Fe}replaceState(G,fe,Fe){ge()?this._history.replaceState(G,fe,Fe):this.location.hash=Fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return U.\u0275fac=function(G){return new(G||U)(E.LFG(Ee))},U.\u0275prov=(0,E.Yz7)({factory:ye,token:U,providedIn:"platform"}),U})();function ge(){return!!window.history.pushState}function ye(){return new De((0,E.LFG)(Ee))}function et(U,ae){if(0==U.length)return ae;if(0==ae.length)return U;let G=0;return U.endsWith("/")&&G++,ae.startsWith("/")&&G++,2==G?U+ae.substring(1):1==G?U+ae:U+"/"+ae}function ct(U){const ae=U.match(/#|\?|$/),G=ae&&ae.index||U.length;return U.slice(0,G-("/"===U[G-1]?1:0))+U.slice(G)}function st(U){return U&&"?"!==U[0]?"?"+U:U}let nt=(()=>{class U{historyGo(G){throw new Error("Not implemented")}}return U.\u0275fac=function(G){return new(G||U)},U.\u0275prov=(0,E.Yz7)({factory:Te,token:U,providedIn:"root"}),U})();function Te(U){const ae=(0,E.LFG)(Ee).location;return new xt((0,E.LFG)(Ie),ae&&ae.origin||"")}const Ze=new E.OlP("appBaseHref");let xt=(()=>{class U extends nt{constructor(G,fe){if(super(),this._platformLocation=G,this._removeListenerFns=[],null==fe&&(fe=this._platformLocation.getBaseHrefFromDOM()),null==fe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=fe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return et(this._baseHref,G)}path(G=!1){const fe=this._platformLocation.pathname+st(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&G?`${fe}${Fe}`:fe}pushState(G,fe,Fe,pt){const bt=this.prepareExternalUrl(Fe+st(pt));this._platformLocation.pushState(G,fe,bt)}replaceState(G,fe,Fe,pt){const bt=this.prepareExternalUrl(Fe+st(pt));this._platformLocation.replaceState(G,fe,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var fe,Fe;null===(Fe=(fe=this._platformLocation).historyGo)||void 0===Fe||Fe.call(fe,G)}}return U.\u0275fac=function(G){return new(G||U)(E.LFG(Ie),E.LFG(Ze,8))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})(),Ft=(()=>{class U extends nt{constructor(G,fe){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(G){const fe=et(this._baseHref,G);return fe.length>0?"#"+fe:fe}pushState(G,fe,Fe,pt){let bt=this.prepareExternalUrl(Fe+st(pt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(G,fe,bt)}replaceState(G,fe,Fe,pt){let bt=this.prepareExternalUrl(Fe+st(pt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(G,fe,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var fe,Fe;null===(Fe=(fe=this._platformLocation).historyGo)||void 0===Fe||Fe.call(fe,G)}}return U.\u0275fac=function(G){return new(G||U)(E.LFG(Ie),E.LFG(Ze,8))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})(),Gt=(()=>{class U{constructor(G,fe){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=G;const Fe=this._platformStrategy.getBaseHref();this._platformLocation=fe,this._baseHref=ct($(Fe)),this._platformStrategy.onPopState(pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:pt.state,type:pt.type})})}path(G=!1){return this.normalize(this._platformStrategy.path(G))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(G,fe=""){return this.path()==this.normalize(G+st(fe))}normalize(G){return U.stripTrailingSlash(function(U,ae){return U&&ae.startsWith(U)?ae.substring(U.length):ae}(this._baseHref,$(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._platformStrategy.prepareExternalUrl(G)}go(G,fe="",Fe=null){this._platformStrategy.pushState(Fe,"",G,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+st(fe)),Fe)}replaceState(G,fe="",Fe=null){this._platformStrategy.replaceState(Fe,"",G,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+st(fe)),Fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(G=0){var fe,Fe;null===(Fe=(fe=this._platformStrategy).historyGo)||void 0===Fe||Fe.call(fe,G)}onUrlChange(G){this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)}))}_notifyUrlChangeListeners(G="",fe){this._urlChangeListeners.forEach(Fe=>Fe(G,fe))}subscribe(G,fe,Fe){return this._subject.subscribe({next:G,error:fe,complete:Fe})}}return U.\u0275fac=function(G){return new(G||U)(E.LFG(nt),E.LFG(Ie))},U.normalizeQueryParams=st,U.joinWithSlash=et,U.stripTrailingSlash=ct,U.\u0275prov=(0,E.Yz7)({factory:Dt,token:U,providedIn:"root"}),U})();function Dt(){return new Gt((0,E.LFG)(nt),(0,E.LFG)(Ie))}function $(U){return U.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Percent=1]="Percent",W[W.Currency=2]="Currency",W[W.Scientific=3]="Scientific",W))(),oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))(),de=(()=>((de=de||{})[de.Format=0]="Format",de[de.Standalone=1]="Standalone",de))(),Z=(()=>((Z=Z||{})[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Group=1]="Group",Me[Me.List=2]="List",Me[Me.PercentSign=3]="PercentSign",Me[Me.PlusSign=4]="PlusSign",Me[Me.MinusSign=5]="MinusSign",Me[Me.Exponential=6]="Exponential",Me[Me.SuperscriptingExponent=7]="SuperscriptingExponent",Me[Me.PerMille=8]="PerMille",Me[Me.Infinity=9]="Infinity",Me[Me.NaN=10]="NaN",Me[Me.TimeSeparator=11]="TimeSeparator",Me[Me.CurrencyDecimal=12]="CurrencyDecimal",Me[Me.CurrencyGroup=13]="CurrencyGroup",Me))();function mt(U,ae,G){const fe=(0,E.cg1)(U),pt=zn([fe[E.wAp.DayPeriodsFormat],fe[E.wAp.DayPeriodsStandalone]],ae);return zn(pt,G)}function Vt(U,ae,G){const fe=(0,E.cg1)(U),pt=zn([fe[E.wAp.DaysFormat],fe[E.wAp.DaysStandalone]],ae);return zn(pt,G)}function rt(U,ae,G){const fe=(0,E.cg1)(U),pt=zn([fe[E.wAp.MonthsFormat],fe[E.wAp.MonthsStandalone]],ae);return zn(pt,G)}function fn(U,ae){return zn((0,E.cg1)(U)[E.wAp.DateFormat],ae)}function Ct(U,ae){return zn((0,E.cg1)(U)[E.wAp.TimeFormat],ae)}function lt(U,ae){return zn((0,E.cg1)(U)[E.wAp.DateTimeFormat],ae)}function tt(U,ae){const G=(0,E.cg1)(U),fe=G[E.wAp.NumberSymbols][ae];if(void 0===fe){if(ae===Me.CurrencyDecimal)return G[E.wAp.NumberSymbols][Me.Decimal];if(ae===Me.CurrencyGroup)return G[E.wAp.NumberSymbols][Me.Group]}return fe}const Cn=E.kL8;function Vn(U){if(!U[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zn(U,ae){for(let G=ae;G>-1;G--)if(void 0!==U[G])return U[G];throw new Error("Locale data API: locale data undefined")}function Un(U){const[ae,G]=U.split(":");return{hours:+ae,minutes:+G}}const Ae=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,at={},Et=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.ShortGMT=1]="ShortGMT",Oe[Oe.Long=2]="Long",Oe[Oe.Extended=3]="Extended",Oe))(),Ce=(()=>((Ce=Ce||{})[Ce.FullYear=0]="FullYear",Ce[Ce.Month=1]="Month",Ce[Ce.Date=2]="Date",Ce[Ce.Hours=3]="Hours",Ce[Ce.Minutes=4]="Minutes",Ce[Ce.Seconds=5]="Seconds",Ce[Ce.FractionalSeconds=6]="FractionalSeconds",Ce[Ce.Day=7]="Day",Ce))(),Ue=(()=>((Ue=Ue||{})[Ue.DayPeriods=0]="DayPeriods",Ue[Ue.Days=1]="Days",Ue[Ue.Months=2]="Months",Ue[Ue.Eras=3]="Eras",Ue))();function Ke(U,ae,G,fe){let Fe=function(U){if(Ki(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Fe,pt=1,bt=1]=U.split("-").map(Qt=>+Qt);return qe(Fe,pt-1,bt)}const G=parseFloat(U);if(!isNaN(U-G))return new Date(G);let fe;if(fe=U.match(Ae))return function(U){const ae=new Date(0);let G=0,fe=0;const Fe=U[8]?ae.setUTCFullYear:ae.setFullYear,pt=U[8]?ae.setUTCHours:ae.setHours;U[9]&&(G=Number(U[9]+U[10]),fe=Number(U[9]+U[11])),Fe.call(ae,Number(U[1]),Number(U[2])-1,Number(U[3]));const bt=Number(U[4]||0)-G,Qt=Number(U[5]||0)-fe,mn=Number(U[6]||0),Kn=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return pt.call(ae,bt,Qt,mn,Kn),ae}(fe)}const ae=new Date(U);if(!Ki(ae))throw new Error(`Unable to convert "${U}" into a date`);return ae}(U);ae=Ot(G,ae)||ae;let Qt,bt=[];for(;ae;){if(Qt=Et.exec(ae),!Qt){bt.push(ae);break}{bt=bt.concat(Qt.slice(1));const Zn=bt.pop();if(!Zn)break;ae=Zn}}let mn=Fe.getTimezoneOffset();fe&&(mn=Ar(fe,mn),Fe=function(U,ae,G){const Fe=U.getTimezoneOffset();return function(U,ae){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ae),U}(U,-1*(Ar(ae,Fe)-Fe))}(Fe,fe));let Kn="";return bt.forEach(Zn=>{const Nn=function(U){if(Ti[U])return Ti[U];let ae;switch(U){case"G":case"GG":case"GGG":ae=rn(Ue.Eras,Z.Abbreviated);break;case"GGGG":ae=rn(Ue.Eras,Z.Wide);break;case"GGGGG":ae=rn(Ue.Eras,Z.Narrow);break;case"y":ae=Yt(Ce.FullYear,1,0,!1,!0);break;case"yy":ae=Yt(Ce.FullYear,2,0,!0,!0);break;case"yyy":ae=Yt(Ce.FullYear,3,0,!1,!0);break;case"yyyy":ae=Yt(Ce.FullYear,4,0,!1,!0);break;case"Y":ae=Vr(1);break;case"YY":ae=Vr(2,!0);break;case"YYY":ae=Vr(3);break;case"YYYY":ae=Vr(4);break;case"M":case"L":ae=Yt(Ce.Month,1,1);break;case"MM":case"LL":ae=Yt(Ce.Month,2,1);break;case"MMM":ae=rn(Ue.Months,Z.Abbreviated);break;case"MMMM":ae=rn(Ue.Months,Z.Wide);break;case"MMMMM":ae=rn(Ue.Months,Z.Narrow);break;case"LLL":ae=rn(Ue.Months,Z.Abbreviated,de.Standalone);break;case"LLLL":ae=rn(Ue.Months,Z.Wide,de.Standalone);break;case"LLLLL":ae=rn(Ue.Months,Z.Narrow,de.Standalone);break;case"w":ae=Co(1);break;case"ww":ae=Co(2);break;case"W":ae=Co(1,!0);break;case"d":ae=Yt(Ce.Date,1);break;case"dd":ae=Yt(Ce.Date,2);break;case"c":case"cc":ae=Yt(Ce.Day,1);break;case"ccc":ae=rn(Ue.Days,Z.Abbreviated,de.Standalone);break;case"cccc":ae=rn(Ue.Days,Z.Wide,de.Standalone);break;case"ccccc":ae=rn(Ue.Days,Z.Narrow,de.Standalone);break;case"cccccc":ae=rn(Ue.Days,Z.Short,de.Standalone);break;case"E":case"EE":case"EEE":ae=rn(Ue.Days,Z.Abbreviated);break;case"EEEE":ae=rn(Ue.Days,Z.Wide);break;case"EEEEE":ae=rn(Ue.Days,Z.Narrow);break;case"EEEEEE":ae=rn(Ue.Days,Z.Short);break;case"a":case"aa":case"aaa":ae=rn(Ue.DayPeriods,Z.Abbreviated);break;case"aaaa":ae=rn(Ue.DayPeriods,Z.Wide);break;case"aaaaa":ae=rn(Ue.DayPeriods,Z.Narrow);break;case"b":case"bb":case"bbb":ae=rn(Ue.DayPeriods,Z.Abbreviated,de.Standalone,!0);break;case"bbbb":ae=rn(Ue.DayPeriods,Z.Wide,de.Standalone,!0);break;case"bbbbb":ae=rn(Ue.DayPeriods,Z.Narrow,de.Standalone,!0);break;case"B":case"BB":case"BBB":ae=rn(Ue.DayPeriods,Z.Abbreviated,de.Format,!0);break;case"BBBB":ae=rn(Ue.DayPeriods,Z.Wide,de.Format,!0);break;case"BBBBB":ae=rn(Ue.DayPeriods,Z.Narrow,de.Format,!0);break;case"h":ae=Yt(Ce.Hours,1,-12);break;case"hh":ae=Yt(Ce.Hours,2,-12);break;case"H":ae=Yt(Ce.Hours,1);break;case"HH":ae=Yt(Ce.Hours,2);break;case"m":ae=Yt(Ce.Minutes,1);break;case"mm":ae=Yt(Ce.Minutes,2);break;case"s":ae=Yt(Ce.Seconds,1);break;case"ss":ae=Yt(Ce.Seconds,2);break;case"S":ae=Yt(Ce.FractionalSeconds,1);break;case"SS":ae=Yt(Ce.FractionalSeconds,2);break;case"SSS":ae=Yt(Ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ae=kn(Oe.Short);break;case"ZZZZZ":ae=kn(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ae=kn(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ae=kn(Oe.Long);break;default:return null}return Ti[U]=ae,ae}(Zn);Kn+=Nn?Nn(Fe,G,mn):"''"===Zn?"'":Zn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Kn}function qe(U,ae,G){const fe=new Date(0);return fe.setFullYear(U,ae,G),fe.setHours(0,0,0),fe}function Ot(U,ae){const G=function(U){return(0,E.cg1)(U)[E.wAp.LocaleId]}(U);if(at[G]=at[G]||{},at[G][ae])return at[G][ae];let fe="";switch(ae){case"shortDate":fe=fn(U,Re.Short);break;case"mediumDate":fe=fn(U,Re.Medium);break;case"longDate":fe=fn(U,Re.Long);break;case"fullDate":fe=fn(U,Re.Full);break;case"shortTime":fe=Ct(U,Re.Short);break;case"mediumTime":fe=Ct(U,Re.Medium);break;case"longTime":fe=Ct(U,Re.Long);break;case"fullTime":fe=Ct(U,Re.Full);break;case"short":const Fe=Ot(U,"shortTime"),pt=Ot(U,"shortDate");fe=Lt(lt(U,Re.Short),[Fe,pt]);break;case"medium":const bt=Ot(U,"mediumTime"),Qt=Ot(U,"mediumDate");fe=Lt(lt(U,Re.Medium),[bt,Qt]);break;case"long":const mn=Ot(U,"longTime"),Kn=Ot(U,"longDate");fe=Lt(lt(U,Re.Long),[mn,Kn]);break;case"full":const Zn=Ot(U,"fullTime"),Nn=Ot(U,"fullDate");fe=Lt(lt(U,Re.Full),[Zn,Nn])}return fe&&(at[G][ae]=fe),fe}function Lt(U,ae){return ae&&(U=U.replace(/\{([^}]+)}/g,function(G,fe){return null!=ae&&fe in ae?ae[fe]:G})),U}function en(U,ae,G="-",fe,Fe){let pt="";(U<0||Fe&&U<=0)&&(Fe?U=1-U:(U=-U,pt=G));let bt=String(U);for(;bt.length<ae;)bt="0"+bt;return fe&&(bt=bt.substr(bt.length-ae)),pt+bt}function Yt(U,ae,G=0,fe=!1,Fe=!1){return function(pt,bt){let Qt=function(U,ae){switch(U){case Ce.FullYear:return ae.getFullYear();case Ce.Month:return ae.getMonth();case Ce.Date:return ae.getDate();case Ce.Hours:return ae.getHours();case Ce.Minutes:return ae.getMinutes();case Ce.Seconds:return ae.getSeconds();case Ce.FractionalSeconds:return ae.getMilliseconds();case Ce.Day:return ae.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,pt);if((G>0||Qt>-G)&&(Qt+=G),U===Ce.Hours)0===Qt&&-12===G&&(Qt=12);else if(U===Ce.FractionalSeconds)return function(U,ae){return en(U,3).substr(0,ae)}(Qt,ae);const mn=tt(bt,Me.MinusSign);return en(Qt,ae,mn,fe,Fe)}}function rn(U,ae,G=de.Format,fe=!1){return function(Fe,pt){return function(U,ae,G,fe,Fe,pt){switch(G){case Ue.Months:return rt(ae,Fe,fe)[U.getMonth()];case Ue.Days:return Vt(ae,Fe,fe)[U.getDay()];case Ue.DayPeriods:const bt=U.getHours(),Qt=U.getMinutes();if(pt){const Kn=function(U){const ae=(0,E.cg1)(U);return Vn(ae),(ae[E.wAp.ExtraData][2]||[]).map(fe=>"string"==typeof fe?Un(fe):[Un(fe[0]),Un(fe[1])])}(ae),Zn=function(U,ae,G){const fe=(0,E.cg1)(U);Vn(fe);const pt=zn([fe[E.wAp.ExtraData][0],fe[E.wAp.ExtraData][1]],ae)||[];return zn(pt,G)||[]}(ae,Fe,fe),Nn=Kn.findIndex(Wn=>{if(Array.isArray(Wn)){const[ar,Hr]=Wn,Vi=bt>=ar.hours&&Qt>=ar.minutes,Yr=bt<Hr.hours||bt===Hr.hours&&Qt<Hr.minutes;if(ar.hours<Hr.hours){if(Vi&&Yr)return!0}else if(Vi||Yr)return!0}else if(Wn.hours===bt&&Wn.minutes===Qt)return!0;return!1});if(-1!==Nn)return Zn[Nn]}return mt(ae,Fe,fe)[bt<12?0:1];case Ue.Eras:return function(U,ae){return zn((0,E.cg1)(U)[E.wAp.Eras],ae)}(ae,fe)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(Fe,pt,U,ae,G,fe)}}function kn(U){return function(ae,G,fe){const Fe=-1*fe,pt=tt(G,Me.MinusSign),bt=Fe>0?Math.floor(Fe/60):Math.ceil(Fe/60);switch(U){case Oe.Short:return(Fe>=0?"+":"")+en(bt,2,pt)+en(Math.abs(Fe%60),2,pt);case Oe.ShortGMT:return"GMT"+(Fe>=0?"+":"")+en(bt,1,pt);case Oe.Long:return"GMT"+(Fe>=0?"+":"")+en(bt,2,pt)+":"+en(Math.abs(Fe%60),2,pt);case Oe.Extended:return 0===fe?"Z":(Fe>=0?"+":"")+en(bt,2,pt)+":"+en(Math.abs(Fe%60),2,pt);default:throw new Error(`Unknown zone width "${U}"`)}}}function Di(U){return qe(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Co(U,ae=!1){return function(G,fe){let Fe;if(ae){const pt=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,bt=G.getDate();Fe=1+Math.floor((bt+pt)/7)}else{const pt=Di(G),bt=function(U){const ae=qe(U,0,1).getDay();return qe(U,0,1+(ae<=4?4:11)-ae)}(pt.getFullYear()),Qt=pt.getTime()-bt.getTime();Fe=1+Math.round(Qt/6048e5)}return en(Fe,U,tt(fe,Me.MinusSign))}}function Vr(U,ae=!1){return function(G,fe){return en(Di(G).getFullYear(),U,tt(fe,Me.MinusSign),ae)}}const Ti={};function Ar(U,ae){U=U.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(G)?ae:G}function Ki(U){return U instanceof Date&&!isNaN(U.valueOf())}const uo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hn(U){const ae=parseInt(U);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+U);return ae}class pr{}let Eo=(()=>{class U extends pr{constructor(G){super(),this.locale=G}getPluralCategory(G,fe){switch(Cn(fe||this.locale)(G)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return U.\u0275fac=function(G){return new(G||U)(E.LFG(E.soG))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})();function Tr(U,ae){ae=encodeURIComponent(ae);for(const G of U.split(";")){const fe=G.indexOf("="),[Fe,pt]=-1==fe?[G,""]:[G.slice(0,fe),G.slice(fe+1)];if(Fe.trim()===ae)return decodeURIComponent(pt)}return null}class or{constructor(ae,G,fe,Fe){this.$implicit=ae,this.ngForOf=G,this.index=fe,this.count=Fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $n=(()=>{class U{constructor(G,fe,Fe){this._viewContainer=G,this._template=fe,this._differs=Fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;if(!this._differ&&G)try{this._differ=this._differs.find(G).create(this.ngForTrackBy)}catch(fe){throw new Error(`Cannot find a differ supporting object '${G}' of type '${function(U){return U.name||typeof U}(G)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const fe=[];G.forEachOperation((Fe,pt,bt)=>{if(null==Fe.previousIndex){const Qt=this._viewContainer.createEmbeddedView(this._template,new or(null,this._ngForOf,-1,-1),null===bt?void 0:bt),mn=new Pn(Fe,Qt);fe.push(mn)}else if(null==bt)this._viewContainer.remove(null===pt?void 0:pt);else if(null!==pt){const Qt=this._viewContainer.get(pt);this._viewContainer.move(Qt,bt);const mn=new Pn(Fe,Qt);fe.push(mn)}});for(let Fe=0;Fe<fe.length;Fe++)this._perViewChange(fe[Fe].view,fe[Fe].record);for(let Fe=0,pt=this._viewContainer.length;Fe<pt;Fe++){const bt=this._viewContainer.get(Fe);bt.context.index=Fe,bt.context.count=pt,bt.context.ngForOf=this._ngForOf}G.forEachIdentityChange(Fe=>{this._viewContainer.get(Fe.currentIndex).context.$implicit=Fe.item})}_perViewChange(G,fe){G.context.$implicit=fe.item}static ngTemplateContextGuard(G,fe){return!0}}return U.\u0275fac=function(G){return new(G||U)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class Pn{constructor(ae,G){this.record=ae,this.view=G}}let zr=(()=>{class U{constructor(G,fe){this._viewContainer=G,this._context=new ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){Zr("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){Zr("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,fe){return!0}}return U.\u0275fac=function(G){return new(G||U)(E.Y36(E.s_b),E.Y36(E.Rgc))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class ni{constructor(){this.$implicit=null,this.ngIf=null}}function Zr(U,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,E.AaK)(ae)}'.`)}let Si=(()=>{class U{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(G){if(G.ngTemplateOutlet){const fe=this._viewContainerRef;this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?fe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&G.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(G){return new(G||U)(E.Y36(E.s_b))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[E.TTD]}),U})();function ei(U,ae){return Error(`InvalidPipeArgument: '${ae}' for pipe '${(0,E.AaK)(U)}'`)}let ti=(()=>{class U{constructor(G){this._locale=G}transform(G,fe,Fe){if(!function(U){return!(null==U||""===U||U!=U)}(G))return null;Fe=Fe||this._locale;try{return function(U,ae,G){return function(U,ae,G,fe,Fe,pt,bt=!1){let Qt="",mn=!1;if(isFinite(U)){let Kn=function(U){let fe,Fe,pt,bt,Qt,ae=Math.abs(U)+"",G=0;for((Fe=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(pt=ae.search(/e/i))>0?(Fe<0&&(Fe=pt),Fe+=+ae.slice(pt+1),ae=ae.substring(0,pt)):Fe<0&&(Fe=ae.length),pt=0;"0"===ae.charAt(pt);pt++);if(pt===(Qt=ae.length))fe=[0],Fe=1;else{for(Qt--;"0"===ae.charAt(Qt);)Qt--;for(Fe-=pt,fe=[],bt=0;pt<=Qt;pt++,bt++)fe[bt]=Number(ae.charAt(pt))}return Fe>22&&(fe=fe.splice(0,21),G=Fe-1,Fe=1),{digits:fe,exponent:G,integerLen:Fe}}(U);bt&&(Kn=function(U){if(0===U.digits[0])return U;const ae=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===ae?U.digits.push(0,0):1===ae&&U.digits.push(0),U.integerLen+=2),U}(Kn));let Zn=ae.minInt,Nn=ae.minFrac,Wn=ae.maxFrac;if(pt){const lr=pt.match(uo);if(null===lr)throw new Error(`${pt} is not a valid digit info`);const qt=lr[1],Cr=lr[3],Wi=lr[5];null!=qt&&(Zn=hn(qt)),null!=Cr&&(Nn=hn(Cr)),null!=Wi?Wn=hn(Wi):null!=Cr&&Nn>Wn&&(Wn=Nn)}!function(U,ae,G){if(ae>G)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${G}).`);let fe=U.digits,Fe=fe.length-U.integerLen;const pt=Math.min(Math.max(ae,Fe),G);let bt=pt+U.integerLen,Qt=fe[bt];if(bt>0){fe.splice(Math.max(U.integerLen,bt));for(let Nn=bt;Nn<fe.length;Nn++)fe[Nn]=0}else{Fe=Math.max(0,Fe),U.integerLen=1,fe.length=Math.max(1,bt=pt+1),fe[0]=0;for(let Nn=1;Nn<bt;Nn++)fe[Nn]=0}if(Qt>=5)if(bt-1<0){for(let Nn=0;Nn>bt;Nn--)fe.unshift(0),U.integerLen++;fe.unshift(1),U.integerLen++}else fe[bt-1]++;for(;Fe<Math.max(0,pt);Fe++)fe.push(0);let mn=0!==pt;const Kn=ae+U.integerLen,Zn=fe.reduceRight(function(Nn,Wn,ar,Hr){return Hr[ar]=(Wn+=Nn)<10?Wn:Wn-10,mn&&(0===Hr[ar]&&ar>=Kn?Hr.pop():mn=!1),Wn>=10?1:0},0);Zn&&(fe.unshift(Zn),U.integerLen++)}(Kn,Nn,Wn);let ar=Kn.digits,Hr=Kn.integerLen;const Vi=Kn.exponent;let Yr=[];for(mn=ar.every(lr=>!lr);Hr<Zn;Hr++)ar.unshift(0);for(;Hr<0;Hr++)ar.unshift(0);Hr>0?Yr=ar.splice(Hr,ar.length):(Yr=ar,ar=[0]);const Ro=[];for(ar.length>=ae.lgSize&&Ro.unshift(ar.splice(-ae.lgSize,ar.length).join(""));ar.length>ae.gSize;)Ro.unshift(ar.splice(-ae.gSize,ar.length).join(""));ar.length&&Ro.unshift(ar.join("")),Qt=Ro.join(tt(G,fe)),Yr.length&&(Qt+=tt(G,Fe)+Yr.join("")),Vi&&(Qt+=tt(G,Me.Exponential)+"+"+Vi)}else Qt=tt(G,Me.Infinity);return Qt=U<0&&!mn?ae.negPre+Qt+ae.negSuf:ae.posPre+Qt+ae.posSuf,Qt}(U,function(U,ae="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},fe=U.split(";"),Fe=fe[0],pt=fe[1],bt=-1!==Fe.indexOf(".")?Fe.split("."):[Fe.substring(0,Fe.lastIndexOf("0")+1),Fe.substring(Fe.lastIndexOf("0")+1)],Qt=bt[0],mn=bt[1]||"";G.posPre=Qt.substr(0,Qt.indexOf("#"));for(let Zn=0;Zn<mn.length;Zn++){const Nn=mn.charAt(Zn);"0"===Nn?G.minFrac=G.maxFrac=Zn+1:"#"===Nn?G.maxFrac=Zn+1:G.posSuf+=Nn}const Kn=Qt.split(",");if(G.gSize=Kn[1]?Kn[1].length:0,G.lgSize=Kn[2]||Kn[1]?(Kn[2]||Kn[1]).length:0,pt){const Zn=Fe.length-G.posPre.length-G.posSuf.length,Nn=pt.indexOf("#");G.negPre=pt.substr(0,Nn).replace(/'/g,""),G.negSuf=pt.substr(Nn+Zn).replace(/'/g,"")}else G.negPre=ae+G.posPre,G.negSuf=G.posSuf;return G}(function(U,ae){return(0,E.cg1)(U)[E.wAp.NumberFormats][ae]}(ae,W.Percent),tt(ae,Me.MinusSign)),ae,Me.Group,Me.Decimal,G,!0).replace(new RegExp("%","g"),tt(ae,Me.PercentSign))}(function(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(G),Fe,fe)}catch(pt){throw ei(U,pt.message)}}}return U.\u0275fac=function(G){return new(G||U)(E.Y36(E.soG,16))},U.\u0275pipe=E.Yjl({name:"percent",type:U,pure:!0}),U})();let oi=(()=>{class U{transform(G,fe,Fe){if(null==G)return null;if(!this.supports(G))throw ei(U,G);return G.slice(fe,Fe)}supports(G){return"string"==typeof G||Array.isArray(G)}}return U.\u0275fac=function(G){return new(G||U)},U.\u0275pipe=E.Yjl({name:"slice",type:U,pure:!1}),U})(),sr=(()=>{class U{}return U.\u0275fac=function(G){return new(G||U)},U.\u0275mod=E.oAB({type:U}),U.\u0275inj=E.cJS({providers:[{provide:pr,useClass:Eo}]}),U})();const Ai="browser";function ri(U){return U===Ai}function Do(U){return"server"===U}let q=(()=>{class U{}return U.\u0275prov=(0,E.Yz7)({token:U,providedIn:"root",factory:()=>new H((0,E.LFG)(Ee),window)}),U})();class H{constructor(ae,G){this.document=ae,this.window=G,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const G=function(U,ae){const G=U.getElementById(ae)||U.getElementsByName(ae)[0];if(G)return G;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const fe=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Fe=fe.currentNode;for(;Fe;){const pt=Fe.shadowRoot;if(pt){const bt=pt.getElementById(ae)||pt.querySelector(`[name="${ae}"]`);if(bt)return bt}Fe=fe.nextNode()}}return null}(this.document,ae);G&&(this.scrollToElement(G),this.attemptFocus(G))}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=ae)}}scrollToElement(ae){const G=ae.getBoundingClientRect(),fe=G.left+this.window.pageXOffset,Fe=G.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(fe-pt[0],Fe-pt[1])}attemptFocus(ae){return ae.focus(),this.document.activeElement===ae}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=L(this.window.history)||L(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch(ae){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ae){return!1}}}function L(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Jt{}},1841:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{eN:()=>Me,JF:()=>zn});var E=ee(8583),u=ee(7716),J=ee(5917),ke=ee(7574),Se=ee(4612),Ne=ee(5435),Ee=ee(8002);class Ie{}class ne{}class X{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?this.lazyInit="string"==typeof ze?()=>{this.headers=new Map,ze.split("\n").forEach(Ae=>{const at=Ae.indexOf(":");if(at>0){const Et=Ae.slice(0,at),Oe=Et.toLowerCase(),Ce=Ae.slice(at+1).trim();this.maybeSetNormalizedName(Et,Oe),this.headers.has(Oe)?this.headers.get(Oe).push(Ce):this.headers.set(Oe,[Ce])}})}:()=>{this.headers=new Map,Object.keys(ze).forEach(Ae=>{let at=ze[Ae];const Et=Ae.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(Et,at),this.maybeSetNormalizedName(Ae,Et))})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const Ae=this.headers.get(ze.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,Ae){return this.clone({name:ze,value:Ae,op:"a"})}set(ze,Ae){return this.clone({name:ze,value:Ae,op:"s"})}delete(ze,Ae){return this.clone({name:ze,value:Ae,op:"d"})}maybeSetNormalizedName(ze,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,ze)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(Ae=>{this.headers.set(Ae,ze.headers.get(Ae)),this.normalizedNames.set(Ae,ze.normalizedNames.get(Ae))})}clone(ze){const Ae=new X;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),Ae}applyUpdate(ze){const Ae=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let at=ze.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(ze.name,Ae);const Et=("a"===ze.op?this.headers.get(Ae):void 0)||[];Et.push(...at),this.headers.set(Ae,Et);break;case"d":const Oe=ze.value;if(Oe){let Ce=this.headers.get(Ae);if(!Ce)return;Ce=Ce.filter(Ue=>-1===Oe.indexOf(Ue)),0===Ce.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,Ce)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>ze(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class De{encodeKey(ze){return ct(ze)}encodeValue(ze){return ct(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const ye=/%(\d[a-f0-9])/gi,et={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ct(_t){return encodeURIComponent(_t).replace(ye,(ze,Ae)=>{var at;return null!==(at=et[Ae])&&void 0!==at?at:ze})}function st(_t){return`${_t}`}class nt{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new De,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(_t,ze){const Ae=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(Et=>{const Oe=Et.indexOf("="),[Ce,Ue]=-1==Oe?[ze.decodeKey(Et),""]:[ze.decodeKey(Et.slice(0,Oe)),ze.decodeValue(Et.slice(Oe+1))],Ke=Ae.get(Ce)||[];Ke.push(Ue),Ae.set(Ce,Ke)}),Ae}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(Ae=>{const at=ze.fromObject[Ae];this.map.set(Ae,Array.isArray(at)?at:[at])})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const Ae=this.map.get(ze);return Ae?Ae[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,Ae){return this.clone({param:ze,value:Ae,op:"a"})}appendAll(ze){const Ae=[];return Object.keys(ze).forEach(at=>{const Et=ze[at];Array.isArray(Et)?Et.forEach(Oe=>{Ae.push({param:at,value:Oe,op:"a"})}):Ae.push({param:at,value:Et,op:"a"})}),this.clone(Ae)}set(ze,Ae){return this.clone({param:ze,value:Ae,op:"s"})}delete(ze,Ae){return this.clone({param:ze,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const Ae=this.encoder.encodeKey(ze);return this.map.get(ze).map(at=>Ae+"="+this.encoder.encodeValue(at)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const Ae=new nt({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(ze),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const Ae=("a"===ze.op?this.map.get(ze.param):void 0)||[];Ae.push(st(ze.value)),this.map.set(ze.param,Ae);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let at=this.map.get(ze.param)||[];const Et=at.indexOf(st(ze.value));-1!==Et&&at.splice(Et,1),at.length>0?this.map.set(ze.param,at):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(ze,Ae){return this.map.set(ze,Ae),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}keys(){return this.map.keys()}}function Ft(_t){return"undefined"!=typeof ArrayBuffer&&_t instanceof ArrayBuffer}function Gt(_t){return"undefined"!=typeof Blob&&_t instanceof Blob}function Dt(_t){return"undefined"!=typeof FormData&&_t instanceof FormData}class ${constructor(ze,Ae,at,Et){let Oe;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==at?at:null,Oe=Et):Oe=at,Oe&&(this.reportProgress=!!Oe.reportProgress,this.withCredentials=!!Oe.withCredentials,Oe.responseType&&(this.responseType=Oe.responseType),Oe.headers&&(this.headers=Oe.headers),Oe.context&&(this.context=Oe.context),Oe.params&&(this.params=Oe.params)),this.headers||(this.headers=new X),this.context||(this.context=new Ze),this.params){const Ce=this.params.toString();if(0===Ce.length)this.urlWithParams=Ae;else{const Ue=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Ue?"?":Ue<Ae.length-1?"&":"")+Ce}}else this.params=new nt,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:Ft(this.body)||Gt(this.body)||Dt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dt(this.body)?null:Gt(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){var Ae;const at=ze.method||this.method,Et=ze.url||this.url,Oe=ze.responseType||this.responseType,Ce=void 0!==ze.body?ze.body:this.body,Ue=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,Ke=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let qe=ze.headers||this.headers,Ot=ze.params||this.params;const Lt=null!==(Ae=ze.context)&&void 0!==Ae?Ae:this.context;return void 0!==ze.setHeaders&&(qe=Object.keys(ze.setHeaders).reduce((en,Pt)=>en.set(Pt,ze.setHeaders[Pt]),qe)),ze.setParams&&(Ot=Object.keys(ze.setParams).reduce((en,Pt)=>en.set(Pt,ze.setParams[Pt]),Ot)),new $(at,Et,Ce,{params:Ot,headers:qe,context:Lt,reportProgress:Ke,responseType:Oe,withCredentials:Ue})}}var re=(()=>((re=re||{})[re.Sent=0]="Sent",re[re.UploadProgress=1]="UploadProgress",re[re.ResponseHeader=2]="ResponseHeader",re[re.DownloadProgress=3]="DownloadProgress",re[re.Response=4]="Response",re[re.User=5]="User",re))();class W{constructor(ze,Ae=200,at="OK"){this.headers=ze.headers||new X,this.status=void 0!==ze.status?ze.status:Ae,this.statusText=ze.statusText||at,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class oe extends W{constructor(ze={}){super(ze),this.type=re.ResponseHeader}clone(ze={}){return new oe({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class de extends W{constructor(ze={}){super(ze),this.type=re.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new de({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class Z extends W{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function Re(_t,ze){return{body:ze,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials}}let Me=(()=>{class _t{constructor(Ae){this.handler=Ae}request(Ae,at,Et={}){let Oe;if(Ae instanceof $)Oe=Ae;else{let Ke,qe;Ke=Et.headers instanceof X?Et.headers:new X(Et.headers),Et.params&&(qe=Et.params instanceof nt?Et.params:new nt({fromObject:Et.params})),Oe=new $(Ae,at,void 0!==Et.body?Et.body:null,{headers:Ke,context:Et.context,params:qe,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials})}const Ce=(0,J.of)(Oe).pipe((0,Se.b)(Ke=>this.handler.handle(Ke)));if(Ae instanceof $||"events"===Et.observe)return Ce;const Ue=Ce.pipe((0,Ne.h)(Ke=>Ke instanceof de));switch(Et.observe||"body"){case"body":switch(Oe.responseType){case"arraybuffer":return Ue.pipe((0,Ee.U)(Ke=>{if(null!==Ke.body&&!(Ke.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ke.body}));case"blob":return Ue.pipe((0,Ee.U)(Ke=>{if(null!==Ke.body&&!(Ke.body instanceof Blob))throw new Error("Response is not a Blob.");return Ke.body}));case"text":return Ue.pipe((0,Ee.U)(Ke=>{if(null!==Ke.body&&"string"!=typeof Ke.body)throw new Error("Response is not a string.");return Ke.body}));case"json":default:return Ue.pipe((0,Ee.U)(Ke=>Ke.body))}case"response":return Ue;default:throw new Error(`Unreachable: unhandled observe type ${Et.observe}}`)}}delete(Ae,at={}){return this.request("DELETE",Ae,at)}get(Ae,at={}){return this.request("GET",Ae,at)}head(Ae,at={}){return this.request("HEAD",Ae,at)}jsonp(Ae,at){return this.request("JSONP",Ae,{params:(new nt).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,at={}){return this.request("OPTIONS",Ae,at)}patch(Ae,at,Et={}){return this.request("PATCH",Ae,Re(Et,at))}post(Ae,at,Et={}){return this.request("POST",Ae,Re(Et,at))}put(Ae,at,Et={}){return this.request("PUT",Ae,Re(Et,at))}}return _t.\u0275fac=function(Ae){return new(Ae||_t)(u.LFG(Ie))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class Mt{constructor(ze,Ae){this.next=ze,this.interceptor=Ae}handle(ze){return this.interceptor.intercept(ze,this.next)}}const $e=new u.OlP("HTTP_INTERCEPTORS");let mt=(()=>{class _t{intercept(Ae,at){return at.handle(Ae)}}return _t.\u0275fac=function(Ae){return new(Ae||_t)},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const lt=/^\)\]\}',?\n/;let Ye=(()=>{class _t{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ke.y(at=>{const Et=this.xhrFactory.build();if(Et.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(Et.withCredentials=!0),Ae.headers.forEach((Pt,Yt)=>Et.setRequestHeader(Pt,Yt.join(","))),Ae.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const Pt=Ae.detectContentTypeHeader();null!==Pt&&Et.setRequestHeader("Content-Type",Pt)}if(Ae.responseType){const Pt=Ae.responseType.toLowerCase();Et.responseType="json"!==Pt?Pt:"text"}const Oe=Ae.serializeBody();let Ce=null;const Ue=()=>{if(null!==Ce)return Ce;const Pt=1223===Et.status?204:Et.status,Yt=Et.statusText||"OK",tn=new X(Et.getAllResponseHeaders()),rn=function(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(Et)||Ae.url;return Ce=new oe({headers:tn,status:Pt,statusText:Yt,url:rn}),Ce},Ke=()=>{let{headers:Pt,status:Yt,statusText:tn,url:rn}=Ue(),Mn=null;204!==Yt&&(Mn=void 0===Et.response?Et.responseText:Et.response),0===Yt&&(Yt=Mn?200:0);let kn=Yt>=200&&Yt<300;if("json"===Ae.responseType&&"string"==typeof Mn){const vi=Mn;Mn=Mn.replace(lt,"");try{Mn=""!==Mn?JSON.parse(Mn):null}catch(nr){Mn=vi,kn&&(kn=!1,Mn={error:nr,text:Mn})}}kn?(at.next(new de({body:Mn,headers:Pt,status:Yt,statusText:tn,url:rn||void 0})),at.complete()):at.error(new Z({error:Mn,headers:Pt,status:Yt,statusText:tn,url:rn||void 0}))},qe=Pt=>{const{url:Yt}=Ue(),tn=new Z({error:Pt,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:Yt||void 0});at.error(tn)};let Ot=!1;const Lt=Pt=>{Ot||(at.next(Ue()),Ot=!0);let Yt={type:re.DownloadProgress,loaded:Pt.loaded};Pt.lengthComputable&&(Yt.total=Pt.total),"text"===Ae.responseType&&!!Et.responseText&&(Yt.partialText=Et.responseText),at.next(Yt)},en=Pt=>{let Yt={type:re.UploadProgress,loaded:Pt.loaded};Pt.lengthComputable&&(Yt.total=Pt.total),at.next(Yt)};return Et.addEventListener("load",Ke),Et.addEventListener("error",qe),Et.addEventListener("timeout",qe),Et.addEventListener("abort",qe),Ae.reportProgress&&(Et.addEventListener("progress",Lt),null!==Oe&&Et.upload&&Et.upload.addEventListener("progress",en)),Et.send(Oe),at.next({type:re.Sent}),()=>{Et.removeEventListener("error",qe),Et.removeEventListener("abort",qe),Et.removeEventListener("load",Ke),Et.removeEventListener("timeout",qe),Ae.reportProgress&&(Et.removeEventListener("progress",Lt),null!==Oe&&Et.upload&&Et.upload.removeEventListener("progress",en)),Et.readyState!==Et.DONE&&Et.abort()}})}}return _t.\u0275fac=function(Ae){return new(Ae||_t)(u.LFG(E.JF))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Bt=new u.OlP("XSRF_COOKIE_NAME"),wn=new u.OlP("XSRF_HEADER_NAME");class Zt{}let Ut=(()=>{class _t{constructor(Ae,at,Et){this.doc=Ae,this.platform=at,this.cookieName=Et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return _t.\u0275fac=function(Ae){return new(Ae||_t)(u.LFG(E.K0),u.LFG(u.Lbi),u.LFG(Bt))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Cn=(()=>{class _t{constructor(Ae,at){this.tokenService=Ae,this.headerName=at}intercept(Ae,at){const Et=Ae.url.toLowerCase();if("GET"===Ae.method||"HEAD"===Ae.method||Et.startsWith("http://")||Et.startsWith("https://"))return at.handle(Ae);const Oe=this.tokenService.getToken();return null!==Oe&&!Ae.headers.has(this.headerName)&&(Ae=Ae.clone({headers:Ae.headers.set(this.headerName,Oe)})),at.handle(Ae)}}return _t.\u0275fac=function(Ae){return new(Ae||_t)(u.LFG(Zt),u.LFG(wn))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Vn=(()=>{class _t{constructor(Ae,at){this.backend=Ae,this.injector=at,this.chain=null}handle(Ae){if(null===this.chain){const at=this.injector.get($e,[]);this.chain=at.reduceRight((Et,Oe)=>new Mt(Et,Oe),this.backend)}return this.chain.handle(Ae)}}return _t.\u0275fac=function(Ae){return new(Ae||_t)(u.LFG(ne),u.LFG(u.zs3))},_t.\u0275prov=u.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),$t=(()=>{class _t{static disable(){return{ngModule:_t,providers:[{provide:Cn,useClass:mt}]}}static withOptions(Ae={}){return{ngModule:_t,providers:[Ae.cookieName?{provide:Bt,useValue:Ae.cookieName}:[],Ae.headerName?{provide:wn,useValue:Ae.headerName}:[]]}}}return _t.\u0275fac=function(Ae){return new(Ae||_t)},_t.\u0275mod=u.oAB({type:_t}),_t.\u0275inj=u.cJS({providers:[Cn,{provide:$e,useExisting:Cn,multi:!0},{provide:Zt,useClass:Ut},{provide:Bt,useValue:"XSRF-TOKEN"},{provide:wn,useValue:"X-XSRF-TOKEN"}]}),_t})(),zn=(()=>{class _t{}return _t.\u0275fac=function(Ae){return new(Ae||_t)},_t.\u0275mod=u.oAB({type:_t}),_t.\u0275inj=u.cJS({providers:[Me,{provide:Ie,useClass:Vn},Ye,{provide:ne,useExisting:Ye}],imports:[[$t.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),_t})()},7716:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{deG:()=>Kr,tb:()=>D0,AFp:()=>w0,ip1:()=>Mg,CZH:()=>Yc,hGG:()=>tI,z2F:()=>lf,sBO:()=>YC,Sil:()=>uf,_Vd:()=>Kl,EJc:()=>I0,SBq:()=>Eu,qLn:()=>ma,vpe:()=>Du,gxx:()=>Ec,tBr:()=>Qs,XFs:()=>$t,OlP:()=>En,zs3:()=>_i,ZZ4:()=>hh,aQg:()=>ph,soG:()=>Th,YKP:()=>lv,v3s:()=>PT,h0i:()=>Zl,PXZ:()=>NT,R0b:()=>ua,FiY:()=>Xs,Lbi:()=>E0,g9A:()=>C0,Qsj:()=>RC,FYo:()=>fh,JOm:()=>z,Tiy:()=>rg,q3G:()=>Pi,tp0:()=>ta,EAV:()=>VT,Rgc:()=>Qd,dDg:()=>M0,DyG:()=>gl,q4F:()=>ig,GfV:()=>nv,s_b:()=>yh,ifc:()=>Ce,eFA:()=>F0,G48:()=>wT,Gpc:()=>De,_c5:()=>qT,VLi:()=>bT,c2e:()=>T0,zSh:()=>Ld,wAp:()=>jn,vHH:()=>ct,EiD:()=>Cs,mCW:()=>Xu,qzn:()=>Ma,JVY:()=>oc,pB0:()=>Mu,eBb:()=>sc,L6k:()=>ld,LAX:()=>Ol,cg1:()=>Yp,Tjo:()=>zT,kL8:()=>E_,yhl:()=>Rl,dqk:()=>Lt,sIi:()=>Ud,CqO:()=>Vp,QGY:()=>Lp,F4k:()=>Ny,RDi:()=>le,AaK:()=>Ie,z3N:()=>ms,qOj:()=>Ep,TTD:()=>sr,_Bn:()=>K_,xp6:()=>$f,uIk:()=>Ip,Tol:()=>Jy,DjV:()=>f_,ekj:()=>Gp,Suo:()=>Zv,Xpm:()=>Vr,lG2:()=>Ki,Yz7:()=>Ct,cJS:()=>tt,oAB:()=>In,Yjl:()=>uo,Y36:()=>Hd,_UZ:()=>Iy,BQk:()=>Fp,ynx:()=>kp,qZA:()=>Pp,TgZ:()=>Op,EpF:()=>Sy,n5z:()=>es,Ikx:()=>zp,SDv:()=>q_,QtT:()=>Q_,pQV:()=>Kp,LFG:()=>Ei,$8M:()=>Yo,NdJ:()=>Bp,CRH:()=>Xv,kcU:()=>F,O4$:()=>qr,oxw:()=>Ry,ALo:()=>Wv,lcZ:()=>zv,Dn7:()=>Yv,Hsn:()=>Py,F$t:()=>Oy,Q6J:()=>xp,s9C:()=>jp,MGl:()=>rh,VKq:()=>Lv,WLB:()=>Vv,kEZ:()=>Bv,iGM:()=>Jv,MAs:()=>py,CHM:()=>Mi,LSH:()=>Ll,kYT:()=>Gn,Udp:()=>Hp,YNc:()=>hy,W1O:()=>r0,_uU:()=>r_,Oqu:()=>Wp,hij:()=>oh,Gf:()=>Kv});var E=ee(9765),u=ee(5319),J=ee(7574),ke=ee(6682),Se=ee(8819);function Ne(e){for(let t in e)if(e[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function Ee(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ie(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ie).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ne(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const X=Ne({__forward_ref__:Ne});function De(e){return e.__forward_ref__=De,e.toString=function(){return Ie(this())},e}function ge(e){return ye(e)?e():e}function ye(e){return"function"==typeof e&&e.hasOwnProperty(X)&&e.__forward_ref__===De}class ct extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Te(e){return"string"==typeof e?e:null==e?"":String(e)}function Ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Te(e)}function Dt(e,t){const n=t?` in ${t}`:"";throw new ct("201",`No provider for ${Ze(e)} found${n}`)}function Tt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ye(e){return Bt(e,Cn)||Bt(e,Rt)}function Bt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ut(e){return e&&(e.hasOwnProperty(Vn)||e.hasOwnProperty(An))?e[Vn]:null}const Cn=Ne({\u0275prov:Ne}),Vn=Ne({\u0275inj:Ne}),Rt=Ne({ngInjectableDef:Ne}),An=Ne({ngInjectorDef:Ne});var $t=(()=>(($t=$t||{})[$t.Default=0]="Default",$t[$t.Host=1]="Host",$t[$t.Self=2]="Self",$t[$t.SkipSelf=4]="SkipSelf",$t[$t.Optional=8]="Optional",$t))();let zn;function Hn(e){const t=zn;return zn=e,t}function _t(e,t,n){const i=Ye(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&$t.Optional?null:void 0!==t?t:void Dt(Ie(e),"Injector")}function Ae(e){return{toString:e}.toString()}var at=(()=>((at=at||{})[at.OnPush=0]="OnPush",at[at.Default=1]="Default",at))(),Ce=(()=>((Ce=Ce||{})[Ce.Emulated=0]="Emulated",Ce[Ce.None=2]="None",Ce[Ce.ShadowDom=3]="ShadowDom",Ce))();const Ue="undefined"!=typeof globalThis&&globalThis,Ke="undefined"!=typeof window&&window,qe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Lt=Ue||Ot||Ke||qe,Yt={},tn=[],rn=Ne({\u0275cmp:Ne}),Mn=Ne({\u0275dir:Ne}),kn=Ne({\u0275pipe:Ne}),vi=Ne({\u0275mod:Ne}),nr=Ne({\u0275loc:Ne}),rr=Ne({\u0275fac:Ne}),Di=Ne({__NG_ELEMENT_ID__:Ne});let Co=0;function Vr(e){return Ae(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||tn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,id:"c",styles:e.styles||tn,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,h=e.features,w=e.pipes;return i.id+=Co++,i.inputs=bi(e.inputs,n),i.outputs=bi(e.outputs),h&&h.forEach(D=>D(i)),i.directiveDefs=l?()=>("function"==typeof l?l():l).map(ln):null,i.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ar):null,i})}function ln(e){return Rr(e)||function(e){return e[Mn]||null}(e)}function Ar(e){return function(e){return e[kn]||null}(e)}const Tn={};function In(e){return Ae(()=>{const t={type:e.type,bootstrap:e.bootstrap||tn,declarations:e.declarations||tn,imports:e.imports||tn,exports:e.exports||tn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Tn[e.id]=e.type),t})}function Gn(e,t){return Ae(()=>{const n=br(e,!0);n.declarations=t.declarations||tn,n.imports=t.imports||tn,n.exports=t.exports||tn})}function bi(e,t){if(null==e)return Yt;const n={};for(const i in e)if(e.hasOwnProperty(i)){let l=e[i],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),n[l]=i,t&&(t[l]=h)}return n}const Ki=Vr;function uo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rr(e){return e[rn]||null}function br(e,t){const n=e[vi]||null;if(!n&&!0===t)throw new Error(`Type ${Ie(e)} does not have '\u0275mod' property.`);return n}function Xr(e){return Array.isArray(e)&&"object"==typeof e[1]}function jr(e){return Array.isArray(e)&&!0===e[1]}function ji(e){return 0!=(8&e.flags)}function Hi(e){return 2==(2&e.flags)}function Si(e){return 1==(1&e.flags)}function Or(e){return null!==e.template}function ei(e){return 0!=(512&e[2])}function oi(e,t){return e.hasOwnProperty(rr)?e[rr]:null}class Ni{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function sr(){return Ai}function Ai(e){return e.type.prototype.ngOnChanges&&(e.setInput=jo),Li}function Li(){const e=ri(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Yt)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function jo(e,t,n,i){const l=ri(e)||function(e,t){return e[li]=t}(e,{previous:Yt,current:null}),h=l.current||(l.current={}),w=l.previous,D=this.declaredInputs[n],x=w[D];h[D]=new Ni(x&&x.currentValue,t,w===Yt),e[i]=t}sr.ngInherit=!0;const li="__ngSimpleChanges__";function ri(e){return e[li]||null}const q="http://www.w3.org/2000/svg";let L;function le(e){L=e}function ht(){return void 0!==L?L:"undefined"!=typeof document?document:void 0}function U(e){return!!e.listen}const G={createRenderer:(e,t)=>ht()};function Fe(e){for(;Array.isArray(e);)e=e[0];return e}function Qt(e,t){return Fe(t[e])}function mn(e,t){return Fe(t[e.index])}function Zn(e,t){return e.data[t]}function Nn(e,t){return e[t]}function Wn(e,t){const n=t[e];return Xr(n)?n:n[0]}function ar(e){return 4==(4&e[2])}function Hr(e){return 128==(128&e[2])}function Yr(e,t){return null==t?null:e[t]}function Ro(e){e[18]=0}function lr(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const qt={lFrame:ds(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ro(){return qt.bindingsEnabled}function It(){return qt.lFrame.lView}function Yn(){return qt.lFrame.tView}function Mi(e){return qt.lFrame.contextLView=e,e[8]}function Ir(){let e=si();for(;null!==e&&64===e.type;)e=e.parent;return e}function si(){return qt.lFrame.currentTNode}function vo(){const e=qt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function io(e,t){const n=qt.lFrame;n.currentTNode=e,n.isParent=t}function Ko(){return qt.lFrame.isParent}function zi(){qt.lFrame.isParent=!1}function oo(){return qt.isInCheckNoChangesMode}function Zo(e){qt.isInCheckNoChangesMode=e}function _r(){const e=qt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Bi(){return qt.lFrame.bindingIndex}function Io(){return qt.lFrame.bindingIndex++}function xi(e){const t=qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _s(e){qt.lFrame.inI18n=e}function Go(e,t){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Yi(t)}function Yi(e){qt.lFrame.currentDirectiveIndex=e}function ls(){return qt.lFrame.currentQueryIndex}function cs(e){qt.lFrame.currentQueryIndex=e}function $o(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ms(e,t,n){if(n&$t.SkipSelf){let l=t,h=e;for(;!(l=l.parent,null!==l||n&$t.Host||(l=$o(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;t=l,e=h}const i=qt.lFrame=Xn();return i.currentTNode=t,i.lView=e,!0}function Wo(e){const t=Xn(),n=e[1];qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xn(){const e=qt.lFrame,t=null===e?null:e.child;return null===t?ds(e):t}function ds(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function kt(){const e=qt.lFrame;return qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Er=kt;function Po(){const e=kt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gr(){return qt.lFrame.selectedIndex}function bo(e){qt.lFrame.selectedIndex=e}function Sr(){const e=qt.lFrame;return Zn(e.tView,e.selectedIndex)}function qr(){qt.lFrame.currentNamespace=q}function F(){qt.lFrame.currentNamespace=null}function it(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const h=e.data[n].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:j,ngOnDestroy:te}=h;w&&(e.contentHooks||(e.contentHooks=[])).push(-n,w),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),x&&(e.viewHooks||(e.viewHooks=[])).push(-n,x),j&&((e.viewHooks||(e.viewHooks=[])).push(n,j),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,j)),null!=te&&(e.destroyHooks||(e.destroyHooks=[])).push(n,te)}}function Wt(e,t,n){O(e,t,3,n)}function xn(e,t,n,i){(3&e[2])===n&&O(e,t,n,i)}function bn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function O(e,t,n,i){const h=null!=i?i:-1,w=t.length-1;let D=0;for(let x=void 0!==i?65535&e[18]:0;x<w;x++)if("number"==typeof t[x+1]){if(D=t[x],null!=i&&D>=i)break}else t[x]<0&&(e[18]+=65536),(D<h||-1==h)&&(P(e,n,t,x),e[18]=(4294901760&e[18])+x+2),x++}function P(e,t,n,i){const l=n[i]<0,h=n[i+1],D=e[l?-n[i]:n[i]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class Ve{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function js(e,t,n){const i=U(e);let l=0;for(;l<n.length;){const h=n[l];if("number"==typeof h){if(0!==h)break;l++;const w=n[l++],D=n[l++],x=n[l++];i?e.setAttribute(t,D,x,w):t.setAttributeNS(w,D,x)}else{const w=h,D=n[++l];Js(w)?i&&e.setProperty(t,w,D):i?e.setAttribute(t,w,D):t.setAttribute(w,D),l++}}return l}function Ya(e){return 3===e||4===e||6===e}function Js(e){return 64===e.charCodeAt(0)}function Hs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const l=t[i];"number"==typeof l?n=l:0===n||xs(e,n,l,null,-1===n||2===n?t[++i]:null)}}return e}function xs(e,t,n,i,l){let h=0,w=e.length;if(-1===t)w=-1;else for(;h<e.length;){const D=e[h++];if("number"==typeof D){if(D===t){w=-1;break}if(D>t){w=h-1;break}}}for(;h<e.length;){const D=e[h];if("number"==typeof D)break;if(D===n){if(null===i)return void(null!==l&&(e[h+1]=l));if(i===e[h+1])return void(e[h+2]=l)}h++,null!==i&&h++,null!==l&&h++}-1!==w&&(e.splice(w,0,t),h=w+1),e.splice(h++,0,n),null!==i&&e.splice(h++,0,i),null!==l&&e.splice(h++,0,l)}function Ks(e){return-1!==e}function _(e){return 32767&e}function p(e,t){let n=function(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let b=!0;function A(e){const t=b;return b=e,t}let _e=0;function Qe(e,t){const n=M(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,ut(i.data,e),ut(t,null),ut(i.blueprint,null));const l=N(e,t),h=e.injectorIndex;if(Ks(l)){const w=_(l),D=p(l,t),x=D[1].data;for(let j=0;j<8;j++)t[h+j]=D[w+j]|x[w+j]}return t[h+8]=l,h}function ut(e,t){e.push(0,0,0,0,0,0,0,0,t)}function M(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function N(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,l=t;for(;null!==l;){const h=l[1],w=h.type;if(i=2===w?h.declTNode:1===w?l[6]:null,null===i)return-1;if(n++,l=l[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function T(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Di)&&(i=n[Di]),null==i&&(i=n[Di]=_e++);const l=255&i;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function Y(e,t,n){if(n&$t.Optional)return e;Dt(t,"NodeInjector")}function se(e,t,n,i){if(n&$t.Optional&&void 0===i&&(i=null),0==(n&($t.Self|$t.Host))){const l=e[9],h=Hn(void 0);try{return l?l.get(t,i,n&$t.Optional):_t(t,i,n&$t.Optional)}finally{Hn(h)}}return Y(i,t,n)}function xe(e,t,n,i=$t.Default,l){if(null!==e){const h=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Di)?e[Di]:void 0;return"number"==typeof t?t>=0?255&t:yt:t}(n);if("function"==typeof h){if(!Ms(t,e,i))return i&$t.Host?Y(l,n,i):se(t,n,i,l);try{const w=h(i);if(null!=w||i&$t.Optional)return w;Dt(n)}finally{Er()}}else if("number"==typeof h){let w=null,D=M(e,t),x=-1,j=i&$t.Host?t[16][6]:null;for((-1===D||i&$t.SkipSelf)&&(x=-1===D?N(e,t):t[D+8],-1!==x&&Rs(i,!1)?(w=t[1],D=_(x),t=p(x,t)):D=-1);-1!==D;){const te=t[1];if(Nr(h,D,te.data)){const he=Xt(D,t,n,w,i,j);if(he!==We)return he}x=t[D+8],-1!==x&&Rs(i,t[1].data[D+8]===j)&&Nr(h,D,t)?(w=te,D=_(x),t=p(x,t)):D=-1}}}return se(t,n,i,l)}const We={};function yt(){return new So(Ir(),It())}function Xt(e,t,n,i,l,h){const w=t[1],D=w.data[e+8],te=gn(D,w,n,null==i?Hi(D)&&b:i!=w&&0!=(3&D.type),l&$t.Host&&h===D);return null!==te?Ln(t,w,te,D):We}function gn(e,t,n,i,l){const h=e.providerIndexes,w=t.data,D=1048575&h,x=e.directiveStart,te=h>>20,ve=l?D+te:e.directiveEnd;for(let Ge=i?D:D+te;Ge<ve;Ge++){const Je=w[Ge];if(Ge<x&&n===Je||Ge>=x&&Je.type===n)return Ge}if(l){const Ge=w[x];if(Ge&&Or(Ge)&&Ge.type===n)return x}return null}function Ln(e,t,n,i){let l=e[n];const h=t.data;if(function(e){return e instanceof Ve}(l)){const w=l;w.resolving&&function(e,t){throw new ct("200",`Circular dependency in DI detected for ${e}`)}(Ze(h[n]));const D=A(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?Hn(w.injectImpl):null;Ms(e,i,$t.Default);try{l=e[n]=w.factory(void 0,h,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:l,ngDoCheck:h}=t.type.prototype;if(i){const w=Ai(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,w),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,w)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),h&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,h),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,h))}(n,h[n],t)}finally{null!==x&&Hn(x),A(D),w.resolving=!1,Er()}}return l}function Nr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Rs(e,t){return!(e&$t.Self||e&$t.Host&&t)}class So{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return xe(this._tNode,this._lView,t,void 0,n)}}function es(e){return Ae(()=>{const t=e.prototype.constructor,n=t[rr]||Lo(t),i=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==i;){const h=l[rr]||Lo(l);if(h&&h!==n)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Lo(e){return ye(e)?()=>{const t=Lo(ge(e));return t&&t()}:oi(e)}function Yo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let l=0;for(;l<i;){const h=n[l];if(Ya(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<i&&"string"==typeof n[l];)l++;else{if(h===t)return n[l+1];l+=2}}}return null}(Ir(),e)}const Gs="__parameters__";function Ws(e,t,n){return Ae(()=>{const i=function(e){return function(...n){if(e){const i=e(...n);for(const l in i)this[l]=i[l]}}}(t);function l(...h){if(this instanceof l)return i.apply(this,h),this;const w=new l(...h);return D.annotation=w,D;function D(x,j,te){const he=x.hasOwnProperty(Gs)?x[Gs]:Object.defineProperty(x,Gs,{value:[]})[Gs];for(;he.length<=te;)he.push(null);return(he[te]=he[te]||[]).push(w),x}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class En{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kr=new En("AnalyzeForEntryComponents"),gl=Function;function Ao(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ao(i,t)):t!==e&&t.push(i)}return t}function Os(e,t){e.forEach(n=>Array.isArray(n)?Os(n,t):t(n))}function ps(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Zs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ws(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function rs(e,t,n){let i=Ta(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let l=e.length;if(l==t)e.push(n,i);else if(1===l)e.push(i,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function yl(e,t){const n=Ta(e,t);if(n>=0)return e[1|n]}function Ta(e,t){return function(e,t,n){let i=0,l=e.length>>n;for(;l!==i;){const h=i+(l-i>>1),w=e[h<<n];if(t===w)return h<<n;w>t?l=h:i=h+1}return~(l<<n)}(e,t,1)}const nu={},bl="__NG_DI_FLAG__",Ys="ngTempTokenPath",zu=/\n/gm,wl="__source",Cl=Ne({provide:String,useValue:Ne});let ru;function iu(e){const t=ru;return ru=e,t}function Ps(e,t=$t.Default){if(void 0===ru)throw new Error("inject() must be called from an injection context");return null===ru?_t(e,void 0,t):ru.get(e,t&$t.Optional?null:void 0,t)}function Ei(e,t=$t.Default){return(zn||Ps)(ge(e),t)}function qs(e){const t=[];for(let n=0;n<e.length;n++){const i=ge(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let l,h=$t.Default;for(let w=0;w<i.length;w++){const D=i[w],x=ao(D);"number"==typeof x?-1===x?l=D.token:h|=x:l=D}t.push(Ei(l,h))}else t.push(Ei(i))}return t}function da(e,t){return e[bl]=t,e.prototype[bl]=t,e}function ao(e){return e[bl]}function Iu(e,t,n,i){const l=e[Ys];throw t[wl]&&l.unshift(t[wl]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=Ie(t);if(Array.isArray(t))l=t.map(Ie).join(" -> ");else if("object"==typeof t){let h=[];for(let w in t)if(t.hasOwnProperty(w)){let D=t[w];h.push(w+":"+("string"==typeof D?JSON.stringify(D):Ie(D)))}l=`{${h.join(", ")}}`}return`${n}${i?"("+i+")":""}[${l}]: ${e.replace(zu,"\n  ")}`}("\n"+e.message,l,n,i),e.ngTokenPath=l,e[Ys]=null,e}const Qs=da(Ws("Inject",e=>({token:e})),-1),Xs=da(Ws("Optional"),8),ta=da(Ws("SkipSelf"),4);let Ju;function ha(e){var t;return(null===(t=function(){if(void 0===Ju&&(Ju=null,Lt.trustedTypes))try{Ju=Lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ju}())||void 0===t?void 0:t.createHTML(e))||e}class gs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ad extends gs{getTypeName(){return"HTML"}}class ic extends gs{getTypeName(){return"Style"}}class ud extends gs{getTypeName(){return"Script"}}class xl extends gs{getTypeName(){return"URL"}}class au extends gs{getTypeName(){return"ResourceURL"}}function ms(e){return e instanceof gs?e.changingThisBreaksApplicationSecurity:e}function Ma(e,t){const n=Rl(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Rl(e){return e instanceof gs&&e.getTypeName()||null}function oc(e){return new ad(e)}function ld(e){return new ic(e)}function sc(e){return new ud(e)}function Ol(e){return new xl(e)}function Mu(e){return new au(e)}function ac(e){const t=new Pl(e);return function(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch(e){return!1}}()?new uc(t):t}class uc{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ha(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Pl{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ha(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=ha(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const w=n.item(l).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&t.removeAttribute(w)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const _f=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xu(e){return(e=String(e)).match(_f)||e.match(cd)?e:"unsafe:"+e}function dd(e){return(e=String(e)).split(",").map(t=>Xu(t.trim())).join(", ")}function ra(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function el(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const fd=ra("area,br,col,hr,img,wbr"),hd=ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pd=ra("rp,rt"),tl=el(fd,el(hd,ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(pd,ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(pd,hd)),kl=ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xu=ra("srcset"),nl=el(kl,xu,ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cc=ra("script,style,template");class uu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!tl.hasOwnProperty(n))return this.sanitizedSomething=!0,!cc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let l=0;l<i.length;l++){const h=i.item(l),w=h.name,D=w.toLowerCase();if(!nl.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=h.value;kl[D]&&(x=Xu(x)),xu[D]&&(x=dd(x)),this.buf.push(" ",w,'="',xa(x),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();tl.hasOwnProperty(n)&&!fd.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(xa(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Cf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lu=/([^\#-~ |!])/g;function xa(e){return e.replace(/&/g,"&amp;").replace(Cf,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Cs(e,t){let n=null;try{rl=rl||ac(e);let i=t?String(t):"";n=rl.getInertBodyElement(i);let l=5,h=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=h,h=n.innerHTML,n=rl.getInertBodyElement(i)}while(i!==h);return ha((new uu).sanitizeChildren(di(n)||n))}finally{if(n){const i=di(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function di(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pi=(()=>((Pi=Pi||{})[Pi.NONE=0]="NONE",Pi[Pi.HTML=1]="HTML",Pi[Pi.STYLE=2]="STYLE",Pi[Pi.SCRIPT=3]="SCRIPT",Pi[Pi.URL=4]="URL",Pi[Pi.RESOURCE_URL=5]="RESOURCE_URL",Pi))();function Ll(e){const t=function(){const e=It();return e&&e[12]}();return t?t.sanitize(Pi.URL,e)||"":Ma(e,"URL")?ms(e):Xu(Te(e))}const fu="__ngContext__";function po(e,t){e[fu]=t}function Fs(e){const t=function(e){return e[fu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Pu(e){return e.ngOriginalError}function jl(e,...t){e.error(...t)}class ma{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=this._findContext(t),l=(e=t)&&e.ngErrorLogger||jl;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),i&&l(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?t.ngDebugContext||this._findContext(Pu(t)):null}_findOriginalError(t){let n=t&&Pu(t);for(;n&&Pu(n);)n=Pu(n);return n||null}}const al=/^>|^->|<!--|-->|--!>|<!-$/g,hu=/(<|>)/;const mc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function d(e){return e instanceof Function?e():e}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();let ce;function be(e,t){return ce(e,t)}function Xe(e){const t=e[3];return jr(t)?t[3]:t}function sn(e){return Rn(e[13])}function on(e){return Rn(e[4])}function Rn(e){for(;null!==e&&!jr(e);)e=e[4];return e}function cr(e,t,n,i,l){if(null!=i){let h,w=!1;jr(i)?h=i:Xr(i)&&(w=!0,i=i[0]);const D=Fe(i);0===e&&null!==n?null==l?Sf(t,n,D):Lu(t,n,D,l||null,!0):1===e&&null!==n?Lu(t,n,D,l||null,!0):2===e?Rf(t,D,w):3===e&&t.destroyNode(D),null!=h&&function(e,t,n,i,l){const h=n[7];h!==Fe(n)&&cr(t,e,i,h,l);for(let D=10;D<n.length;D++){const x=n[D];ll(x[1],x,e,t,i,h)}}(t,e,h,n,l)}}function Gr(e,t){return U(e)?e.createText(t):e.createTextNode(t)}function ai(e,t,n){U(e)?e.setValue(t,n):t.textContent=n}function Vs(e,t){return e.createComment(function(e){return e.replace(al,t=>t.replace(hu,"\u200b$1\u200b"))}(t))}function Ds(e,t,n){return U(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function _c(e,t){const n=e[9],i=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,lr(l,-1)),n.splice(i,1)}function ys(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const l=i[17];null!==l&&l!==e&&_c(l,i),t>0&&(e[n-1][4]=i[4]);const h=Zs(e,10+t);!function(e,t){ll(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const w=h[19];null!==w&&w.detachView(h[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function oa(e,t){if(!(256&t[2])){const n=t[11];U(n)&&n.destroyNode&&ll(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Td(e[1],e);for(;t;){let n=null;if(Xr(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Xr(t)&&Td(t[1],t),t=t[3];null===t&&(t=e),Xr(t)&&Td(t[1],t),n=t&&t[4]}t=n}}(t)}}function Td(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const l=t[n[i]];if(!(l instanceof Ve)){const h=n[i+1];if(Array.isArray(h))for(let w=0;w<h.length;w+=2){const D=l[h[w]],x=h[w+1];try{x.call(D)}finally{}}else try{h.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let l=-1;if(null!==n)for(let h=0;h<n.length-1;h+=2)if("string"==typeof n[h]){const w=n[h+1],D="function"==typeof w?w(t):Fe(t[w]),x=i[l=n[h+2]],j=n[h+3];"boolean"==typeof j?D.removeEventListener(n[h],x,j):j>=0?i[l=j]():i[l=-j].unsubscribe(),h+=2}else{const w=i[l=n[h+1]];n[h].call(w)}if(null!==i){for(let h=l+1;h<i.length;h++)i[h]();t[7]=null}}(e,t),1===t[1].type&&U(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&jr(t[3])){n!==t[3]&&_c(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function If(e,t,n){return Id(e,t.parent,n)}function Id(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const l=e.data[i.directiveStart].encapsulation;if(l===Ce.None||l===Ce.Emulated)return null}return mn(i,n)}function Lu(e,t,n,i,l){U(e)?e.insertBefore(t,n,i,l):t.insertBefore(n,i,l)}function Sf(e,t,n){U(e)?e.appendChild(t,n):t.appendChild(n)}function Nf(e,t,n,i,l){null!==i?Lu(e,t,n,i,l):Sf(e,t,n)}function zl(e,t){return U(e)?e.parentNode(t):t.parentNode}function Uh(e,t,n){return Af(e,t,n)}function Sd(e,t,n){return 40&e.type?mn(e,n):null}let Mf,Af=Sd;function Nd(e,t){Af=e,Mf=t}function Yl(e,t,n,i){const l=If(e,i,t),h=t[11],D=Uh(i.parent||t[6],i,t);if(null!=l)if(Array.isArray(n))for(let x=0;x<n.length;x++)Nf(h,l,n[x],D,!1);else Nf(h,l,n,D,!1);void 0!==Mf&&Mf(h,i,t,n,l)}function vc(e,t){if(null!==t){const n=t.type;if(3&n)return mn(t,e);if(4&n)return bc(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return vc(e,i);{const l=e[t.index];return jr(l)?bc(-1,l):Fe(l)}}if(32&n)return be(t,e)()||Fe(e[t.index]);{const i=xf(e,t);return null!==i?Array.isArray(i)?i[0]:vc(Xe(e[16]),i):vc(e,t.next)}}return null}function xf(e,t){return null!==t?e[16][6].projection[t.projection]:null}function bc(e,t){const n=10+e+1;if(n<t.length){const i=t[n],l=i[1].firstChild;if(null!==l)return vc(i,l)}return t[7]}function Rf(e,t,n){const i=zl(e,t);i&&function(e,t,n,i){U(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function Ad(e,t,n,i,l,h,w){for(;null!=n;){const D=i[n.index],x=n.type;if(w&&0===t&&(D&&po(Fe(D),i),n.flags|=4),64!=(64&n.flags))if(8&x)Ad(e,t,n.child,i,l,h,!1),cr(t,e,l,D,h);else if(32&x){const j=be(n,i);let te;for(;te=j();)cr(t,e,l,te,h);cr(t,e,l,D,h)}else 16&x?Of(e,t,i,n,l,h):cr(t,e,l,D,h);n=w?n.projectionNext:n.next}}function ll(e,t,n,i,l,h){Ad(n,i,e.firstChild,t,l,h,!1)}function Of(e,t,n,i,l,h){const w=n[16],x=w[6].projection[i.projection];if(Array.isArray(x))for(let j=0;j<x.length;j++)cr(t,e,l,x[j],h);else Ad(e,t,x,w[3],l,h,!0)}function kf(e,t,n){U(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Md(e,t,n){U(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ff(e,t,n){let i=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=t.length;if(l+h===i||e.charCodeAt(l+h)<=32)return l}n=l+1}}const Hh="ng-template";function Lf(e,t,n){let i=0;for(;i<e.length;){let l=e[i++];if(n&&"class"===l){if(l=e[i],-1!==Ff(l.toLowerCase(),t,0))return!0}else if(1===l){for(;i<e.length&&"string"==typeof(l=e[i++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function Vf(e){return 4===e.type&&e.value!==Hh}function Gh(e,t,n){return t===(4!==e.type||n?e.value:Hh)}function $h(e,t,n){let i=4;const l=e.attrs||[],h=function(e){for(let t=0;t<e.length;t++)if(Ya(e[t]))return t;return e.length}(l);let w=!1;for(let D=0;D<t.length;D++){const x=t[D];if("number"!=typeof x){if(!w)if(4&i){if(i=2|1&i,""!==x&&!Gh(e,x,n)||""===x&&1===t.length){if(ya(i))return!1;w=!0}}else{const j=8&i?x:t[++D];if(8&i&&null!==e.attrs){if(!Lf(e.attrs,j,n)){if(ya(i))return!1;w=!0}continue}const he=Bf(8&i?"class":x,l,Vf(e),n);if(-1===he){if(ya(i))return!1;w=!0;continue}if(""!==j){let ve;ve=he>h?"":l[he+1].toLowerCase();const Ge=8&i?ve:null;if(Ge&&-1!==Ff(Ge,j,0)||2&i&&j!==ve){if(ya(i))return!1;w=!0}}}}else{if(!w&&!ya(i)&&!ya(x))return!1;if(w&&ya(x))continue;w=!1,i=x|1&i}}return ya(i)||w}function ya(e){return 0==(1&e)}function Bf(e,t,n,i){if(null===t)return-1;let l=0;if(i||!n){let h=!1;for(;l<t.length;){const w=t[l];if(w===e)return l;if(3===w||6===w)h=!0;else{if(1===w||2===w){let D=t[++l];for(;"string"==typeof D;)D=t[++l];continue}if(4===w)break;if(0===w){l+=4;continue}}l+=h?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Uf(e,t,n=!1){for(let i=0;i<t.length;i++)if($h(e,t[i],n))return!0;return!1}function Hf(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let l=0;l<e.length;l++)if(e[l]!==i[l])continue e;return!0}}return!1}function Gf(e,t){return e?":not("+t.trim()+")":t}function Yh(e){let t=e[0],n=1,i=2,l="",h=!1;for(;n<e.length;){let w=e[n];if("string"==typeof w)if(2&i){const D=e[++n];l+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&i?l+="."+w:4&i&&(l+=" "+w);else""!==l&&!ya(w)&&(t+=Gf(h,l),l=""),i=w,h=h||!ya(i);n++}return""!==l&&(t+=Gf(h,l)),t}const tr={};function $f(e){Wf(Yn(),It(),gr()+e,oo())}function Wf(e,t,n,i){if(!i)if(3==(3&t[2])){const h=e.preOrderCheckHooks;null!==h&&Wt(t,h,n)}else{const h=e.preOrderHooks;null!==h&&xn(t,h,0,n)}bo(n)}function ql(e,t){return e<<17|t<<2}function sa(e){return e>>17&32767}function wc(e){return 2|e}function Fa(e){return(131068&e)>>2}function xd(e,t){return-131069&e|t<<2}function Rd(e){return 1|e}function Fr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const l=n[i],h=n[i+1];if(-1!==h){const w=e.data[h];cs(l),w.contentQueries(2,t[h],h)}}}function go(e,t,n,i,l,h,w,D,x,j){const te=t.blueprint.slice();return te[0]=l,te[2]=140|i,Ro(te),te[3]=te[15]=e,te[8]=n,te[10]=w||e&&e[10],te[11]=D||e&&e[11],te[12]=x||e&&e[12]||null,te[9]=j||e&&e[9]||null,te[6]=h,te[16]=2==t.type?e[16]:te,te}function yu(e,t,n,i,l){let h=e.data[t];if(null===h)h=Cc(e,t,n,i,l),qt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=n,h.value=i,h.attrs=l;const w=vo();h.injectorIndex=null===w?-1:w.injectorIndex}return io(h,!0),h}function Cc(e,t,n,i,l){const h=si(),w=Ko(),x=e.data[t]=function(e,t,n,i,l,h){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?h:h&&h.parent,n,t,i,l);return null===e.firstChild&&(e.firstChild=x),null!==h&&(w?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}function La(e,t,n,i){if(0===n)return-1;const l=t.length;for(let h=0;h<n;h++)t.push(i),e.blueprint.push(i),e.data.push(null);return l}function cl(e,t,n){Wo(t);try{const i=e.viewQuery;null!==i&&gp(1,i,n);const l=e.template;null!==l&&gm(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Fr(e,t),e.staticViewQueries&&gp(2,e.viewQuery,n);const h=e.components;null!==h&&function(e,t){for(let n=0;n<t.length;n++)Rb(e,t[n])}(t,h)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Po()}}function Vu(e,t,n,i){const l=t[2];if(256==(256&l))return;Wo(t);const h=oo();try{Ro(t),function(e){qt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&gm(e,t,n,2,i);const w=3==(3&l);if(!h)if(w){const j=e.preOrderCheckHooks;null!==j&&Wt(t,j,null)}else{const j=e.preOrderHooks;null!==j&&xn(t,j,0,null),bn(t,0)}if(function(e){for(let t=sn(e);null!==t;t=on(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const l=n[i],h=l[3];0==(1024&l[2])&&lr(h,1),l[2]|=1024}}}(t),function(e){for(let t=sn(e);null!==t;t=on(t))for(let n=10;n<t.length;n++){const i=t[n],l=i[1];Hr(i)&&Vu(l,i,l.template,i[8])}}(t),null!==e.contentQueries&&Fr(e,t),!h)if(w){const j=e.contentCheckHooks;null!==j&&Wt(t,j)}else{const j=e.contentHooks;null!==j&&xn(t,j,1),bn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const l=n[i];if(l<0)bo(~l);else{const h=l,w=n[++i],D=n[++i];Go(w,h),D(2,t[h])}}}finally{bo(-1)}}(e,t);const D=e.components;null!==D&&function(e,t){for(let n=0;n<t.length;n++)xb(e,t[n])}(t,D);const x=e.viewQuery;if(null!==x&&gp(2,x,i),!h)if(w){const j=e.viewCheckHooks;null!==j&&Wt(t,j)}else{const j=e.viewHooks;null!==j&&xn(t,j,2),bn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),h||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,lr(t[3],-1))}finally{Po()}}function _u(e,t,n,i){const l=t[10],h=!oo(),w=ar(t);try{h&&!w&&l.begin&&l.begin(),w&&cl(e,t,i),Vu(e,t,n,i)}finally{h&&!w&&l.end&&l.end()}}function gm(e,t,n,i,l){const h=gr(),w=2&i;try{bo(-1),w&&t.length>20&&Wf(e,t,20,oo()),n(i,l)}finally{bo(h)}}function mm(e,t,n){if(ji(t)){const l=t.directiveEnd;for(let h=t.directiveStart;h<l;h++){const w=e.data[h];w.contentQueries&&w.contentQueries(1,n[h],h)}}}function ap(e,t,n){!ro()||(function(e,t,n,i){const l=n.directiveStart,h=n.directiveEnd;e.firstCreatePass||Qe(n,t),po(i,t);const w=n.initialInputs;for(let D=l;D<h;D++){const x=e.data[D],j=Or(x);j&&Ib(t,n,x);const te=Ln(t,e,D,n);po(te,t),null!==w&&Sb(0,D-l,te,x,0,w),j&&(Wn(n.index,t)[8]=te)}}(e,t,n,mn(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,l=n.directiveEnd,w=n.index,D=qt.lFrame.currentDirectiveIndex;try{bo(w);for(let x=i;x<l;x++){const j=e.data[x],te=t[x];Yi(x),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Dm(j,te)}}finally{bo(-1),Yi(D)}}(e,t,n))}function up(e,t,n=mn){const i=t.localNames;if(null!==i){let l=t.index+1;for(let h=0;h<i.length;h+=2){const w=i[h+1],D=-1===w?n(t,e):e[w];e[l++]=D}}}function ym(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Kf(e,t,n,i,l,h,w,D,x,j){const te=20+i,he=te+l,ve=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:tr);return n}(te,he),Ge="function"==typeof j?j():j;return ve[1]={type:e,blueprint:ve,template:n,queries:null,viewQuery:D,declTNode:t,data:ve.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:Ge,incompleteFirstPass:!1}}function bm(e,t,n,i){const l=Mm(t);null===n?l.push(i):(l.push(n),e.firstCreatePass&&xm(e).push(i,l.length-1))}function wm(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const l=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,l):n[i]=[t,l]}return n}function aa(e,t,n,i,l,h,w,D){const x=mn(t,n);let te,j=t.inputs;!D&&null!=j&&(te=j[i])?(Pm(e,n,te,i,l),Hi(t)&&function(e,t){const n=Wn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),l=null!=w?w(l,t.value||"",i):l,U(h)?h.setProperty(x,i,l):Js(i)||(x.setProperty?x.setProperty(i,l):x[i]=l))}function lp(e,t,n,i){let l=!1;if(ro()){const h=function(e,t,n){const i=e.directiveRegistry;let l=null;if(i)for(let h=0;h<i.length;h++){const w=i[h];Uf(n,w.selectors,!1)&&(l||(l=[]),T(Qe(n,t),e,w.type),Or(w)?(Tm(e,n),l.unshift(w)):l.push(w))}return l}(e,t,n),w=null===i?null:{"":-1};if(null!==h){l=!0,Im(n,e.data.length,h.length);for(let te=0;te<h.length;te++){const he=h[te];he.providersResolver&&he.providersResolver(he)}let D=!1,x=!1,j=La(e,t,h.length,null);for(let te=0;te<h.length;te++){const he=h[te];n.mergedAttrs=Hs(n.mergedAttrs,he.hostAttrs),Sm(e,n,t,j,he),Tb(j,he,w),null!==he.contentQueries&&(n.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(n.flags|=128);const ve=he.type.prototype;!D&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),D=!0),!x&&(ve.ngOnChanges||ve.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),x=!0),j++}!function(e,t){const i=t.directiveEnd,l=e.data,h=t.attrs,w=[];let D=null,x=null;for(let j=t.directiveStart;j<i;j++){const te=l[j],he=te.inputs,ve=null===h||Vf(t)?null:Nb(he,h);w.push(ve),D=wm(he,j,D),x=wm(te.outputs,j,x)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=16),D.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=w,t.inputs=D,t.outputs=x}(e,n)}w&&function(e,t,n){if(t){const i=e.localNames=[];for(let l=0;l<t.length;l+=2){const h=n[t[l+1]];if(null==h)throw new ct("301",`Export of name '${t[l+1]}' not found!`);i.push(t[l],h)}}}(n,i,w)}return n.mergedAttrs=Hs(n.mergedAttrs,n.attrs),l}function Em(e,t,n,i,l,h){const w=h.hostBindings;if(w){let D=e.hostBindingOpCodes;null===D&&(D=e.hostBindingOpCodes=[]);const x=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(D)!=x&&D.push(x),D.push(i,l,w)}}function Dm(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Tm(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Tb(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Or(t)&&(n[""]=e)}}function Im(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Sm(e,t,n,i,l){e.data[i]=l;const h=l.factory||(l.factory=oi(l.type)),w=new Ve(h,Or(l),null);e.blueprint[i]=w,n[i]=w,Em(e,t,0,i,La(e,n,l.hostVars,tr),l)}function Ib(e,t,n){const i=mn(t,e),l=ym(n),h=e[10],w=Zf(e,go(e,l,null,n.onPush?64:16,i,t,h,h.createRenderer(i,n),null,null));e[t.index]=w}function cp(e,t,n,i,l,h,w){if(null==h)U(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const D=null==w?Te(h):w(h,i||"",l);U(e)?e.setAttribute(t,l,D,n):n?t.setAttributeNS(n,l,D):t.setAttribute(l,D)}}function Sb(e,t,n,i,l,h){const w=h[t];if(null!==w){const D=i.setInput;for(let x=0;x<w.length;){const j=w[x++],te=w[x++],he=w[x++];null!==D?i.setInput(n,he,j,te):n[te]=he}}}function Nb(e,t){let n=null,i=0;for(;i<t.length;){const l=t[i];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Nm(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function xb(e,t){const n=Wn(t,e);if(Hr(n)){const i=n[1];80&n[2]?Vu(i,n,i.template,n[8]):n[5]>0&&dp(n)}}function dp(e){for(let i=sn(e);null!==i;i=on(i))for(let l=10;l<i.length;l++){const h=i[l];if(1024&h[2]){const w=h[1];Vu(w,h,w.template,h[8])}else h[5]>0&&dp(h)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const l=Wn(n[i],e);Hr(l)&&l[5]>0&&dp(l)}}function Rb(e,t){const n=Wn(t,e),i=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),cl(i,n,n[8])}function Zf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function fp(e){for(;e;){e[2]|=64;const t=Xe(e);if(ei(e)&&!t)return e;e=t}return null}function pp(e,t,n){const i=t[10];i.begin&&i.begin();try{Vu(e,t,e.template,n)}catch(l){throw Om(t,l),l}finally{i.end&&i.end()}}function Am(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Fs(n),l=i[1];_u(l,i,l.template,n)}}(e[8])}function gp(e,t,n){cs(0),t(e,n)}const Lb=(()=>Promise.resolve(null))();function Mm(e){return e[7]||(e[7]=[])}function xm(e){return e.cleanup||(e.cleanup=[])}function Om(e,t){const n=e[9],i=n?n.get(ma,null):null;i&&i.handleError(t)}function Pm(e,t,n,i,l){for(let h=0;h<n.length;){const w=n[h++],D=n[h++],x=t[w],j=e.data[w];null!==j.setInput?j.setInput(x,l,i,D):x[D]=l}}function Xf(e,t,n){let i=n?e.styles:null,l=n?e.classes:null,h=0;if(null!==t)for(let w=0;w<t.length;w++){const D=t[w];"number"==typeof D?h=D:1==h?l=ne(l,D):2==h&&(i=ne(i,D+": "+t[++w]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=l:e.classesWithoutHost=l}const Ec=new En("INJECTOR",-1);class km{get(t,n=nu){if(n===nu){const i=new Error(`NullInjectorError: No provider for ${Ie(t)}!`);throw i.name="NullInjectorError",i}return n}}const Ld=new En("Set Injector scope."),Vd={},Ub={};let mp;function Fm(){return void 0===mp&&(mp=new km),mp}function Lm(e,t=null,n=null,i){return new Hb(e,n,t||Fm(),i)}class Hb{constructor(t,n,i,l=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];n&&Os(n,D=>this.processProvider(D,t,n)),Os([t],D=>this.processInjectorType(D,[],h)),this.records.set(Ec,Dc(void 0,this));const w=this.records.get(Ld);this.scope=null!=w?w.value:null,this.source=l||("object"==typeof t?null:Ie(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=nu,i=$t.Default){this.assertNotDestroyed();const l=iu(this),h=Hn(void 0);try{if(!(i&$t.SkipSelf)){let D=this.records.get(t);if(void 0===D){const x=("function"==typeof(e=t)||"object"==typeof e&&e instanceof En)&&Ye(t);D=x&&this.injectableDefInScope(x)?Dc(yp(t),Vd):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(i&$t.Self?Fm():this.parent).get(t,n=i&$t.Optional&&n===nu?null:n)}catch(w){if("NullInjectorError"===w.name){if((w[Ys]=w[Ys]||[]).unshift(Ie(t)),l)throw w;return Iu(w,t,"R3InjectorError",this.source)}throw w}finally{Hn(h),iu(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,l)=>t.push(Ie(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,i){if(!(t=ge(t)))return!1;let l=Ut(t);const h=null==l&&t.ngModule||void 0,w=void 0===h?t:h,D=-1!==i.indexOf(w);if(void 0!==h&&(l=Ut(h)),null==l)return!1;if(null!=l.imports&&!D){let te;i.push(w);try{Os(l.imports,he=>{this.processInjectorType(he,n,i)&&(void 0===te&&(te=[]),te.push(he))})}finally{}if(void 0!==te)for(let he=0;he<te.length;he++){const{ngModule:ve,providers:Ge}=te[he];Os(Ge,Je=>this.processProvider(Je,ve,Ge||tn))}}this.injectorDefTypes.add(w);const x=oi(w)||(()=>new w);this.records.set(w,Dc(x,Vd));const j=l.providers;if(null!=j&&!D){const te=t;Os(j,he=>this.processProvider(he,te,j))}return void 0!==h&&void 0!==t.providers}processProvider(t,n,i){let l=Tc(t=ge(t))?t:ge(t&&t.provide);const h=Bm(e=t)?Dc(void 0,e.useValue):Dc(Vm(e),Vd);var e;if(Tc(t)||!0!==t.multi)this.records.get(l);else{let w=this.records.get(l);w||(w=Dc(void 0,Vd,!0),w.factory=()=>qs(w.multi),this.records.set(l,w)),l=t,w.multi.push(t)}this.records.set(l,h)}hydrate(t,n){return n.value===Vd&&(n.value=Ub,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ge(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function yp(e){const t=Ye(e),n=null!==t?t.factory:oi(e);if(null!==n)return n;if(e instanceof En)throw new Error(`Token ${Ie(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=ws(t,"?");throw new Error(`Can't resolve all parameters for ${Ie(e)}: (${i.join(", ")}).`)}const n=function(e){const t=e&&(e[Cn]||e[Rt]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Vm(e,t,n){let i;if(Tc(e)){const l=ge(e);return oi(l)||yp(l)}if(Bm(e))i=()=>ge(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...qs(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Ei(ge(e.useExisting));else{const l=ge(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return oi(l)||yp(l);i=()=>new l(...qs(e.deps))}return i}function Dc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Bm(e){return null!==e&&"object"==typeof e&&Cl in e}function Tc(e){return"function"==typeof e}const Um=function(e,t,n){return function(e,t=null,n=null,i){const l=Lm(e,t,n,i);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};class _i{static create(t,n){return Array.isArray(t)?Um(t,n,""):Um(t.providers,t.parent,t.name||"")}}function lw(e,t){it(Fs(e)[1],Ir())}function Ep(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let l;if(Or(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(n){i.push(l);const w=e;w.inputs=Dp(e.inputs),w.declaredInputs=Dp(e.declaredInputs),w.outputs=Dp(e.outputs);const D=l.hostBindings;D&&hw(e,D);const x=l.viewQuery,j=l.contentQueries;if(x&&dw(e,x),j&&fw(e,j),Ee(e.inputs,l.inputs),Ee(e.declaredInputs,l.declaredInputs),Ee(e.outputs,l.outputs),Or(l)&&l.data.animation){const te=e.data;te.animation=(te.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let w=0;w<h.length;w++){const D=h[w];D&&D.ngInherit&&D(e),D===Ep&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const l=e[i];l.hostVars=t+=l.hostVars,l.hostAttrs=Hs(l.hostAttrs,n=Hs(n,l.hostAttrs))}}(i)}function Dp(e){return e===Yt?{}:e===tn?[]:e}function dw(e,t){const n=e.viewQuery;e.viewQuery=n?(i,l)=>{t(i,l),n(i,l)}:t}function fw(e,t){const n=e.contentQueries;e.contentQueries=n?(i,l,h)=>{t(i,l,h),n(i,l,h)}:t}function hw(e,t){const n=e.hostBindings;e.hostBindings=n?(i,l)=>{t(i,l),n(i,l)}:t}_i.THROW_IF_NOT_FOUND=nu,_i.NULL=new km,_i.\u0275prov=Ct({token:_i,providedIn:"any",factory:()=>Ei(Ec)}),_i.__NG_ELEMENT_ID__=-1;let eh=null;function Ic(){if(!eh){const e=Lt.Symbol;if(e&&e.iterator)eh=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(eh=i)}}}return eh}class Ba{constructor(t){this.wrapped=t}static wrap(t){return new Ba(t)}static unwrap(t){return Ba.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ba}}function Ud(e){return!!Tp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ic()in e)}function Tp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function bu(e,t,n){return e[t]=n}function Is(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ql(e,t,n,i){const l=Is(e,t,n);return Is(e,t+1,i)||l}function Ip(e,t,n,i){const l=It();return Is(l,Io(),t)&&(Yn(),function(e,t,n,i,l,h){const w=mn(e,t);cp(t[11],w,h,e.value,n,i,l)}(Sr(),l,e,t,n,i)),Ip}function Nc(e,t,n,i){return Is(e,Io(),n)?t+Te(n)+i:tr}function xc(e,t,n,i,l,h,w,D,x,j){const he=function(e,t,n,i,l,h){const w=Ql(e,t,n,i);return Ql(e,t+2,l,h)||w}(e,Bi(),n,l,w,x);return xi(4),he?t+Te(n)+i+Te(l)+h+Te(w)+D+Te(x)+j:tr}function hy(e,t,n,i,l,h,w,D){const x=It(),j=Yn(),te=e+20,he=j.firstCreatePass?function(e,t,n,i,l,h,w,D,x){const j=t.consts,te=yu(t,e,4,w||null,Yr(j,D));lp(t,n,te,Yr(j,x)),it(t,te);const he=te.tViews=Kf(2,te,i,l,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,j);return null!==t.queries&&(t.queries.template(t,te),he.queries=t.queries.embeddedTView(te)),te}(te,j,x,t,n,i,l,h,w):j.data[te];io(he,!1);const ve=x[11].createComment("");Yl(j,x,ve,he),po(ve,x),Zf(x,x[te]=Nm(ve,x,ve,he)),Si(he)&&ap(j,x,he),null!=w&&up(x,he,D)}function py(e){return Nn(qt.lFrame.contextLView,20+e)}function Hd(e,t=$t.Default){const n=It();return null===n?Ei(e,t):xe(Ir(),n,ge(e),t)}function xp(e,t,n){const i=It();return Is(i,Io(),t)&&aa(Yn(),Sr(),i,e,t,i[11],n,!1),xp}function Rp(e,t,n,i,l){const w=l?"class":"style";Pm(e,n,t.inputs[w],w,i)}function Op(e,t,n,i){const l=It(),h=Yn(),w=20+e,D=l[11],x=l[w]=Ds(D,t,qt.lFrame.currentNamespace),j=h.firstCreatePass?function(e,t,n,i,l,h,w){const D=t.consts,j=yu(t,e,2,l,Yr(D,h));return lp(t,n,j,Yr(D,w)),null!==j.attrs&&Xf(j,j.attrs,!1),null!==j.mergedAttrs&&Xf(j,j.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,j),j}(w,h,l,0,t,n,i):h.data[w];io(j,!0);const te=j.mergedAttrs;null!==te&&js(D,x,te);const he=j.classes;null!==he&&Md(D,x,he);const ve=j.styles;null!==ve&&kf(D,x,ve),64!=(64&j.flags)&&Yl(h,l,x,j),0===qt.lFrame.elementDepthCount&&po(x,l),qt.lFrame.elementDepthCount++,Si(j)&&(ap(h,l,j),mm(h,j,l)),null!==i&&up(l,j)}function Pp(){let e=Ir();Ko()?zi():(e=e.parent,io(e,!1));const t=e;qt.lFrame.elementDepthCount--;const n=Yn();n.firstCreatePass&&(it(n,e),ji(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Rp(n,t,It(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Rp(n,t,It(),t.stylesWithoutHost,!1)}function Iy(e,t,n,i){Op(e,t,n,i),Pp()}function kp(e,t,n){const i=It(),l=Yn(),h=e+20,w=l.firstCreatePass?function(e,t,n,i,l){const h=t.consts,w=Yr(h,i),D=yu(t,e,8,"ng-container",w);return null!==w&&Xf(D,w,!0),lp(t,n,D,Yr(h,l)),null!==t.queries&&t.queries.elementStart(t,D),D}(h,l,i,t,n):l.data[h];io(w,!0);const D=i[h]=i[11].createComment("");Yl(l,i,D,w),po(D,i),Si(w)&&(ap(l,i,w),mm(l,w,i)),null!=n&&up(i,w)}function Fp(){let e=Ir();const t=Yn();Ko()?zi():(e=e.parent,io(e,!1)),t.firstCreatePass&&(it(t,e),ji(e)&&t.queries.elementEnd(e))}function Sy(){return It()}function Lp(e){return!!e&&"function"==typeof e.then}function Ny(e){return!!e&&"function"==typeof e.subscribe}const Vp=Ny;function Bp(e,t,n,i){const l=It(),h=Yn(),w=Ir();return function(e,t,n,i,l,h,w,D){const x=Si(i),te=e.firstCreatePass&&xm(e),he=t[8],ve=Mm(t);let Ge=!0;if(3&i.type||D){const ot=mn(i,t),Ht=D?D(ot):ot,Nt=ve.length,Dn=D?Qn=>D(Fe(Qn[i.index])):i.index;if(U(n)){let Qn=null;if(!D&&x&&(Qn=function(e,t,n,i){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const w=l[h];if(w===n&&l[h+1]===i){const D=t[7],x=l[h+2];return D.length>x?D[x]:null}"string"==typeof w&&(h+=2)}return null}(e,t,l,i.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=h,Qn.__ngLastListenerFn__=h,Ge=!1;else{h=Up(i,t,he,h,!1);const Lr=n.listen(Ht,l,h);ve.push(h,Lr),te&&te.push(l,Dn,Nt,Nt+1)}}else h=Up(i,t,he,h,!0),Ht.addEventListener(l,h,w),ve.push(h),te&&te.push(l,Dn,Nt,w)}else h=Up(i,t,he,h,!1);const Je=i.outputs;let gt;if(Ge&&null!==Je&&(gt=Je[l])){const ot=gt.length;if(ot)for(let Ht=0;Ht<ot;Ht+=2){const Jo=t[gt[Ht]][gt[Ht+1]].subscribe(h),Ca=ve.length;ve.push(h,Jo),te&&te.push(l,i.index,Ca,-(Ca+1))}}}(h,l,l[11],w,e,t,!!n,i),Bp}function xy(e,t,n,i){try{return!1!==n(i)}catch(l){return Om(e,l),!1}}function Up(e,t,n,i,l){return function h(w){if(w===Function)return i;const D=2&e.flags?Wn(e.index,t):t;0==(32&t[2])&&fp(D);let x=xy(t,0,i,w),j=h.__ngNextListenerFn__;for(;j;)x=xy(t,0,j,w)&&x,j=j.__ngNextListenerFn__;return l&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function Ry(e=1){return function(e){return(qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,qt.lFrame.contextLView))[8]}(e)}function qw(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const h=t[l];if("*"!==h){if(null===i?Uf(e,h,!0):Hf(i,h))return l}else n=l}return n}function Oy(e){const t=It()[16][6];if(!t.projection){const i=t.projection=ws(e?e.length:1,null),l=i.slice();let h=t.child;for(;null!==h;){const w=e?qw(h,e):0;null!==w&&(l[w]?l[w].projectionNext=h:i[w]=h,l[w]=h),h=h.next}}}function Py(e,t=0,n){const i=It(),l=Yn(),h=yu(l,20+e,16,null,n||null);null===h.projection&&(h.projection=t),zi(),64!=(64&h.flags)&&function(e,t,n){Of(t[11],0,t,n,If(e,n,t),Uh(n.parent||t[6],n,t))}(l,i,h)}function jp(e,t,n){return rh(e,"",t,"",n),jp}function rh(e,t,n,i,l){const h=It(),w=Nc(h,t,n,i);return w!==tr&&aa(Yn(),Sr(),h,e,w,h[11],l,!1),rh}function Gy(e,t,n,i,l){const h=e[n+1],w=null===t;let D=i?sa(h):Fa(h),x=!1;for(;0!==D&&(!1===x||w);){const te=e[D+1];Kw(e[D],t)&&(x=!0,e[D+1]=i?Rd(te):wc(te)),D=i?sa(te):Fa(te)}x&&(e[n+1]=i?wc(h):Rd(h))}function Kw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ta(e,t)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $y(e){return e.substring(Qo.key,Qo.keyEnd)}function Wy(e,t){const n=Qo.textEnd;return n===t?-1:(t=Qo.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Qo.key=t,n),Lc(e,t,n))}function Lc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Hp(e,t,n){return Ua(e,t,n,!1),Hp}function Gp(e,t){return Ua(e,t,null,!0),Gp}function Jy(e){ja(rs,Cu,e,!0)}function Cu(e,t){for(let n=function(e){return function(e){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=e.length}(e),Wy(e,Lc(e,0,Qo.textEnd))}(t);n>=0;n=Wy(t,n))rs(e,$y(t),!0)}function Ua(e,t,n,i){const l=It(),h=Yn(),w=xi(2);h.firstUpdatePass&&Zy(h,e,w,i),t!==tr&&Is(l,w,t)&&e_(h,h.data[gr()],l,l[11],e,l[w+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ie(ms(e)))),e}(t,n),i,w)}function ja(e,t,n,i){const l=Yn(),h=xi(2);l.firstUpdatePass&&Zy(l,null,h,i);const w=It();if(n!==tr&&Is(w,h,n)){const D=l.data[gr()];if(n_(D,i)&&!Ky(l,h)){let x=i?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(n=ne(x,n||"")),Rp(l,D,w,n,i)}else!function(e,t,n,i,l,h,w,D){l===tr&&(l=tn);let x=0,j=0,te=0<l.length?l[0]:null,he=0<h.length?h[0]:null;for(;null!==te||null!==he;){const ve=x<l.length?l[x+1]:void 0,Ge=j<h.length?h[j+1]:void 0;let gt,Je=null;te===he?(x+=2,j+=2,ve!==Ge&&(Je=he,gt=Ge)):null===he||null!==te&&te<he?(x+=2,Je=te):(j+=2,Je=he,gt=Ge),null!==Je&&e_(e,t,n,i,Je,gt,w,D),te=x<l.length?l[x]:null,he=j<h.length?h[j]:null}}(l,D,w,w[11],w[h+1],w[h+1]=function(e,t,n){if(null==n||""===n)return tn;const i=[],l=ms(n);if(Array.isArray(l))for(let h=0;h<l.length;h++)e(i,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&e(i,h,l[h]);else"string"==typeof l&&t(i,l);return i}(e,t,n),i,h)}}function Ky(e,t){return t>=e.expandoStartIndex}function Zy(e,t,n,i){const l=e.data;if(null===l[n+1]){const h=l[gr()],w=Ky(e,n);n_(h,i)&&null===t&&!w&&(t=!1),t=function(e,t,n,i){const l=function(e){const t=qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=i?t.residualClasses:t.residualStyles;if(null===l)0===(i?t.classBindings:t.styleBindings)&&(n=Gd(n=$p(null,e,t,n,i),t.attrs,i),h=null);else{const w=t.directiveStylingLast;if(-1===w||e[w]!==l)if(n=$p(l,e,t,n,i),null===h){let x=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Fa(i))return e[sa(i)]}(e,t,i);void 0!==x&&Array.isArray(x)&&(x=$p(null,e,t,x[1],i),x=Gd(x,t.attrs,i),function(e,t,n,i){e[sa(n?t.classBindings:t.styleBindings)]=i}(e,t,i,x))}else h=function(e,t,n){let i;const l=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<l;h++)i=Gd(i,e[h].hostAttrs,n);return Gd(i,t.attrs,n)}(e,t,i)}return void 0!==h&&(i?t.residualClasses=h:t.residualStyles=h),n}(l,h,t,i),function(e,t,n,i,l,h){let w=h?t.classBindings:t.styleBindings,D=sa(w),x=Fa(w);e[i]=n;let te,j=!1;if(Array.isArray(n)){const he=n;te=he[1],(null===te||Ta(he,te)>0)&&(j=!0)}else te=n;if(l)if(0!==x){const ve=sa(e[D+1]);e[i+1]=ql(ve,D),0!==ve&&(e[ve+1]=xd(e[ve+1],i)),e[D+1]=function(e,t){return 131071&e|t<<17}(e[D+1],i)}else e[i+1]=ql(D,0),0!==D&&(e[D+1]=xd(e[D+1],i)),D=i;else e[i+1]=ql(x,0),0===D?D=i:e[x+1]=xd(e[x+1],i),x=i;j&&(e[i+1]=wc(e[i+1])),Gy(e,te,i,!0),Gy(e,te,i,!1),function(e,t,n,i,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Ta(h,t)>=0&&(n[i+1]=Rd(n[i+1]))}(t,te,e,i,h),w=ql(D,x),h?t.classBindings=w:t.styleBindings=w}(l,h,t,n,w,i)}}function $p(e,t,n,i,l){let h=null;const w=n.directiveEnd;let D=n.directiveStylingLast;for(-1===D?D=n.directiveStart:D++;D<w&&(h=t[D],i=Gd(i,h.hostAttrs,l),h!==e);)D++;return null!==e&&(n.directiveStylingLast=D),i}function Gd(e,t,n){const i=n?1:2;let l=-1;if(null!==t)for(let h=0;h<t.length;h++){const w=t[h];"number"==typeof w?l=w:l===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rs(e,w,!!n||t[++h]))}return void 0===e?null:e}function e_(e,t,n,i,l,h,w,D){if(!(3&t.type))return;const x=e.data,j=x[D+1];ih(function(e){return 1==(1&e)}(j)?t_(x,t,n,l,Fa(j),w):void 0)||(ih(h)||function(e){return 2==(2&e)}(j)&&(h=t_(x,null,n,l,D,w)),function(e,t,n,i,l){const h=U(e);if(t)l?h?e.addClass(n,i):n.classList.add(i):h?e.removeClass(n,i):n.classList.remove(i);else{let w=-1===i.indexOf("-")?void 0:z.DashCase;if(null==l)h?e.removeStyle(n,i,w):n.style.removeProperty(i);else{const D="string"==typeof l&&l.endsWith("!important");D&&(l=l.slice(0,-10),w|=z.Important),h?e.setStyle(n,i,l,w):n.style.setProperty(i,l,D?"important":"")}}}(i,w,Qt(gr(),n),l,h))}function t_(e,t,n,i,l,h){const w=null===t;let D;for(;l>0;){const x=e[l],j=Array.isArray(x),te=j?x[1]:x,he=null===te;let ve=n[l+1];ve===tr&&(ve=he?tn:void 0);let Ge=he?yl(ve,i):te===i?ve:void 0;if(j&&!ih(Ge)&&(Ge=yl(x,i)),ih(Ge)&&(D=Ge,w))return D;const Je=e[l+1];l=w?sa(Je):Fa(Je)}if(null!==t){let x=h?t.residualClasses:t.residualStyles;null!=x&&(D=yl(x,i))}return D}function ih(e){return void 0!==e}function n_(e,t){return 0!=(e.flags&(t?16:32))}function r_(e,t=""){const n=It(),i=Yn(),l=e+20,h=i.firstCreatePass?yu(i,l,1,t,null):i.data[l],w=n[l]=Gr(n[11],t);Yl(i,n,w,h),io(h,!1)}function Wp(e){return oh("",e,""),Wp}function oh(e,t,n){const i=It(),l=Nc(i,e,t,n);return l!==tr&&function(e,t,n){const i=Qt(t,e);ai(e[11],i,n)}(i,gr(),l),oh}function f_(e,t,n,i,l,h,w,D,x){ja(rs,Cu,xc(It(),e,t,n,i,l,h,w,D,x),!0)}function zp(e,t,n){const i=It();return Is(i,Io(),t)&&aa(Yn(),Sr(),i,e,t,i[11],n,!0),zp}const Jl=void 0;var M1=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Vc={};function Yp(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=D_(t);if(n)return n;const i=t.split("-")[0];if(n=D_(i),n)return n;if("en"===i)return M1;throw new Error(`Missing locale data for the locale "${e}".`)}function E_(e){return Yp(e)[jn.PluralCase]}function D_(e){return e in Vc||(Vc[e]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[e]),Vc[e]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const R1=["zero","one","two","few","many"],sh="en-US",ah={marker:"element"},uh={marker:"ICU"};var wo=(()=>((wo=wo||{})[wo.SHIFT=2]="SHIFT",wo[wo.APPEND_EAGERLY=1]="APPEND_EAGERLY",wo[wo.COMMENT=2]="COMMENT",wo))();let T_=sh;function qp(e){(function(e,t){null==e&&Tt(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(T_=e.toLowerCase().replace(/_/g,"-"))}function I_(e,t,n){const i=t.insertBeforeIndex,l=Array.isArray(i)?i[0]:i;return null===l?Sd(e,0,n):Fe(n[l])}function S_(e,t,n,i,l){const h=t.insertBeforeIndex;if(Array.isArray(h)){let w=i,D=null;if(3&t.type||(D=w,w=l),null!==w&&0==(2&t.flags))for(let x=1;x<h.length;x++)Lu(e,w,n[h[x]],D,!1)}}function N_(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const i=e[n];A_(i)||F1(i,t)&&null===L1(i)&&V1(i,t.index)}}function A_(e){return!(64&e.type)}function F1(e,t){return A_(t)||e.index>t.index}function L1(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function V1(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Nd(I_,S_),e.insertBeforeIndex=t)}function $d(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function j1(e,t,n){const i=Cc(e,n,64,null,null);return N_(t,i),i}function lh(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function M_(e){return e>>>17}function x_(e){return(131070&e)>>>1}let Wd=0,zd=0;function O_(e,t,n,i){const l=n[11];let w,h=null;for(let D=0;D<t.length;D++){const x=t[D];if("string"==typeof x){const j=t[++D];null===n[j]&&(n[j]=Gr(l,x))}else if("number"==typeof x)switch(1&x){case 0:const j=M_(x);let te,he;if(null===h&&(h=j,w=zl(l,i)),j===h?(te=i,he=w):(te=null,he=Fe(n[j])),null!==he){const gt=x_(x);Lu(l,he,n[gt],te,!1);const Ht=$d(e,gt);if(null!==Ht&&"object"==typeof Ht){const Nt=lh(Ht,n);null!==Nt&&O_(e,Ht.create[Nt],n,n[Ht.anchorIdx])}}break;case 1:const Ge=t[++D],Je=t[++D];cp(l,Qt(x>>>1,n),null,null,Ge,Je,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${x}"`)}else switch(x){case uh:const j=t[++D],te=t[++D];null===n[te]&&po(n[te]=Vs(l,j),n);break;case ah:const he=t[++D],ve=t[++D];null===n[ve]&&po(n[ve]=Ds(l,he,null),n)}}}function P_(e,t,n,i,l){for(let h=0;h<n.length;h++){const w=n[h],D=n[++h];if(w&l){let x="";for(let j=h+1;j<=h+D;j++){const te=n[j];if("string"==typeof te)x+=te;else if("number"==typeof te)if(te<0)x+=Te(t[i-te]);else{const he=te>>>2;switch(3&te){case 1:const ve=n[++j],Ge=n[++j],Je=e.data[he];"string"==typeof Je?cp(t[11],t[he],null,Je,ve,x,Ge):aa(e,Je,t,ve,x,t[11],Ge,!1);break;case 0:const gt=t[he];null!==gt&&ai(t[11],gt,x);break;case 2:z1(e,$d(e,he),t,x);break;case 3:k_(e,$d(e,he),i,t)}}}}else{const x=n[h+1];if(x>0&&3==(3&x)){const te=$d(e,x>>>2);t[te.currentCaseLViewIndex]<0&&k_(e,te,i,t)}}h+=D}}function k_(e,t,n,i){let l=i[t.currentCaseLViewIndex];if(null!==l){let h=Wd;l<0&&(l=i[t.currentCaseLViewIndex]=~l,h=-1),P_(e,i,t.update[l],n,h)}}function z1(e,t,n,i){const l=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const i=function(e,t){const n=E_(t)(parseInt(e,10)),i=R1[n];return void 0!==i?i:"other"}(t,T_);n=e.cases.indexOf(i),-1===n&&"other"!==i&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,i);if(lh(t,n)!==l&&(F_(e,t,n),n[t.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const w=n[t.anchorIdx];w&&O_(e,t.create[l],n,w)}}function F_(e,t,n){let i=lh(t,n);if(null!==i){const l=t.remove[i];for(let h=0;h<l.length;h++){const w=l[h];if(w>0){const D=Qt(w,n);null!==D&&Rf(n[11],D)}else F_(e,$d(e,~w),n)}}}function q1(){const e=[];let n,i,t=-1;function h(D,x){t=0;const j=lh(D,x);i=null!==j?D.remove[j]:tn}function w(){if(t<i.length){const D=i[t++];return D>0?n[D]:(e.push(t,i),h(n[1].data[~D],n),w())}return 0===e.length?null:(i=e.pop(),t=e.pop(),w())}return function(D,x){for(n=x;e.length;)e.pop();return h(D.value,x),w}}const ch=/\ufffd(\d+):?\d*\ufffd/gi,J1=/\ufffd(\d+)\ufffd/,V_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,K1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Z1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,X1=/\uE500/g;function B_(e,t,n,i,l,h,w){const D=La(e,i,1,null);let x=D<<wo.SHIFT,j=vo();t===j&&(j=null),null===j&&(x|=wo.APPEND_EAGERLY),w&&(x|=wo.COMMENT,function(e){void 0===ce&&(ce=e())}(q1)),l.push(x,null===h?"":h);const te=Cc(e,D,w?32:1,null===h?"":h,null);N_(n,te);const he=te.index;return io(te,!1),null!==j&&t!==j&&function(e,t){let n=e.insertBeforeIndex;null===n?(Nd(I_,S_),n=e.insertBeforeIndex=[null,t]):(function(e,t,n){e!=t&&Tt(n,e,t,"==")}(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(j,he),te}function nC(e,t,n,i,l,h,w){const D=w.match(ch),x=B_(e,t,n,h,i,D?null:w,!1);D&&Bc(l,w,x.index,null,0,null)}function Bc(e,t,n,i,l,h){const w=e.length,D=w+1;e.push(null,null);const x=w+2,j=t.split(ch);let te=0;for(let he=0;he<j.length;he++){const ve=j[he];if(1&he){const Ge=l+parseInt(ve,10);e.push(-1-Ge),te|=U_(Ge)}else""!==ve&&e.push(ve)}return e.push(n<<2|(i?1:0)),i&&e.push(i,h),e[w]=te,e[D]=e.length-x,te}function U_(e){return 1<<Math.min(e,31)}function j_(e){let t,h,n="",i=0,l=!1;for(;null!==(t=K1.exec(e));)l?t[0]===`\ufffd/*${h}\ufffd`&&(i=t.index,l=!1):(n+=e.substring(i,t.index+t[0].length),h=t[1],l=!0);return n+=e.substr(i),n}function H_(e,t,n,i,l,h){let w=0;const D={type:l.type,currentCaseLViewIndex:La(e,t,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function(e,t,n){e.push(U_(t.mainBinding),2,-1-t.mainBinding,n<<2|2)})(n,l,h),function(e,t,n){const i=e.data[t];null===i?e.data[t]=n:i.value=n}(e,h,D);const x=l.values;for(let j=0;j<x.length;j++){const te=x[j],he=[];for(let ve=0;ve<te.length;ve++){const Ge=te[ve];if("string"!=typeof Ge){const Je=he.push(Ge)-1;te[ve]=`\x3c!--\ufffd${Je}\ufffd--\x3e`}}w=uC(e,D,t,n,i,l.cases[j],te.join(""),he)|w}w&&function(e,t,n){e.push(t,1,n<<2|3)}(n,w,h)}function aC(e){const t=[],n=[];let i=1,l=0;const h=Qp(e=e.replace(V_,function(w,D,x){return i="select"===x?0:1,l=parseInt(D.substr(1),10),""}));for(let w=0;w<h.length;){let D=h[w++].trim();1===i&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&t.push(D);const x=Qp(h[w++]);t.length>n.length&&n.push(x)}return{type:i,mainBinding:l,cases:t,values:n}}function Qp(e){if(!e)return[];let t=0;const n=[],i=[],l=/[{}]/g;let h;for(l.lastIndex=0;h=l.exec(e);){const D=h.index;if("}"==h[0]){if(n.pop(),0==n.length){const x=e.substring(t,D);V_.test(x)?i.push(aC(x)):i.push(x),t=D+1}}else{if(0==n.length){const x=e.substring(t,D);i.push(x),t=D+1}n.push("{")}}const w=e.substring(t);return i.push(w),i}function uC(e,t,n,i,l,h,w,D){const x=[],j=[],te=[];t.cases.push(h),t.create.push(x),t.remove.push(j),t.update.push(te);const ve=ac(ht()).getInertBodyElement(w),Ge=di(ve)||ve;return Ge?G_(e,t,n,i,x,j,te,Ge,l,D,0):0}function G_(e,t,n,i,l,h,w,D,x,j,te){let he=0,ve=D.firstChild;for(;ve;){const Ge=La(e,n,1,null);switch(ve.nodeType){case Node.ELEMENT_NODE:const Je=ve,gt=Je.tagName.toLowerCase();if(tl.hasOwnProperty(gt)){Jp(l,ah,gt,x,Ge),e.data[Ge]=gt;const Dn=Je.attributes;for(let Qn=0;Qn<Dn.length;Qn++){const Lr=Dn.item(Qn),Jo=Lr.name.toLowerCase();Lr.value.match(ch)?nl.hasOwnProperty(Jo)&&Bc(w,Lr.value,Ge,Lr.name,0,kl[Jo]?Xu:xu[Jo]?dd:null):fC(l,Ge,Lr)}he=G_(e,t,n,i,l,h,w,ve,Ge,j,te+1)|he,$_(h,Ge,te)}break;case Node.TEXT_NODE:const ot=ve.textContent||"",Ht=ot.match(ch);Jp(l,null,Ht?"":ot,x,Ge),$_(h,Ge,te),Ht&&(he=Bc(w,ot,Ge,null,0,null)|he);break;case Node.COMMENT_NODE:const Nt=J1.exec(ve.textContent||"");if(Nt){const Qn=j[parseInt(Nt[1],10)];Jp(l,uh,"",x,Ge),H_(e,n,i,x,Qn,Ge),lC(h,Ge,te)}}ve=ve.nextSibling}return he}function $_(e,t,n){0===n&&e.push(t)}function lC(e,t,n){0===n&&(e.push(~t),e.push(t))}function Jp(e,t,n,i,l){null!==t&&e.push(t),e.push(n,l,function(e,t,n){return 0|t<<17|n<<1}(0,i,l))}function fC(e,t,n){e.push(t<<1|1,n.name,n.value)}function z_(e,t,n=-1){const i=Yn(),l=It(),h=20+e,w=Yr(i.consts,t),D=vo();i.firstCreatePass&&function(e,t,n,i,l,h){const w=vo(),D=[],x=[],j=[[]],te=function(e){return e.replace(X1," ")}(l=function(e,t){if(function(e){return-1===e}(t))return j_(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,i=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return j_(e.substring(n,i))}}(l,h)).split(Z1);for(let he=0;he<te.length;he++){let ve=te[he];if(0==(1&he)){const Ge=Qp(ve);for(let Je=0;Je<Ge.length;Je++){let gt=Ge[Je];if(0==(1&Je)){const ot=gt;""!==ot&&nC(e,w,j[0],D,x,n,ot)}else{const ot=gt;if("object"!=typeof ot)throw new Error(`Unable to parse ICU expression in "${l}" message.`);H_(e,n,x,t,ot,B_(e,w,j[0],n,D,"",!0).index)}}}else{const Ge=47===ve.charCodeAt(0),gt=(ve.charCodeAt(Ge?1:0),20+Number.parseInt(ve.substring(Ge?2:1)));if(Ge)j.shift(),io(vo(),!1);else{const ot=j1(e,j[0],gt);j.unshift([]),io(ot,!0)}}}e.data[i]={create:D,update:x}}(i,null===D?0:D.index,l,h,w,n);const x=i.data[h],te=Id(i,D===l[6]?null:D,l);(function(e,t,n,i){const l=e[11];for(let h=0;h<t.length;h++){const w=t[h++],D=t[h],x=(w&wo.COMMENT)===wo.COMMENT,j=(w&wo.APPEND_EAGERLY)===wo.APPEND_EAGERLY,te=w>>>wo.SHIFT;let he=e[te];null===he&&(he=e[te]=x?l.createComment(D):Gr(l,D)),j&&null!==n&&Lu(l,n,he,i,!1)}})(l,x.create,te,D&&8&D.type?l[D.index]:null),_s(!0)}function q_(e,t,n){z_(e,t,n),_s(!1)}function Kp(e){return function(e){e&&(Wd|=1<<Math.min(zd,31)),zd++}(Is(It(),Io(),e)),Kp}function Q_(e){!function(e,t,n){if(zd>0){const i=e.data[n];P_(e,t,Array.isArray(i)?i:i.update,Bi()-zd-1,Wd)}Wd=0,zd=0}(Yn(),It(),e+20)}function Zp(e,t,n,i,l){if(e=ge(e),Array.isArray(e))for(let h=0;h<e.length;h++)Zp(e[h],t,n,i,l);else{const h=Yn(),w=It();let D=Tc(e)?e:ge(e.provide),x=Vm(e);const j=Ir(),te=1048575&j.providerIndexes,he=j.directiveStart,ve=j.providerIndexes>>20;if(Tc(e)||!e.multi){const Ge=new Ve(x,l,Hd),Je=eg(D,t,l?te:te+ve,he);-1===Je?(T(Qe(j,w),h,D),Xp(h,e,t.length),t.push(D),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),n.push(Ge),w.push(Ge)):(n[Je]=Ge,w[Je]=Ge)}else{const Ge=eg(D,t,te+ve,he),Je=eg(D,t,te,te+ve),gt=Ge>=0&&n[Ge],ot=Je>=0&&n[Je];if(l&&!ot||!l&&!gt){T(Qe(j,w),h,D);const Ht=function(e,t,n,i,l){const h=new Ve(e,n,Hd);return h.multi=[],h.index=t,h.componentProviders=0,J_(h,l,i&&!n),h}(l?TC:DC,n.length,l,i,x);!l&&ot&&(n[Je].providerFactory=Ht),Xp(h,e,t.length,0),t.push(D),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),n.push(Ht),w.push(Ht)}else Xp(h,e,Ge>-1?Ge:Je,J_(n[l?Je:Ge],x,!l&&i));!l&&i&&ot&&n[Je].componentProviders++}}}function Xp(e,t,n,i){const l=Tc(t);if(l||function(e){return!!e.useClass}(t)){const w=(t.useClass||t).prototype.ngOnDestroy;if(w){const D=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const x=D.indexOf(n);-1===x?D.push(n,[i,w]):D[x+1].push(i,w)}else D.push(n,w)}}}function J_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eg(e,t,n,i){for(let l=n;l<i;l++)if(t[l]===e)return l;return-1}function DC(e,t,n,i){return tg(this.multi,[])}function TC(e,t,n,i){const l=this.multi;let h;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=Ln(n,n[1],this.providerFactory.index,i);h=D.slice(0,w),tg(l,h);for(let x=w;x<D.length;x++)h.push(D[x])}else h=[],tg(l,h);return h}function tg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function K_(e,t=[]){return n=>{n.providersResolver=(i,l)=>function(e,t,n){const i=Yn();if(i.firstCreatePass){const l=Or(e);Zp(n,i.data,i.blueprint,l,!0),Zp(t,i.data,i.blueprint,l,!1)}}(i,l?l(e):e,t)}}class Z_{}const ev="ngComponent";class NC{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Ie(e)}. Did you add it to @NgModule.entryComponents?`);return t[ev]=e,t}(t)}}class Kl{}function dh(...e){}function Uc(e,t){return new Eu(mn(e,t))}Kl.NULL=new NC;const xC=function(){return Uc(Ir(),It())};let Eu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=xC,e})();function tv(e){return e instanceof Eu?e.nativeElement:e}class fh{}let RC=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>PC(),e})();const PC=function(){const e=It(),n=Wn(Ir().index,e);return function(e){return e[11]}(Xr(n)?n:e)};let rg=(()=>{class e{}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null}),e})();class nv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ig=new nv("12.2.3");class rv{constructor(){}supports(t){return Ud(t)}create(t){return new VC(t)}}const LC=(e,t)=>t;class VC{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||LC}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,l=0,h=null;for(;n||i;){const w=!i||n&&n.currentIndex<ov(i,l,h)?n:i,D=ov(w,l,h),x=w.currentIndex;if(w===i)l--,i=i._nextRemoved;else if(n=n._next,null==w.previousIndex)l++;else{h||(h=[]);const j=D-l,te=x-l;if(j!=te){for(let ve=0;ve<j;ve++){const Ge=ve<h.length?h[ve]:h[ve]=0,Je=Ge+ve;te<=Je&&Je<j&&(h[ve]=Ge+1)}h[w.previousIndex]=te-j}}D!==x&&t(w,D,x)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ud(t))throw new Error(`Error trying to diff '${Ie(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,h,w,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)h=t[D],w=this._trackByFn(D,h),null!==n&&Object.is(n.trackById,w)?(i&&(n=this._verifyReinsertion(n,h,w,D)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,w,D),i=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ic()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,D=>{w=this._trackByFn(l,D),null!==n&&Object.is(n.trackById,w)?(i&&(n=this._verifyReinsertion(n,D,w,l)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,w,l),i=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,l){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,h,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,h,l)):t=this._addAfter(new BC(n,i),h,l),t}_verifyReinsertion(t,n,i,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==h?t=this._reinsertAfter(h,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,h=t._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new iv),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class BC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UC{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class iv{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new UC,this.map.set(n,i)),i.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ov(e,t,n){const i=e.previousIndex;if(null===i)return i;let l=0;return n&&i<n.length&&(l=n[i]),i+t+l}class sv{constructor(){}supports(t){return t instanceof Map||Tp(t)}create(){return new jC}}class jC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Tp(t)))throw new Error(`Error trying to diff '${Ie(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const h=this._getOrCreateRecordForKey(l,i);n=this._insertBeforeOrAppend(n,h)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const h=l._prev,w=l._next;return h&&(h._next=w),w&&(w._prev=h),l._next=null,l._prev=null,l}const i=new HC(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class HC{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function av(){return new hh([new rv])}let hh=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||av()),deps:[[e,new ta,new Xs]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:av}),e})();function uv(){return new ph([new sv])}let ph=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const l=i.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||uv()),deps:[[e,new ta,new Xs]]}}find(n){const i=this.factories.find(l=>l.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:uv}),e})();function gh(e,t,n,i,l=!1){for(;null!==n;){const h=t[n.index];if(null!==h&&i.push(Fe(h)),jr(h))for(let D=10;D<h.length;D++){const x=h[D],j=x[1].firstChild;null!==j&&gh(x[1],x,j,i)}const w=n.type;if(8&w)gh(e,t,n.child,i);else if(32&w){const D=be(n,t);let x;for(;x=D();)i.push(x)}else if(16&w){const D=xf(t,n);if(Array.isArray(D))i.push(...D);else{const x=Xe(t[16]);gh(x[1],x,D,i,!0)}}n=l?n.projectionNext:n.next}return i}class qd{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return gh(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(jr(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(ys(t,i),Zs(n,i))}this._attachedToViewContainer=!1}oa(this._lView[1],this._lView)}onDestroy(t){bm(this._lView[1],this._lView,null,t)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Zo(!0);try{pp(e,t,n)}finally{Zo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ll(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $C extends qd{constructor(t){super(t),this._view=t}detectChanges(){Am(this._view)}checkNoChanges(){!function(e){Zo(!0);try{Am(e)}finally{Zo(!1)}}(this._view)}get context(){return null}}const zC=function(e){return function(e,t,n){if(Hi(e)&&!n){const i=Wn(e.index,t);return new qd(i,i)}return 47&e.type?new qd(t[16],t):null}(Ir(),It(),16==(16&e))};let YC=(()=>{class e{}return e.__NG_ELEMENT_ID__=zC,e})();const JC=[new sv],ZC=new hh([new rv]),XC=new ph(JC),tE=function(){return mh(Ir(),It())};let Qd=(()=>{class e{}return e.__NG_ELEMENT_ID__=tE,e})();const nE=Qd,rE=class extends nE{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=go(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(i[19]=h.createEmbeddedView(n)),cl(n,i,t),new qd(i)}};function mh(e,t){return 4&e.type?new rE(t,e,Uc(e,t)):null}class Zl{}class lv{}const sE=function(){return fv(Ir(),It())};let yh=(()=>{class e{}return e.__NG_ELEMENT_ID__=sE,e})();const uE=yh,cv=class extends uE{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const t=N(this._hostTNode,this._hostLView);if(Ks(t)){const n=p(t,this._hostLView),i=_(t);return new So(n[1].data[i+8],n)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const l=t.createEmbeddedView(n||{});return this.insert(l,i),l}createComponent(t,n,i,l,h){const w=i||this.parentInjector;if(!h&&null==t.ngModule&&w){const x=w.get(Zl,null);x&&(h=x)}const D=t.create(w,l,void 0,h);return this.insert(D.hostView,n),D}insert(t,n){const i=t._lView,l=i[1];if(jr(i[3])){const te=this.indexOf(t);if(-1!==te)this.detach(te);else{const he=i[3],ve=new cv(he,he[6],he[3]);ve.detach(ve.indexOf(t))}}const h=this._adjustIndex(n),w=this._lContainer;!function(e,t,n,i){const l=10+i,h=n.length;i>0&&(n[l-1][4]=t),i<h-10?(t[4]=n[l],ps(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const w=t[17];null!==w&&n!==w&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(w,t);const D=t[19];null!==D&&D.insertView(e),t[2]|=128}(l,i,w,h);const D=bc(h,w),x=i[11],j=zl(x,w[7]);return null!==j&&function(e,t,n,i,l,h){i[0]=l,i[6]=t,ll(e,i,n,1,l,h)}(l,w[6],x,i,j,D),t.attachToViewContainerRef(),ps(og(w),h,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=ys(this._lContainer,n);i&&(Zs(og(this._lContainer),n),oa(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=ys(this._lContainer,n);return i&&null!=Zs(og(this._lContainer),n)?new qd(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function dv(e){return e[8]}function og(e){return e[8]||(e[8]=[])}function fv(e,t){let n;const i=t[e.index];if(jr(i))n=i;else{let l;if(8&e.type)l=Fe(i);else{const h=t[11];l=h.createComment("");const w=mn(e,t);Lu(h,zl(h,w),l,function(e,t){return U(e)?e.nextSibling(t):t.nextSibling}(h,w),!1)}t[e.index]=n=Nm(i,t,l,e),Zf(t,n)}return new cv(n,e,t)}const $c={};class Rv extends Kl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Rr(t);return new Pv(n,this.ngModule)}}function Ov(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const iD=new En("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mc});class Pv extends Z_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Yh).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ov(this.componentDef.inputs)}get outputs(){return Ov(this.componentDef.outputs)}create(t,n,i,l){const h=(l=l||this.ngModule)?function(e,t){return{get:(n,i,l)=>{const h=e.get(n,$c,l);return h!==$c||i===$c?h:t.get(n,i,l)}}}(t,l.injector):t,w=h.get(fh,G),D=h.get(rg,null),x=w.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",te=i?function(e,t,n){if(U(e))return e.selectRootElement(t,n===Ce.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(x,i,this.componentDef.encapsulation):Ds(w.createRenderer(null,this.componentDef),j,function(e){const t=e.toLowerCase();return"svg"===t?q:"math"===t?"http://www.w3.org/1998/MathML/":null}(j)),he=this.componentDef.onPush?576:528,ve=function(e,t){return{components:[],scheduler:e||mc,clean:Lb,playerHandler:t||null,flags:0}}(),Ge=Kf(0,null,null,1,0,null,null,null,null,null),Je=go(null,Ge,ve,he,null,null,w,x,D,h);let gt,ot;Wo(Je);try{const Ht=function(e,t,n,i,l,h){const w=n[1];n[20]=e;const x=yu(w,20,2,"#host",null),j=x.mergedAttrs=t.hostAttrs;null!==j&&(Xf(x,j,!0),null!==e&&(js(l,e,j),null!==x.classes&&Md(l,e,x.classes),null!==x.styles&&kf(l,e,x.styles)));const te=i.createRenderer(e,t),he=go(n,ym(t),null,t.onPush?64:16,n[20],x,i,te,h||null,null);return w.firstCreatePass&&(T(Qe(x,n),w,t.type),Tm(w,x),Im(x,n.length,1)),Zf(n,he),n[20]=he}(te,this.componentDef,Je,w,x);if(te)if(i)js(x,te,["ng-version",ig.full]);else{const{attrs:Nt,classes:Dn}=function(e){const t=[],n=[];let i=1,l=2;for(;i<e.length;){let h=e[i];if("string"==typeof h)2===l?""!==h&&t.push(h,e[++i]):8===l&&n.push(h);else{if(!ya(l))break;l=h}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Nt&&js(x,te,Nt),Dn&&Dn.length>0&&Md(x,te,Dn.join(" "))}if(ot=Zn(Ge,20),void 0!==n){const Nt=ot.projection=[];for(let Dn=0;Dn<this.ngContentSelectors.length;Dn++){const Qn=n[Dn];Nt.push(null!=Qn?Array.from(Qn):null)}}gt=function(e,t,n,i,l){const h=n[1],w=function(e,t,n){const i=Ir();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Sm(e,i,t,La(e,t,1,null),n));const l=Ln(t,e,i.directiveStart,i);po(l,t);const h=mn(i,t);return h&&po(h,t),l}(h,n,t);if(i.components.push(w),e[8]=w,l&&l.forEach(x=>x(w,t)),t.contentQueries){const x=Ir();t.contentQueries(1,w,x.directiveStart)}const D=Ir();return!h.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(bo(D.index),Em(n[1],D,0,D.directiveStart,D.directiveEnd,t),Dm(t,w)),w}(Ht,this.componentDef,Je,ve,[lw]),cl(Ge,Je,null)}finally{Po()}return new aD(this.componentType,gt,Uc(ot,Je),Je,ot)}}class aD extends class{}{constructor(t,n,i,l,h){super(),this.location=i,this._rootLView=l,this._tNode=h,this.instance=n,this.hostView=this.changeDetectorRef=new $C(l),this.componentType=t}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Wc=new Map;class cD extends Zl{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rv(this);const i=br(t),l=t[nr]||null;l&&qp(l),this._bootstrapComponents=d(i.bootstrap),this._r3Injector=Lm(t,n,[{provide:Zl,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],Ie(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=_i.THROW_IF_NOT_FOUND,i=$t.Default){return t===_i||t===Zl||t===Ec?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _g extends lv{constructor(t){super(),this.moduleType=t,null!==br(t)&&function(e){const t=new Set;!function n(i){const l=br(i,!0),h=l.id;null!==h&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ie(t)} vs ${Ie(t.name)}`)}(h,Wc.get(h),i),Wc.set(h,i));const w=d(l.imports);for(const D of w)t.has(D)||(t.add(D),n(D))}(e)}(t)}create(t){return new cD(this.moduleType,t)}}function Lv(e,t,n,i){return Uv(It(),_r(),e,t,n,i)}function Vv(e,t,n,i,l){return function(e,t,n,i,l,h,w){const D=t+n;return Ql(e,D,l,h)?bu(e,D+2,w?i.call(w,l,h):i(l,h)):rf(e,D+2)}(It(),_r(),e,t,n,i,l)}function Bv(e,t,n,i,l,h){return Hv(It(),_r(),e,t,n,i,l,h)}function rf(e,t){const n=e[t];return n===tr?void 0:n}function Uv(e,t,n,i,l,h){const w=t+n;return Is(e,w,l)?bu(e,w+1,h?i.call(h,l):i(l)):rf(e,w+1)}function Hv(e,t,n,i,l,h,w,D){const x=t+n;return function(e,t,n,i,l){const h=Ql(e,t,n,i);return Is(e,t+2,l)||h}(e,x,l,h,w)?bu(e,x+3,D?i.call(D,l,h,w):i(l,h,w)):rf(e,x+3)}function Wv(e,t){const n=Yn();let i;const l=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new ct("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[l]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(l,i.onDestroy)):i=n.data[l];const h=i.factory||(i.factory=oi(i.type)),w=Hn(Hd);try{const D=A(!1),x=h();return A(D),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,It(),l,x),x}finally{Hn(w)}}function zv(e,t,n){const i=e+20,l=It(),h=Nn(l,i);return sf(l,of(l,i)?Uv(l,_r(),t,h.transform,n,h):h.transform(n))}function Yv(e,t,n,i,l){const h=e+20,w=It(),D=Nn(w,h);return sf(w,of(w,h)?Hv(w,_r(),t,D.transform,n,i,l,D):D.transform(n,i,l))}function of(e,t){return e[1].data[t].pure}function sf(e,t){return Ba.isWrapped(t)&&(t=Ba.unwrap(t),e[Bi()]=tr),t}function vg(e){return t=>{setTimeout(e,void 0,t)}}const Du=class extends E.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var l,h,w;let D=t,x=n||(()=>null),j=i;if(t&&"object"==typeof t){const he=t;D=null===(l=he.next)||void 0===l?void 0:l.bind(he),x=null===(h=he.error)||void 0===h?void 0:h.bind(he),j=null===(w=he.complete)||void 0===w?void 0:w.bind(he)}this.__isAsync&&(x=vg(x),D&&(D=vg(D)),j&&(j=vg(j)));const te=super.subscribe({next:D,error:x,complete:j});return t instanceof u.w&&t.add(te),te}};function ED(){return this._results[Ic()]()}class Ch{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ic(),i=Ch.prototype;i[n]||(i[n]=ED)}get changes(){return this._changes||(this._changes=new Du)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const l=Ao(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let l=e[i],h=t[i];if(n&&(l=n(l),h=n(h)),h!==l)return!1}return!0}(i._results,l,n))&&(i._results=l,i.length=l.length,i.last=l[this.length-1],i.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class bg{constructor(t){this.queryList=t,this.matches=null}clone(){return new bg(this.queryList)}setDirty(){this.queryList.setDirty()}}class wg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let h=0;h<i;h++){const w=n.getByIndex(h);l.push(this.queries[w.indexInDeclarationView].clone())}return new wg(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==n0(t,n).matches&&this.queries[n].setDirty()}}class qv{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Cg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const l=null!==n?n.length:0,h=this.getByIndex(i).embeddedTView(t,l);h&&(h.indexInDeclarationView=i,null!==n?n.push(h):n=[h])}return null!==n?new Cg(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Eg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Eg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let l=0;l<i.length;l++){const h=i[l];this.matchTNodeWithReadOption(t,n,ID(n,h)),this.matchTNodeWithReadOption(t,n,gn(n,t,h,!1,!1))}else i===Qd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,gn(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const l=this.metadata.read;if(null!==l)if(l===Eu||l===yh||l===Qd&&4&n.type)this.addMatch(n.index,-2);else{const h=gn(n,t,l,!1,!1);null!==h&&this.addMatch(n.index,h)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ID(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function ND(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Uc(e,t):4&e.type?mh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Eu?Uc(t,e):n===Qd?mh(t,e):n===yh?fv(t,e):void 0}(e,t,i):Ln(e,e[1],n,t)}function Qv(e,t,n,i){const l=t[19].queries[i];if(null===l.matches){const h=e.data,w=n.matches,D=[];for(let x=0;x<w.length;x+=2){const j=w[x];D.push(j<0?null:ND(t,h[j],w[x+1],n.metadata.read))}l.matches=D}return l.matches}function Dg(e,t,n,i){const l=e.queries.getByIndex(n),h=l.matches;if(null!==h){const w=Qv(e,t,l,n);for(let D=0;D<h.length;D+=2){const x=h[D];if(x>0)i.push(w[D/2]);else{const j=h[D+1],te=t[-x];for(let he=10;he<te.length;he++){const ve=te[he];ve[17]===ve[3]&&Dg(ve[1],ve,j,i)}if(null!==te[9]){const he=te[9];for(let ve=0;ve<he.length;ve++){const Ge=he[ve];Dg(Ge[1],Ge,j,i)}}}}}return i}function Jv(e){const t=It(),n=Yn(),i=ls();cs(i+1);const l=n0(n,i);if(e.dirty&&ar(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const h=l.crossesNgTemplate?Dg(n,t,i,[]):Qv(n,t,l,i);e.reset(h,tv),e.notifyOnChanges()}return!0}return!1}function Kv(e,t,n){const i=Yn();i.firstCreatePass&&(t0(i,new qv(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),e0(i,It(),t)}function Zv(e,t,n,i){const l=Yn();if(l.firstCreatePass){const h=Ir();t0(l,new qv(t,n,i),h.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}e0(l,It(),n)}function Xv(){return e=It(),t=ls(),e[19].queries[t].queryList;var e,t}function e0(e,t,n){const i=new Ch(4==(4&n));bm(e,t,i,i.destroy),null===t[19]&&(t[19]=new wg),t[19].queries.push(new bg(i))}function t0(e,t,n){null===e.queries&&(e.queries=new Cg),e.queries.track(new Eg(t,n))}function n0(e,t){return e.queries.getByIndex(t)}function r0(e,t){return mh(e,t)}const Mg=new En("Application Initializer");let Yc=(()=>{class e{constructor(n){this.appInits=n,this.resolve=dh,this.reject=dh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,l)=>{this.resolve=i,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Lp(h))n.push(h);else if(Vp(h)){const w=new Promise((D,x)=>{h.subscribe({complete:D,error:x})});n.push(w)}}Promise.all(n).then(()=>{i()}).catch(l=>{this.reject(l)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ei(Mg,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const w0=new En("AppId"),iT={provide:w0,useFactory:function(){return`${xg()}${xg()}${xg()}`},deps:[]};function xg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C0=new En("Platform Initializer"),E0=new En("Platform ID"),D0=new En("appBootstrapListener");let T0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const Th=new En("LocaleId"),I0=new En("DefaultCurrencyCode");class sT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Rg=function(e){return new _g(e)},aT=Rg,uT=function(e){return Promise.resolve(Rg(e))},S0=function(e){const t=Rg(e),i=d(br(e).declarations).reduce((l,h)=>{const w=Rr(h);return w&&l.push(new Pv(w)),l},[]);return new sT(t,i)},lT=S0,cT=function(e){return Promise.resolve(S0(e))};let uf=(()=>{class e{constructor(){this.compileModuleSync=aT,this.compileModuleAsync=uT,this.compileModuleAndAllComponentsSync=lT,this.compileModuleAndAllComponentsAsync=cT}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();const hT=(()=>Promise.resolve(0))();function Og(e){"undefined"==typeof Zone?hT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ua{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!i&&n,l.shouldCoalesceRunChangeDetection=i,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=Lt.requestAnimationFrame,t=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Lt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,kg(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),kg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,l,h,w,D)=>{try{return N0(e),n.invokeTask(l,h,w,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),A0(e)}},onInvoke:(n,i,l,h,w,D,x)=>{try{return N0(e),n.invoke(l,h,w,D,x)}finally{e.shouldCoalesceRunChangeDetection&&t(),A0(e)}},onHasTask:(n,i,l,h)=>{n.hasTask(l,h),i===l&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,kg(e),Pg(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(n,i,l,h)=>(n.handleError(l,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,l){const h=this._inner,w=h.scheduleEventTask("NgZoneEvent: "+l,t,gT,dh,dh);try{return h.runTask(w,n,i)}finally{h.cancelTask(w)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const gT={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function kg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function N0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function A0(e){e._nesting--,Pg(e)}class _T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,l){return t.apply(n,i)}}let M0=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ua.assertNotInAngularZone(),Og(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Og(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,l){let h=-1;i&&i>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==h),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:h,updateCb:l})}whenStable(n,i,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ei(ua))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),x0=(()=>{class e{constructor(){this._applications=new Map,Fg.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Fg.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();class vT{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}function bT(e){Fg=e}let Fg=new vT,R0=!0,O0=!1;function wT(){if(O0)throw new Error("Cannot enable prod mode after platform setup.");R0=!1}let $a;const k0=new En("AllowMultipleToken");class NT{constructor(t,n){this.name=t,this.token=n}}function F0(e,t,n=[]){const i=`Platform: ${t}`,l=new En(i);return(h=[])=>{let w=L0();if(!w||w.injector.get(k0,!1))if(e)e(n.concat(h).concat({provide:l,useValue:!0}));else{const D=n.concat(h).concat({provide:l,useValue:!0},{provide:Ld,useValue:"platform"});!function(e){if($a&&!$a.destroyed&&!$a.injector.get(k0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$a=e.get(V0);const t=e.get(C0,null);t&&t.forEach(n=>n())}(_i.create({providers:D,name:i}))}return function(e){const t=L0();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function L0(){return $a&&!$a.destroyed?$a:null}let V0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const D=function(e,t){let n;return n="noop"===e?new _T:("zone.js"===e?void 0:e)||new ua({enableLongStackTrace:(O0=!0,R0),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),x=[{provide:ua,useValue:D}];return D.run(()=>{const j=_i.create({providers:x,parent:this.injector,name:n.moduleType.name}),te=n.create(j),he=te.injector.get(ma,null);if(!he)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return D.runOutsideAngular(()=>{const ve=D.onError.subscribe({next:Ge=>{he.handleError(Ge)}});te.onDestroy(()=>{Lg(this._modules,te),ve.unsubscribe()})}),function(e,t,n){try{const i=n();return Lp(i)?i.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(he,D,()=>{const ve=te.injector.get(Yc);return ve.runInitializers(),ve.donePromise.then(()=>(qp(te.injector.get(Th,sh)||sh),this._moduleDoBootstrap(te),te))})})}bootstrapModule(n,i=[]){const l=B0({},i);return function(e,t,n){const i=new _g(n);return Promise.resolve(i)}(0,0,n).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(n){const i=n.injector.get(lf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>i.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${Ie(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ei(_i))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();function B0(e,t){return Array.isArray(t)?t.reduce(B0,e):Object.assign(Object.assign({},e),t)}let lf=(()=>{class e{constructor(n,i,l,h,w){this._zone=n,this._injector=i,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new J.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),x=new J.y(j=>{let te;this._zone.runOutsideAngular(()=>{te=this._zone.onStable.subscribe(()=>{ua.assertNotInAngularZone(),Og(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{te.unsubscribe(),he.unsubscribe()}});this.isStable=(0,ke.T)(D,x.pipe((0,Se.B)()))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof Z_?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const h=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Zl),D=l.create(_i.NULL,[],i||l.selector,h),x=D.location.nativeElement,j=D.injector.get(M0,null),te=j&&D.injector.get(x0);return j&&te&&te.registerApplication(x,j),D.onDestroy(()=>{this.detachView(D.hostView),Lg(this.components,D),te&&te.unregisterApplication(x)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Lg(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(D0,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Ei(ua),Ei(_i),Ei(ma),Ei(Kl),Ei(Yc))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();function Lg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class PT{}class FT{}const LT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let VT=(()=>{class e{constructor(n,i){this._compiler=n,this._config=i||LT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,l]=n.split("#");return void 0===l&&(l="default"),ee(8255)(i).then(h=>h[l]).then(h=>G0(h,i,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(n){let[i,l]=n.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),ee(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(w=>w[l+h]).then(w=>G0(w,i,l))}}return e.\u0275fac=function(n){return new(n||e)(Ei(uf),Ei(FT,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})();function G0(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const zT=function(e){return null},qT=F0(null,"core",[{provide:E0,useValue:"unknown"},{provide:V0,deps:[_i]},{provide:x0,deps:[]},{provide:T0,deps:[]}]),XT=[{provide:lf,useClass:lf,deps:[ua,_i,ma,Kl,Yc]},{provide:iD,deps:[ua],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Yc,useClass:Yc,deps:[[new Xs,Mg]]},{provide:uf,useClass:uf,deps:[]},iT,{provide:hh,useFactory:function(){return ZC},deps:[]},{provide:ph,useFactory:function(){return XC},deps:[]},{provide:Th,useFactory:function(e){return qp(e=e||"undefined"!=typeof $localize&&$localize.locale||sh),e},deps:[[new Qs(Th),new Xs,new ta]]},{provide:I0,useValue:"USD"}];let tI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ei(lf))},e.\u0275mod=In({type:e}),e.\u0275inj=tt({providers:XT}),e})()},5346:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{z:()=>xt});var E=ee(7716),u=ee(5917),J=ee(7574),ke=ee(4402),Se=ee(9765),Ne=ee(7771),Ee=ee(5319),Ie=ee(9746),ne=ee(7971),X=ee(8858);class De extends Se.xQ{constructor(Dt=Number.POSITIVE_INFINITY,wt=Number.POSITIVE_INFINITY,$){super(),this.scheduler=$,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Dt<1?1:Dt,this._windowTime=wt<1?1:wt,wt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Dt){if(!this.isStopped){const wt=this._events;wt.push(Dt),wt.length>this._bufferSize&&wt.shift()}super.next(Dt)}nextTimeWindow(Dt){this.isStopped||(this._events.push(new ge(this._getNow(),Dt)),this._trimBufferThenGetEvents()),super.next(Dt)}_subscribe(Dt){const wt=this._infiniteTimeWindow,$=wt?this._events:this._trimBufferThenGetEvents(),re=this.scheduler,W=$.length;let oe;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?oe=Ee.w.EMPTY:(this.observers.push(Dt),oe=new X.W(this,Dt)),re&&Dt.add(Dt=new Ie.ht(Dt,re)),wt)for(let de=0;de<W&&!Dt.closed;de++)Dt.next($[de]);else for(let de=0;de<W&&!Dt.closed;de++)Dt.next($[de].value);return this.hasError?Dt.error(this.thrownError):this.isStopped&&Dt.complete(),oe}_getNow(){return(this.scheduler||Ne.c).now()}_trimBufferThenGetEvents(){const Dt=this._getNow(),wt=this._bufferSize,$=this._windowTime,re=this._events,W=re.length;let oe=0;for(;oe<W&&!(Dt-re[oe].time<$);)oe++;return W>wt&&(oe=Math.max(oe,W-wt)),oe>0&&re.splice(0,oe),re}}class ge{constructor(Dt,wt){this.time=Dt,this.value=wt}}var ct=ee(3190),st=ee(8002),nt=ee(8049),Te=ee(7915),Ze=ee(8583);let xt=(()=>{class Gt{constructor(wt,$,re,W){const oe=new Te.HU(W),de=(0,Te.ss)(oe),Z=(0,u.of)(void 0).pipe((0,Ie.QV)(oe.outsideAngular),(0,ct.w)(()=>W.runOutsideAngular(()=>ee.e(952).then(ee.bind(ee,1952)))),(0,st.U)(()=>(0,Te.on)(wt,W,$)),(0,st.U)(Re=>W.runOutsideAngular(()=>Re.auth())),function(Gt,Dt,wt){let $;return $=Gt&&"object"==typeof Gt?Gt:{bufferSize:Gt,windowTime:Dt,refCount:!1,scheduler:wt},re=>re.lift(function({bufferSize:Gt=Number.POSITIVE_INFINITY,windowTime:Dt=Number.POSITIVE_INFINITY,refCount:wt,scheduler:$}){let re,oe,W=0,de=!1,Z=!1;return function(Me){let Mt;W++,!re||de?(de=!1,re=new De(Gt,Dt,$),Mt=re.subscribe(this),oe=Me.subscribe({next($e){re.next($e)},error($e){de=!0,re.error($e)},complete(){Z=!0,oe=void 0,re.complete()}}),Z&&(oe=void 0)):Mt=re.subscribe(this),this.add(()=>{W--,Mt.unsubscribe(),Mt=void 0,oe&&!Z&&wt&&0===W&&(oe.unsubscribe(),oe=void 0,re=void 0)})}}($))}({bufferSize:1,refCount:!1}));return(0,Ze.PM)(re)?this.authState=this.user=this.idToken=this.idTokenResult=(0,u.of)(null):(Z.pipe((0,nt.P)()).subscribe(),this.authState=Z.pipe((0,ct.w)(Me=>Me.getRedirectResult().then(()=>Me,()=>Me)),(0,ct.w)(Me=>W.runOutsideAngular(()=>new J.y(Me.onAuthStateChanged.bind(Me)))),de),this.user=Z.pipe((0,ct.w)(Me=>Me.getRedirectResult().then(()=>Me,()=>Me)),(0,ct.w)(Me=>W.runOutsideAngular(()=>new J.y(Me.onIdTokenChanged.bind(Me)))),de),this.idToken=this.user.pipe((0,ct.w)(Me=>Me?(0,ke.D)(Me.getIdToken()):(0,u.of)(null))),this.idTokenResult=this.user.pipe((0,ct.w)(Me=>Me?(0,ke.D)(Me.getIdTokenResult()):(0,u.of)(null)))),(0,Te.pX)(this,Z,W)}}return Gt.\u0275fac=function(wt){return new(wt||Gt)(E.LFG(Te.Dh),E.LFG(Te.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b))},Gt.\u0275prov=(0,E.Yz7)({factory:function(){return new Gt((0,E.LFG)(Te.Dh),(0,E.LFG)(Te.xv,8),(0,E.LFG)(E.Lbi),(0,E.LFG)(E.R0b))},token:Gt,providedIn:"any"}),Gt})()},7262:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{ST:()=>Me,yb:()=>Mt});var E=ee(7716),u=ee(3637),J=ee(7574),ke=ee(4402),Se=ee(5917),Ne=ee(8002),Ee=ee(2145),Ie=ee(5435),ne=ee(9746),X=ee(7915),De=ee(8583),ye=(ee(5910),ee(4395)),et=ee.n(ye);function st(lt,tt){return function(lt,tt=u.z){return new J.y(Ye=>{let Bt;return null!=tt?tt.schedule(()=>{Bt=lt.onSnapshot(Ye)}):Bt=lt.onSnapshot(Ye),()=>{null!=Bt&&Bt()}})}(lt,tt)}function Te(lt,tt){return st(lt,tt).pipe((0,Ne.U)(Ye=>({payload:Ye,type:"query"})))}function Ze(lt,tt){return Te(lt,tt).pipe((0,Ne.U)(Ye=>Ye.payload.docChanges().map(Bt=>({type:Bt.type,payload:Bt}))))}function xt(lt,tt,Ye){return Te(lt,Ye).pipe((0,Ne.U)(Bt=>Bt.payload.docChanges()),(0,Ee.R)((Bt,wn)=>function(lt,tt,Ye){return tt.forEach(Bt=>{Ye.indexOf(Bt.type)>-1&&(lt=function(lt,tt){switch(tt.type){case"added":lt[tt.newIndex]&&lt[tt.newIndex].doc.ref.isEqual(tt.doc.ref)||lt.splice(tt.newIndex,0,tt);break;case"modified":(null==lt[tt.oldIndex]||lt[tt.oldIndex].doc.ref.isEqual(tt.doc.ref))&&(tt.oldIndex!==tt.newIndex?(lt.splice(tt.oldIndex,1),lt.splice(tt.newIndex,0,tt)):lt.splice(tt.newIndex,1,tt));break;case"removed":lt[tt.oldIndex]&&lt[tt.oldIndex].doc.ref.isEqual(tt.doc.ref)&&lt.splice(tt.oldIndex,1)}return lt}(lt,Bt))}),lt}(Bt,wn,tt),[]),(0,Ne.U)(Bt=>Bt.map(wn=>({type:wn.type,payload:wn}))))}function Dt(lt){return(!lt||0===lt.length)&&(lt=["added","removed","modified"]),lt}class wt{constructor(tt,Ye,Bt){this.ref=tt,this.query=Ye,this.afs=Bt}stateChanges(tt){return tt&&0!==tt.length?Ze(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(Ye=>Ye.filter(Bt=>tt.indexOf(Bt.type)>-1)),(0,Ie.h)(Ye=>Ye.length>0),this.afs.keepUnstableUntilFirst):Ze(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(tt){return this.stateChanges(tt).pipe((0,Ee.R)((Ye,Bt)=>[...Ye,...Bt],[]))}snapshotChanges(tt){const Ye=Dt(tt);return xt(this.query,Ye,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(tt={}){return Te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(Ye=>Ye.payload.docs.map(Bt=>tt.idField?Object.assign(Object.assign({},Bt.data()),{[tt.idField]:Bt.id}):Bt.data())),this.afs.keepUnstableUntilFirst)}get(tt){return(0,ke.D)(this.query.get(tt)).pipe((0,ne.QV)(this.afs.schedulers.insideAngular))}add(tt){return this.ref.add(tt)}doc(tt){return new $(this.ref.doc(tt),this.afs)}}class ${constructor(tt,Ye){this.ref=tt,this.afs=Ye}set(tt,Ye){return this.ref.set(tt,Ye)}update(tt){return this.ref.update(tt)}delete(){return this.ref.delete()}collection(tt,Ye){const Bt=this.ref.collection(tt),{ref:wn,query:Zt}=Re(Bt,Ye);return new wt(wn,Zt,this.afs)}snapshotChanges(){return(lt=this.ref,tt=this.afs.schedulers.outsideAngular,st(lt,tt).pipe((0,Ne.U)(Ye=>({payload:Ye,type:"value"})))).pipe(this.afs.keepUnstableUntilFirst);var lt,tt}valueChanges(){return this.snapshotChanges().pipe((0,Ne.U)(tt=>tt.payload.data()))}get(tt){return(0,ke.D)(this.ref.get(tt)).pipe((0,ne.QV)(this.afs.schedulers.insideAngular))}}class re{constructor(tt,Ye){this.query=tt,this.afs=Ye}stateChanges(tt){return tt&&0!==tt.length?Ze(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(Ye=>Ye.filter(Bt=>tt.indexOf(Bt.type)>-1)),(0,Ie.h)(Ye=>Ye.length>0),this.afs.keepUnstableUntilFirst):Ze(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(tt){return this.stateChanges(tt).pipe((0,Ee.R)((Ye,Bt)=>[...Ye,...Bt],[]))}snapshotChanges(tt){const Ye=Dt(tt);return xt(this.query,Ye,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(Ye=>Ye.payload.docs.map(Bt=>Bt.data())),this.afs.keepUnstableUntilFirst)}get(tt){return(0,ke.D)(this.query.get(tt)).pipe((0,ne.QV)(this.afs.schedulers.insideAngular))}}const W=ee(5910),oe=new E.OlP("angularfire2.enableFirestorePersistence"),de=new E.OlP("angularfire2.firestore.persistenceSettings"),Z=new E.OlP("angularfire2.firestore.settings");function Re(lt,tt=(Ye=>Ye)){return{query:tt(lt),ref:lt}}let Me=(()=>{class lt{constructor(Ye,Bt,wn,Zt,Ut,Cn,Vn){this.schedulers=new X.HU(Cn),this.keepUnstableUntilFirst=(0,X.ss)(this.schedulers),this.firestore=Cn.runOutsideAngular(()=>{const Rt=(0,X.on)(Ye,Cn,Bt);"registerFirestore"in W&&W.registerFirestore(et());const An=Rt.firestore();return Zt&&An.settings(Zt),An}),this.persistenceEnabled$=wn&&!(0,De.PM)(Ut)?Cn.runOutsideAngular(()=>{try{return(0,ke.D)(this.firestore.enablePersistence(Vn||void 0).then(()=>!0,()=>!1))}catch(An){return(0,Se.of)(!1)}}):(0,Se.of)(!1)}collection(Ye,Bt){let wn;wn="string"==typeof Ye?this.firestore.collection(Ye):Ye;const{ref:Zt,query:Ut}=Re(wn,Bt),Cn=this.schedulers.ngZone.run(()=>Zt);return new wt(Cn,Ut,this)}collectionGroup(Ye,Bt){const wn=Bt||(Ut=>Ut),Zt=this.firestore.collectionGroup(Ye);return new re(wn(Zt),this)}doc(Ye){let Bt;Bt="string"==typeof Ye?this.firestore.doc(Ye):Ye;const wn=this.schedulers.ngZone.run(()=>Bt);return new $(wn,this)}createId(){return this.firestore.collection("_").doc().id}}return lt.\u0275fac=function(Ye){return new(Ye||lt)(E.LFG(X.Dh),E.LFG(X.xv,8),E.LFG(oe,8),E.LFG(Z,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(de,8))},lt.\u0275prov=(0,E.Yz7)({factory:function(){return new lt((0,E.LFG)(X.Dh),(0,E.LFG)(X.xv,8),(0,E.LFG)(oe,8),(0,E.LFG)(Z,8),(0,E.LFG)(E.Lbi),(0,E.LFG)(E.R0b),(0,E.LFG)(de,8))},token:lt,providedIn:"any"}),lt})(),Mt=(()=>{class lt{static enablePersistence(Ye){return{ngModule:lt,providers:[{provide:oe,useValue:!0},{provide:de,useValue:Ye}]}}}return lt.\u0275fac=function(Ye){return new(Ye||lt)},lt.\u0275mod=E.oAB({type:lt}),lt.\u0275inj=E.cJS({providers:[Me]}),lt})()},7915:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{hO:()=>_n,xv:()=>mt,Dh:()=>$e,HU:()=>oe,on:()=>Tt,ss:()=>de,pX:()=>Re});var E=ee(7771),u=ee(3637),J=ee(7574);let ke=1;const Se=Promise.resolve(),Ne={};function Ee(fn){return fn in Ne&&(delete Ne[fn],!0)}const Ie={setImmediate(fn){const Ct=ke++;return Ne[Ct]=!0,Se.then(()=>Ee(Ct)&&fn()),Ct},clearImmediate(fn){Ee(fn)}};var X=ee(6465),ge=ee(6102);const ct=new class extends ge.v{flush(Ct){this.active=!0,this.scheduled=void 0;const{actions:lt}=this;let tt,Ye=-1,Bt=lt.length;Ct=Ct||lt.shift();do{if(tt=Ct.execute(Ct.state,Ct.delay))break}while(++Ye<Bt&&(Ct=lt.shift()));if(this.active=!1,tt){for(;++Ye<Bt&&(Ct=lt.shift());)Ct.unsubscribe();throw tt}}}(class extends X.o{constructor(Ct,lt){super(Ct,lt),this.scheduler=Ct,this.work=lt}requestAsyncId(Ct,lt,tt=0){return null!==tt&&tt>0?super.requestAsyncId(Ct,lt,tt):(Ct.actions.push(this),Ct.scheduled||(Ct.scheduled=Ie.setImmediate(Ct.flush.bind(Ct,null))))}recycleAsyncId(Ct,lt,tt=0){if(null!==tt&&tt>0||null===tt&&this.delay>0)return super.recycleAsyncId(Ct,lt,tt);0===Ct.actions.length&&(Ie.clearImmediate(lt),Ct.scheduled=void 0)}});var st=ee(6561);class nt extends J.y{constructor(Ct,lt=0,tt=ct){super(),this.source=Ct,this.delayTime=lt,this.scheduler=tt,(!(0,st.k)(lt)||lt<0)&&(this.delayTime=0),(!tt||"function"!=typeof tt.schedule)&&(this.scheduler=ct)}static create(Ct,lt=0,tt=ct){return new nt(Ct,lt,tt)}static dispatch(Ct){const{source:lt,subscriber:tt}=Ct;return this.add(lt.subscribe(tt))}_subscribe(Ct){return this.scheduler.schedule(nt.dispatch,this.delayTime,{source:this.source,subscriber:Ct})}}class Ze{constructor(Ct,lt){this.scheduler=Ct,this.delay=lt}call(Ct,lt){return new nt(lt,this.delay,this.scheduler).subscribe(Ct)}}var xt=ee(8307),Ft=ee(9746),Gt=ee(7716),Dt=ee(4395),wt=ee.n(Dt);function $(){}class re{constructor(Ct,lt=E.N){this.zone=Ct,this.delegate=lt}now(){return this.delegate.now()}schedule(Ct,lt,tt){const Ye=this.zone;return this.delegate.schedule(function(wn){Ye.runGuarded(()=>{Ct.apply(this,[wn])})},lt,tt)}}class W{constructor(Ct){this.zone=Ct,this.task=null}call(Ct,lt){const tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),lt.pipe((0,xt.b)({next:tt,complete:tt,error:tt})).subscribe(Ct).add(tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class oe{constructor(Ct){this.ngZone=Ct,this.outsideAngular=Ct.runOutsideAngular(()=>new re(Zone.current)),this.insideAngular=Ct.run(()=>new re(Zone.current,u.z))}}function de(fn){return function(lt){return(lt=lt.lift(new W(fn.ngZone))).pipe(function(fn,Ct=0){return function(tt){return tt.lift(new Ze(fn,Ct))}}(fn.outsideAngular),(0,Ft.QV)(fn.insideAngular))}}const Z=["ngOnDestroy"],Re=(fn,Ct,lt)=>new Proxy(fn,{get:(tt,Ye)=>lt.runOutsideAngular(()=>{if(fn[Ye])return fn[Ye];if(Z.includes(Ye))return()=>{};const Bt=Ct.toPromise().then(wn=>{const Zt=wn&&wn[Ye];return"function"==typeof Zt?Zt.bind(wn):Zt&&Zt.then?Zt.then(Ut=>lt.run(()=>Ut)):lt.run(()=>Zt)});return new Proxy(()=>{},{get:(wn,Zt)=>Bt[Zt],apply:(wn,Zt,Ut)=>Bt.then(Cn=>Cn&&Cn(...Ut))})})}),$e=new Gt.OlP("angularfire2.app.options"),mt=new Gt.OlP("angularfire2.app.nameOrConfig"),rt=new Gt.GfV("6.0.4-canary.9a26fbe");function Tt(fn,Ct,lt){const Ye="object"==typeof lt&&lt||{};return Ye.name=Ye.name||"string"==typeof lt&&lt||"[DEFAULT]",wt().apps.filter(wn=>wn&&wn.name===Ye.name)[0]||Ct.runOutsideAngular(()=>wt().initializeApp(fn,Ye))}const cn={provide:class{},useFactory:Tt,deps:[$e,Gt.R0b,[new Gt.FiY,mt]]};let _n=(()=>{class fn{constructor(lt){wt().registerVersion("angularfire",rt.full,lt.toString()),wt().registerVersion("angular",Gt.q4F.full)}static initializeApp(lt,tt){return{ngModule:fn,providers:[{provide:$e,useValue:lt},{provide:mt,useValue:tt}]}}}return fn.\u0275fac=function(lt){return new(lt||fn)(Gt.LFG(Gt.Lbi))},fn.\u0275mod=Gt.oAB({type:fn}),fn.\u0275inj=Gt.cJS({providers:[cn]}),fn})()},665:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{Fj:()=>Te,u5:()=>ri,Cf:()=>Ft,JU:()=>ge,JJ:()=>Hn,JL:()=>_t,F:()=>vn,On:()=>Br,YN:()=>yo,Q7:()=>ui,_Y:()=>hn,Kr:()=>gi});var E=ee(7716),u=ee(8583),J=ee(7574),ke=ee(9796),Se=ee(8002),Ne=ee(1555),Ee=ee(4402);function ne(q,H){return new J.y(L=>{const le=q.length;if(0===le)return void L.complete();const ht=new Array(le);let Jt=0,U=0;for(let ae=0;ae<le;ae++){const G=(0,Ee.D)(q[ae]);let fe=!1;L.add(G.subscribe({next:Fe=>{fe||(fe=!0,U++),ht[ae]=Fe},error:Fe=>L.error(Fe),complete:()=>{Jt++,(Jt===le||!fe)&&(U===le&&L.next(H?H.reduce((Fe,pt,bt)=>(Fe[pt]=ht[bt],Fe),{}):ht),L.complete())}}))}})}let X=(()=>{class q{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=ht=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(E.Qsj),E.Y36(E.SBq))},q.\u0275dir=E.lG2({type:q}),q})(),De=(()=>{class q extends X{}return q.\u0275fac=function(){let H;return function(le){return(H||(H=E.n5z(q)))(le||q)}}(),q.\u0275dir=E.lG2({type:q,features:[E.qOj]}),q})();const ge=new E.OlP("NgValueAccessor"),ct={provide:ge,useExisting:(0,E.Gpc)(()=>Te),multi:!0},nt=new E.OlP("CompositionEventMode");let Te=(()=>{class q extends X{constructor(L,le,ht){super(L,le),this._compositionMode=ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const q=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(nt,8))},q.\u0275dir=E.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,le){1&L&&E.NdJ("input",function(Jt){return le._handleInput(Jt.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Jt){return le._compositionEnd(Jt.target.value)})},features:[E._Bn([ct]),E.qOj]}),q})();const Ft=new E.OlP("NgValidators"),Gt=new E.OlP("NgAsyncValidators");function $e(q){return null!=q}function mt(q){const H=(0,E.QGY)(q)?(0,Ee.D)(q):q;return(0,E.CqO)(H),H}function Vt(q){let H={};return q.forEach(L=>{H=null!=L?Object.assign(Object.assign({},H),L):H}),0===Object.keys(H).length?null:H}function rt(q,H){return H.map(L=>L(q))}function cn(q){return q.map(H=>function(q){return!q.validate}(H)?H:L=>H.validate(L))}function fn(q){return null!=q?function(q){if(!q)return null;const H=q.filter($e);return 0==H.length?null:function(L){return Vt(rt(L,H))}}(cn(q)):null}function lt(q){return null!=q?function(q){if(!q)return null;const H=q.filter($e);return 0==H.length?null:function(L){return function(...q){if(1===q.length){const H=q[0];if((0,ke.k)(H))return ne(H,null);if((0,Ne.K)(H)&&Object.getPrototypeOf(H)===Object.prototype){const L=Object.keys(H);return ne(L.map(le=>H[le]),L)}}if("function"==typeof q[q.length-1]){const H=q.pop();return ne(q=1===q.length&&(0,ke.k)(q[0])?q[0]:q,null).pipe((0,Se.U)(L=>H(...L)))}return ne(q,null)}(rt(L,H).map(mt)).pipe((0,Se.U)(Vt))}}(cn(q)):null}function tt(q,H){return null===q?[H]:Array.isArray(q)?[...q,H]:[q,H]}function wn(q){return q?Array.isArray(q)?q:[q]:[]}function Zt(q,H){return Array.isArray(q)?q.includes(H):q===H}function Ut(q,H){const L=wn(H);return wn(q).forEach(ht=>{Zt(L,ht)||L.push(ht)}),L}function Cn(q,H){return wn(H).filter(L=>!Zt(q,L))}let Vn=(()=>{class q{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,le){return!!this.control&&this.control.hasError(L,le)}getError(L,le){return this.control?this.control.getError(L,le):null}}return q.\u0275fac=function(L){return new(L||q)},q.\u0275dir=E.lG2({type:q}),q})(),Rt=(()=>{class q extends Vn{get formDirective(){return null}get path(){return null}}return q.\u0275fac=function(){let H;return function(le){return(H||(H=E.n5z(q)))(le||q)}}(),q.\u0275dir=E.lG2({type:q,features:[E.qOj]}),q})();class An extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor(H){this._cd=H}is(H){var L,le,ht;return"submitted"===H?!!(null===(L=this._cd)||void 0===L?void 0:L.submitted):!!(null===(ht=null===(le=this._cd)||void 0===le?void 0:le.control)||void 0===ht?void 0:ht[H])}}let Hn=(()=>{class q extends $t{constructor(L){super(L)}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(An,2))},q.\u0275dir=E.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,le){2&L&&E.ekj("ng-untouched",le.is("untouched"))("ng-touched",le.is("touched"))("ng-pristine",le.is("pristine"))("ng-dirty",le.is("dirty"))("ng-valid",le.is("valid"))("ng-invalid",le.is("invalid"))("ng-pending",le.is("pending"))},features:[E.qOj]}),q})(),_t=(()=>{class q extends $t{constructor(L){super(L)}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(Rt,10))},q.\u0275dir=E.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,le){2&L&&E.ekj("ng-untouched",le.is("untouched"))("ng-touched",le.is("touched"))("ng-pristine",le.is("pristine"))("ng-dirty",le.is("dirty"))("ng-valid",le.is("valid"))("ng-invalid",le.is("invalid"))("ng-pending",le.is("pending"))("ng-submitted",le.is("submitted"))},features:[E.qOj]}),q})();function Et(q,H){Ke(q,H),H.valueAccessor.writeValue(q.value),function(q,H){H.valueAccessor.registerOnChange(L=>{q._pendingValue=L,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&en(q,H)})}(q,H),function(q,H){const L=(le,ht)=>{H.valueAccessor.writeValue(le),ht&&H.viewToModelUpdate(le)};q.registerOnChange(L),H._registerOnDestroy(()=>{q._unregisterOnChange(L)})}(q,H),function(q,H){H.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&en(q,H),"submit"!==q.updateOn&&q.markAsTouched()})}(q,H),function(q,H){if(H.valueAccessor.setDisabledState){const L=le=>{H.valueAccessor.setDisabledState(le)};q.registerOnDisabledChange(L),H._registerOnDestroy(()=>{q._unregisterOnDisabledChange(L)})}}(q,H)}function Ce(q,H){q.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(H)})}function Ke(q,H){const L=function(q){return q._rawValidators}(q);null!==H.validator?q.setValidators(tt(L,H.validator)):"function"==typeof L&&q.setValidators([L]);const le=function(q){return q._rawAsyncValidators}(q);null!==H.asyncValidator?q.setAsyncValidators(tt(le,H.asyncValidator)):"function"==typeof le&&q.setAsyncValidators([le]);const ht=()=>q.updateValueAndValidity();Ce(H._rawValidators,ht),Ce(H._rawAsyncValidators,ht)}function en(q,H){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Di(q,H){const L=q.indexOf(H);L>-1&&q.splice(L,1)}const Vr="VALID",Ti="INVALID",ln="PENDING",Ar="DISABLED";function In(q){return(uo(q)?q.validators:q)||null}function Gn(q){return Array.isArray(q)?fn(q):q||null}function bi(q,H){return(uo(H)?H.asyncValidators:q)||null}function Ki(q){return Array.isArray(q)?lt(q):q||null}function uo(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class Rr{constructor(H,L){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=L,this._composedValidatorFn=Gn(this._rawValidators),this._composedAsyncValidatorFn=Ki(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===Vr}get invalid(){return this.status===Ti}get pending(){return this.status==ln}get disabled(){return this.status===Ar}get enabled(){return this.status!==Ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=Gn(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=Ki(H)}addValidators(H){this.setValidators(Ut(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(Ut(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(Cn(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(Cn(H,this._rawAsyncValidators))}hasValidator(H){return Zt(this._rawValidators,H)}hasAsyncValidator(H){return Zt(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=ln,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const L=this._parentMarkedDirty(H.onlySelf);this.status=Ar,this.errors=null,this._forEachChild(le=>{le.disable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:L})),this._onDisabledChange.forEach(le=>le(!0))}enable(H={}){const L=this._parentMarkedDirty(H.onlySelf);this.status=Vr,this._forEachChild(le=>{le.enable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:L})),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vr||this.status===ln)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ar:Vr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator=!0;const L=mt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,L={}){this.errors=H,this._updateControlsErrors(!1!==L.emitEvent)}get(H){return function(q,H,L){if(null==H||(Array.isArray(H)||(H=H.split(".")),Array.isArray(H)&&0===H.length))return null;let le=q;return H.forEach(ht=>{le=le instanceof vr?le.controls.hasOwnProperty(ht)?le.controls[ht]:null:le instanceof br&&le.at(ht)||null}),le}(this,H)}getError(H,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[H]:null}hasError(H,L){return!!this.getError(H,L)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Ar:this.errors?Ti:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(Ti)?Ti:Vr}_anyControlsHaveStatus(H){return this._anyControls(L=>L.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_isBoxedValue(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){uo(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hr extends Rr{constructor(H=null,L,le){super(In(L),bi(le,L)),this._onChange=[],this._applyFormState(H),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(H,L={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(H,L={}){this.setValue(H,L)}reset(H=null,L={}){this._applyFormState(H),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Di(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Di(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){this._isBoxedValue(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}}class vr extends Rr{constructor(H,L,le){super(In(L),bi(le,L)),this.controls=H,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,L){return this.controls[H]?this.controls[H]:(this.controls[H]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(H,L,le={}){this.registerControl(H,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(H,L={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(H,L,le={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],L&&this.registerControl(H,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,L={}){this._checkAllValuesPresent(H),Object.keys(H).forEach(le=>{this._throwIfControlMissing(le),this.controls[le].setValue(H[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(H,L={}){null!=H&&(Object.keys(H).forEach(le=>{this.controls[le]&&this.controls[le].patchValue(H[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(H={},L={}){this._forEachChild((le,ht)=>{le.reset(H[ht],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(H,L,le)=>(H[le]=L instanceof hr?L.value:L.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_throwIfControlMissing(H){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[H])throw new Error(`Cannot find form control with name: ${H}.`)}_forEachChild(H){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&H(le,L)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const L of Object.keys(this.controls)){const le=this.controls[L];if(this.contains(L)&&H(le))return!0}return!1}_reduceValue(){return this._reduceChildren({},(H,L,le)=>((L.enabled||this.disabled)&&(H[le]=L.value),H))}_reduceChildren(H,L){let le=H;return this._forEachChild((ht,Jt)=>{le=L(le,ht,Jt)}),le}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(H){this._forEachChild((L,le)=>{if(void 0===H[le])throw new Error(`Must supply a value for form control with name: '${le}'.`)})}}class br extends Rr{constructor(H,L,le){super(In(L),bi(le,L)),this.controls=H,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(H){return this.controls[H]}push(H,L={}){this.controls.push(H),this._registerControl(H),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(H,L,le={}){this.controls.splice(H,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(H,L={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(H,L,le={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),L&&(this.controls.splice(H,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(H,L={}){this._checkAllValuesPresent(H),H.forEach((le,ht)=>{this._throwIfControlMissing(ht),this.at(ht).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(H,L={}){null!=H&&(H.forEach((le,ht)=>{this.at(ht)&&this.at(ht).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(H=[],L={}){this._forEachChild((le,ht)=>{le.reset(H[ht],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(H=>H instanceof hr?H.value:H.getRawValue())}clear(H={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:H.emitEvent}))}_syncPendingControls(){let H=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_throwIfControlMissing(H){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(H))throw new Error(`Cannot find form control at index ${H}`)}_forEachChild(H){this.controls.forEach((L,le)=>{H(L,le)})}_updateValue(){this.value=this.controls.filter(H=>H.enabled||this.disabled).map(H=>H.value)}_anyControls(H){return this.controls.some(L=>L.enabled&&H(L))}_setUpControls(){this._forEachChild(H=>this._registerControl(H))}_checkAllValuesPresent(H){this._forEachChild((L,le)=>{if(void 0===H[le])throw new Error(`Must supply a value for form control at index: ${le}.`)})}_allControlsDisabled(){for(const H of this.controls)if(H.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(H){H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)}}const ki={provide:Rt,useExisting:(0,E.Gpc)(()=>vn)},jt=(()=>Promise.resolve(null))();let vn=(()=>{class q extends Rt{constructor(L,le){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new E.vpe,this.form=new vr({},fn(L),lt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){jt.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),Et(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){jt.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),Di(this._directives,L)})}addFormGroup(L){jt.then(()=>{const le=this._findContainer(L.path),ht=new vr({});(function(q,H){Ke(q,H)})(ht,L),le.registerControl(L.name,ht),ht.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){jt.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){jt.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,function(q,H){q._syncPendingControls(),H.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(Ft,10),E.Y36(Gt,10))},q.\u0275dir=E.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,le){1&L&&E.NdJ("submit",function(Jt){return le.onSubmit(Jt)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([ki]),E.qOj]}),q})();const Wr={provide:An,useExisting:(0,E.Gpc)(()=>Br)},Fi=(()=>Promise.resolve(null))();let Br=(()=>{class q extends An{constructor(L,le,ht,Jt){super(),this.control=new hr,this._registered=!1,this.update=new E.vpe,this._parent=L,this._setValidators(le),this._setAsyncValidators(ht),this.valueAccessor=function(q,H){if(!H)return null;let L,le,ht;return Array.isArray(H),H.forEach(Jt=>{Jt.constructor===Te?L=Jt:function(q){return Object.getPrototypeOf(q.constructor)===De}(Jt)?le=Jt:ht=Jt}),ht||le||L||null}(0,Jt)}ngOnChanges(L){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in L&&this._updateDisabled(L),function(q,H){if(!q.hasOwnProperty("model"))return!1;const L=q.model;return!!L.isFirstChange()||!Object.is(H,L.currentValue)}(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(q,H){return[...H.path,q]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){Fi.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1})})}_updateDisabled(L){const le=L.isDisabled.currentValue,ht=""===le||le&&"false"!==le;Fi.then(()=>{ht&&!this.control.disabled?this.control.disable():!ht&&this.control.disabled&&this.control.enable()})}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(Rt,9),E.Y36(Ft,10),E.Y36(Gt,10),E.Y36(ge,10))},q.\u0275dir=E.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Wr]),E.qOj,E.TTD]}),q})(),hn=(()=>{class q{}return q.\u0275fac=function(L){return new(L||q)},q.\u0275dir=E.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})(),Tr=(()=>{class q{}return q.\u0275fac=function(L){return new(L||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({}),q})();const Hi={provide:ge,useExisting:(0,E.Gpc)(()=>ei),multi:!0};function Si(q,H){return null==q?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${q}: ${H}`.slice(0,50))}let ei=(()=>{class q extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const le=this._getOptionId(L);null==le&&this.setProperty("selectedIndex",-1);const ht=Si(le,L);this.setProperty("value",ht)}registerOnChange(L){this.onChange=le=>{this.value=this._getOptionValue(le),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le),L))return le;return null}_getOptionValue(L){const le=function(q){return q.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le):L}}return q.\u0275fac=function(){let H;return function(le){return(H||(H=E.n5z(q)))(le||q)}}(),q.\u0275dir=E.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,le){1&L&&E.NdJ("change",function(Jt){return le.onChange(Jt.target.value)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([Hi]),E.qOj]}),q})(),yo=(()=>{class q{constructor(L,le,ht){this._element=L,this._renderer=le,this._select=ht,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Si(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(ei,9))},q.\u0275dir=E.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();const pi={provide:ge,useExisting:(0,E.Gpc)(()=>Fn),multi:!0};function Mr(q,H){return null==q?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${q}: ${H}`.slice(0,50))}let Fn=(()=>{class q extends De{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let le;if(this.value=L,Array.isArray(L)){const ht=L.map(Jt=>this._getOptionId(Jt));le=(Jt,U)=>{Jt._setSelected(ht.indexOf(U.toString())>-1)}}else le=(ht,Jt)=>{ht._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(L){this.onChange=le=>{const ht=[];if(void 0!==le.selectedOptions){const Jt=le.selectedOptions;for(let U=0;U<Jt.length;U++){const ae=Jt.item(U),G=this._getOptionValue(ae.value);ht.push(G)}}else{const Jt=le.options;for(let U=0;U<Jt.length;U++){const ae=Jt.item(U);if(ae.selected){const G=this._getOptionValue(ae.value);ht.push(G)}}}this.value=ht,L(ht)}}_registerOption(L){const le=(this._idCounter++).toString();return this._optionMap.set(le,L),le}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le)._value,L))return le;return null}_getOptionValue(L){const le=function(q){return q.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le)._value:L}}return q.\u0275fac=function(){let H;return function(le){return(H||(H=E.n5z(q)))(le||q)}}(),q.\u0275dir=E.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,le){1&L&&E.NdJ("change",function(Jt){return le.onChange(Jt.target)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([pi]),E.qOj]}),q})(),gi=(()=>{class q{constructor(L,le,ht){this._element=L,this._renderer=le,this._select=ht,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Mr(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Mr(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(L){return new(L||q)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Fn,9))},q.\u0275dir=E.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();const eo={provide:Ft,useExisting:(0,E.Gpc)(()=>ui),multi:!0};let ui=(()=>{class q{constructor(){this._required=!1}get required(){return this._required}set required(L){this._required=null!=L&&!1!==L&&"false"!=`${L}`,this._onChange&&this._onChange()}validate(L){return this.required?function(q){return function(q){return null==q||0===q.length}(q.value)?{required:!0}:null}(L):null}registerOnValidatorChange(L){this._onChange=L}}return q.\u0275fac=function(L){return new(L||q)},q.\u0275dir=E.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,le){2&L&&E.uIk("required",le.required?"":null)},inputs:{required:"required"},features:[E._Bn([eo])]}),q})(),li=(()=>{class q{}return q.\u0275fac=function(L){return new(L||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[[Tr]]}),q})(),ri=(()=>{class q{}return q.\u0275fac=function(L){return new(L||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[li]}),q})()},906:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{F0:()=>Le,yS:()=>bn,Bz:()=>xs,lC:()=>Ve});var E=ee(8583),u=ee(7716),J=ee(7574),ke=ee(4402),Se=ee(9193);function Ne(M){return new J.y(N=>{let T;try{T=M()}catch(Y){return void N.error(Y)}return(T?(0,ke.D)(T):(0,Se.c)()).subscribe(N)})}var Ee=ee(5917),Ie=ee(6215),ne=ee(9112),X=ee(3410),De=ee(8071),ge=ee(2441),ye=ee(9765),et=ee(5345);function ct(M){return function(T){const B=new st(M),Y=T.lift(B);return B.caught=Y}}class st{constructor(N){this.selector=N}call(N,T){return T.subscribe(new nt(N,this.selector,this.caught))}}class nt extends et.Ds{constructor(N,T,B){super(N),this.selector=T,this.caught=B}error(N){if(!this.isStopped){let T;try{T=this.selector(N,this.caught)}catch(se){return void super.error(se)}this._unsubscribeAndRecycle();const B=new et.IY(this);this.add(B);const Y=(0,et.ft)(T,B);Y!==B&&this.add(Y)}}}var Te=ee(5435),Ze=ee(7393),xt=ee(7108);function Ft(M){return function(T){return 0===M?(0,Se.c)():T.lift(new Gt(M))}}class Gt{constructor(N){if(this.total=N,this.total<0)throw new xt.W}call(N,T){return T.subscribe(new Dt(N,this.total))}}class Dt extends Ze.L{constructor(N,T){super(N),this.total=T,this.ring=new Array,this.count=0}_next(N){const T=this.ring,B=this.total,Y=this.count++;T.length<B?T.push(N):T[Y%B]=N}_complete(){const N=this.destination;let T=this.count;if(T>0){const B=this.count>=this.total?this.total:this.count,Y=this.ring;for(let se=0;se<B;se++){const xe=T++%B;N.next(Y[xe])}}N.complete()}}var wt=ee(4635),$=ee(5242),re=ee(4487),oe=ee(5319);class Z{constructor(N){this.callback=N}call(N,T){return T.subscribe(new Re(N,this.callback))}}class Re extends Ze.L{constructor(N,T){super(N),this.add(new oe.w(T))}}var Me=ee(8002),Mt=ee(3190),$e=ee(5257),mt=ee(9761),Vt=ee(2145),rt=ee(4612),Tt=ee(8049),cn=ee(9773),_n=ee(8307),fn=ee(1307),Ct=ee(3282);class lt{constructor(N,T){this.id=N,this.url=T}}class tt extends lt{constructor(N,T,B="imperative",Y=null){super(N,T),this.navigationTrigger=B,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ye extends lt{constructor(N,T,B){super(N,T),this.urlAfterRedirects=B}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bt extends lt{constructor(N,T,B){super(N,T),this.reason=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wn extends lt{constructor(N,T,B){super(N,T),this.error=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zt extends lt{constructor(N,T,B,Y){super(N,T),this.urlAfterRedirects=B,this.state=Y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends lt{constructor(N,T,B,Y){super(N,T),this.urlAfterRedirects=B,this.state=Y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends lt{constructor(N,T,B,Y,se){super(N,T),this.urlAfterRedirects=B,this.state=Y,this.shouldActivate=se}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vn extends lt{constructor(N,T,B,Y){super(N,T),this.urlAfterRedirects=B,this.state=Y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends lt{constructor(N,T,B,Y){super(N,T),this.urlAfterRedirects=B,this.state=Y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An{constructor(N){this.route=N}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $t{constructor(N){this.route=N}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zn{constructor(N){this.snapshot=N}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(N){this.snapshot=N}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(N){this.snapshot=N}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _t{constructor(N){this.snapshot=N}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(N,T,B){this.routerEvent=N,this.position=T,this.anchor=B}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ae="primary";class at{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const T=this.params[N];return Array.isArray(T)?T[0]:T}return null}getAll(N){if(this.has(N)){const T=this.params[N];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Et(M){return new at(M)}const Oe="ngNavigationCancelingError";function Ce(M){const N=Error("NavigationCancelingError: "+M);return N[Oe]=!0,N}function Ke(M,N,T){const B=T.path.split("/");if(B.length>M.length||"full"===T.pathMatch&&(N.hasChildren()||B.length<M.length))return null;const Y={};for(let se=0;se<B.length;se++){const xe=B[se],We=M[se];if(xe.startsWith(":"))Y[xe.substring(1)]=We;else if(xe!==We.path)return null}return{consumed:M.slice(0,B.length),posParams:Y}}function Ot(M,N){const T=M?Object.keys(M):void 0,B=N?Object.keys(N):void 0;if(!T||!B||T.length!=B.length)return!1;let Y;for(let se=0;se<T.length;se++)if(Y=T[se],!Lt(M[Y],N[Y]))return!1;return!0}function Lt(M,N){if(Array.isArray(M)&&Array.isArray(N)){if(M.length!==N.length)return!1;const T=[...M].sort(),B=[...N].sort();return T.every((Y,se)=>B[se]===Y)}return M===N}function en(M){return Array.prototype.concat.apply([],M)}function Pt(M){return M.length>0?M[M.length-1]:null}function tn(M,N){for(const T in M)M.hasOwnProperty(T)&&N(M[T],T)}function rn(M){return(0,u.CqO)(M)?M:(0,u.QGY)(M)?(0,ke.D)(Promise.resolve(M)):(0,Ee.of)(M)}const kn={exact:function Di(M,N,T){if(!bi(M.segments,N.segments)||!ln(M.segments,N.segments,T)||M.numberOfChildren!==N.numberOfChildren)return!1;for(const B in N.children)if(!M.children[B]||!Di(M.children[B],N.children[B],T))return!1;return!0},subset:Vr},vi={exact:function(M,N){return Ot(M,N)},subset:function(M,N){return Object.keys(N).length<=Object.keys(M).length&&Object.keys(N).every(T=>Lt(M[T],N[T]))},ignored:()=>!0};function nr(M,N,T){return kn[T.paths](M.root,N.root,T.matrixParams)&&vi[T.queryParams](M.queryParams,N.queryParams)&&!("exact"===T.fragment&&M.fragment!==N.fragment)}function Vr(M,N,T){return Ti(M,N,N.segments,T)}function Ti(M,N,T,B){if(M.segments.length>T.length){const Y=M.segments.slice(0,T.length);return!(!bi(Y,T)||N.hasChildren()||!ln(Y,T,B))}if(M.segments.length===T.length){if(!bi(M.segments,T)||!ln(M.segments,T,B))return!1;for(const Y in N.children)if(!M.children[Y]||!Vr(M.children[Y],N.children[Y],B))return!1;return!0}{const Y=T.slice(0,M.segments.length),se=T.slice(M.segments.length);return!!(bi(M.segments,Y)&&ln(M.segments,Y,B)&&M.children[Ae])&&Ti(M.children[Ae],N,se,B)}}function ln(M,N,T){return N.every((B,Y)=>vi[T](M[Y].parameters,B.parameters))}class Ar{constructor(N,T,B){this.root=N,this.queryParams=T,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}toString(){return hr.serialize(this)}}class Tn{constructor(N,T){this.segments=N,this.children=T,this.parent=null,tn(T,(B,Y)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class In{constructor(N,T){this.path=N,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Et(this.parameters)),this._parameterMap}toString(){return $r(this)}}function bi(M,N){return M.length===N.length&&M.every((T,B)=>T.path===N[B].path)}class uo{}class Rr{parse(N){const T=new Eo(N);return new Ar(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(N){var M;return`${`/${br(N.root,!0)}`}${function(M){const N=Object.keys(M).map(T=>{const B=M[T];return Array.isArray(B)?B.map(Y=>`${ir(T)}=${ir(Y)}`).join("&"):`${ir(T)}=${ir(B)}`}).filter(T=>!!T);return N.length?`?${N.join("&")}`:""}(N.queryParams)}${"string"==typeof N.fragment?`#${M=N.fragment,encodeURI(M)}`:""}`}}const hr=new Rr;function vr(M){return M.segments.map(N=>$r(N)).join("/")}function br(M,N){if(!M.hasChildren())return vr(M);if(N){const T=M.children[Ae]?br(M.children[Ae],!1):"",B=[];return tn(M.children,(Y,se)=>{se!==Ae&&B.push(`${se}:${br(Y,!1)}`)}),B.length>0?`${T}(${B.join("//")})`:T}{const T=function(M,N){let T=[];return tn(M.children,(B,Y)=>{Y===Ae&&(T=T.concat(N(B,Y)))}),tn(M.children,(B,Y)=>{Y!==Ae&&(T=T.concat(N(B,Y)))}),T}(M,(B,Y)=>Y===Ae?[br(M.children[Ae],!1)]:[`${Y}:${br(B,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Ae]?`${vr(M)}/${T[0]}`:`${vr(M)}/(${T.join("//")})`}}function ki(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ir(M){return ki(M).replace(/%3B/gi,";")}function vn(M){return ki(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function un(M){return decodeURIComponent(M)}function Qr(M){return un(M.replace(/\+/g,"%20"))}function $r(M){return`${vn(M.path)}${function(M){return Object.keys(M).map(N=>`;${vn(N)}=${vn(M[N])}`).join("")}(M.parameters)}`}const Dr=/^[^\/()?;=#]+/;function Fi(M){const N=M.match(Dr);return N?N[0]:""}const Br=/^[^=?&#]+/,pr=/^[^?&#]+/;class Eo{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(N.length>0||Object.keys(T).length>0)&&(B[Ae]=new Tn(N,T)),B}parseSegment(){const N=Fi(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(N),new In(un(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const T=Fi(this.remaining);if(!T)return;this.capture(T);let B="";if(this.consumeOptional("=")){const Y=Fi(this.remaining);Y&&(B=Y,this.capture(B))}N[un(T)]=un(B)}parseQueryParam(N){const T=function(M){const N=M.match(Br);return N?N[0]:""}(this.remaining);if(!T)return;this.capture(T);let B="";if(this.consumeOptional("=")){const xe=function(M){const N=M.match(pr);return N?N[0]:""}(this.remaining);xe&&(B=xe,this.capture(B))}const Y=Qr(T),se=Qr(B);if(N.hasOwnProperty(Y)){let xe=N[Y];Array.isArray(xe)||(xe=[xe],N[Y]=xe),xe.push(se)}else N[Y]=se}parseParens(N){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=Fi(this.remaining),Y=this.remaining[B.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new Error(`Cannot parse url '${this.url}'`);let se;B.indexOf(":")>-1?(se=B.substr(0,B.indexOf(":")),this.capture(se),this.capture(":")):N&&(se=Ae);const xe=this.parseChildren();T[se]=1===Object.keys(xe).length?xe[Ae]:new Tn([],xe),this.consumeOptional("//")}return T}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new Error(`Expected "${N}".`)}}class hi{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const T=this.pathFromRoot(N);return T.length>1?T[T.length-2]:null}children(N){const T=Tr(N,this._root);return T?T.children.map(B=>B.value):[]}firstChild(N){const T=Tr(N,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(N){const T=nn(N,this._root);return T.length<2?[]:T[T.length-2].children.map(Y=>Y.value).filter(Y=>Y!==N)}pathFromRoot(N){return nn(N,this._root).map(T=>T.value)}}function Tr(M,N){if(M===N.value)return N;for(const T of N.children){const B=Tr(M,T);if(B)return B}return null}function nn(M,N){if(M===N.value)return[N];for(const T of N.children){const B=nn(M,T);if(B.length)return B.unshift(N),B}return[]}class Bn{constructor(N,T){this.value=N,this.children=T}toString(){return`TreeNode(${this.value})`}}function or(M){const N={};return M&&M.children.forEach(T=>N[T.value.outlet]=T),N}class $n extends hi{constructor(N,T){super(N),this.snapshot=T,Ur(this,N)}toString(){return this.snapshot.toString()}}function Pn(M,N){const T=function(M,N){const xe=new Ii([],{},{},"",{},Ae,N,null,M.root,-1,{});return new dn("",new Bn(xe,[]))}(M,N),B=new Ie.X([new In("",{})]),Y=new Ie.X({}),se=new Ie.X({}),xe=new Ie.X({}),We=new Ie.X(""),yt=new zr(B,Y,xe,We,se,Ae,N,T.root);return yt.snapshot=T.root,new $n(new Bn(yt,[]),T)}class zr{constructor(N,T,B,Y,se,xe,We,yt){this.url=N,this.params=T,this.queryParams=B,this.fragment=Y,this.data=se,this.outlet=xe,this.component=We,this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(N=>Et(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(N=>Et(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ni(M,N="emptyOnly"){const T=M.pathFromRoot;let B=0;if("always"!==N)for(B=T.length-1;B>=1;){const Y=T[B],se=T[B-1];if(Y.routeConfig&&""===Y.routeConfig.path)B--;else{if(se.component)break;B--}}return function(M){return M.reduce((N,T)=>({params:Object.assign(Object.assign({},N.params),T.params),data:Object.assign(Object.assign({},N.data),T.data),resolve:Object.assign(Object.assign({},N.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(B))}class Ii{constructor(N,T,B,Y,se,xe,We,yt,Xt,gn,Ln){this.url=N,this.params=T,this.queryParams=B,this.fragment=Y,this.data=se,this.outlet=xe,this.component=We,this.routeConfig=yt,this._urlSegment=Xt,this._lastPathIndex=gn,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Et(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dn extends hi{constructor(N,T){super(T),this.url=N,Ur(this,T)}toString(){return Ui(this._root)}}function Ur(M,N){N.value._routerState=M,N.children.forEach(T=>Ur(M,T))}function Ui(M){const N=M.children.length>0?` { ${M.children.map(Ui).join(", ")} } `:"";return`${M.value}${N}`}function Xr(M){if(M.snapshot){const N=M.snapshot,T=M._futureSnapshot;M.snapshot=T,Ot(N.queryParams,T.queryParams)||M.queryParams.next(T.queryParams),N.fragment!==T.fragment&&M.fragment.next(T.fragment),Ot(N.params,T.params)||M.params.next(T.params),function(M,N){if(M.length!==N.length)return!1;for(let T=0;T<M.length;++T)if(!Ot(M[T],N[T]))return!1;return!0}(N.url,T.url)||M.url.next(T.url),Ot(N.data,T.data)||M.data.next(T.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function jr(M,N){return Ot(M.params,N.params)&&function(M,N){return bi(M,N)&&M.every((T,B)=>Ot(T.parameters,N[B].parameters))}(M.url,N.url)&&!(!M.parent!=!N.parent)&&(!M.parent||jr(M.parent,N.parent))}function Hi(M,N,T){if(T&&M.shouldReuseRoute(N.value,T.value.snapshot)){const B=T.value;B._futureSnapshot=N.value;const Y=function(M,N,T){return N.children.map(B=>{for(const Y of T.children)if(M.shouldReuseRoute(B.value,Y.value.snapshot))return Hi(M,B,Y);return Hi(M,B)})}(M,N,T);return new Bn(B,Y)}{if(M.shouldAttach(N.value)){const se=M.retrieve(N.value);if(null!==se){const xe=se.route;return Si(N,xe),xe}}const B=function(M){return new zr(new Ie.X(M.url),new Ie.X(M.params),new Ie.X(M.queryParams),new Ie.X(M.fragment),new Ie.X(M.data),M.outlet,M.component,M)}(N.value),Y=N.children.map(se=>Hi(M,se));return new Bn(B,Y)}}function Si(M,N){if(M.value.routeConfig!==N.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(M.children.length!==N.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");N.value._futureSnapshot=M.value;for(let T=0;T<M.children.length;++T)Si(M.children[T],N.children[T])}function pi(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Mr(M){return"object"==typeof M&&null!=M&&M.outlets}function wi(M,N,T,B,Y){let se={};return B&&tn(B,(xe,We)=>{se[We]=Array.isArray(xe)?xe.map(yt=>`${yt}`):`${xe}`}),new Ar(T.root===M?N:Zi(T.root,M,N),se,Y)}function Zi(M,N,T){const B={};return tn(M.children,(Y,se)=>{B[se]=Y===N?T:Zi(Y,N,T)}),new Tn(M.segments,B)}class Fn{constructor(N,T,B){if(this.isAbsolute=N,this.numberOfDoubleDots=T,this.commands=B,N&&B.length>0&&pi(B[0]))throw new Error("Root segment cannot have matrix parameters");const Y=B.find(Mr);if(Y&&Y!==Pt(B))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xi{constructor(N,T,B){this.segmentGroup=N,this.processChildren=T,this.index=B}}function xo(M,N,T){if(M||(M=new Tn([],{})),0===M.segments.length&&M.hasChildren())return Gi(M,N,T);const B=function(M,N,T){let B=0,Y=N;const se={match:!1,pathIndex:0,commandIndex:0};for(;Y<M.segments.length;){if(B>=T.length)return se;const xe=M.segments[Y],We=T[B];if(Mr(We))break;const yt=`${We}`,Xt=B<T.length-1?T[B+1]:null;if(Y>0&&void 0===yt)break;if(yt&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!_o(yt,Xt,xe))return se;B+=2}else{if(!_o(yt,{},xe))return se;B++}Y++}return{match:!0,pathIndex:Y,commandIndex:B}}(M,N,T),Y=T.slice(B.commandIndex);if(B.match&&B.pathIndex<M.segments.length){const se=new Tn(M.segments.slice(0,B.pathIndex),{});return se.children[Ae]=new Tn(M.segments.slice(B.pathIndex),M.children),Gi(se,0,Y)}return B.match&&0===Y.length?new Tn(M.segments,{}):B.match&&!M.hasChildren()?mi(M,N,T):B.match?Gi(M,0,Y):mi(M,N,T)}function Gi(M,N,T){if(0===T.length)return new Tn(M.segments,{});{const B=function(M){return Mr(M[0])?M[0].outlets:{[Ae]:M}}(T),Y={};return tn(B,(se,xe)=>{"string"==typeof se&&(se=[se]),null!==se&&(Y[xe]=xo(M.children[xe],N,se))}),tn(M.children,(se,xe)=>{void 0===B[xe]&&(Y[xe]=se)}),new Tn(M.segments,Y)}}function mi(M,N,T){const B=M.segments.slice(0,N);let Y=0;for(;Y<T.length;){const se=T[Y];if(Mr(se)){const yt=ui(se.outlets);return new Tn(B,yt)}if(0===Y&&pi(T[0])){B.push(new In(M.segments[N].path,Sn(T[0]))),Y++;continue}const xe=Mr(se)?se.outlets[Ae]:`${se}`,We=Y<T.length-1?T[Y+1]:null;xe&&We&&pi(We)?(B.push(new In(xe,Sn(We))),Y+=2):(B.push(new In(xe,{})),Y++)}return new Tn(B,{})}function ui(M){const N={};return tn(M,(T,B)=>{"string"==typeof T&&(T=[T]),null!==T&&(N[B]=mi(new Tn([],{}),0,T))}),N}function Sn(M){const N={};return tn(M,(T,B)=>N[B]=`${T}`),N}function _o(M,N,T){return M==T.path&&Ot(N,T.parameters)}class yi{constructor(N,T,B,Y){this.routeReuseStrategy=N,this.futureState=T,this.currState=B,this.forwardEvent=Y}activate(N){const T=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,B,N),Xr(this.futureState.root),this.activateChildRoutes(T,B,N)}deactivateChildRoutes(N,T,B){const Y=or(T);N.children.forEach(se=>{const xe=se.value.outlet;this.deactivateRoutes(se,Y[xe],B),delete Y[xe]}),tn(Y,(se,xe)=>{this.deactivateRouteAndItsChildren(se,B)})}deactivateRoutes(N,T,B){const Y=N.value,se=T?T.value:null;if(Y===se)if(Y.component){const xe=B.getContext(Y.outlet);xe&&this.deactivateChildRoutes(N,T,xe.children)}else this.deactivateChildRoutes(N,T,B);else se&&this.deactivateRouteAndItsChildren(T,B)}deactivateRouteAndItsChildren(N,T){this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,T):this.deactivateRouteAndOutlet(N,T)}detachAndStoreRouteSubtree(N,T){const B=T.getContext(N.value.outlet);if(B&&B.outlet){const Y=B.outlet.detach(),se=B.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Y,route:N,contexts:se})}}deactivateRouteAndOutlet(N,T){const B=T.getContext(N.value.outlet),Y=B&&N.value.component?B.children:T,se=or(N);for(const xe of Object.keys(se))this.deactivateRouteAndItsChildren(se[xe],Y);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(N,T,B){const Y=or(T);N.children.forEach(se=>{this.activateRoutes(se,Y[se.value.outlet],B),this.forwardEvent(new _t(se.value.snapshot))}),N.children.length&&this.forwardEvent(new Un(N.value.snapshot))}activateRoutes(N,T,B){const Y=N.value,se=T?T.value:null;if(Xr(Y),Y===se)if(Y.component){const xe=B.getOrCreateContext(Y.outlet);this.activateChildRoutes(N,T,xe.children)}else this.activateChildRoutes(N,T,B);else if(Y.component){const xe=B.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const We=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),xe.children.onOutletReAttached(We.contexts),xe.attachRef=We.componentRef,xe.route=We.route.value,xe.outlet&&xe.outlet.attach(We.componentRef,We.route.value),$i(We.route)}else{const We=function(M){for(let N=M.parent;N;N=N.parent){const T=N.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(Y.snapshot),yt=We?We.module.componentFactoryResolver:null;xe.attachRef=null,xe.route=Y,xe.resolver=yt,xe.outlet&&xe.outlet.activateWith(Y,yt),this.activateChildRoutes(N,null,xe.children)}}else this.activateChildRoutes(N,null,B)}}function $i(M){Xr(M.value),M.children.forEach($i)}class oi{constructor(N,T){this.routes=N,this.module=T}}function Ni(M){return"function"==typeof M}function Ai(M){return M instanceof Ar}const Do=Symbol("INITIAL_VALUE");function ii(){return(0,Mt.w)(M=>(0,ne.aj)(M.map(N=>N.pipe((0,$e.q)(1),(0,mt.O)(Do)))).pipe((0,Vt.R)((N,T)=>{let B=!1;return T.reduce((Y,se,xe)=>Y!==Do?Y:(se===Do&&(B=!0),B||!1!==se&&xe!==T.length-1&&!Ai(se)?Y:se),N)},Do),(0,Te.h)(N=>N!==Do),(0,Me.U)(N=>Ai(N)?N:!0===N),(0,$e.q)(1)))}let no=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275cmp=u.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,B){1&T&&u._UZ(0,"router-outlet")},directives:function(){return[Ve]},encapsulation:2}),M})();function Pr(M,N=""){for(let T=0;T<M.length;T++){const B=M[T];q(B,H(N,B))}}function q(M,N){M.children&&Pr(M.children,N)}function H(M,N){return N?M||N.path?M&&!N.path?`${M}/`:!M&&N.path?N.path:`${M}/${N.path}`:"":M}function L(M){const N=M.children&&M.children.map(L),T=N?Object.assign(Object.assign({},M),{children:N}):Object.assign({},M);return!T.component&&(N||T.loadChildren)&&T.outlet&&T.outlet!==Ae&&(T.component=no),T}function le(M){return M.outlet||Ae}function ht(M,N){const T=M.filter(B=>le(B)===N);return T.push(...M.filter(B=>le(B)!==N)),T}const Jt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function U(M,N,T){var B;if(""===N.path)return"full"===N.pathMatch&&(M.hasChildren()||T.length>0)?Object.assign({},Jt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const se=(N.matcher||Ke)(T,M,N);if(!se)return Object.assign({},Jt);const xe={};tn(se.posParams,(yt,Xt)=>{xe[Xt]=yt.path});const We=se.consumed.length>0?Object.assign(Object.assign({},xe),se.consumed[se.consumed.length-1].parameters):xe;return{matched:!0,consumedSegments:se.consumed,lastChild:se.consumed.length,parameters:We,positionalParamSegments:null!==(B=se.posParams)&&void 0!==B?B:{}}}function ae(M,N,T,B,Y="corrected"){if(T.length>0&&function(M,N,T){return T.some(B=>bt(M,N,B)&&le(B)!==Ae)}(M,T,B)){const xe=new Tn(N,function(M,N,T,B){const Y={};Y[Ae]=B,B._sourceSegment=M,B._segmentIndexShift=N.length;for(const se of T)if(""===se.path&&le(se)!==Ae){const xe=new Tn([],{});xe._sourceSegment=M,xe._segmentIndexShift=N.length,Y[le(se)]=xe}return Y}(M,N,B,new Tn(T,M.children)));return xe._sourceSegment=M,xe._segmentIndexShift=N.length,{segmentGroup:xe,slicedSegments:[]}}if(0===T.length&&function(M,N,T){return T.some(B=>bt(M,N,B))}(M,T,B)){const xe=new Tn(M.segments,function(M,N,T,B,Y,se){const xe={};for(const We of B)if(bt(M,T,We)&&!Y[le(We)]){const yt=new Tn([],{});yt._sourceSegment=M,yt._segmentIndexShift="legacy"===se?M.segments.length:N.length,xe[le(We)]=yt}return Object.assign(Object.assign({},Y),xe)}(M,N,T,B,M.children,Y));return xe._sourceSegment=M,xe._segmentIndexShift=N.length,{segmentGroup:xe,slicedSegments:T}}const se=new Tn(M.segments,M.children);return se._sourceSegment=M,se._segmentIndexShift=N.length,{segmentGroup:se,slicedSegments:T}}function bt(M,N,T){return(!(M.hasChildren()||N.length>0)||"full"!==T.pathMatch)&&""===T.path}function Qt(M,N,T,B){return!!(le(M)===B||B!==Ae&&bt(N,T,M))&&("**"===M.path||U(N,M,T).matched)}function mn(M,N,T){return 0===N.length&&!M.children[T]}class Kn{constructor(N){this.segmentGroup=N||null}}class Zn{constructor(N){this.urlTree=N}}function Nn(M){return new J.y(N=>N.error(new Kn(M)))}function Wn(M){return new J.y(N=>N.error(new Zn(M)))}function ar(M){return new J.y(N=>N.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${M}'`)))}class Yr{constructor(N,T,B,Y,se){this.configLoader=T,this.urlSerializer=B,this.urlTree=Y,this.config=se,this.allowRedirects=!0,this.ngModule=N.get(u.h0i)}apply(){const N=ae(this.urlTree.root,[],[],this.config).segmentGroup,T=new Tn(N.segments,N.children);return this.expandSegmentGroup(this.ngModule,this.config,T,Ae).pipe((0,Me.U)(se=>this.createUrlTree(lr(se),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(se=>{if(se instanceof Zn)return this.allowRedirects=!1,this.match(se.urlTree);throw se instanceof Kn?this.noMatchError(se):se}))}match(N){return this.expandSegmentGroup(this.ngModule,this.config,N.root,Ae).pipe((0,Me.U)(Y=>this.createUrlTree(lr(Y),N.queryParams,N.fragment))).pipe(ct(Y=>{throw Y instanceof Kn?this.noMatchError(Y):Y}))}noMatchError(N){return new Error(`Cannot match any routes. URL Segment: '${N.segmentGroup}'`)}createUrlTree(N,T,B){const Y=N.segments.length>0?new Tn([],{[Ae]:N}):N;return new Ar(Y,T,B)}expandSegmentGroup(N,T,B,Y){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(N,T,B).pipe((0,Me.U)(se=>new Tn([],se))):this.expandSegment(N,B,T,B.segments,Y,!0)}expandChildren(N,T,B){const Y=[];for(const se of Object.keys(B.children))"primary"===se?Y.unshift(se):Y.push(se);return(0,ke.D)(Y).pipe((0,rt.b)(se=>{const xe=B.children[se],We=ht(T,se);return this.expandSegmentGroup(N,We,xe,se).pipe((0,Me.U)(yt=>({segment:yt,outlet:se})))}),(0,Vt.R)((se,xe)=>(se[xe.outlet]=xe.segment,se),{}),function(M,N){const T=arguments.length>=2;return B=>B.pipe(M?(0,Te.h)((Y,se)=>M(Y,se,B)):re.y,Ft(1),T?(0,$.d)(N):(0,wt.T)(()=>new X.K))}())}expandSegment(N,T,B,Y,se,xe){return(0,ke.D)(B).pipe((0,rt.b)(We=>this.expandSegmentAgainstRoute(N,T,B,We,Y,se,xe).pipe(ct(Xt=>{if(Xt instanceof Kn)return(0,Ee.of)(null);throw Xt}))),(0,Tt.P)(We=>!!We),ct((We,yt)=>{if(We instanceof X.K||"EmptyError"===We.name){if(mn(T,Y,se))return(0,Ee.of)(new Tn([],{}));throw new Kn(T)}throw We}))}expandSegmentAgainstRoute(N,T,B,Y,se,xe,We){return Qt(Y,T,se,xe)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(N,T,Y,se,xe):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,T,B,Y,se,xe):Nn(T):Nn(T)}expandSegmentAgainstRouteUsingRedirect(N,T,B,Y,se,xe){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,B,Y,xe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,T,B,Y,se,xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,T,B,Y){const se=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Wn(se):this.lineralizeSegments(B,se).pipe((0,cn.zg)(xe=>{const We=new Tn(xe,{});return this.expandSegment(N,We,T,xe,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,T,B,Y,se,xe){const{matched:We,consumedSegments:yt,lastChild:Xt,positionalParamSegments:gn}=U(T,Y,se);if(!We)return Nn(T);const Ln=this.applyRedirectCommands(yt,Y.redirectTo,gn);return Y.redirectTo.startsWith("/")?Wn(Ln):this.lineralizeSegments(Y,Ln).pipe((0,cn.zg)(Jr=>this.expandSegment(N,T,B,Jr.concat(se.slice(Xt)),xe,!1)))}matchSegmentAgainstRoute(N,T,B,Y,se){if("**"===B.path)return B.loadChildren?(B._loadedConfig?(0,Ee.of)(B._loadedConfig):this.configLoader.load(N.injector,B)).pipe((0,Me.U)(Jr=>(B._loadedConfig=Jr,new Tn(Y,{})))):(0,Ee.of)(new Tn(Y,{}));const{matched:xe,consumedSegments:We,lastChild:yt}=U(T,B,Y);if(!xe)return Nn(T);const Xt=Y.slice(yt);return this.getChildConfig(N,B,Y).pipe((0,cn.zg)(Ln=>{const Jr=Ln.module,Nr=Ln.routes,{segmentGroup:Rs,slicedSegments:So}=ae(T,We,Xt,Nr),es=new Tn(Rs.segments,Rs.children);if(0===So.length&&es.hasChildren())return this.expandChildren(Jr,Nr,es).pipe((0,Me.U)(Gs=>new Tn(We,Gs)));if(0===Nr.length&&0===So.length)return(0,Ee.of)(new Tn(We,{}));const Lo=le(B)===se;return this.expandSegment(Jr,es,Nr,So,Lo?Ae:se,!0).pipe((0,Me.U)(Vo=>new Tn(We.concat(Vo.segments),Vo.children)))}))}getChildConfig(N,T,B){return T.children?(0,Ee.of)(new oi(T.children,N)):T.loadChildren?void 0!==T._loadedConfig?(0,Ee.of)(T._loadedConfig):this.runCanLoadGuards(N.injector,T,B).pipe((0,cn.zg)(Y=>{return Y?this.configLoader.load(N.injector,T).pipe((0,Me.U)(se=>(T._loadedConfig=se,se))):(M=T,new J.y(N=>N.error(Ce(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))));var M})):(0,Ee.of)(new oi([],N))}runCanLoadGuards(N,T,B){const Y=T.canLoad;if(!Y||0===Y.length)return(0,Ee.of)(!0);const se=Y.map(xe=>{const We=N.get(xe);let yt;if((M=We)&&Ni(M.canLoad))yt=We.canLoad(T,B);else{if(!Ni(We))throw new Error("Invalid CanLoad guard");yt=We(T,B)}var M;return rn(yt)});return(0,Ee.of)(se).pipe(ii(),(0,_n.b)(xe=>{if(!Ai(xe))return;const We=Ce(`Redirecting to "${this.urlSerializer.serialize(xe)}"`);throw We.url=xe,We}),(0,Me.U)(xe=>!0===xe))}lineralizeSegments(N,T){let B=[],Y=T.root;for(;;){if(B=B.concat(Y.segments),0===Y.numberOfChildren)return(0,Ee.of)(B);if(Y.numberOfChildren>1||!Y.children[Ae])return ar(N.redirectTo);Y=Y.children[Ae]}}applyRedirectCommands(N,T,B){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),N,B)}applyRedirectCreatreUrlTree(N,T,B,Y){const se=this.createSegmentGroup(N,T.root,B,Y);return new Ar(se,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(N,T){const B={};return tn(N,(Y,se)=>{if("string"==typeof Y&&Y.startsWith(":")){const We=Y.substring(1);B[se]=T[We]}else B[se]=Y}),B}createSegmentGroup(N,T,B,Y){const se=this.createSegments(N,T.segments,B,Y);let xe={};return tn(T.children,(We,yt)=>{xe[yt]=this.createSegmentGroup(N,We,B,Y)}),new Tn(se,xe)}createSegments(N,T,B,Y){return T.map(se=>se.path.startsWith(":")?this.findPosParam(N,se,Y):this.findOrReturn(se,B))}findPosParam(N,T,B){const Y=B[T.path.substring(1)];if(!Y)throw new Error(`Cannot redirect to '${N}'. Cannot find '${T.path}'.`);return Y}findOrReturn(N,T){let B=0;for(const Y of T){if(Y.path===N.path)return T.splice(B),Y;B++}return N}}function lr(M){const N={};for(const B of Object.keys(M.children)){const se=lr(M.children[B]);(se.segments.length>0||se.hasChildren())&&(N[B]=se)}return function(M){if(1===M.numberOfChildren&&M.children[Ae]){const N=M.children[Ae];return new Tn(M.segments.concat(N.segments),N.children)}return M}(new Tn(M.segments,N))}class Cr{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Wi{constructor(N,T){this.component=N,this.route=T}}function To(M,N,T){const B=M._root;return co(B,N?N._root:null,T,[B.value])}function ro(M,N,T){const B=function(M){if(!M)return null;for(let N=M.parent;N;N=N.parent){const T=N.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(N);return(B?B.module.injector:T).get(M)}function co(M,N,T,B,Y={canDeactivateChecks:[],canActivateChecks:[]}){const se=or(N);return M.children.forEach(xe=>{(function(M,N,T,B,Y={canDeactivateChecks:[],canActivateChecks:[]}){const se=M.value,xe=N?N.value:null,We=T?T.getContext(M.value.outlet):null;if(xe&&se.routeConfig===xe.routeConfig){const yt=function(M,N,T){if("function"==typeof T)return T(M,N);switch(T){case"pathParamsChange":return!bi(M.url,N.url);case"pathParamsOrQueryParamsChange":return!bi(M.url,N.url)||!Ot(M.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jr(M,N)||!Ot(M.queryParams,N.queryParams);case"paramsChange":default:return!jr(M,N)}}(xe,se,se.routeConfig.runGuardsAndResolvers);yt?Y.canActivateChecks.push(new Cr(B)):(se.data=xe.data,se._resolvedData=xe._resolvedData),co(M,N,se.component?We?We.children:null:T,B,Y),yt&&We&&We.outlet&&We.outlet.isActivated&&Y.canDeactivateChecks.push(new Wi(We.outlet.component,xe))}else xe&&Mi(N,We,Y),Y.canActivateChecks.push(new Cr(B)),co(M,null,se.component?We?We.children:null:T,B,Y)})(xe,se[xe.value.outlet],T,B.concat([xe.value]),Y),delete se[xe.value.outlet]}),tn(se,(xe,We)=>Mi(xe,T.getContext(We),Y)),Y}function Mi(M,N,T){const B=or(M),Y=M.value;tn(B,(se,xe)=>{Mi(se,Y.component?N?N.children.getContext(xe):null:N,T)}),T.canDeactivateChecks.push(new Wi(Y.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,Y))}class oo{}function Zo(M){return new J.y(N=>N.error(M))}class Bi{constructor(N,T,B,Y,se,xe){this.rootComponentType=N,this.config=T,this.urlTree=B,this.url=Y,this.paramsInheritanceStrategy=se,this.relativeLinkResolution=xe}recognize(){const N=ae(this.urlTree.root,[],[],this.config.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,N,Ae);if(null===T)return null;const B=new Ii([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new Bn(B,T),se=new dn(this.url,Y);return this.inheritParamsAndData(se._root),se}inheritParamsAndData(N){const T=N.value,B=ni(T,this.paramsInheritanceStrategy);T.params=Object.freeze(B.params),T.data=Object.freeze(B.data),N.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(N,T,B){return 0===T.segments.length&&T.hasChildren()?this.processChildren(N,T):this.processSegment(N,T,T.segments,B)}processChildren(N,T){const B=[];for(const se of Object.keys(T.children)){const xe=T.children[se],We=ht(N,se),yt=this.processSegmentGroup(We,xe,se);if(null===yt)return null;B.push(...yt)}const Y=us(B);return Y.sort((N,T)=>N.value.outlet===Ae?-1:T.value.outlet===Ae?1:N.value.outlet.localeCompare(T.value.outlet)),Y}processSegment(N,T,B,Y){for(const se of N){const xe=this.processSegmentAgainstRoute(se,T,B,Y);if(null!==xe)return xe}return mn(T,B,Y)?[]:null}processSegmentAgainstRoute(N,T,B,Y){if(N.redirectTo||!Qt(N,T,B,Y))return null;let se,xe=[],We=[];if("**"===N.path){const Nr=B.length>0?Pt(B).parameters:{};se=new Ii(B,Nr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(N),le(N),N.component,N,Go(T),vs(T)+B.length,qi(N))}else{const Nr=U(T,N,B);if(!Nr.matched)return null;xe=Nr.consumedSegments,We=B.slice(Nr.lastChild),se=new Ii(xe,Nr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(N),le(N),N.component,N,Go(T),vs(T)+xe.length,qi(N))}const yt=(M=N).children?M.children:M.loadChildren?M._loadedConfig.routes:[],{segmentGroup:Xt,slicedSegments:gn}=ae(T,xe,We,yt.filter(Nr=>void 0===Nr.redirectTo),this.relativeLinkResolution);var M;if(0===gn.length&&Xt.hasChildren()){const Nr=this.processChildren(yt,Xt);return null===Nr?null:[new Bn(se,Nr)]}if(0===yt.length&&0===gn.length)return[new Bn(se,[])];const Ln=le(N)===Y,Jr=this.processSegment(yt,Xt,gn,Ln?Ae:Y);return null===Jr?null:[new Bn(se,Jr)]}}function xi(M){const N=M.value.routeConfig;return N&&""===N.path&&void 0===N.redirectTo}function us(M){const N=[],T=new Set;for(const B of M){if(!xi(B)){N.push(B);continue}const Y=N.find(se=>B.value.routeConfig===se.value.routeConfig);void 0!==Y?(Y.children.push(...B.children),T.add(Y)):N.push(B)}for(const B of T){const Y=us(B.children);N.push(new Bn(B.value,Y))}return N.filter(B=>!T.has(B))}function Go(M){let N=M;for(;N._sourceSegment;)N=N._sourceSegment;return N}function vs(M){let N=M,T=N._segmentIndexShift?N._segmentIndexShift:0;for(;N._sourceSegment;)N=N._sourceSegment,T+=N._segmentIndexShift?N._segmentIndexShift:0;return T-1}function Yi(M){return M.data||{}}function qi(M){return M.resolve||{}}function Xn(M){return(0,Mt.w)(N=>{const T=M(N);return T?(0,ke.D)(T).pipe((0,Me.U)(()=>N)):(0,Ee.of)(N)})}class Er extends class{shouldDetach(N){return!1}store(N,T){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,T){return N.routeConfig===T.routeConfig}}{}const Po=new u.OlP("ROUTES");class zo{constructor(N,T,B,Y){this.loader=N,this.compiler=T,this.onLoadStartListener=B,this.onLoadEndListener=Y}load(N,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const Y=this.loadModuleFactory(T.loadChildren).pipe((0,Me.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(T);const xe=se.create(N);return new oi(en(xe.injector.get(Po,void 0,u.XFs.Self|u.XFs.Optional)).map(L),xe)}),ct(se=>{throw T._loader$=void 0,se}));return T._loader$=new ge.c(Y,()=>new ye.xQ).pipe((0,fn.x)()),T._loader$}loadModuleFactory(N){return"string"==typeof N?(0,ke.D)(this.loader.load(N)):rn(N()).pipe((0,cn.zg)(T=>T instanceof u.YKP?(0,Ee.of)(T):(0,ke.D)(this.compiler.compileModuleAsync(T))))}}class ko{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gr,this.attachRef=null}}class gr{constructor(){this.contexts=new Map}onChildOutletCreated(N,T){const B=this.getOrCreateContext(N);B.outlet=T,this.contexts.set(N,B)}onChildOutletDestroyed(N){const T=this.getContext(N);T&&(T.outlet=null)}onOutletDeactivated(){const N=this.contexts;return this.contexts=new Map,N}onOutletReAttached(N){this.contexts=N}getOrCreateContext(N){let T=this.getContext(N);return T||(T=new ko,this.contexts.set(N,T)),T}getContext(N){return this.contexts.get(N)||null}}class Sr{shouldProcessUrl(N){return!0}extract(N){return N}merge(N,T){return N}}function qr(M){throw M}function v(M,N,T){return N.parse("/")}function F(M,N){return(0,Ee.of)(null)}const Q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Le=(()=>{class M{constructor(T,B,Y,se,xe,We,yt,Xt){this.rootComponentType=T,this.urlSerializer=B,this.rootContexts=Y,this.location=se,this.config=Xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye.xQ,this.errorHandler=qr,this.malformedUriErrorHandler=v,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:F,afterPreactivation:F},this.urlHandlingStrategy=new Sr,this.routeReuseStrategy=new Er,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=xe.get(u.h0i),this.console=xe.get(u.c2e);const Jr=xe.get(u.R0b);this.isNgZoneEnabled=Jr instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Xt),this.currentUrlTree=new Ar(new Tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zo(We,yt,Nr=>this.triggerEvent(new An(Nr)),Nr=>this.triggerEvent(new $t(Nr))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ie.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const B=this.events;return T.pipe((0,Te.h)(Y=>0!==Y.id),(0,Me.U)(Y=>Object.assign(Object.assign({},Y),{extractedUrl:this.urlHandlingStrategy.extract(Y.rawUrl)})),(0,Mt.w)(Y=>{let se=!1,xe=!1;return(0,Ee.of)(Y).pipe((0,_n.b)(We=>{this.currentNavigation={id:We.id,initialUrl:We.currentRawUrl,extractedUrl:We.extractedUrl,trigger:We.source,extras:We.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Mt.w)(We=>{const yt=!this.navigated||We.extractedUrl.toString()!==this.browserUrlTree.toString(),Xt=("reload"===this.onSameUrlNavigation||yt)&&this.urlHandlingStrategy.shouldProcessUrl(We.rawUrl);if(Wt(We.source)&&(this.browserUrlTree=We.rawUrl),Xt)return(0,Ee.of)(We).pipe((0,Mt.w)(gn=>{const Ln=this.transitions.getValue();return B.next(new tt(gn.id,this.serializeUrl(gn.extractedUrl),gn.source,gn.restoredState)),Ln!==this.transitions.getValue()?Se.E:Promise.resolve(gn)}),function(M,N,T,B){return(0,Mt.w)(Y=>function(M,N,T,B,Y){return new Yr(M,N,T,B,Y).apply()}(M,N,T,Y.extractedUrl,B).pipe((0,Me.U)(se=>Object.assign(Object.assign({},Y),{urlAfterRedirects:se}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(gn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:gn.urlAfterRedirects})}),function(M,N,T,B,Y){return(0,cn.zg)(se=>function(M,N,T,B,Y="emptyOnly",se="legacy"){try{const xe=new Bi(M,N,T,B,Y,se).recognize();return null===xe?Zo(new oo):(0,Ee.of)(xe)}catch(xe){return Zo(xe)}}(M,N,se.urlAfterRedirects,T(se.urlAfterRedirects),B,Y).pipe((0,Me.U)(xe=>Object.assign(Object.assign({},se),{targetSnapshot:xe}))))}(this.rootComponentType,this.config,gn=>this.serializeUrl(gn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(gn=>{"eager"===this.urlUpdateStrategy&&(gn.extras.skipLocationChange||this.setBrowserUrl(gn.urlAfterRedirects,gn),this.browserUrlTree=gn.urlAfterRedirects);const Ln=new Zt(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);B.next(Ln)}));if(yt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ln,extractedUrl:Jr,source:Nr,restoredState:Rs,extras:So}=We,es=new tt(Ln,this.serializeUrl(Jr),Nr,Rs);B.next(es);const Lo=Pn(Jr,this.rootComponentType).snapshot;return(0,Ee.of)(Object.assign(Object.assign({},We),{targetSnapshot:Lo,urlAfterRedirects:Jr,extras:Object.assign(Object.assign({},So),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=We.rawUrl,this.browserUrlTree=We.urlAfterRedirects,We.resolve(null),Se.E}),Xn(We=>{const{targetSnapshot:yt,id:Xt,extractedUrl:gn,rawUrl:Ln,extras:{skipLocationChange:Jr,replaceUrl:Nr}}=We;return this.hooks.beforePreactivation(yt,{navigationId:Xt,appliedUrlTree:gn,rawUrlTree:Ln,skipLocationChange:!!Jr,replaceUrl:!!Nr})}),(0,_n.b)(We=>{const yt=new Ut(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(yt)}),(0,Me.U)(We=>Object.assign(Object.assign({},We),{guards:To(We.targetSnapshot,We.currentSnapshot,this.rootContexts)})),function(M,N){return(0,cn.zg)(T=>{const{targetSnapshot:B,currentSnapshot:Y,guards:{canActivateChecks:se,canDeactivateChecks:xe}}=T;return 0===xe.length&&0===se.length?(0,Ee.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function(M,N,T,B){return(0,ke.D)(M).pipe((0,cn.zg)(Y=>function(M,N,T,B,Y){const se=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,Ee.of)(!0);const xe=se.map(We=>{const yt=ro(We,N,Y);let Xt;if(function(M){return M&&Ni(M.canDeactivate)}(yt))Xt=rn(yt.canDeactivate(M,N,T,B));else{if(!Ni(yt))throw new Error("Invalid CanDeactivate guard");Xt=rn(yt(M,N,T,B))}return Xt.pipe((0,Tt.P)())});return(0,Ee.of)(xe).pipe(ii())}(Y.component,Y.route,T,N,B)),(0,Tt.P)(Y=>!0!==Y,!0))}(xe,B,Y,M).pipe((0,cn.zg)(We=>We&&function(M){return"boolean"==typeof M}(We)?function(M,N,T,B){return(0,ke.D)(N).pipe((0,rt.b)(Y=>(0,De.z)(function(M,N){return null!==M&&N&&N(new zn(M)),(0,Ee.of)(!0)}(Y.route.parent,B),function(M,N){return null!==M&&N&&N(new Hn(M)),(0,Ee.of)(!0)}(Y.route,B),function(M,N,T){const B=N[N.length-1],se=N.slice(0,N.length-1).reverse().map(xe=>function(M){const N=M.routeConfig?M.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:M,guards:N}:null}(xe)).filter(xe=>null!==xe).map(xe=>Ne(()=>{const We=xe.guards.map(yt=>{const Xt=ro(yt,xe.node,T);let gn;if(function(M){return M&&Ni(M.canActivateChild)}(Xt))gn=rn(Xt.canActivateChild(B,M));else{if(!Ni(Xt))throw new Error("Invalid CanActivateChild guard");gn=rn(Xt(B,M))}return gn.pipe((0,Tt.P)())});return(0,Ee.of)(We).pipe(ii())}));return(0,Ee.of)(se).pipe(ii())}(M,Y.path,T),function(M,N,T){const B=N.routeConfig?N.routeConfig.canActivate:null;if(!B||0===B.length)return(0,Ee.of)(!0);const Y=B.map(se=>Ne(()=>{const xe=ro(se,N,T);let We;if(function(M){return M&&Ni(M.canActivate)}(xe))We=rn(xe.canActivate(N,M));else{if(!Ni(xe))throw new Error("Invalid CanActivate guard");We=rn(xe(N,M))}return We.pipe((0,Tt.P)())}));return(0,Ee.of)(Y).pipe(ii())}(M,Y.route,T))),(0,Tt.P)(Y=>!0!==Y,!0))}(B,se,M,N):(0,Ee.of)(We)),(0,Me.U)(We=>Object.assign(Object.assign({},T),{guardsResult:We})))})}(this.ngModule.injector,We=>this.triggerEvent(We)),(0,_n.b)(We=>{if(Ai(We.guardsResult)){const Xt=Ce(`Redirecting to "${this.serializeUrl(We.guardsResult)}"`);throw Xt.url=We.guardsResult,Xt}const yt=new Cn(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot,!!We.guardsResult);this.triggerEvent(yt)}),(0,Te.h)(We=>!!We.guardsResult||(this.restoreHistory(We),this.cancelNavigationTransition(We,""),!1)),Xn(We=>{if(We.guards.canActivateChecks.length)return(0,Ee.of)(We).pipe((0,_n.b)(yt=>{const Xt=new Vn(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Xt)}),(0,Mt.w)(yt=>{let Xt=!1;return(0,Ee.of)(yt).pipe(function(M,N){return(0,cn.zg)(T=>{const{targetSnapshot:B,guards:{canActivateChecks:Y}}=T;if(!Y.length)return(0,Ee.of)(T);let se=0;return(0,ke.D)(Y).pipe((0,rt.b)(xe=>function(M,N,T,B){return function(M,N,T,B){const Y=Object.keys(M);if(0===Y.length)return(0,Ee.of)({});const se={};return(0,ke.D)(Y).pipe((0,cn.zg)(xe=>function(M,N,T,B){const Y=ro(M,N,B);return rn(Y.resolve?Y.resolve(N,T):Y(N,T))}(M[xe],N,T,B).pipe((0,_n.b)(We=>{se[xe]=We}))),Ft(1),(0,cn.zg)(()=>Object.keys(se).length===Y.length?(0,Ee.of)(se):Se.E))}(M._resolve,M,N,B).pipe((0,Me.U)(se=>(M._resolvedData=se,M.data=Object.assign(Object.assign({},M.data),ni(M,T).resolve),null)))}(xe.route,B,M,N)),(0,_n.b)(()=>se++),Ft(1),(0,cn.zg)(xe=>se===Y.length?(0,Ee.of)(T):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(yt=>{const Xt=new Rt(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Xt)}))}),Xn(We=>{const{targetSnapshot:yt,id:Xt,extractedUrl:gn,rawUrl:Ln,extras:{skipLocationChange:Jr,replaceUrl:Nr}}=We;return this.hooks.afterPreactivation(yt,{navigationId:Xt,appliedUrlTree:gn,rawUrlTree:Ln,skipLocationChange:!!Jr,replaceUrl:!!Nr})}),(0,Me.U)(We=>{const yt=function(M,N,T){const B=Hi(M,N._root,T?T._root:void 0);return new $n(B,N)}(this.routeReuseStrategy,We.targetSnapshot,We.currentRouterState);return Object.assign(Object.assign({},We),{targetRouterState:yt})}),(0,_n.b)(We=>{this.currentUrlTree=We.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,We.rawUrl),this.routerState=We.targetRouterState,"deferred"===this.urlUpdateStrategy&&(We.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,We),this.browserUrlTree=We.urlAfterRedirects)}),((M,N,T)=>(0,Me.U)(B=>(new yi(N,B.targetRouterState,B.currentRouterState,T).activate(M),B)))(this.rootContexts,this.routeReuseStrategy,We=>this.triggerEvent(We)),(0,_n.b)({next(){se=!0},complete(){se=!0}}),function(M){return N=>N.lift(new Z(M))}(()=>{if(!se&&!xe){const We=`Navigation ID ${Y.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(Y),this.cancelNavigationTransition(Y,We)):this.cancelNavigationTransition(Y,We)}this.currentNavigation=null}),ct(We=>{if(xe=!0,function(M){return M&&M[Oe]}(We)){const yt=Ai(We.url);yt||(this.navigated=!0,this.restoreHistory(Y,!0));const Xt=new Bt(Y.id,this.serializeUrl(Y.extractedUrl),We.message);B.next(Xt),yt?setTimeout(()=>{const gn=this.urlHandlingStrategy.merge(We.url,this.rawUrlTree),Ln={skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wt(Y.source)};this.scheduleNavigation(gn,"imperative",null,Ln,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})},0):Y.resolve(!1)}else{this.restoreHistory(Y,!0);const yt=new wn(Y.id,this.serializeUrl(Y.extractedUrl),We);B.next(yt);try{Y.resolve(this.errorHandler(We))}catch(Xt){Y.reject(Xt)}}return Se.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}getTransition(){const T=this.transitions.value;return T.urlAfterRedirects=this.browserUrlTree,T}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const B=this.extractLocationChangeInfoFromEvent(T);this.shouldScheduleNavigation(this.lastLocationChangeInfo,B)&&setTimeout(()=>{const{source:Y,state:se,urlTree:xe}=B,We={replaceUrl:!0};if(se){const yt=Object.assign({},se);delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(We.state=yt)}this.scheduleNavigation(xe,Y,se,We)},0),this.lastLocationChangeInfo=B}))}extractLocationChangeInfoFromEvent(T){var B;return{source:"popstate"===T.type?"popstate":"hashchange",urlTree:this.parseUrl(T.url),state:(null===(B=T.state)||void 0===B?void 0:B.navigationId)?T.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(T,B){if(!T)return!0;const Y=B.urlTree.toString()===T.urlTree.toString();return B.transitionId!==T.transitionId||!Y||!("hashchange"===B.source&&"popstate"===T.source||"popstate"===B.source&&"hashchange"===T.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){Pr(T),this.config=T.map(L),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,B={}){const{relativeTo:Y,queryParams:se,fragment:xe,queryParamsHandling:We,preserveFragment:yt}=B,Xt=Y||this.routerState.root,gn=yt?this.currentUrlTree.fragment:xe;let Ln=null;switch(We){case"merge":Ln=Object.assign(Object.assign({},this.currentUrlTree.queryParams),se);break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=se||null}return null!==Ln&&(Ln=this.removeEmptyProps(Ln)),function(M,N,T,B,Y){if(0===T.length)return wi(N.root,N.root,N,B,Y);const se=function(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Fn(!0,0,M);let N=0,T=!1;const B=M.reduce((Y,se,xe)=>{if("object"==typeof se&&null!=se){if(se.outlets){const We={};return tn(se.outlets,(yt,Xt)=>{We[Xt]="string"==typeof yt?yt.split("/"):yt}),[...Y,{outlets:We}]}if(se.segmentPath)return[...Y,se.segmentPath]}return"string"!=typeof se?[...Y,se]:0===xe?(se.split("/").forEach((We,yt)=>{0==yt&&"."===We||(0==yt&&""===We?T=!0:".."===We?N++:""!=We&&Y.push(We))}),Y):[...Y,se]},[]);return new Fn(T,N,B)}(T);if(se.toRoot())return wi(N.root,new Tn([],{}),N,B,Y);const xe=function(M,N,T){if(M.isAbsolute)return new Xi(N.root,!0,0);if(-1===T.snapshot._lastPathIndex){const se=T.snapshot._urlSegment;return new Xi(se,se===N.root,0)}const B=pi(M.commands[0])?0:1;return function(M,N,T){let B=M,Y=N,se=T;for(;se>Y;){if(se-=Y,B=B.parent,!B)throw new Error("Invalid number of '../'");Y=B.segments.length}return new Xi(B,!1,Y-se)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+B,M.numberOfDoubleDots)}(se,N,M),We=xe.processChildren?Gi(xe.segmentGroup,xe.index,se.commands):xo(xe.segmentGroup,xe.index,se.commands);return wi(xe.segmentGroup,We,N,B,Y)}(Xt,this.currentUrlTree,T,Ln,null!=gn?gn:null)}navigateByUrl(T,B={skipLocationChange:!1}){const Y=Ai(T)?T:this.parseUrl(T),se=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(se,"imperative",null,B)}navigate(T,B={skipLocationChange:!1}){return function(M){for(let N=0;N<M.length;N++){const T=M[N];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${N}`)}}(T),this.navigateByUrl(this.createUrlTree(T,B),B)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let B;try{B=this.urlSerializer.parse(T)}catch(Y){B=this.malformedUriErrorHandler(Y,this.urlSerializer,T)}return B}isActive(T,B){let Y;if(Y=!0===B?Object.assign({},Q):!1===B?Object.assign({},pe):B,Ai(T))return nr(this.currentUrlTree,T,Y);const se=this.parseUrl(T);return nr(this.currentUrlTree,se,Y)}removeEmptyProps(T){return Object.keys(T).reduce((B,Y)=>{const se=T[Y];return null!=se&&(B[Y]=se),B},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new Ye(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(T,B,Y,se,xe){var We,yt;if(this.disposed)return Promise.resolve(!1);const Xt=this.getTransition(),gn=Wt(B)&&Xt&&!Wt(Xt.source),Nr=(this.lastSuccessfulId===Xt.id||this.currentNavigation?Xt.rawUrl:Xt.urlAfterRedirects).toString()===T.toString();if(gn&&Nr)return Promise.resolve(!0);let Rs,So,es;xe?(Rs=xe.resolve,So=xe.reject,es=xe.promise):es=new Promise((Vo,Gs)=>{Rs=Vo,So=Gs});const Lo=++this.navigationId;let Yo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Y=this.location.getState()),Yo=Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:se.replaceUrl||se.skipLocationChange?null!==(We=this.browserPageId)&&void 0!==We?We:0:(null!==(yt=this.browserPageId)&&void 0!==yt?yt:0)+1):Yo=0,this.setTransition({id:Lo,targetPageId:Yo,source:B,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:se,resolve:Rs,reject:So,promise:es,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),es.catch(Vo=>Promise.reject(Vo))}setBrowserUrl(T,B){const Y=this.urlSerializer.serialize(T),se=Object.assign(Object.assign({},B.extras.state),this.generateNgRouterState(B.id,B.targetPageId));this.location.isCurrentPathEqualTo(Y)||B.extras.replaceUrl?this.location.replaceState(Y,"",se):this.location.go(Y,"",se)}restoreHistory(T,B=!1){var Y,se;if("computed"===this.canceledNavigationResolution){const xe=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)||0===xe?this.currentUrlTree===(null===(se=this.currentNavigation)||void 0===se?void 0:se.finalUrl)&&0===xe&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(xe)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,B){const Y=new Bt(T.id,this.serializeUrl(T.extractedUrl),B);this.triggerEvent(Y),T.resolve(!1)}generateNgRouterState(T,B){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:B}:{navigationId:T}}}return M.\u0275fac=function(T){return new(T||M)(u.LFG(u.DyG),u.LFG(uo),u.LFG(gr),u.LFG(E.Ye),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();function Wt(M){return"imperative"!==M}let bn=(()=>{class M{constructor(T,B,Y){this.router=T,this.route=B,this.locationStrategy=Y,this.commands=[],this.onChanges=new ye.xQ,this.subscription=T.events.subscribe(se=>{se instanceof Ye&&this.updateTargetUrlAndHref()})}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:[]}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,B,Y,se,xe){if(0!==T||B||Y||se||xe||"string"==typeof this.target&&"_self"!=this.target)return!0;const We={skipLocationChange:O(this.skipLocationChange),replaceUrl:O(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,We),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:O(this.preserveFragment)})}}return M.\u0275fac=function(T){return new(T||M)(u.Y36(Le),u.Y36(zr),u.Y36(E.S$))},M.\u0275dir=u.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,B){1&T&&u.NdJ("click",function(se){return B.onClick(se.button,se.ctrlKey,se.shiftKey,se.altKey,se.metaKey)}),2&T&&(u.Ikx("href",B.href,u.LSH),u.uIk("target",B.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),M})();function O(M){return""===M||!!M}let Ve=(()=>{class M{constructor(T,B,Y,se,xe){this.parentContexts=T,this.location=B,this.resolver=Y,this.changeDetector=xe,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=se||Ae,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,T}attach(T,B){this.activated=T,this._activatedRoute=B,this.location.insert(T.hostView)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const xe=(B=B||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),We=this.parentContexts.getOrCreateContext(this.name).children,yt=new St(T,We,this.location.injector);this.activated=this.location.createComponent(xe,this.location.length,yt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(T){return new(T||M)(u.Y36(gr),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},M.\u0275dir=u.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),M})();class St{constructor(N,T,B){this.route=N,this.childContexts=T,this.parent=B}get(N,T){return N===zr?this.route:N===gr?this.childContexts:this.parent.get(N,T)}}class an{}class ci{preload(N,T){return(0,Ee.of)(null)}}let Ri=(()=>{class M{constructor(T,B,Y,se,xe){this.router=T,this.injector=se,this.preloadingStrategy=xe,this.loader=new zo(B,Y,Xt=>T.triggerEvent(new An(Xt)),Xt=>T.triggerEvent(new $t(Xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.h)(T=>T instanceof Ye),(0,rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(u.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,B){const Y=[];for(const se of B)if(se.loadChildren&&!se.canLoad&&se._loadedConfig){const xe=se._loadedConfig;Y.push(this.processRoutes(xe.module,xe.routes))}else se.loadChildren&&!se.canLoad?Y.push(this.preloadConfig(T,se)):se.children&&Y.push(this.processRoutes(T,se.children));return(0,ke.D)(Y).pipe((0,Ct.J)(),(0,Me.U)(se=>{}))}preloadConfig(T,B){return this.preloadingStrategy.preload(B,()=>(B._loadedConfig?(0,Ee.of)(B._loadedConfig):this.loader.load(T.injector,B)).pipe((0,cn.zg)(se=>(B._loadedConfig=se,this.processRoutes(se.module,se.routes)))))}}return M.\u0275fac=function(T){return new(T||M)(u.LFG(Le),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(an))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})(),Fo=(()=>{class M{constructor(T,B,Y={}){this.router=T,this.viewportScroller=B,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ye&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof ze&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,B){this.router.triggerEvent(new ze(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(T){return new(T||M)(u.LFG(Le),u.LFG(E.EM),u.LFG(void 0))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();const bs=new u.OlP("ROUTER_CONFIGURATION"),js=new u.OlP("ROUTER_FORROOT_GUARD"),Js=[E.Ye,{provide:uo,useClass:Rr},{provide:Le,useFactory:function(M,N,T,B,Y,se,xe,We={},yt,Xt){const gn=new Le(null,M,N,T,B,Y,se,en(xe));return yt&&(gn.urlHandlingStrategy=yt),Xt&&(gn.routeReuseStrategy=Xt),function(M,N){M.errorHandler&&(N.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(N.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(N.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(N.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(N.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(N.urlUpdateStrategy=M.urlUpdateStrategy)}(We,gn),We.enableTracing&&gn.events.subscribe(Ln=>{var Jr,Nr;null===(Jr=console.group)||void 0===Jr||Jr.call(console,`Router Event: ${Ln.constructor.name}`),console.log(Ln.toString()),console.log(Ln),null===(Nr=console.groupEnd)||void 0===Nr||Nr.call(console)}),gn},deps:[uo,gr,E.Ye,u.zs3,u.v3s,u.Sil,Po,bs,[class{},new u.FiY],[class{},new u.FiY]]},gr,{provide:zr,useFactory:function(M){return M.routerState.root},deps:[Le]},{provide:u.v3s,useClass:u.EAV},Ri,ci,class{preload(N,T){return T().pipe(ct(()=>(0,Ee.of)(null)))}},{provide:bs,useValue:{enableTracing:!1}}];function Hs(){return new u.PXZ("Router",Le)}let xs=(()=>{class M{constructor(T,B){}static forRoot(T,B){return{ngModule:M,providers:[Js,p(T),{provide:js,useFactory:c,deps:[[Le,new u.FiY,new u.tp0]]},{provide:bs,useValue:B||{}},{provide:E.S$,useFactory:_,deps:[E.lw,[new u.tBr(E.mr),new u.FiY],bs]},{provide:Fo,useFactory:Ks,deps:[Le,E.EM,bs]},{provide:an,useExisting:B&&B.preloadingStrategy?B.preloadingStrategy:ci},{provide:u.PXZ,multi:!0,useFactory:Hs},[K,{provide:u.ip1,multi:!0,useFactory:ue,deps:[K]},{provide:me,useFactory:_e,deps:[K]},{provide:u.tb,multi:!0,useExisting:me}]]}}static forChild(T){return{ngModule:M,providers:[p(T)]}}}return M.\u0275fac=function(T){return new(T||M)(u.LFG(js,8),u.LFG(Le,8))},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({}),M})();function Ks(M,N,T){return T.scrollOffset&&N.setOffset(T.scrollOffset),new Fo(M,N,T)}function _(M,N,T={}){return T.useHash?new E.Do(M,N):new E.b0(M,N)}function c(M){return"guarded"}function p(M){return[{provide:u.deG,multi:!0,useValue:M},{provide:Po,multi:!0,useValue:M}]}let K=(()=>{class M{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye.xQ}appInitializer(){return this.injector.get(E.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let B=null;const Y=new Promise(We=>B=We),se=this.injector.get(Le),xe=this.injector.get(bs);return"disabled"===xe.initialNavigation?(se.setUpLocationChangeListener(),B(!0)):"enabled"===xe.initialNavigation||"enabledBlocking"===xe.initialNavigation?(se.hooks.afterPreactivation=()=>this.initNavigation?(0,Ee.of)(null):(this.initNavigation=!0,B(!0),this.resultOfPreactivationDone),se.initialNavigation()):B(!0),Y})}bootstrapListener(T){const B=this.injector.get(bs),Y=this.injector.get(Ri),se=this.injector.get(Fo),xe=this.injector.get(Le),We=this.injector.get(u.z2F);T===We.components[0]&&(("enabledNonBlocking"===B.initialNavigation||void 0===B.initialNavigation)&&xe.initialNavigation(),Y.setUpPreloading(),se.init(),xe.resetRootComponentType(We.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(T){return new(T||M)(u.LFG(u.zs3))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();function ue(M){return M.appInitializer.bind(M)}function _e(M){return M.bootstrapListener.bind(M)}const me=new u.OlP("Router Initializer")},6279:(zt,Pe,ee)=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var Se,Ft,E=ee(7796),u=ee(1704),J=ee(1100),ke=ee(300),Ne=((Se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Se["bad-app-name"]="Illegal App name: '{$appName}",Se["duplicate-app"]="Firebase App named '{$appName}' already exists",Se["app-deleted"]="Firebase App named '{$appName}' already deleted",Se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Se),Ee=new u.ErrorFactory("app","Firebase",Ne),Ie="@firebase/app",Gt="[DEFAULT]",Dt=((Ft={})[Ie]="fire-core",Ft["@firebase/analytics"]="fire-analytics",Ft["@firebase/auth"]="fire-auth",Ft["@firebase/database"]="fire-rtdb",Ft["@firebase/functions"]="fire-fn",Ft["@firebase/installations"]="fire-iid",Ft["@firebase/messaging"]="fire-fcm",Ft["@firebase/performance"]="fire-perf",Ft["@firebase/remote-config"]="fire-rc",Ft["@firebase/storage"]="fire-gcs",Ft["@firebase/firestore"]="fire-fst",Ft["fire-js"]="fire-js",Ft["firebase-wrapper"]="fire-js-all",Ft),wt=new ke.Logger("@firebase/app"),$=function(){function Vt(rt,Tt,cn){var _n,fn,Ct=this;this.firebase_=cn,this.isDeleted_=!1,this.name_=Tt.name,this.automaticDataCollectionEnabled_=Tt.automaticDataCollectionEnabled||!1,this.options_=u.deepCopy(rt),this.container=new J.ComponentContainer(Tt.name),this._addComponent(new J.Component("app",function(){return Ct},"PUBLIC"));try{for(var lt=E.__values(this.firebase_.INTERNAL.components.values()),tt=lt.next();!tt.done;tt=lt.next())this._addComponent(tt.value)}catch(Bt){_n={error:Bt}}finally{try{tt&&!tt.done&&(fn=lt.return)&&fn.call(lt)}finally{if(_n)throw _n.error}}}return Object.defineProperty(Vt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(rt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=rt},enumerable:!1,configurable:!0}),Object.defineProperty(Vt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Vt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Vt.prototype.delete=function(){var rt=this;return new Promise(function(Tt){rt.checkDestroyed_(),Tt()}).then(function(){return rt.firebase_.INTERNAL.removeApp(rt.name_),Promise.all(rt.container.getProviders().map(function(Tt){return Tt.delete()}))}).then(function(){rt.isDeleted_=!0})},Vt.prototype._getService=function(rt,Tt){return void 0===Tt&&(Tt=Gt),this.checkDestroyed_(),this.container.getProvider(rt).getImmediate({identifier:Tt})},Vt.prototype._removeServiceInstance=function(rt,Tt){void 0===Tt&&(Tt=Gt),this.container.getProvider(rt).clearInstance(Tt)},Vt.prototype._addComponent=function(rt){try{this.container.addComponent(rt)}catch(Tt){wt.debug("Component "+rt.name+" failed to register with FirebaseApp "+this.name,Tt)}},Vt.prototype._addOrOverwriteComponent=function(rt){this.container.addOrOverwriteComponent(rt)},Vt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ee.create("app-deleted",{appName:this.name_})},Vt}();$.prototype.name&&$.prototype.options||$.prototype.delete||console.log("dc");var de=function oe(){var Vt=function(Vt){var rt={},Tt=new Map,cn={__esModule:!0,initializeApp:function(Zt,Ut){void 0===Ut&&(Ut={}),("object"!=typeof Ut||null===Ut)&&(Ut={name:Ut});var Vn=Ut;void 0===Vn.name&&(Vn.name=Gt);var Rt=Vn.name;if("string"!=typeof Rt||!Rt)throw Ee.create("bad-app-name",{appName:String(Rt)});if(u.contains(rt,Rt))throw Ee.create("duplicate-app",{appName:Rt});var An=new Vt(Zt,Vn,cn);return rt[Rt]=An,An},app:fn,registerVersion:function(Zt,Ut,Cn){var Vn,Rt=null!==(Vn=Dt[Zt])&&void 0!==Vn?Vn:Zt;Cn&&(Rt+="-"+Cn);var An=Rt.match(/\s|\//),$t=Ut.match(/\s|\//);if(An||$t){var zn=['Unable to register library "'+Rt+'" with version "'+Ut+'":'];return An&&zn.push('library name "'+Rt+'" contains illegal characters (whitespace or "/")'),An&&$t&&zn.push("and"),$t&&zn.push('version name "'+Ut+'" contains illegal characters (whitespace or "/")'),void wt.warn(zn.join(" "))}tt(new J.Component(Rt+"-version",function(){return{library:Rt,version:Ut}},"VERSION"))},setLogLevel:ke.setLogLevel,onLog:function(Zt,Ut){if(null!==Zt&&"function"!=typeof Zt)throw Ee.create("invalid-log-argument",{appName:name});ke.setUserLogHandler(Zt,Ut)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:tt,removeApp:function(Zt){delete rt[Zt]},components:Tt,useAsService:function(Zt,Ut){return"serverAuth"===Ut?null:Ut}}};function fn(Zt){if(!u.contains(rt,Zt=Zt||Gt))throw Ee.create("no-app",{appName:Zt});return rt[Zt]}function tt(Zt){var Ut,Cn,Vn=Zt.name;if(Tt.has(Vn))return wt.debug("There were multiple attempts to register component "+Vn+"."),"PUBLIC"===Zt.type?cn[Vn]:null;if(Tt.set(Vn,Zt),"PUBLIC"===Zt.type){var Rt=function(Un){if(void 0===Un&&(Un=fn()),"function"!=typeof Un[Vn])throw Ee.create("invalid-app-argument",{appName:Vn});return Un[Vn]()};void 0!==Zt.serviceProps&&u.deepExtend(Rt,Zt.serviceProps),cn[Vn]=Rt,Vt.prototype[Vn]=function(){for(var Un=[],Hn=0;Hn<arguments.length;Hn++)Un[Hn]=arguments[Hn];return this._getService.bind(this,Vn).apply(this,Zt.multipleInstances?Un:[])}}try{for(var An=E.__values(Object.keys(rt)),$t=An.next();!$t.done;$t=An.next())rt[$t.value]._addComponent(Zt)}catch(Un){Ut={error:Un}}finally{try{$t&&!$t.done&&(Cn=An.return)&&Cn.call(An)}finally{if(Ut)throw Ut.error}}return"PUBLIC"===Zt.type?cn[Vn]:null}return cn.default=cn,Object.defineProperty(cn,"apps",{get:function(){return Object.keys(rt).map(function(Zt){return rt[Zt]})}}),fn.App=Vt,cn}($);return Vt.INTERNAL=E.__assign(E.__assign({},Vt.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function(Tt){u.deepExtend(Vt,Tt)},createSubscribe:u.createSubscribe,ErrorFactory:u.ErrorFactory,deepExtend:u.deepExtend}),Vt}(),Z=function(){function Vt(rt){this.container=rt}return Vt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Tt){if(function(Vt){var rt=Vt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Tt)){var cn=Tt.getImmediate();return cn.library+"/"+cn.version}return null}).filter(function(Tt){return Tt}).join(" ")},Vt}();if(u.isBrowser()&&void 0!==self.firebase){wt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&wt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $e=de.initializeApp;de.initializeApp=function(){for(var Vt=[],rt=0;rt<arguments.length;rt++)Vt[rt]=arguments[rt];return u.isNode()&&wt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),$e.apply(void 0,Vt)};var Vt,mt=de;(Vt=mt).INTERNAL.registerComponent(new J.Component("platform-logger",function(Tt){return new Z(Tt)},"PRIVATE")),Vt.registerVersion(Ie,"0.6.11",undefined),Vt.registerVersion("fire-js",""),Pe.default=mt,Pe.firebase=mt},1100:(zt,Pe,ee)=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var E=ee(5385),u=ee(1704),J=function(){function ne(X,De,ge){this.name=X,this.instanceFactory=De,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return ne.prototype.setInstantiationMode=function(X){return this.instantiationMode=X,this},ne.prototype.setMultipleInstances=function(X){return this.multipleInstances=X,this},ne.prototype.setServiceProps=function(X){return this.serviceProps=X,this},ne}(),ke="[DEFAULT]",Se=function(){function ne(X,De){this.name=X,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return ne.prototype.get=function(X){void 0===X&&(X=ke);var De=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(De)){var ge=new u.Deferred;this.instancesDeferred.set(De,ge);try{var ye=this.getOrInitializeService(De);ye&&ge.resolve(ye)}catch(et){}}return this.instancesDeferred.get(De).promise},ne.prototype.getImmediate=function(X){var De=E.__assign({identifier:ke,optional:!1},X),ye=De.optional,et=this.normalizeInstanceIdentifier(De.identifier);try{var ct=this.getOrInitializeService(et);if(!ct){if(ye)return null;throw Error("Service "+this.name+" is not available")}return ct}catch(st){if(ye)return null;throw st}},ne.prototype.getComponent=function(){return this.component},ne.prototype.setComponent=function(X){var De,ge;if(X.name!==this.name)throw Error("Mismatching Component "+X.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=X,function(ne){return"EAGER"===ne.instantiationMode}(X))try{this.getOrInitializeService(ke)}catch(xt){}try{for(var ye=E.__values(this.instancesDeferred.entries()),et=ye.next();!et.done;et=ye.next()){var ct=E.__read(et.value,2),nt=ct[1],Te=this.normalizeInstanceIdentifier(ct[0]);try{var Ze=this.getOrInitializeService(Te);nt.resolve(Ze)}catch(xt){}}}catch(xt){De={error:xt}}finally{try{et&&!et.done&&(ge=ye.return)&&ge.call(ye)}finally{if(De)throw De.error}}},ne.prototype.clearInstance=function(X){void 0===X&&(X=ke),this.instancesDeferred.delete(X),this.instances.delete(X)},ne.prototype.delete=function(){return E.__awaiter(this,void 0,void 0,function(){var X;return E.__generator(this,function(De){switch(De.label){case 0:return X=Array.from(this.instances.values()),[4,Promise.all(E.__spread(X.filter(function(ge){return"INTERNAL"in ge}).map(function(ge){return ge.INTERNAL.delete()}),X.filter(function(ge){return"_delete"in ge}).map(function(ge){return ge._delete()})))];case 1:return De.sent(),[2]}})})},ne.prototype.isComponentSet=function(){return null!=this.component},ne.prototype.getOrInitializeService=function(X){var De=this.instances.get(X);return!De&&this.component&&(De=this.component.instanceFactory(this.container,function(ne){return ne===ke?void 0:ne}(X)),this.instances.set(X,De)),De||null},ne.prototype.normalizeInstanceIdentifier=function(X){return this.component?this.component.multipleInstances?X:ke:X},ne}(),Ie=function(){function ne(X){this.name=X,this.providers=new Map}return ne.prototype.addComponent=function(X){var De=this.getProvider(X.name);if(De.isComponentSet())throw new Error("Component "+X.name+" has already been registered with "+this.name);De.setComponent(X)},ne.prototype.addOrOverwriteComponent=function(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)},ne.prototype.getProvider=function(X){if(this.providers.has(X))return this.providers.get(X);var De=new Se(X,this);return this.providers.set(X,De),De},ne.prototype.getProviders=function(){return Array.from(this.providers.values())},ne}();Pe.Component=J,Pe.ComponentContainer=Ie,Pe.Provider=Se},4614:(zt,Pe,ee)=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var E=ee(6279),u=ee(209),J=ee(1704),ke=ee(300),Se=ee(1100);function Ne(_){return _&&"object"==typeof _&&"default"in _?_:{default:_}}var _,Ee=Ne(E),Ie=function(){function _(c){this.domStorage_=c,this.prefix_="firebase:"}return _.prototype.set=function(c,p){null==p?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),J.stringify(p))},_.prototype.get=function(c){var p=this.domStorage_.getItem(this.prefixedName_(c));return null==p?null:J.jsonEval(p)},_.prototype.remove=function(c){this.domStorage_.removeItem(this.prefixedName_(c))},_.prototype.prefixedName_=function(c){return this.prefix_+c},_.prototype.toString=function(){return this.domStorage_.toString()},_}(),ne=function(){function _(){this.cache_={},this.isInMemoryStorage=!0}return _.prototype.set=function(c,p){null==p?delete this.cache_[c]:this.cache_[c]=p},_.prototype.get=function(c){return J.contains(this.cache_,c)?this.cache_[c]:null},_.prototype.remove=function(c){delete this.cache_[c]},_}(),X=function(_){try{if("undefined"!=typeof window&&void 0!==window[_]){var c=window[_];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new Ie(c)}}catch(p){}return new ne},De=X("localStorage"),ge=X("sessionStorage"),ye=new ke.Logger("@firebase/database"),et=(_=1,function(){return _++}),ct=function(_){var c=J.stringToByteArray(_),p=new J.Sha1;p.update(c);var b=p.digest();return J.base64.encodeByteArray(b)},st=function(){for(var _=[],c=0;c<arguments.length;c++)_[c]=arguments[c];for(var p="",b=0;b<_.length;b++){var A=_[b];Array.isArray(A)||A&&"object"==typeof A&&"number"==typeof A.length?p+=st.apply(null,A):p+="object"==typeof A?J.stringify(A):A,p+=" "}return p},nt=null,Te=!0,Ze=function(_,c){J.assert(!c||!0===_||!1===_,"Can't turn on custom loggers persistently."),!0===_?(ye.logLevel=ke.LogLevel.VERBOSE,nt=ye.log.bind(ye),c&&ge.set("logging_enabled",!0)):"function"==typeof _?nt=_:(nt=null,ge.remove("logging_enabled"))},xt=function(){for(var _=[],c=0;c<arguments.length;c++)_[c]=arguments[c];if(!0===Te&&(Te=!1,null===nt&&!0===ge.get("logging_enabled")&&Ze(!0)),nt){var p=st.apply(null,_);nt(p)}},Ft=function(_){return function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];xt.apply(void 0,u.__spread([_],c))}},Gt=function(){for(var _=[],c=0;c<arguments.length;c++)_[c]=arguments[c];var p="FIREBASE INTERNAL ERROR: "+st.apply(void 0,u.__spread(_));ye.error(p)},Dt=function(){for(var _=[],c=0;c<arguments.length;c++)_[c]=arguments[c];var p="FIREBASE FATAL ERROR: "+st.apply(void 0,u.__spread(_));throw ye.error(p),new Error(p)},wt=function(){for(var _=[],c=0;c<arguments.length;c++)_[c]=arguments[c];var p="FIREBASE WARNING: "+st.apply(void 0,u.__spread(_));ye.warn(p)},re=function(_){return"number"==typeof _&&(_!=_||_===Number.POSITIVE_INFINITY||_===Number.NEGATIVE_INFINITY)},oe="[MIN_NAME]",de="[MAX_NAME]",Z=function(_,c){if(_===c)return 0;if(_===oe||c===de)return-1;if(c===oe||_===de)return 1;var p=fn(_),b=fn(c);return null!==p?null!==b?p-b==0?_.length-c.length:p-b:-1:null!==b?1:_<c?-1:1},Re=function(_,c){return _===c?0:_<c?-1:1},Me=function(_,c){if(c&&_ in c)return c[_];throw new Error("Missing required key ("+_+") in object: "+J.stringify(c))},Mt=function(_){if("object"!=typeof _||null===_)return J.stringify(_);var c=[];for(var p in _)c.push(p);c.sort();for(var b="{",A=0;A<c.length;A++)0!==A&&(b+=","),b+=J.stringify(c[A]),b+=":",b+=Mt(_[c[A]]);return b+"}"},$e=function(_,c){var p=_.length;if(p<=c)return[_];for(var b=[],A=0;A<p;A+=c)b.push(_.substring(A,A+c>p?p:A+c));return b};function mt(_,c){for(var p in _)_.hasOwnProperty(p)&&c(p,_[p])}var Tn,bi,hr,br,ki,hn,Vt=function(_){J.assert(!re(_),"Invalid JSON number");var A,R,K,ue,_e,b=1023;0===_?(R=0,K=0,A=1/_==-1/0?1:0):(A=_<0,(_=Math.abs(_))>=Math.pow(2,1-b)?(R=(ue=Math.min(Math.floor(Math.log(_)/Math.LN2),b))+b,K=Math.round(_*Math.pow(2,52-ue)-Math.pow(2,52))):(R=0,K=Math.round(_/Math.pow(2,-1074))));var me=[];for(_e=52;_e;_e-=1)me.push(K%2?1:0),K=Math.floor(K/2);for(_e=11;_e;_e-=1)me.push(R%2?1:0),R=Math.floor(R/2);me.push(A?1:0),me.reverse();var Qe=me.join(""),ut="";for(_e=0;_e<64;_e+=8){var M=parseInt(Qe.substr(_e,8),2).toString(16);1===M.length&&(M="0"+M),ut+=M}return ut.toLowerCase()},_n=new RegExp("^-?(0*)\\d{1,10}$"),fn=function(_){if(_n.test(_)){var c=Number(_);if(c>=-2147483648&&c<=2147483647)return c}return null},Ct=function(_){try{_()}catch(c){setTimeout(function(){throw wt("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},tt=function(_,c){var p=setTimeout(_,c);return"object"==typeof p&&p.unref&&p.unref(),p},Ye=function(){function _(c,p){if(void 0===p){this.pieces_=c.split("/");for(var b=0,A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[b]=this.pieces_[A],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=p}return Object.defineProperty(_,"Empty",{get:function(){return new _("")},enumerable:!1,configurable:!0}),_.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},_.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},_.prototype.popFront=function(){var c=this.pieceNum_;return c<this.pieces_.length&&c++,new _(this.pieces_,c)},_.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},_.prototype.toString=function(){for(var c="",p=this.pieceNum_;p<this.pieces_.length;p++)""!==this.pieces_[p]&&(c+="/"+this.pieces_[p]);return c||"/"},_.prototype.toUrlEncodedString=function(){for(var c="",p=this.pieceNum_;p<this.pieces_.length;p++)""!==this.pieces_[p]&&(c+="/"+encodeURIComponent(String(this.pieces_[p])));return c||"/"},_.prototype.slice=function(c){return void 0===c&&(c=0),this.pieces_.slice(this.pieceNum_+c)},_.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var c=[],p=this.pieceNum_;p<this.pieces_.length-1;p++)c.push(this.pieces_[p]);return new _(c,0)},_.prototype.child=function(c){for(var p=[],b=this.pieceNum_;b<this.pieces_.length;b++)p.push(this.pieces_[b]);if(c instanceof _)for(b=c.pieceNum_;b<c.pieces_.length;b++)p.push(c.pieces_[b]);else{var A=c.split("/");for(b=0;b<A.length;b++)A[b].length>0&&p.push(A[b])}return new _(p,0)},_.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},_.relativePath=function(c,p){var b=c.getFront(),A=p.getFront();if(null===b)return p;if(b===A)return _.relativePath(c.popFront(),p.popFront());throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+c+")")},_.comparePaths=function(c,p){for(var b=c.slice(),A=p.slice(),R=0;R<b.length&&R<A.length;R++){var K=Z(b[R],A[R]);if(0!==K)return K}return b.length===A.length?0:b.length<A.length?-1:1},_.prototype.equals=function(c){if(this.getLength()!==c.getLength())return!1;for(var p=this.pieceNum_,b=c.pieceNum_;p<=this.pieces_.length;p++,b++)if(this.pieces_[p]!==c.pieces_[b])return!1;return!0},_.prototype.contains=function(c){var p=this.pieceNum_,b=c.pieceNum_;if(this.getLength()>c.getLength())return!1;for(;p<this.pieces_.length;){if(this.pieces_[p]!==c.pieces_[b])return!1;++p,++b}return!0},_}(),Bt=function(){function _(c,p){this.errorPrefix_=p,this.parts_=c.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=J.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(_,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(_,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),_.prototype.push=function(c){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(c),this.byteLength_+=J.stringLength(c),this.checkValid_()},_.prototype.pop=function(){var c=this.parts_.pop();this.byteLength_-=J.stringLength(c),this.parts_.length>0&&(this.byteLength_-=1)},_.prototype.checkValid_=function(){if(this.byteLength_>_.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+_.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>_.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},_.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},_}(),Rt="firebaseio.com",zn="websocket",Un="long_polling",Hn=function(){function _(c,p,b,A,R,K,ue){void 0===R&&(R=!1),void 0===K&&(K=""),void 0===ue&&(ue=!1),this.secure=p,this.namespace=b,this.webSocketOnly=A,this.nodeAdmin=R,this.persistenceKey=K,this.includeNamespaceInQueryParams=ue,this.host=c.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=De.get("host:"+c)||this.host}return _.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},_.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},_.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},_.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},_.prototype.updateHost=function(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&De.set("host:"+this.host,this.internalHost))},_.prototype.connectionURL=function(c,p){var b;if(J.assert("string"==typeof c,"typeof type must == string"),J.assert("object"==typeof p,"typeof params must == object"),c===zn)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(c!==Un)throw new Error("Unknown connection type: "+c);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(p.ns=this.namespace);var A=[];return mt(p,function(R,K){A.push(R+"="+K)}),b+A.join("&")},_.prototype.toString=function(){var c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c},_.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},_}(),Ae=function(_,c){var p=at(_),b=p.namespace;return"firebase.com"===p.domain&&Dt(p.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==p.domain&&Dt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),p.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hn(p.host,p.secure,b,c,"ws"===p.scheme||"wss"===p.scheme,"",b!==p.subdomain),path:new Ye(p.pathString)}},at=function(_){var c="",p="",b="",A="",R="",K=!0,ue="https",_e=443;if("string"==typeof _){var me=_.indexOf("//");me>=0&&(ue=_.substring(0,me-1),_=_.substring(me+2));var Qe=_.indexOf("/");-1===Qe&&(Qe=_.length);var ut=_.indexOf("?");-1===ut&&(ut=_.length),c=_.substring(0,Math.min(Qe,ut)),Qe<ut&&(A=function(_){for(var c="",p=_.split("/"),b=0;b<p.length;b++)if(p[b].length>0){var A=p[b];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch(R){}c+="/"+A}return c}(_.substring(Qe,ut)));var M=function(_){var c,p,b={};"?"===_.charAt(0)&&(_=_.substring(1));try{for(var A=u.__values(_.split("&")),R=A.next();!R.done;R=A.next()){var K=R.value;if(0!==K.length){var ue=K.split("=");2===ue.length?b[decodeURIComponent(ue[0])]=decodeURIComponent(ue[1]):wt("Invalid query segment '"+K+"' in query '"+_+"'")}}}catch(_e){c={error:_e}}finally{try{R&&!R.done&&(p=A.return)&&p.call(A)}finally{if(c)throw c.error}}return b}(_.substring(Math.min(_.length,ut)));(me=c.indexOf(":"))>=0?(K="https"===ue||"wss"===ue,_e=parseInt(c.substring(me+1),10)):me=c.length;var N=c.slice(0,me);if("localhost"===N.toLowerCase())p="localhost";else if(N.split(".").length<=2)p=N;else{var T=c.indexOf(".");b=c.substring(0,T).toLowerCase(),p=c.substring(T+1),R=b}"ns"in M&&(R=M.ns)}return{host:c,port:_e,domain:p,subdomain:b,secure:K,scheme:ue,pathString:A,namespace:R}},Et=/[\[\].#$\/\u0000-\u001F\u007F]/,Oe=/[\[\].#$\u0000-\u001F\u007F]/,Ce=10485760,Ue=function(_){return"string"==typeof _&&0!==_.length&&!Et.test(_)},Ke=function(_){return"string"==typeof _&&0!==_.length&&!Oe.test(_)},Ot=function(_){return null===_||"string"==typeof _||"number"==typeof _&&!re(_)||_&&"object"==typeof _&&J.contains(_,".sv")},Lt=function(_,c,p,b,A){A&&void 0===p||en(J.errorPrefix(_,c,A),p,b)},en=function(_,c,p){var b=p instanceof Ye?new Bt(p,_):p;if(void 0===c)throw new Error(_+"contains undefined "+b.toErrorString());if("function"==typeof c)throw new Error(_+"contains a function "+b.toErrorString()+" with contents = "+c.toString());if(re(c))throw new Error(_+"contains "+c.toString()+" "+b.toErrorString());if("string"==typeof c&&c.length>Ce/3&&J.stringLength(c)>Ce)throw new Error(_+"contains a string greater than "+Ce+" utf8 bytes "+b.toErrorString()+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){var A=!1,R=!1;if(mt(c,function(K,ue){if(".value"===K)A=!0;else if(".priority"!==K&&".sv"!==K&&(R=!0,!Ue(K)))throw new Error(_+" contains an invalid key ("+K+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(K),en(_,ue,b),b.pop()}),A&&R)throw new Error(_+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},Yt=function(_,c,p,b,A){if(!A||void 0!==p){var R=J.errorPrefix(_,c,A);if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(R+" must be an object containing the children to replace.");var K=[];mt(p,function(ue,_e){var me=new Ye(ue);if(en(R,_e,b.child(me)),".priority"===me.getBack()&&!Ot(_e))throw new Error(R+"contains an invalid value for '"+me.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");K.push(me)}),function(_,c){var p,b;for(p=0;p<c.length;p++)for(var A=(b=c[p]).slice(),R=0;R<A.length;R++)if((".priority"!==A[R]||R!==A.length-1)&&!Ue(A[R]))throw new Error(_+"contains an invalid key ("+A[R]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.sort(Ye.comparePaths);var K=null;for(p=0;p<c.length;p++){if(b=c[p],null!==K&&K.contains(b))throw new Error(_+"contains a path "+K.toString()+" that is ancestor of another path "+b.toString());K=b}}(R,K)}},tn=function(_,c,p,b){if(!b||void 0!==p){if(re(p))throw new Error(J.errorPrefix(_,c,b)+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ot(p))throw new Error(J.errorPrefix(_,c,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rn=function(_,c,p,b){if(!b||void 0!==p)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(J.errorPrefix(_,c,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Mn=function(_,c,p,b){if(!(b&&void 0===p||Ue(p)))throw new Error(J.errorPrefix(_,c,b)+'was an invalid key = "'+p+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kn=function(_,c,p,b){if(!(b&&void 0===p||Ke(p)))throw new Error(J.errorPrefix(_,c,b)+'was an invalid path = "'+p+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vi=function(_,c,p,b){p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),kn(_,c,p,b)},nr=function(_,c){if(".info"===c.getFront())throw new Error(_+" failed = Can't modify data under /.info/")},rr=function(_,c,p){var b=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!Ue(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==b.length&&!function(_){return _&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),Ke(_)}(b))throw new Error(J.errorPrefix(_,c,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Di=function(_,c,p,b){if((!b||void 0!==p)&&"boolean"!=typeof p)throw new Error(J.errorPrefix(_,c,b)+"must be a boolean.")},Co=function(){function _(c,p){this.repo_=c,this.path_=p}return _.prototype.cancel=function(c){J.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),J.validateCallback("OnDisconnect.cancel",1,c,!0);var p=new J.Deferred;return this.repo_.onDisconnectCancel(this.path_,p.wrapCallback(c)),p.promise},_.prototype.remove=function(c){J.validateArgCount("OnDisconnect.remove",0,1,arguments.length),nr("OnDisconnect.remove",this.path_),J.validateCallback("OnDisconnect.remove",1,c,!0);var p=new J.Deferred;return this.repo_.onDisconnectSet(this.path_,null,p.wrapCallback(c)),p.promise},_.prototype.set=function(c,p){J.validateArgCount("OnDisconnect.set",1,2,arguments.length),nr("OnDisconnect.set",this.path_),Lt("OnDisconnect.set",1,c,this.path_,!1),J.validateCallback("OnDisconnect.set",2,p,!0);var b=new J.Deferred;return this.repo_.onDisconnectSet(this.path_,c,b.wrapCallback(p)),b.promise},_.prototype.setWithPriority=function(c,p,b){J.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),nr("OnDisconnect.setWithPriority",this.path_),Lt("OnDisconnect.setWithPriority",1,c,this.path_,!1),tn("OnDisconnect.setWithPriority",2,p,!1),J.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var A=new J.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,c,p,A.wrapCallback(b)),A.promise},_.prototype.update=function(c,p){if(J.validateArgCount("OnDisconnect.update",1,2,arguments.length),nr("OnDisconnect.update",this.path_),Array.isArray(c)){for(var b={},A=0;A<c.length;++A)b[""+A]=c[A];c=b,wt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yt("OnDisconnect.update",1,c,this.path_,!1),J.validateCallback("OnDisconnect.update",2,p,!0);var R=new J.Deferred;return this.repo_.onDisconnectUpdate(this.path_,c,R.wrapCallback(p)),R.promise},_}(),Vr=function(){function _(c,p){this.committed=c,this.snapshot=p}return _.prototype.toJSON=function(){return J.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},_}(),Ti=function(){var _="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",c=0,p=[];return function(b){var A=b===c;c=b;var R,K=new Array(8);for(R=7;R>=0;R--)K[R]=_.charAt(b%64),b=Math.floor(b/64);J.assert(0===b,"Cannot push at time == 0");var ue=K.join("");if(A){for(R=11;R>=0&&63===p[R];R--)p[R]=0;p[R]++}else for(R=0;R<12;R++)p[R]=Math.floor(64*Math.random());for(R=0;R<12;R++)ue+=_.charAt(p[R]);return J.assert(20===ue.length,"nextPushId: Length should be 20."),ue}}(),ln=function(){function _(c,p){this.name=c,this.node=p}return _.Wrap=function(c,p){return new _(c,p)},_}(),Ar=function(){function _(){}return _.prototype.getCompare=function(){return this.compare.bind(this)},_.prototype.indexedValueChanged=function(c,p){var b=new ln(oe,c),A=new ln(oe,p);return 0!==this.compare(b,A)},_.prototype.minPost=function(){return ln.MIN},_}(),In=function(_){function c(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(c,_),Object.defineProperty(c,"__EMPTY_NODE",{get:function(){return Tn},set:function(p){Tn=p},enumerable:!1,configurable:!0}),c.prototype.compare=function(p,b){return Z(p.name,b.name)},c.prototype.isDefinedOn=function(p){throw J.assertionError("KeyIndex.isDefinedOn not expected to be called.")},c.prototype.indexedValueChanged=function(p,b){return!1},c.prototype.minPost=function(){return ln.MIN},c.prototype.maxPost=function(){return new ln(de,Tn)},c.prototype.makePost=function(p,b){return J.assert("string"==typeof p,"KeyIndex indexValue must always be a string."),new ln(p,Tn)},c.prototype.toString=function(){return".key"},c}(Ar),Gn=new In,uo=function(_){return"number"==typeof _?"number:"+Vt(_):"string:"+_},Rr=function(_){if(_.isLeafNode()){var c=_.val();J.assert("string"==typeof c||"number"==typeof c||"object"==typeof c&&J.contains(c,".sv"),"Priority must be a string or number.")}else J.assert(_===bi||_.isEmpty(),"priority of unexpected type.");J.assert(_===bi||_.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vr=function(){function _(c,p){void 0===p&&(p=_.__childrenNodeConstructor.EMPTY_NODE),this.value_=c,this.priorityNode_=p,this.lazyHash_=null,J.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Rr(this.priorityNode_)}return Object.defineProperty(_,"__childrenNodeConstructor",{get:function(){return hr},set:function(c){hr=c},enumerable:!1,configurable:!0}),_.prototype.isLeafNode=function(){return!0},_.prototype.getPriority=function(){return this.priorityNode_},_.prototype.updatePriority=function(c){return new _(this.value_,c)},_.prototype.getImmediateChild=function(c){return".priority"===c?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE},_.prototype.getChild=function(c){return c.isEmpty()?this:".priority"===c.getFront()?this.priorityNode_:_.__childrenNodeConstructor.EMPTY_NODE},_.prototype.hasChild=function(){return!1},_.prototype.getPredecessorChildName=function(c,p){return null},_.prototype.updateImmediateChild=function(c,p){return".priority"===c?this.updatePriority(p):p.isEmpty()&&".priority"!==c?this:_.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,p).updatePriority(this.priorityNode_)},_.prototype.updateChild=function(c,p){var b=c.getFront();return null===b?p:p.isEmpty()&&".priority"!==b?this:(J.assert(".priority"!==b||1===c.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,_.__childrenNodeConstructor.EMPTY_NODE.updateChild(c.popFront(),p)))},_.prototype.isEmpty=function(){return!1},_.prototype.numChildren=function(){return 0},_.prototype.forEachChild=function(c,p){return!1},_.prototype.val=function(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},_.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.priorityNode_.isEmpty()||(c+="priority:"+uo(this.priorityNode_.val())+":");var p=typeof this.value_;c+=p+":",c+="number"===p?Vt(this.value_):this.value_,this.lazyHash_=ct(c)}return this.lazyHash_},_.prototype.getValue=function(){return this.value_},_.prototype.compareTo=function(c){return c===_.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof _.__childrenNodeConstructor?-1:(J.assert(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))},_.prototype.compareToLeafNode_=function(c){var p=typeof c.value_,b=typeof this.value_,A=_.VALUE_TYPE_ORDER.indexOf(p),R=_.VALUE_TYPE_ORDER.indexOf(b);return J.assert(A>=0,"Unknown leaf type: "+p),J.assert(R>=0,"Unknown leaf type: "+b),A===R?"object"===b?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:R-A},_.prototype.withIndex=function(){return this},_.prototype.isIndexed=function(){return!0},_.prototype.equals=function(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))},_.VALUE_TYPE_ORDER=["object","boolean","number","string"],_}(),un=new(function(_){function c(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(c,_),c.prototype.compare=function(p,b){var A=p.node.getPriority(),R=b.node.getPriority(),K=A.compareTo(R);return 0===K?Z(p.name,b.name):K},c.prototype.isDefinedOn=function(p){return!p.getPriority().isEmpty()},c.prototype.indexedValueChanged=function(p,b){return!p.getPriority().equals(b.getPriority())},c.prototype.minPost=function(){return ln.MIN},c.prototype.maxPost=function(){return new ln(de,new vr("[PRIORITY-POST]",ki))},c.prototype.makePost=function(p,b){var A=br(p);return new ln(b,new vr("[PRIORITY-POST]",A))},c.prototype.toString=function(){return".priority"},c}(Ar)),Qr=function(){function _(c,p,b,A,R){void 0===R&&(R=null),this.isReverse_=A,this.resultGenerator_=R,this.nodeStack_=[];for(var K=1;!c.isEmpty();)if(c=c,K=p?b(c.key,p):1,A&&(K*=-1),K<0)c=this.isReverse_?c.left:c.right;else{if(0===K){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}return _.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var p,c=this.nodeStack_.pop();if(p=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return p},_.prototype.hasNext=function(){return this.nodeStack_.length>0},_.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}},_}(),$r=function(){function _(c,p,b,A,R){this.key=c,this.value=p,this.color=null!=b?b:_.RED,this.left=null!=A?A:Wr.EMPTY_NODE,this.right=null!=R?R:Wr.EMPTY_NODE}return _.prototype.copy=function(c,p,b,A,R){return new _(null!=c?c:this.key,null!=p?p:this.value,null!=b?b:this.color,null!=A?A:this.left,null!=R?R:this.right)},_.prototype.count=function(){return this.left.count()+1+this.right.count()},_.prototype.isEmpty=function(){return!1},_.prototype.inorderTraversal=function(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)},_.prototype.reverseTraversal=function(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)},_.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},_.prototype.minKey=function(){return this.min_().key},_.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},_.prototype.insert=function(c,p,b){var A=this,R=b(c,A.key);return(A=R<0?A.copy(null,null,null,A.left.insert(c,p,b),null):0===R?A.copy(null,p,null,null,null):A.copy(null,null,null,null,A.right.insert(c,p,b))).fixUp_()},_.prototype.removeMin_=function(){if(this.left.isEmpty())return Wr.EMPTY_NODE;var c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),(c=c.copy(null,null,null,c.left.removeMin_(),null)).fixUp_()},_.prototype.remove=function(c,p){var b,A;if(p(c,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(c,p),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===p(c,b.key)){if(b.right.isEmpty())return Wr.EMPTY_NODE;A=b.right.min_(),b=b.copy(A.key,A.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(c,p))}return b.fixUp_()},_.prototype.isRed_=function(){return this.color},_.prototype.fixUp_=function(){var c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c},_.prototype.moveRedLeft_=function(){var c=this.colorFlip_();return c.right.left.isRed_()&&(c=(c=(c=c.copy(null,null,null,null,c.right.rotateRight_())).rotateLeft_()).colorFlip_()),c},_.prototype.moveRedRight_=function(){var c=this.colorFlip_();return c.left.left.isRed_()&&(c=(c=c.rotateRight_()).colorFlip_()),c},_.prototype.rotateLeft_=function(){var c=this.copy(null,null,_.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)},_.prototype.rotateRight_=function(){var c=this.copy(null,null,_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)},_.prototype.colorFlip_=function(){var c=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,p)},_.prototype.checkMaxDepth_=function(){var c=this.check_();return Math.pow(2,c)<=this.count()+1},_.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)},_.RED=!0,_.BLACK=!1,_}(),wr=function(){function _(){}return _.prototype.copy=function(c,p,b,A,R){return this},_.prototype.insert=function(c,p,b){return new $r(c,p,null)},_.prototype.remove=function(c,p){return this},_.prototype.count=function(){return 0},_.prototype.isEmpty=function(){return!0},_.prototype.inorderTraversal=function(c){return!1},_.prototype.reverseTraversal=function(c){return!1},_.prototype.minKey=function(){return null},_.prototype.maxKey=function(){return null},_.prototype.check_=function(){return 0},_.prototype.isRed_=function(){return!1},_}(),Wr=function(){function _(c,p){void 0===p&&(p=_.EMPTY_NODE),this.comparator_=c,this.root_=p}return _.prototype.insert=function(c,p){return new _(this.comparator_,this.root_.insert(c,p,this.comparator_).copy(null,null,$r.BLACK,null,null))},_.prototype.remove=function(c){return new _(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,$r.BLACK,null,null))},_.prototype.get=function(c){for(var p,b=this.root_;!b.isEmpty();){if(0===(p=this.comparator_(c,b.key)))return b.value;p<0?b=b.left:p>0&&(b=b.right)}return null},_.prototype.getPredecessorKey=function(c){for(var p,b=this.root_,A=null;!b.isEmpty();){if(0===(p=this.comparator_(c,b.key))){if(b.left.isEmpty())return A?A.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}p<0?b=b.left:p>0&&(A=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},_.prototype.isEmpty=function(){return this.root_.isEmpty()},_.prototype.count=function(){return this.root_.count()},_.prototype.minKey=function(){return this.root_.minKey()},_.prototype.maxKey=function(){return this.root_.maxKey()},_.prototype.inorderTraversal=function(c){return this.root_.inorderTraversal(c)},_.prototype.reverseTraversal=function(c){return this.root_.reverseTraversal(c)},_.prototype.getIterator=function(c){return new Qr(this.root_,null,this.comparator_,!1,c)},_.prototype.getIteratorFrom=function(c,p){return new Qr(this.root_,c,this.comparator_,!1,p)},_.prototype.getReverseIteratorFrom=function(c,p){return new Qr(this.root_,c,this.comparator_,!0,p)},_.prototype.getReverseIterator=function(c){return new Qr(this.root_,null,this.comparator_,!0,c)},_.EMPTY_NODE=new wr,_}(),Dr=Math.log(2),Fi=function(){function _(c){this.count=parseInt(Math.log(c+1)/Dr,10),this.current_=this.count-1;var A=parseInt(Array(this.count+1).join("1"),2);this.bits_=c+1&A}return _.prototype.nextBitIsOne=function(){var c=!(this.bits_&1<<this.current_);return this.current_--,c},_}(),Br=function(_,c,p,b){_.sort(c);var A=function(_e,me){var ut,M,Qe=me-_e;if(0===Qe)return null;if(1===Qe)return ut=_[_e],M=p?p(ut):ut,new $r(M,ut.node,$r.BLACK,null,null);var N=parseInt(Qe/2,10)+_e,T=A(_e,N),B=A(N+1,me);return ut=_[N],M=p?p(ut):ut,new $r(M,ut.node,$r.BLACK,T,B)},ue=function(_e){for(var me=null,Qe=null,ut=_.length,M=function(se,xe){var We=ut-se,yt=ut;ut-=se;var Xt=A(We+1,yt),gn=_[We],Ln=p?p(gn):gn;N(new $r(Ln,gn.node,xe,null,Xt))},N=function(se){me?(me.left=se,me=se):(Qe=se,me=se)},T=0;T<_e.count;++T){var B=_e.nextBitIsOne(),Y=Math.pow(2,_e.count-(T+1));B?M(Y,$r.BLACK):(M(Y,$r.BLACK),M(Y,$r.RED))}return Qe}(new Fi(_.length));return new Wr(b||c,ue)},pr={},fr=function(){function _(c,p){this.indexes_=c,this.indexSet_=p}return Object.defineProperty(_,"Default",{get:function(){return J.assert(pr&&un,"ChildrenNode.ts has not been loaded"),hn=hn||new _({".priority":pr},{".priority":un})},enumerable:!1,configurable:!0}),_.prototype.get=function(c){var p=J.safeGet(this.indexes_,c);if(!p)throw new Error("No index defined for "+c);return p instanceof Wr?p:null},_.prototype.hasIndex=function(c){return J.contains(this.indexSet_,c.toString())},_.prototype.addIndex=function(c,p){J.assert(c!==Gn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],A=!1,R=p.getIterator(ln.Wrap),K=R.getNext();K;)A=A||c.isDefinedOn(K.node),b.push(K),K=R.getNext();var ue;ue=A?Br(b,c.getCompare()):pr;var _e=c.toString(),me=u.__assign({},this.indexSet_);me[_e]=c;var Qe=u.__assign({},this.indexes_);return Qe[_e]=ue,new _(Qe,me)},_.prototype.addToIndexes=function(c,p){var b=this;return new _(J.map(this.indexes_,function(R,K){var ue=J.safeGet(b.indexSet_,K);if(J.assert(ue,"Missing index implementation for "+K),R===pr){if(ue.isDefinedOn(c.node)){for(var _e=[],me=p.getIterator(ln.Wrap),Qe=me.getNext();Qe;)Qe.name!==c.name&&_e.push(Qe),Qe=me.getNext();return _e.push(c),Br(_e,ue.getCompare())}return pr}var ut=p.get(c.name),M=R;return ut&&(M=M.remove(new ln(c.name,ut))),M.insert(c,c.node)}),this.indexSet_)},_.prototype.removeFromIndexes=function(c,p){return new _(J.map(this.indexes_,function(A){if(A===pr)return A;var R=p.get(c.name);return R?A.remove(new ln(c.name,R)):A}),this.indexSet_)},_}();function Eo(_,c){return Z(_.name,c.name)}function hi(_,c){return Z(_,c)}var Tr,nn=function(){function _(c,p,b){this.children_=c,this.priorityNode_=p,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&Rr(this.priorityNode_),this.children_.isEmpty()&&J.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(_,"EMPTY_NODE",{get:function(){return Tr||(Tr=new _(new Wr(hi),null,fr.Default))},enumerable:!1,configurable:!0}),_.prototype.isLeafNode=function(){return!1},_.prototype.getPriority=function(){return this.priorityNode_||Tr},_.prototype.updatePriority=function(c){return this.children_.isEmpty()?this:new _(this.children_,c,this.indexMap_)},_.prototype.getImmediateChild=function(c){if(".priority"===c)return this.getPriority();var p=this.children_.get(c);return null===p?Tr:p},_.prototype.getChild=function(c){var p=c.getFront();return null===p?this:this.getImmediateChild(p).getChild(c.popFront())},_.prototype.hasChild=function(c){return null!==this.children_.get(c)},_.prototype.updateImmediateChild=function(c,p){if(J.assert(p,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(p);var b=new ln(c,p),A=void 0,R=void 0;p.isEmpty()?(A=this.children_.remove(c),R=this.indexMap_.removeFromIndexes(b,this.children_)):(A=this.children_.insert(c,p),R=this.indexMap_.addToIndexes(b,this.children_));var K=A.isEmpty()?Tr:this.priorityNode_;return new _(A,K,R)},_.prototype.updateChild=function(c,p){var b=c.getFront();if(null===b)return p;J.assert(".priority"!==c.getFront()||1===c.getLength(),".priority must be the last token in a path");var A=this.getImmediateChild(b).updateChild(c.popFront(),p);return this.updateImmediateChild(b,A)},_.prototype.isEmpty=function(){return this.children_.isEmpty()},_.prototype.numChildren=function(){return this.children_.count()},_.prototype.val=function(c){if(this.isEmpty())return null;var p={},b=0,A=0,R=!0;if(this.forEachChild(un,function(_e,me){p[_e]=me.val(c),b++,R&&_.INTEGER_REGEXP_.test(_e)?A=Math.max(A,Number(_e)):R=!1}),!c&&R&&A<2*b){var K=[];for(var ue in p)K[ue]=p[ue];return K}return c&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p},_.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.getPriority().isEmpty()||(c+="priority:"+uo(this.getPriority().val())+":"),this.forEachChild(un,function(p,b){var A=b.hash();""!==A&&(c+=":"+p+":"+A)}),this.lazyHash_=""===c?"":ct(c)}return this.lazyHash_},_.prototype.getPredecessorChildName=function(c,p,b){var A=this.resolveIndex_(b);if(A){var R=A.getPredecessorKey(new ln(c,p));return R?R.name:null}return this.children_.getPredecessorKey(c)},_.prototype.getFirstChildName=function(c){var p=this.resolveIndex_(c);if(p){var b=p.minKey();return b&&b.name}return this.children_.minKey()},_.prototype.getFirstChild=function(c){var p=this.getFirstChildName(c);return p?new ln(p,this.children_.get(p)):null},_.prototype.getLastChildName=function(c){var p=this.resolveIndex_(c);if(p){var b=p.maxKey();return b&&b.name}return this.children_.maxKey()},_.prototype.getLastChild=function(c){var p=this.getLastChildName(c);return p?new ln(p,this.children_.get(p)):null},_.prototype.forEachChild=function(c,p){var b=this.resolveIndex_(c);return b?b.inorderTraversal(function(A){return p(A.name,A.node)}):this.children_.inorderTraversal(p)},_.prototype.getIterator=function(c){return this.getIteratorFrom(c.minPost(),c)},_.prototype.getIteratorFrom=function(c,p){var b=this.resolveIndex_(p);if(b)return b.getIteratorFrom(c,function(K){return K});for(var A=this.children_.getIteratorFrom(c.name,ln.Wrap),R=A.peek();null!=R&&p.compare(R,c)<0;)A.getNext(),R=A.peek();return A},_.prototype.getReverseIterator=function(c){return this.getReverseIteratorFrom(c.maxPost(),c)},_.prototype.getReverseIteratorFrom=function(c,p){var b=this.resolveIndex_(p);if(b)return b.getReverseIteratorFrom(c,function(K){return K});for(var A=this.children_.getReverseIteratorFrom(c.name,ln.Wrap),R=A.peek();null!=R&&p.compare(R,c)>0;)A.getNext(),R=A.peek();return A},_.prototype.compareTo=function(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===or?-1:0},_.prototype.withIndex=function(c){if(c===Gn||this.indexMap_.hasIndex(c))return this;var p=this.indexMap_.addIndex(c,this.children_);return new _(this.children_,this.priorityNode_,p)},_.prototype.isIndexed=function(c){return c===Gn||this.indexMap_.hasIndex(c)},_.prototype.equals=function(c){if(c===this)return!0;if(c.isLeafNode())return!1;var p=c;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){for(var b=this.getIterator(un),A=p.getIterator(un),R=b.getNext(),K=A.getNext();R&&K;){if(R.name!==K.name||!R.node.equals(K.node))return!1;R=b.getNext(),K=A.getNext()}return null===R&&null===K}return!1}return!1},_.prototype.resolveIndex_=function(c){return c===Gn?null:this.indexMap_.get(c.toString())},_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,_}(),or=new(function(_){function c(){return _.call(this,new Wr(hi),nn.EMPTY_NODE,fr.Default)||this}return u.__extends(c,_),c.prototype.compareTo=function(p){return p===this?0:1},c.prototype.equals=function(p){return p===this},c.prototype.getPriority=function(){return this},c.prototype.getImmediateChild=function(p){return nn.EMPTY_NODE},c.prototype.isEmpty=function(){return!1},c}(nn));function Pn(_,c){if(void 0===c&&(c=null),null===_)return nn.EMPTY_NODE;if("object"==typeof _&&".priority"in _&&(c=_[".priority"]),J.assert(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof _&&".value"in _&&null!==_[".value"]&&(_=_[".value"]),"object"!=typeof _||".sv"in _)return new vr(_,Pn(c));if(_ instanceof Array){var _e=nn.EMPTY_NODE;return mt(_,function(me,Qe){if(J.contains(_,me)&&"."!==me.substring(0,1)){var ut=Pn(Qe);(ut.isLeafNode()||!ut.isEmpty())&&(_e=_e.updateImmediateChild(me,ut))}}),_e.updatePriority(Pn(c))}var b=[],A=!1;if(mt(_,function(me,Qe){if("."!==me.substring(0,1)){var ut=Pn(Qe);ut.isEmpty()||(A=A||!ut.getPriority().isEmpty(),b.push(new ln(me,ut)))}}),0===b.length)return nn.EMPTY_NODE;var K=Br(b,Eo,function(me){return me.name},hi);if(A){var ue=Br(b,un.getCompare());return new nn(K,Pn(c),new fr({".priority":ue},{".priority":un}))}return new nn(K,Pn(c),fr.Default)}Object.defineProperties(ln,{MIN:{value:new ln(oe,nn.EMPTY_NODE)},MAX:{value:new ln(de,or)}}),In.__EMPTY_NODE=nn.EMPTY_NODE,vr.__childrenNodeConstructor=nn,function(_){bi=_}(or),function(_){ki=_}(or),function(_){br=_}(Pn);var Xr,zr=new(function(_){function c(){return null!==_&&_.apply(this,arguments)||this}return u.__extends(c,_),c.prototype.compare=function(p,b){var A=p.node.compareTo(b.node);return 0===A?Z(p.name,b.name):A},c.prototype.isDefinedOn=function(p){return!0},c.prototype.indexedValueChanged=function(p,b){return!p.equals(b)},c.prototype.minPost=function(){return ln.MIN},c.prototype.maxPost=function(){return ln.MAX},c.prototype.makePost=function(p,b){var A=Pn(p);return new ln(b,A)},c.prototype.toString=function(){return".value"},c}(Ar)),ni=function(_){function c(p){var b=_.call(this)||this;return b.indexPath_=p,J.assert(!p.isEmpty()&&".priority"!==p.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return u.__extends(c,_),c.prototype.extractChild=function(p){return p.getChild(this.indexPath_)},c.prototype.isDefinedOn=function(p){return!p.getChild(this.indexPath_).isEmpty()},c.prototype.compare=function(p,b){var A=this.extractChild(p.node),R=this.extractChild(b.node),K=A.compareTo(R);return 0===K?Z(p.name,b.name):K},c.prototype.makePost=function(p,b){var A=Pn(p),R=nn.EMPTY_NODE.updateChild(this.indexPath_,A);return new ln(b,R)},c.prototype.maxPost=function(){var p=nn.EMPTY_NODE.updateChild(this.indexPath_,or);return new ln(de,p)},c.prototype.toString=function(){return this.indexPath_.slice().join("/")},c}(Ar),Zr=function(){function _(c,p,b){this.node_=c,this.ref_=p,this.index_=b}return _.prototype.val=function(){return J.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},_.prototype.exportVal=function(){return J.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},_.prototype.toJSON=function(){return J.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},_.prototype.exists=function(){return J.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},_.prototype.child=function(c){J.validateArgCount("DataSnapshot.child",0,1,arguments.length),c=String(c),kn("DataSnapshot.child",1,c,!1);var p=new Ye(c),b=this.ref_.child(p);return new _(this.node_.getChild(p),b,un)},_.prototype.hasChild=function(c){J.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),kn("DataSnapshot.hasChild",1,c,!1);var p=new Ye(c);return!this.node_.getChild(p).isEmpty()},_.prototype.getPriority=function(){return J.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},_.prototype.forEach=function(c){var p=this;if(J.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),J.validateCallback("DataSnapshot.forEach",1,c,!1),this.node_.isLeafNode())return!1;var b=this.node_;return!!b.forEachChild(this.index_,function(A,R){return c(new _(R,p.ref_.child(A),un))})},_.prototype.hasChildren=function(){return J.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(_.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),_.prototype.numChildren=function(){return J.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},_.prototype.getRef=function(){return J.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(_.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),_}(),Ii=function(){function _(c,p,b,A){this.eventType=c,this.eventRegistration=p,this.snapshot=b,this.prevName=A}return _.prototype.getPath=function(){var c=this.snapshot.getRef();return"value"===this.eventType?c.path:c.getParent().path},_.prototype.getEventType=function(){return this.eventType},_.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},_.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+J.stringify(this.snapshot.exportVal())},_}(),dn=function(){function _(c,p,b){this.eventRegistration=c,this.error=p,this.path=b}return _.prototype.getPath=function(){return this.path},_.prototype.getEventType=function(){return"cancel"},_.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},_.prototype.toString=function(){return this.path.toString()+":cancel"},_}(),Ur=function(){function _(c,p,b){this.callback_=c,this.cancelCallback_=p,this.context_=b}return _.prototype.respondsTo=function(c){return"value"===c},_.prototype.createEvent=function(c,p){var b=p.getQueryParams().getIndex();return new Ii("value",this,new Zr(c.snapshotNode,p.getRef(),b))},_.prototype.getEventRunner=function(c){var p=this.context_;if("cancel"===c.getEventType()){J.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(p,c.error)}}var A=this.callback_;return function(){A.call(p,c.snapshot)}},_.prototype.createCancelEvent=function(c,p){return this.cancelCallback_?new dn(this,c,p):null},_.prototype.matches=function(c){return c instanceof _&&(!c.callback_||!this.callback_||c.callback_===this.callback_&&c.context_===this.context_)},_.prototype.hasAnyCallback=function(){return null!==this.callback_},_}(),Ui=function(){function _(c,p,b){this.callbacks_=c,this.cancelCallback_=p,this.context_=b}return _.prototype.respondsTo=function(c){var p="children_added"===c?"child_added":c;return J.contains(this.callbacks_,p="children_removed"===p?"child_removed":p)},_.prototype.createCancelEvent=function(c,p){return this.cancelCallback_?new dn(this,c,p):null},_.prototype.createEvent=function(c,p){J.assert(null!=c.childName,"Child events should have a childName.");var b=p.getRef().child(c.childName),A=p.getQueryParams().getIndex();return new Ii(c.type,this,new Zr(c.snapshotNode,b,A),c.prevName)},_.prototype.getEventRunner=function(c){var p=this.context_;if("cancel"===c.getEventType()){J.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(p,c.error)}}var A=this.callbacks_[c.eventType];return function(){A.call(p,c.snapshot,c.prevName)}},_.prototype.matches=function(c){var p=this;if(c instanceof _){if(!this.callbacks_||!c.callbacks_)return!0;if(this.context_===c.context_){var b=Object.keys(c.callbacks_),A=Object.keys(this.callbacks_),R=b.length;if(R===A.length){if(1===R){var ue=b[0],_e=A[0];return!(_e!==ue||c.callbacks_[ue]&&this.callbacks_[_e]&&c.callbacks_[ue]!==this.callbacks_[_e])}return A.every(function(me){return c.callbacks_[me]===p.callbacks_[me]})}}}return!1},_.prototype.hasAnyCallback=function(){return null!==this.callbacks_},_}(),jr=function(){function _(c,p,b,A){this.repo=c,this.path=p,this.queryParams_=b,this.orderByCalled_=A}return Object.defineProperty(_,"__referenceConstructor",{get:function(){return J.assert(Xr,"Reference.ts has not been loaded"),Xr},set:function(c){Xr=c},enumerable:!1,configurable:!0}),_.validateQueryEndpoints_=function(c){var p=null,b=null;if(c.hasStart()&&(p=c.getIndexStartValue()),c.hasEnd()&&(b=c.getIndexEndValue()),c.getIndex()===Gn){var A="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",R="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==oe)throw new Error(A);if("string"!=typeof p)throw new Error(R)}if(c.hasEnd()){if(c.getIndexEndName()!==de)throw new Error(A);if("string"!=typeof b)throw new Error(R)}}else if(c.getIndex()===un){if(null!=p&&!Ot(p)||null!=b&&!Ot(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J.assert(c.getIndex()instanceof ni||c.getIndex()===zr,"unknown index type."),null!=p&&"object"==typeof p||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},_.validateLimit_=function(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},_.prototype.validateNoPreviousOrderByCall_=function(c){if(!0===this.orderByCalled_)throw new Error(c+": You can't combine multiple orderBy calls.")},_.prototype.getQueryParams=function(){return this.queryParams_},_.prototype.getRef=function(){return J.validateArgCount("Query.ref",0,0,arguments.length),new _.__referenceConstructor(this.repo,this.path)},_.prototype.on=function(c,p,b,A){J.validateArgCount("Query.on",2,4,arguments.length),rn("Query.on",1,c,!1),J.validateCallback("Query.on",2,p,!1);var R=_.getCancelAndContextArgs_("Query.on",b,A);if("value"===c)this.onValueEvent(p,R.cancel,R.context);else{var K={};K[c]=p,this.onChildEvent(K,R.cancel,R.context)}return p},_.prototype.onValueEvent=function(c,p,b){var A=new Ur(c,p||null,b||null);this.repo.addEventCallbackForQuery(this,A)},_.prototype.onChildEvent=function(c,p,b){var A=new Ui(c,p,b);this.repo.addEventCallbackForQuery(this,A)},_.prototype.off=function(c,p,b){J.validateArgCount("Query.off",0,3,arguments.length),rn("Query.off",1,c,!0),J.validateCallback("Query.off",2,p,!0),J.validateContextObject("Query.off",3,b,!0);var A=null,R=null;if("value"===c){var K=p||null;A=new Ur(K,null,b||null)}else c&&(p&&((R={})[c]=p),A=new Ui(R,null,b||null));this.repo.removeEventCallbackForQuery(this,A)},_.prototype.once=function(c,p,b,A){var R=this;J.validateArgCount("Query.once",1,4,arguments.length),rn("Query.once",1,c,!1),J.validateCallback("Query.once",2,p,!0);var K=_.getCancelAndContextArgs_("Query.once",b,A),ue=!0,_e=new J.Deferred;_e.promise.catch(function(){});var me=function(Qe){ue&&(ue=!1,R.off(c,me),p&&p.bind(K.context)(Qe),_e.resolve(Qe))};return this.on(c,me,function(Qe){R.off(c,me),K.cancel&&K.cancel.bind(K.context)(Qe),_e.reject(Qe)}),_e.promise},_.prototype.limitToFirst=function(c){if(J.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new _(this.repo,this.path,this.queryParams_.limitToFirst(c),this.orderByCalled_)},_.prototype.limitToLast=function(c){if(J.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new _(this.repo,this.path,this.queryParams_.limitToLast(c),this.orderByCalled_)},_.prototype.orderByChild=function(c){if(J.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===c)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===c)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===c)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');kn("Query.orderByChild",1,c,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var p=new Ye(c);if(p.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new ni(p),A=this.queryParams_.orderBy(b);return _.validateQueryEndpoints_(A),new _(this.repo,this.path,A,!0)},_.prototype.orderByKey=function(){J.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var c=this.queryParams_.orderBy(Gn);return _.validateQueryEndpoints_(c),new _(this.repo,this.path,c,!0)},_.prototype.orderByPriority=function(){J.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var c=this.queryParams_.orderBy(un);return _.validateQueryEndpoints_(c),new _(this.repo,this.path,c,!0)},_.prototype.orderByValue=function(){J.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var c=this.queryParams_.orderBy(zr);return _.validateQueryEndpoints_(c),new _(this.repo,this.path,c,!0)},_.prototype.startAt=function(c,p){void 0===c&&(c=null),J.validateArgCount("Query.startAt",0,2,arguments.length),Lt("Query.startAt",1,c,this.path,!0),Mn("Query.startAt",2,p,!0);var b=this.queryParams_.startAt(c,p);if(_.validateLimit_(b),_.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===c&&(c=null,p=null),new _(this.repo,this.path,b,this.orderByCalled_)},_.prototype.endAt=function(c,p){void 0===c&&(c=null),J.validateArgCount("Query.endAt",0,2,arguments.length),Lt("Query.endAt",1,c,this.path,!0),Mn("Query.endAt",2,p,!0);var b=this.queryParams_.endAt(c,p);if(_.validateLimit_(b),_.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new _(this.repo,this.path,b,this.orderByCalled_)},_.prototype.equalTo=function(c,p){if(J.validateArgCount("Query.equalTo",1,2,arguments.length),Lt("Query.equalTo",1,c,this.path,!1),Mn("Query.equalTo",2,p,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(c,p).endAt(c,p)},_.prototype.toString=function(){return J.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},_.prototype.toJSON=function(){return J.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},_.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},_.prototype.queryIdentifier=function(){var c=this.queryObject(),p=Mt(c);return"{}"===p?"default":p},_.prototype.isEqual=function(c){if(J.validateArgCount("Query.isEqual",1,1,arguments.length),!(c instanceof _)){var p="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(p)}var b=this.repo===c.repo,A=this.path.equals(c.path),R=this.queryIdentifier()===c.queryIdentifier();return b&&A&&R},_.getCancelAndContextArgs_=function(c,p,b){var A={cancel:null,context:null};if(p&&b)A.cancel=p,J.validateCallback(c,3,A.cancel,!0),A.context=b,J.validateContextObject(c,4,A.context,!0);else if(p)if("object"==typeof p&&null!==p)A.context=p;else{if("function"!=typeof p)throw new Error(J.errorPrefix(c,3,!0)+" must either be a cancel callback or a context object.");A.cancel=p}return A},Object.defineProperty(_.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),_}(),ji=function(){function _(c){this.node_=c}return _.prototype.getImmediateChild=function(c){return new _(this.node_.getImmediateChild(c))},_.prototype.node=function(){return this.node_},_}(),Hi=function(){function _(c,p){this.syncTree_=c,this.path_=p}return _.prototype.getImmediateChild=function(c){var p=this.path_.child(c);return new _(this.syncTree_,p)},_.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},_}(),Or=function(_,c,p){return _&&"object"==typeof _?(J.assert(".sv"in _,"Unexpected leaf node or priority contents"),"string"==typeof _[".sv"]?ei(_[".sv"],c,p):"object"==typeof _[".sv"]?yo(_[".sv"],c):void J.assert(!1,"Unexpected server value: "+JSON.stringify(_,null,2))):_},ei=function(_,c,p){switch(_){case"timestamp":return p.timestamp;default:J.assert(!1,"Unexpected server value: "+_)}},yo=function(_,c,p){_.hasOwnProperty("increment")||J.assert(!1,"Unexpected server value: "+JSON.stringify(_,null,2));var b=_.increment;"number"!=typeof b&&J.assert(!1,"Unexpected increment value: "+b);var A=c.node();if(J.assert(null!=A,"Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return b;var K=A.getValue();return"number"!=typeof K?b:K+b},pi=function(_,c,p,b){return wi(c,new Hi(p,_),b)},Mr=function(_,c,p){return wi(_,new ji(c),p)};function wi(_,c,p){var R,b=_.getPriority().val(),A=Or(b,c.getImmediateChild(".priority"),p);if(_.isLeafNode()){var K=_,ue=Or(K.getValue(),c,p);return ue!==K.getValue()||A!==K.getPriority().val()?new vr(ue,Pn(A)):_}var _e=_;return R=_e,A!==_e.getPriority().val()&&(R=R.updatePriority(new vr(A))),_e.forEachChild(un,function(me,Qe){var ut=wi(Qe,c.getImmediateChild(me),p);ut!==Qe&&(R=R.updateImmediateChild(me,ut))}),R}var yr,Li,Zi=function(){function _(){this.value=null,this.children=new Map}return _.prototype.find=function(c){if(null!=this.value)return this.value.getChild(c);if(!c.isEmpty()&&this.children.size>0){var p=c.getFront();return c=c.popFront(),this.children.has(p)?this.children.get(p).find(c):null}return null},_.prototype.remember=function(c,p){if(c.isEmpty())this.value=p,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(c,p);else{var b=c.getFront();this.children.has(b)||this.children.set(b,new _);var A=this.children.get(b);c=c.popFront(),A.remember(c,p)}},_.prototype.forget=function(c){if(c.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var p=this.value;this.value=null;var b=this;return p.forEachChild(un,function(K,ue){b.remember(new Ye(K),ue)}),this.forget(c)}if(this.children.size>0){var A=c.getFront();return c=c.popFront(),this.children.has(A)&&this.children.get(A).forget(c)&&this.children.delete(A),0===this.children.size}return!0},_.prototype.forEachTree=function(c,p){null!==this.value?p(c,this.value):this.forEachChild(function(b,A){var R=new Ye(c.toString()+"/"+b);A.forEachTree(R,p)})},_.prototype.forEachChild=function(c){this.children.forEach(function(p,b){c(b,p)})},_}(),Fn=(()=>(function(_){_[_.OVERWRITE=0]="OVERWRITE",_[_.MERGE=1]="MERGE",_[_.ACK_USER_WRITE=2]="ACK_USER_WRITE",_[_.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fn||(Fn={})),Fn))(),gi=function(){function _(c,p,b,A){this.fromUser=c,this.fromServer=p,this.queryId=b,this.tagged=A,J.assert(!A||p,"Tagged queries must be from server.")}return _.User=new _(!0,!1,null,!1),_.Server=new _(!1,!0,null,!1),_.forServerTaggedQuery=function(c){return new _(!1,!0,c,!0)},_}(),Xi=function(){function _(c,p,b){this.path=c,this.affectedTree=p,this.revert=b,this.type=Fn.ACK_USER_WRITE,this.source=gi.User}return _.prototype.operationForChild=function(c){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return J.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var p=this.affectedTree.subtree(new Ye(c));return new _(Ye.Empty,p,this.revert)}return J.assert(this.path.getFront()===c,"operationForChild called for unrelated child."),new _(this.path.popFront(),this.affectedTree,this.revert)},_}(),Jn=function(){function _(c,p){void 0===p&&(yr||(yr=new Wr(Re)),p=yr),this.value=c,this.children=p}return _.fromObject=function(c){var p=_.Empty;return mt(c,function(b,A){p=p.set(new Ye(b),A)}),p},_.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},_.prototype.findRootMostMatchingPathAndValue=function(c,p){if(null!=this.value&&p(this.value))return{path:Ye.Empty,value:this.value};if(c.isEmpty())return null;var b=c.getFront(),A=this.children.get(b);if(null!==A){var R=A.findRootMostMatchingPathAndValue(c.popFront(),p);return null!=R?{path:new Ye(b).child(R.path),value:R.value}:null}return null},_.prototype.findRootMostValueAndPath=function(c){return this.findRootMostMatchingPathAndValue(c,function(){return!0})},_.prototype.subtree=function(c){if(c.isEmpty())return this;var p=c.getFront(),b=this.children.get(p);return null!==b?b.subtree(c.popFront()):_.Empty},_.prototype.set=function(c,p){if(c.isEmpty())return new _(p,this.children);var b=c.getFront(),R=(this.children.get(b)||_.Empty).set(c.popFront(),p),K=this.children.insert(b,R);return new _(this.value,K)},_.prototype.remove=function(c){if(c.isEmpty())return this.children.isEmpty()?_.Empty:new _(null,this.children);var p=c.getFront(),b=this.children.get(p);if(b){var A=b.remove(c.popFront()),R=void 0;return R=A.isEmpty()?this.children.remove(p):this.children.insert(p,A),null===this.value&&R.isEmpty()?_.Empty:new _(this.value,R)}return this},_.prototype.get=function(c){if(c.isEmpty())return this.value;var p=c.getFront(),b=this.children.get(p);return b?b.get(c.popFront()):null},_.prototype.setTree=function(c,p){if(c.isEmpty())return p;var K,b=c.getFront(),R=(this.children.get(b)||_.Empty).setTree(c.popFront(),p);return K=R.isEmpty()?this.children.remove(b):this.children.insert(b,R),new _(this.value,K)},_.prototype.fold=function(c){return this.fold_(Ye.Empty,c)},_.prototype.fold_=function(c,p){var b={};return this.children.inorderTraversal(function(A,R){b[A]=R.fold_(c.child(A),p)}),p(c,this.value,b)},_.prototype.findOnPath=function(c,p){return this.findOnPath_(c,Ye.Empty,p)},_.prototype.findOnPath_=function(c,p,b){var A=!!this.value&&b(p,this.value);if(A)return A;if(c.isEmpty())return null;var R=c.getFront(),K=this.children.get(R);return K?K.findOnPath_(c.popFront(),p.child(R),b):null},_.prototype.foreachOnPath=function(c,p){return this.foreachOnPath_(c,Ye.Empty,p)},_.prototype.foreachOnPath_=function(c,p,b){if(c.isEmpty())return this;this.value&&b(p,this.value);var A=c.getFront(),R=this.children.get(A);return R?R.foreachOnPath_(c.popFront(),p.child(A),b):_.Empty},_.prototype.foreach=function(c){this.foreach_(Ye.Empty,c)},_.prototype.foreach_=function(c,p){this.children.inorderTraversal(function(b,A){A.foreach_(c.child(b),p)}),this.value&&p(c,this.value)},_.prototype.foreachChild=function(c){this.children.inorderTraversal(function(p,b){b.value&&c(p,b.value)})},_.Empty=new _(null),_}(),xo=function(){function _(c,p){this.source=c,this.path=p,this.type=Fn.LISTEN_COMPLETE}return _.prototype.operationForChild=function(c){return this.path.isEmpty()?new _(this.source,Ye.Empty):new _(this.source,this.path.popFront())},_}(),Gi=function(){function _(c,p,b){this.source=c,this.path=p,this.snap=b,this.type=Fn.OVERWRITE}return _.prototype.operationForChild=function(c){return this.path.isEmpty()?new _(this.source,Ye.Empty,this.snap.getImmediateChild(c)):new _(this.source,this.path.popFront(),this.snap)},_}(),eo=function(){function _(c,p,b){this.source=c,this.path=p,this.children=b,this.type=Fn.MERGE}return _.prototype.operationForChild=function(c){if(this.path.isEmpty()){var p=this.children.subtree(new Ye(c));return p.isEmpty()?null:p.value?new Gi(this.source,Ye.Empty,p.value):new _(this.source,Ye.Empty,p)}return J.assert(this.path.getFront()===c,"Can't get a merge for a child not on the path of the operation"),new _(this.source,this.path.popFront(),this.children)},_.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},_}(),mi=function(){function _(c,p,b){this.node_=c,this.fullyInitialized_=p,this.filtered_=b}return _.prototype.isFullyInitialized=function(){return this.fullyInitialized_},_.prototype.isFiltered=function(){return this.filtered_},_.prototype.isCompleteForPath=function(c){if(c.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var p=c.getFront();return this.isCompleteForChild(p)},_.prototype.isCompleteForChild=function(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)},_.prototype.getNode=function(){return this.node_},_}(),ui=function(){function _(c,p){this.eventCache_=c,this.serverCache_=p}return _.prototype.updateEventSnap=function(c,p,b){return new _(new mi(c,p,b),this.serverCache_)},_.prototype.updateServerSnap=function(c,p,b){return new _(this.eventCache_,new mi(c,p,b))},_.prototype.getEventCache=function(){return this.eventCache_},_.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},_.prototype.getServerCache=function(){return this.serverCache_},_.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},_.Empty=new _(new mi(nn.EMPTY_NODE,!1,!1),new mi(nn.EMPTY_NODE,!1,!1)),_}(),Sn=function(){function _(c,p,b,A,R){this.type=c,this.snapshotNode=p,this.childName=b,this.oldSnap=A,this.prevName=R}return _.valueChange=function(c){return new _(_.VALUE,c)},_.childAddedChange=function(c,p){return new _(_.CHILD_ADDED,p,c)},_.childRemovedChange=function(c,p){return new _(_.CHILD_REMOVED,p,c)},_.childChangedChange=function(c,p,b){return new _(_.CHILD_CHANGED,p,c,b)},_.childMovedChange=function(c,p){return new _(_.CHILD_MOVED,p,c)},_.CHILD_ADDED="child_added",_.CHILD_REMOVED="child_removed",_.CHILD_CHANGED="child_changed",_.CHILD_MOVED="child_moved",_.VALUE="value",_}(),_o=function(){function _(c){this.index_=c}return _.prototype.updateChild=function(c,p,b,A,R,K){J.assert(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");var ue=c.getImmediateChild(p);return ue.getChild(A).equals(b.getChild(A))&&ue.isEmpty()===b.isEmpty()||(null!=K&&(b.isEmpty()?c.hasChild(p)?K.trackChildChange(Sn.childRemovedChange(p,ue)):J.assert(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ue.isEmpty()?K.trackChildChange(Sn.childAddedChange(p,b)):K.trackChildChange(Sn.childChangedChange(p,b,ue))),c.isLeafNode()&&b.isEmpty())?c:c.updateImmediateChild(p,b).withIndex(this.index_)},_.prototype.updateFullNode=function(c,p,b){return null!=b&&(c.isLeafNode()||c.forEachChild(un,function(A,R){p.hasChild(A)||b.trackChildChange(Sn.childRemovedChange(A,R))}),p.isLeafNode()||p.forEachChild(un,function(A,R){if(c.hasChild(A)){var K=c.getImmediateChild(A);K.equals(R)||b.trackChildChange(Sn.childChangedChange(A,R,K))}else b.trackChildChange(Sn.childAddedChange(A,R))})),p.withIndex(this.index_)},_.prototype.updatePriority=function(c,p){return c.isEmpty()?nn.EMPTY_NODE:c.updatePriority(p)},_.prototype.filtersNodes=function(){return!1},_.prototype.getIndexedFilter=function(){return this},_.prototype.getIndex=function(){return this.index_},_}(),ti=function(){function _(){this.changeMap=new Map}return _.prototype.trackChildChange=function(c){var p=c.type,b=c.childName;J.assert(p===Sn.CHILD_ADDED||p===Sn.CHILD_CHANGED||p===Sn.CHILD_REMOVED,"Only child changes supported for tracking"),J.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var A=this.changeMap.get(b);if(A){var R=A.type;if(p===Sn.CHILD_ADDED&&R===Sn.CHILD_REMOVED)this.changeMap.set(b,Sn.childChangedChange(b,c.snapshotNode,A.snapshotNode));else if(p===Sn.CHILD_REMOVED&&R===Sn.CHILD_ADDED)this.changeMap.delete(b);else if(p===Sn.CHILD_REMOVED&&R===Sn.CHILD_CHANGED)this.changeMap.set(b,Sn.childRemovedChange(b,A.oldSnap));else if(p===Sn.CHILD_CHANGED&&R===Sn.CHILD_ADDED)this.changeMap.set(b,Sn.childAddedChange(b,c.snapshotNode));else{if(p!==Sn.CHILD_CHANGED||R!==Sn.CHILD_CHANGED)throw J.assertionError("Illegal combination of changes: "+c+" occurred after "+A);this.changeMap.set(b,Sn.childChangedChange(b,c.snapshotNode,A.oldSnap))}}else this.changeMap.set(b,c)},_.prototype.getChanges=function(){return Array.from(this.changeMap.values())},_}(),$i=new(function(){function _(){}return _.prototype.getCompleteChild=function(c){return null},_.prototype.getChildAfterChild=function(c,p,b){return null},_}()),to=function(){function _(c,p,b){void 0===b&&(b=null),this.writes_=c,this.viewCache_=p,this.optCompleteServerCache_=b}return _.prototype.getCompleteChild=function(c){var p=this.viewCache_.getEventCache();if(p.isCompleteForChild(c))return p.getNode().getImmediateChild(c);var b=null!=this.optCompleteServerCache_?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(c,b)},_.prototype.getChildAfterChild=function(c,p,b){var A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),R=this.writes_.calcIndexedSlice(A,p,1,b,c);return 0===R.length?null:R[0]},_}(),oi=function(c,p){this.viewCache=c,this.changes=p},Ni=function(){function _(c){this.filter_=c}return _.prototype.assertIndexed=function(c){J.assert(c.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),J.assert(c.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},_.prototype.applyOperation=function(c,p,b,A){var K,ue,R=new ti;if(p.type===Fn.OVERWRITE){var _e=p;_e.source.fromUser?K=this.applyUserOverwrite_(c,_e.path,_e.snap,b,A,R):(J.assert(_e.source.fromServer,"Unknown source."),ue=_e.source.tagged||c.getServerCache().isFiltered()&&!_e.path.isEmpty(),K=this.applyServerOverwrite_(c,_e.path,_e.snap,b,A,ue,R))}else if(p.type===Fn.MERGE){var me=p;me.source.fromUser?K=this.applyUserMerge_(c,me.path,me.children,b,A,R):(J.assert(me.source.fromServer,"Unknown source."),ue=me.source.tagged||c.getServerCache().isFiltered(),K=this.applyServerMerge_(c,me.path,me.children,b,A,ue,R))}else if(p.type===Fn.ACK_USER_WRITE){var Qe=p;K=Qe.revert?this.revertUserWrite_(c,Qe.path,b,A,R):this.ackUserWrite_(c,Qe.path,Qe.affectedTree,b,A,R)}else{if(p.type!==Fn.LISTEN_COMPLETE)throw J.assertionError("Unknown operation type: "+p.type);K=this.listenComplete_(c,p.path,b,R)}var ut=R.getChanges();return _.maybeAddValueEvent_(c,K,ut),new oi(K,ut)},_.maybeAddValueEvent_=function(c,p,b){var A=p.getEventCache();if(A.isFullyInitialized()){var R=A.getNode().isLeafNode()||A.getNode().isEmpty(),K=c.getCompleteEventSnap();(b.length>0||!c.getEventCache().isFullyInitialized()||R&&!A.getNode().equals(K)||!A.getNode().getPriority().equals(K.getPriority()))&&b.push(Sn.valueChange(p.getCompleteEventSnap()))}},_.prototype.generateEventCacheAfterServerEvent_=function(c,p,b,A,R){var K=c.getEventCache();if(null!=b.shadowingWrite(p))return c;var ue=void 0,_e=void 0;if(p.isEmpty())if(J.assert(c.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),c.getServerCache().isFiltered()){var me=c.getCompleteServerSnap(),ut=b.calcCompleteEventChildren(me instanceof nn?me:nn.EMPTY_NODE);ue=this.filter_.updateFullNode(c.getEventCache().getNode(),ut,R)}else{var M=b.calcCompleteEventCache(c.getCompleteServerSnap());ue=this.filter_.updateFullNode(c.getEventCache().getNode(),M,R)}else{var N=p.getFront();if(".priority"===N){J.assert(1===p.getLength(),"Can't have a priority with additional path components");var T=K.getNode();_e=c.getServerCache().getNode();var B=b.calcEventCacheAfterServerOverwrite(p,T,_e);ue=null!=B?this.filter_.updatePriority(T,B):K.getNode()}else{var Y=p.popFront(),se=void 0;if(K.isCompleteForChild(N)){_e=c.getServerCache().getNode();var xe=b.calcEventCacheAfterServerOverwrite(p,K.getNode(),_e);se=null!=xe?K.getNode().getImmediateChild(N).updateChild(Y,xe):K.getNode().getImmediateChild(N)}else se=b.calcCompleteChild(N,c.getServerCache());ue=null!=se?this.filter_.updateChild(K.getNode(),N,se,Y,A,R):K.getNode()}}return c.updateEventSnap(ue,K.isFullyInitialized()||p.isEmpty(),this.filter_.filtersNodes())},_.prototype.applyServerOverwrite_=function(c,p,b,A,R,K,ue){var me,_e=c.getServerCache(),Qe=K?this.filter_:this.filter_.getIndexedFilter();if(p.isEmpty())me=Qe.updateFullNode(_e.getNode(),b,null);else if(Qe.filtersNodes()&&!_e.isFiltered()){var ut=_e.getNode().updateChild(p,b);me=Qe.updateFullNode(_e.getNode(),ut,null)}else{var M=p.getFront();if(!_e.isCompleteForPath(p)&&p.getLength()>1)return c;var N=p.popFront(),B=_e.getNode().getImmediateChild(M).updateChild(N,b);me=".priority"===M?Qe.updatePriority(_e.getNode(),B):Qe.updateChild(_e.getNode(),M,B,N,$i,null)}var Y=c.updateServerSnap(me,_e.isFullyInitialized()||p.isEmpty(),Qe.filtersNodes()),se=new to(A,Y,R);return this.generateEventCacheAfterServerEvent_(Y,p,A,se,ue)},_.prototype.applyUserOverwrite_=function(c,p,b,A,R,K){var _e,me,ue=c.getEventCache(),Qe=new to(A,c,R);if(p.isEmpty())me=this.filter_.updateFullNode(c.getEventCache().getNode(),b,K),_e=c.updateEventSnap(me,!0,this.filter_.filtersNodes());else{var ut=p.getFront();if(".priority"===ut)me=this.filter_.updatePriority(c.getEventCache().getNode(),b),_e=c.updateEventSnap(me,ue.isFullyInitialized(),ue.isFiltered());else{var M=p.popFront(),N=ue.getNode().getImmediateChild(ut),T=void 0;if(M.isEmpty())T=b;else{var B=Qe.getCompleteChild(ut);T=null!=B?".priority"===M.getBack()&&B.getChild(M.parent()).isEmpty()?B:B.updateChild(M,b):nn.EMPTY_NODE}if(N.equals(T))_e=c;else{var Y=this.filter_.updateChild(ue.getNode(),ut,T,M,Qe,K);_e=c.updateEventSnap(Y,ue.isFullyInitialized(),this.filter_.filtersNodes())}}}return _e},_.cacheHasChild_=function(c,p){return c.getEventCache().isCompleteForChild(p)},_.prototype.applyUserMerge_=function(c,p,b,A,R,K){var ue=this,_e=c;return b.foreach(function(me,Qe){var ut=p.child(me);_.cacheHasChild_(c,ut.getFront())&&(_e=ue.applyUserOverwrite_(_e,ut,Qe,A,R,K))}),b.foreach(function(me,Qe){var ut=p.child(me);_.cacheHasChild_(c,ut.getFront())||(_e=ue.applyUserOverwrite_(_e,ut,Qe,A,R,K))}),_e},_.prototype.applyMerge_=function(c,p){return p.foreach(function(b,A){c=c.updateChild(b,A)}),c},_.prototype.applyServerMerge_=function(c,p,b,A,R,K,ue){var _e=this;if(c.getServerCache().getNode().isEmpty()&&!c.getServerCache().isFullyInitialized())return c;var Qe,me=c;Qe=p.isEmpty()?b:Jn.Empty.setTree(p,b);var ut=c.getServerCache().getNode();return Qe.children.inorderTraversal(function(M,N){if(ut.hasChild(M)){var T=c.getServerCache().getNode().getImmediateChild(M),B=_e.applyMerge_(T,N);me=_e.applyServerOverwrite_(me,new Ye(M),B,A,R,K,ue)}}),Qe.children.inorderTraversal(function(M,N){var T=!c.getServerCache().isCompleteForChild(M)&&null==N.value;if(!ut.hasChild(M)&&!T){var B=c.getServerCache().getNode().getImmediateChild(M),Y=_e.applyMerge_(B,N);me=_e.applyServerOverwrite_(me,new Ye(M),Y,A,R,K,ue)}}),me},_.prototype.ackUserWrite_=function(c,p,b,A,R,K){if(null!=A.shadowingWrite(p))return c;var ue=c.getServerCache().isFiltered(),_e=c.getServerCache();if(null!=b.value){if(p.isEmpty()&&_e.isFullyInitialized()||_e.isCompleteForPath(p))return this.applyServerOverwrite_(c,p,_e.getNode().getChild(p),A,R,ue,K);if(p.isEmpty()){var me=Jn.Empty;return _e.getNode().forEachChild(Gn,function(ut,M){me=me.set(new Ye(ut),M)}),this.applyServerMerge_(c,p,me,A,R,ue,K)}return c}var Qe=Jn.Empty;return b.foreach(function(ut,M){var N=p.child(ut);_e.isCompleteForPath(N)&&(Qe=Qe.set(ut,_e.getNode().getChild(N)))}),this.applyServerMerge_(c,p,Qe,A,R,ue,K)},_.prototype.listenComplete_=function(c,p,b,A){var R=c.getServerCache(),K=c.updateServerSnap(R.getNode(),R.isFullyInitialized()||p.isEmpty(),R.isFiltered());return this.generateEventCacheAfterServerEvent_(K,p,b,$i,A)},_.prototype.revertUserWrite_=function(c,p,b,A,R){var K;if(null!=b.shadowingWrite(p))return c;var ue=new to(b,c,A),_e=c.getEventCache().getNode(),me=void 0;if(p.isEmpty()||".priority"===p.getFront()){var Qe=void 0;if(c.getServerCache().isFullyInitialized())Qe=b.calcCompleteEventCache(c.getCompleteServerSnap());else{var ut=c.getServerCache().getNode();J.assert(ut instanceof nn,"serverChildren would be complete if leaf node"),Qe=b.calcCompleteEventChildren(ut)}me=this.filter_.updateFullNode(_e,Qe=Qe,R)}else{var M=p.getFront(),N=b.calcCompleteChild(M,c.getServerCache());null==N&&c.getServerCache().isCompleteForChild(M)&&(N=_e.getImmediateChild(M)),(me=null!=N?this.filter_.updateChild(_e,M,N,p.popFront(),ue,R):c.getEventCache().getNode().hasChild(M)?this.filter_.updateChild(_e,M,nn.EMPTY_NODE,p.popFront(),ue,R):_e).isEmpty()&&c.getServerCache().isFullyInitialized()&&(K=b.calcCompleteEventCache(c.getCompleteServerSnap())).isLeafNode()&&(me=this.filter_.updateFullNode(me,K,R))}return K=c.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(Ye.Empty),c.updateEventSnap(me,K,this.filter_.filtersNodes())},_}(),sr=function(){function _(c){this.query_=c,this.index_=this.query_.getQueryParams().getIndex()}return _.prototype.generateEventsForChanges=function(c,p,b){var A=this,R=[],K=[];return c.forEach(function(ue){ue.type===Sn.CHILD_CHANGED&&A.index_.indexedValueChanged(ue.oldSnap,ue.snapshotNode)&&K.push(Sn.childMovedChange(ue.childName,ue.snapshotNode))}),this.generateEventsForType_(R,Sn.CHILD_REMOVED,c,b,p),this.generateEventsForType_(R,Sn.CHILD_ADDED,c,b,p),this.generateEventsForType_(R,Sn.CHILD_MOVED,K,b,p),this.generateEventsForType_(R,Sn.CHILD_CHANGED,c,b,p),this.generateEventsForType_(R,Sn.VALUE,c,b,p),R},_.prototype.generateEventsForType_=function(c,p,b,A,R){var K=this,ue=b.filter(function(_e){return _e.type===p});ue.sort(this.compareChanges_.bind(this)),ue.forEach(function(_e){var me=K.materializeSingleChange_(_e,R);A.forEach(function(Qe){Qe.respondsTo(_e.type)&&c.push(Qe.createEvent(me,K.query_))})})},_.prototype.materializeSingleChange_=function(c,p){return"value"===c.type||"child_removed"===c.type||(c.prevName=p.getPredecessorChildName(c.childName,c.snapshotNode,this.index_)),c},_.prototype.compareChanges_=function(c,p){if(null==c.childName||null==p.childName)throw J.assertionError("Should only compare child_ events.");var b=new ln(c.childName,c.snapshotNode),A=new ln(p.childName,p.snapshotNode);return this.index_.compare(b,A)},_}(),Ai=function(){function _(c,p){this.query_=c,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),A=new _o(b.getIndex()),R=b.getNodeFilter();this.processor_=new Ni(R);var K=p.getServerCache(),ue=p.getEventCache(),_e=A.updateFullNode(nn.EMPTY_NODE,K.getNode(),null),me=R.updateFullNode(nn.EMPTY_NODE,ue.getNode(),null),Qe=new mi(_e,K.isFullyInitialized(),A.filtersNodes()),ut=new mi(me,ue.isFullyInitialized(),R.filtersNodes());this.viewCache_=new ui(ut,Qe),this.eventGenerator_=new sr(this.query_)}return _.prototype.getQuery=function(){return this.query_},_.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},_.prototype.getCompleteServerCache=function(c){var p=this.viewCache_.getCompleteServerSnap();return p&&(this.query_.getQueryParams().loadsAllData()||!c.isEmpty()&&!p.getImmediateChild(c.getFront()).isEmpty())?p.getChild(c):null},_.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},_.prototype.addEventRegistration=function(c){this.eventRegistrations_.push(c)},_.prototype.removeEventRegistration=function(c,p){var b=[];if(p){J.assert(null==c,"A cancel should cancel all event registrations.");var A=this.query_.path;this.eventRegistrations_.forEach(function(_e){var me=_e.createCancelEvent(p=p,A);me&&b.push(me)})}if(c){for(var R=[],K=0;K<this.eventRegistrations_.length;++K){var ue=this.eventRegistrations_[K];if(ue.matches(c)){if(c.hasAnyCallback()){R=R.concat(this.eventRegistrations_.slice(K+1));break}}else R.push(ue)}this.eventRegistrations_=R}else this.eventRegistrations_=[];return b},_.prototype.applyOperation=function(c,p,b){c.type===Fn.MERGE&&null!==c.source.queryId&&(J.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),J.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var A=this.viewCache_,R=this.processor_.applyOperation(A,c,p,b);return this.processor_.assertIndexed(R.viewCache),J.assert(R.viewCache.getServerCache().isFullyInitialized()||!A.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=R.viewCache,this.generateEventsForChanges_(R.changes,R.viewCache.getEventCache().getNode(),null)},_.prototype.getInitialEvents=function(c){var p=this.viewCache_.getEventCache(),b=[];return p.getNode().isLeafNode()||p.getNode().forEachChild(un,function(R,K){b.push(Sn.childAddedChange(R,K))}),p.isFullyInitialized()&&b.push(Sn.valueChange(p.getNode())),this.generateEventsForChanges_(b,p.getNode(),c)},_.prototype.generateEventsForChanges_=function(c,p,b){return this.eventGenerator_.generateEventsForChanges(c,p,b?[b]:this.eventRegistrations_)},_}(),jo=function(){function _(){this.views=new Map}return Object.defineProperty(_,"__referenceConstructor",{get:function(){return J.assert(Li,"Reference.ts has not been loaded"),Li},set:function(c){J.assert(!Li,"__referenceConstructor has already been defined"),Li=c},enumerable:!1,configurable:!0}),_.prototype.isEmpty=function(){return 0===this.views.size},_.prototype.applyOperation=function(c,p,b){var A,R,K=c.source.queryId;if(null!==K){var ue=this.views.get(K);return J.assert(null!=ue,"SyncTree gave us an op for an invalid query."),ue.applyOperation(c,p,b)}var _e=[];try{for(var me=u.__values(this.views.values()),Qe=me.next();!Qe.done;Qe=me.next())_e=_e.concat((ue=Qe.value).applyOperation(c,p,b))}catch(ut){A={error:ut}}finally{try{Qe&&!Qe.done&&(R=me.return)&&R.call(me)}finally{if(A)throw A.error}}return _e},_.prototype.addEventRegistration=function(c,p,b,A,R){var K=c.queryIdentifier(),ue=this.views.get(K);if(!ue){var _e=b.calcCompleteEventCache(R?A:null),me=!1;_e?me=!0:A instanceof nn?(_e=b.calcCompleteEventChildren(A),me=!1):(_e=nn.EMPTY_NODE,me=!1);var Qe=new ui(new mi(_e,me,!1),new mi(A,R,!1));ue=new Ai(c,Qe),this.views.set(K,ue)}return ue.addEventRegistration(p),ue.getInitialEvents(p)},_.prototype.removeEventRegistration=function(c,p,b){var A,R,K=c.queryIdentifier(),ue=[],_e=[],me=this.hasCompleteView();if("default"===K)try{for(var Qe=u.__values(this.views.entries()),ut=Qe.next();!ut.done;ut=Qe.next()){var T,M=u.__read(ut.value,2),N=M[0];_e=_e.concat((T=M[1]).removeEventRegistration(p,b)),T.isEmpty()&&(this.views.delete(N),T.getQuery().getQueryParams().loadsAllData()||ue.push(T.getQuery()))}}catch(B){A={error:B}}finally{try{ut&&!ut.done&&(R=Qe.return)&&R.call(Qe)}finally{if(A)throw A.error}}else(T=this.views.get(K))&&(_e=_e.concat(T.removeEventRegistration(p,b)),T.isEmpty()&&(this.views.delete(K),T.getQuery().getQueryParams().loadsAllData()||ue.push(T.getQuery())));return me&&!this.hasCompleteView()&&ue.push(new _.__referenceConstructor(c.repo,c.path)),{removed:ue,events:_e}},_.prototype.getQueryViews=function(){var c,p,b=[];try{for(var A=u.__values(this.views.values()),R=A.next();!R.done;R=A.next()){var K=R.value;K.getQuery().getQueryParams().loadsAllData()||b.push(K)}}catch(ue){c={error:ue}}finally{try{R&&!R.done&&(p=A.return)&&p.call(A)}finally{if(c)throw c.error}}return b},_.prototype.getCompleteServerCache=function(c){var p,b,A=null;try{for(var R=u.__values(this.views.values()),K=R.next();!K.done;K=R.next())A=A||K.value.getCompleteServerCache(c)}catch(_e){p={error:_e}}finally{try{K&&!K.done&&(b=R.return)&&b.call(R)}finally{if(p)throw p.error}}return A},_.prototype.viewForQuery=function(c){if(c.getQueryParams().loadsAllData())return this.getCompleteView();var b=c.queryIdentifier();return this.views.get(b)},_.prototype.viewExistsForQuery=function(c){return null!=this.viewForQuery(c)},_.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},_.prototype.getCompleteView=function(){var c,p;try{for(var b=u.__values(this.views.values()),A=b.next();!A.done;A=b.next()){var R=A.value;if(R.getQuery().getQueryParams().loadsAllData())return R}}catch(K){c={error:K}}finally{try{A&&!A.done&&(p=b.return)&&p.call(b)}finally{if(c)throw c.error}}return null},_}(),li=function(){function _(c){this.writeTree_=c}return _.prototype.addWrite=function(c,p){if(c.isEmpty())return new _(new Jn(p));var b=this.writeTree_.findRootMostValueAndPath(c);if(null!=b){var A=b.path,R=b.value,K=Ye.relativePath(A,c);return R=R.updateChild(K,p),new _(this.writeTree_.set(A,R))}var ue=new Jn(p);return new _(this.writeTree_.setTree(c,ue))},_.prototype.addWrites=function(c,p){var b=this;return mt(p,function(A,R){b=b.addWrite(c.child(A),R)}),b},_.prototype.removeWrite=function(c){return c.isEmpty()?_.Empty:new _(this.writeTree_.setTree(c,Jn.Empty))},_.prototype.hasCompleteWrite=function(c){return null!=this.getCompleteNode(c)},_.prototype.getCompleteNode=function(c){var p=this.writeTree_.findRootMostValueAndPath(c);return null!=p?this.writeTree_.get(p.path).getChild(Ye.relativePath(p.path,c)):null},_.prototype.getCompleteChildren=function(){var c=[],p=this.writeTree_.value;return null!=p?p.isLeafNode()||p.forEachChild(un,function(b,A){c.push(new ln(b,A))}):this.writeTree_.children.inorderTraversal(function(b,A){null!=A.value&&c.push(new ln(b,A.value))}),c},_.prototype.childCompoundWrite=function(c){if(c.isEmpty())return this;var p=this.getCompleteNode(c);return new _(null!=p?new Jn(p):this.writeTree_.subtree(c))},_.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},_.prototype.apply=function(c){return ri(Ye.Empty,this.writeTree_,c)},_.Empty=new _(new Jn(null)),_}();function ri(_,c,p){if(null!=c.value)return p.updateChild(_,c.value);var b=null;return c.children.inorderTraversal(function(A,R){".priority"===A?(J.assert(null!==R.value,"Priority writes must always be leaf nodes"),b=R.value):p=ri(_.child(A),R,p)}),!p.getChild(_).isEmpty()&&null!==b&&(p=p.updateChild(_.child(".priority"),b)),p}var Do=function(){function _(){this.visibleWrites_=li.Empty,this.allWrites_=[],this.lastWriteId_=-1}return _.prototype.childWrites=function(c){return new ii(c,this)},_.prototype.addOverwrite=function(c,p,b,A){J.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),this.allWrites_.push({path:c,snap:p,writeId:b,visible:A}),A&&(this.visibleWrites_=this.visibleWrites_.addWrite(c,p)),this.lastWriteId_=b},_.prototype.addMerge=function(c,p,b){J.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:c,children:p,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(c,p),this.lastWriteId_=b},_.prototype.getWrite=function(c){for(var p=0;p<this.allWrites_.length;p++){var b=this.allWrites_[p];if(b.writeId===c)return b}return null},_.prototype.removeWrite=function(c){var p=this,b=this.allWrites_.findIndex(function(Qe){return Qe.writeId===c});J.assert(b>=0,"removeWrite called with nonexistent writeId.");var A=this.allWrites_[b];this.allWrites_.splice(b,1);for(var R=A.visible,K=!1,ue=this.allWrites_.length-1;R&&ue>=0;){var _e=this.allWrites_[ue];_e.visible&&(ue>=b&&this.recordContainsPath_(_e,A.path)?R=!1:A.path.contains(_e.path)&&(K=!0)),ue--}return!!R&&(K?(this.resetTree_(),!0):(A.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(A.path):mt(A.children,function(Qe){p.visibleWrites_=p.visibleWrites_.removeWrite(A.path.child(Qe))}),!0))},_.prototype.getCompleteWriteData=function(c){return this.visibleWrites_.getCompleteNode(c)},_.prototype.calcCompleteEventCache=function(c,p,b,A){if(b||A){var _e=this.visibleWrites_.childCompoundWrite(c);return!A&&_e.isEmpty()?p:A||null!=p||_e.hasCompleteWrite(Ye.Empty)?_.layerTree_(this.allWrites_,function(M){return(M.visible||A)&&(!b||!~b.indexOf(M.writeId))&&(M.path.contains(c)||c.contains(M.path))},c).apply(p||nn.EMPTY_NODE):null}var R=this.visibleWrites_.getCompleteNode(c);if(null!=R)return R;var K=this.visibleWrites_.childCompoundWrite(c);return K.isEmpty()?p:null!=p||K.hasCompleteWrite(Ye.Empty)?K.apply(p||nn.EMPTY_NODE):null},_.prototype.calcCompleteEventChildren=function(c,p){var b=nn.EMPTY_NODE,A=this.visibleWrites_.getCompleteNode(c);if(A)return A.isLeafNode()||A.forEachChild(un,function(ue,_e){b=b.updateImmediateChild(ue,_e)}),b;if(p){var R=this.visibleWrites_.childCompoundWrite(c);return p.forEachChild(un,function(ue,_e){var me=R.childCompoundWrite(new Ye(ue)).apply(_e);b=b.updateImmediateChild(ue,me)}),R.getCompleteChildren().forEach(function(ue){b=b.updateImmediateChild(ue.name,ue.node)}),b}return this.visibleWrites_.childCompoundWrite(c).getCompleteChildren().forEach(function(ue){b=b.updateImmediateChild(ue.name,ue.node)}),b},_.prototype.calcEventCacheAfterServerOverwrite=function(c,p,b,A){J.assert(b||A,"Either existingEventSnap or existingServerSnap must exist");var R=c.child(p);if(this.visibleWrites_.hasCompleteWrite(R))return null;var K=this.visibleWrites_.childCompoundWrite(R);return K.isEmpty()?A.getChild(p):K.apply(A.getChild(p))},_.prototype.calcCompleteChild=function(c,p,b){var A=c.child(p),R=this.visibleWrites_.getCompleteNode(A);return null!=R?R:b.isCompleteForChild(p)?this.visibleWrites_.childCompoundWrite(A).apply(b.getNode().getImmediateChild(p)):null},_.prototype.shadowingWrite=function(c){return this.visibleWrites_.getCompleteNode(c)},_.prototype.calcIndexedSlice=function(c,p,b,A,R,K){var ue,_e=this.visibleWrites_.childCompoundWrite(c),me=_e.getCompleteNode(Ye.Empty);if(null!=me)ue=me;else{if(null==p)return[];ue=_e.apply(p)}if((ue=ue.withIndex(K)).isEmpty()||ue.isLeafNode())return[];for(var Qe=[],ut=K.getCompare(),M=R?ue.getReverseIteratorFrom(b,K):ue.getIteratorFrom(b,K),N=M.getNext();N&&Qe.length<A;)0!==ut(N,b)&&Qe.push(N),N=M.getNext();return Qe},_.prototype.recordContainsPath_=function(c,p){if(c.snap)return c.path.contains(p);for(var b in c.children)if(c.children.hasOwnProperty(b)&&c.path.child(b).contains(p))return!0;return!1},_.prototype.resetTree_=function(){this.visibleWrites_=_.layerTree_(this.allWrites_,_.DefaultFilter_,Ye.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},_.DefaultFilter_=function(c){return c.visible},_.layerTree_=function(c,p,b){for(var A=li.Empty,R=0;R<c.length;++R){var K=c[R];if(p(K)){var ue=K.path,_e=void 0;if(K.snap)b.contains(ue)?(_e=Ye.relativePath(b,ue),A=A.addWrite(_e,K.snap)):ue.contains(b)&&(_e=Ye.relativePath(ue,b),A=A.addWrite(Ye.Empty,K.snap.getChild(_e)));else{if(!K.children)throw J.assertionError("WriteRecord should have .snap or .children");if(b.contains(ue))_e=Ye.relativePath(b,ue),A=A.addWrites(_e,K.children);else if(ue.contains(b))if((_e=Ye.relativePath(ue,b)).isEmpty())A=A.addWrites(Ye.Empty,K.children);else{var me=J.safeGet(K.children,_e.getFront());if(me){var Qe=me.getChild(_e.popFront());A=A.addWrite(Ye.Empty,Qe)}}}}}return A},_}(),ii=function(){function _(c,p){this.treePath_=c,this.writeTree_=p}return _.prototype.calcCompleteEventCache=function(c,p,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,c,p,b)},_.prototype.calcCompleteEventChildren=function(c){return this.writeTree_.calcCompleteEventChildren(this.treePath_,c)},_.prototype.calcEventCacheAfterServerOverwrite=function(c,p,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,c,p,b)},_.prototype.shadowingWrite=function(c){return this.writeTree_.shadowingWrite(this.treePath_.child(c))},_.prototype.calcIndexedSlice=function(c,p,b,A,R){return this.writeTree_.calcIndexedSlice(this.treePath_,c,p,b,A,R)},_.prototype.calcCompleteChild=function(c,p){return this.writeTree_.calcCompleteChild(this.treePath_,c,p)},_.prototype.child=function(c){return new _(this.treePath_.child(c),this.writeTree_)},_}(),no=function(){function _(c){this.listenProvider_=c,this.syncPointTree_=Jn.Empty,this.pendingWriteTree_=new Do,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return _.prototype.applyUserOverwrite=function(c,p,b,A){return this.pendingWriteTree_.addOverwrite(c,p,b,A),A?this.applyOperationToSyncPoints_(new Gi(gi.User,c,p)):[]},_.prototype.applyUserMerge=function(c,p,b){this.pendingWriteTree_.addMerge(c,p,b);var A=Jn.fromObject(p);return this.applyOperationToSyncPoints_(new eo(gi.User,c,A))},_.prototype.ackUserWrite=function(c,p){void 0===p&&(p=!1);var b=this.pendingWriteTree_.getWrite(c);if(this.pendingWriteTree_.removeWrite(c)){var R=Jn.Empty;return null!=b.snap?R=R.set(Ye.Empty,!0):mt(b.children,function(K,ue){R=R.set(new Ye(K),ue)}),this.applyOperationToSyncPoints_(new Xi(b.path,R,p))}return[]},_.prototype.applyServerOverwrite=function(c,p){return this.applyOperationToSyncPoints_(new Gi(gi.Server,c,p))},_.prototype.applyServerMerge=function(c,p){var b=Jn.fromObject(p);return this.applyOperationToSyncPoints_(new eo(gi.Server,c,b))},_.prototype.applyListenComplete=function(c){return this.applyOperationToSyncPoints_(new xo(gi.Server,c))},_.prototype.applyTaggedQueryOverwrite=function(c,p,b){var A=this.queryKeyForTag_(b);if(null!=A){var R=_.parseQueryKey_(A),K=R.path,ue=R.queryId,_e=Ye.relativePath(K,c),me=new Gi(gi.forServerTaggedQuery(ue),_e,p);return this.applyTaggedOperation_(K,me)}return[]},_.prototype.applyTaggedQueryMerge=function(c,p,b){var A=this.queryKeyForTag_(b);if(A){var R=_.parseQueryKey_(A),K=R.path,ue=R.queryId,_e=Ye.relativePath(K,c),me=Jn.fromObject(p),Qe=new eo(gi.forServerTaggedQuery(ue),_e,me);return this.applyTaggedOperation_(K,Qe)}return[]},_.prototype.applyTaggedListenComplete=function(c,p){var b=this.queryKeyForTag_(p);if(b){var A=_.parseQueryKey_(b),R=A.path,K=A.queryId,ue=Ye.relativePath(R,c),_e=new xo(gi.forServerTaggedQuery(K),ue);return this.applyTaggedOperation_(R,_e)}return[]},_.prototype.addEventRegistration=function(c,p){var b=c.path,A=null,R=!1;this.syncPointTree_.foreachOnPath(b,function(B,Y){var se=Ye.relativePath(B,b);A=A||Y.getCompleteServerCache(se),R=R||Y.hasCompleteView()});var ue,K=this.syncPointTree_.get(b);K?(R=R||K.hasCompleteView(),A=A||K.getCompleteServerCache(Ye.Empty)):(K=new jo,this.syncPointTree_=this.syncPointTree_.set(b,K)),null!=A?ue=!0:(ue=!1,A=nn.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(B,Y){var se=Y.getCompleteServerCache(Ye.Empty);se&&(A=A.updateImmediateChild(B,se))}));var me=K.viewExistsForQuery(c);if(!me&&!c.getQueryParams().loadsAllData()){var Qe=_.makeQueryKey_(c);J.assert(!this.queryToTagMap.has(Qe),"View does not exist, but we have a tag");var ut=_.getNextQueryTag_();this.queryToTagMap.set(Qe,ut),this.tagToQueryMap.set(ut,Qe)}var M=this.pendingWriteTree_.childWrites(b),N=K.addEventRegistration(c,p,M,A,ue);if(!me&&!R){var T=K.viewForQuery(c);N=N.concat(this.setupListener_(c,T))}return N},_.prototype.removeEventRegistration=function(c,p,b){var A=this,R=c.path,K=this.syncPointTree_.get(R),ue=[];if(K&&("default"===c.queryIdentifier()||K.viewExistsForQuery(c))){var _e=K.removeEventRegistration(c,p,b);K.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(R));var me=_e.removed;ue=_e.events;var Qe=-1!==me.findIndex(function(We){return We.getQueryParams().loadsAllData()}),ut=this.syncPointTree_.findOnPath(R,function(We,yt){return yt.hasCompleteView()});if(Qe&&!ut){var M=this.syncPointTree_.subtree(R);if(!M.isEmpty())for(var N=this.collectDistinctViewsForSubTree_(M),T=0;T<N.length;++T){var B=N[T],Y=B.getQuery(),se=this.createListenerForView_(B);this.listenProvider_.startListening(_.queryForListening_(Y),this.tagForQuery_(Y),se.hashFn,se.onComplete)}}!ut&&me.length>0&&!b&&(Qe?this.listenProvider_.stopListening(_.queryForListening_(c),null):me.forEach(function(We){var yt=A.queryToTagMap.get(_.makeQueryKey_(We));A.listenProvider_.stopListening(_.queryForListening_(We),yt)})),this.removeTags_(me)}return ue},_.prototype.calcCompleteEventCache=function(c,p){var A=this.pendingWriteTree_,R=this.syncPointTree_.findOnPath(c,function(K,ue){var _e=Ye.relativePath(K,c),me=ue.getCompleteServerCache(_e);if(me)return me});return A.calcCompleteEventCache(c,R,p,!0)},_.prototype.collectDistinctViewsForSubTree_=function(c){return c.fold(function(p,b,A){if(b&&b.hasCompleteView())return[b.getCompleteView()];var K=[];return b&&(K=b.getQueryViews()),mt(A,function(ue,_e){K=K.concat(_e)}),K})},_.prototype.removeTags_=function(c){for(var p=0;p<c.length;++p){var b=c[p];if(!b.getQueryParams().loadsAllData()){var A=_.makeQueryKey_(b),R=this.queryToTagMap.get(A);this.queryToTagMap.delete(A),this.tagToQueryMap.delete(R)}}},_.queryForListening_=function(c){return c.getQueryParams().loadsAllData()&&!c.getQueryParams().isDefault()?c.getRef():c},_.prototype.setupListener_=function(c,p){var b=c.path,A=this.tagForQuery_(c),R=this.createListenerForView_(p),K=this.listenProvider_.startListening(_.queryForListening_(c),A,R.hashFn,R.onComplete),ue=this.syncPointTree_.subtree(b);if(A)J.assert(!ue.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var _e=ue.fold(function(ut,M,N){if(!ut.isEmpty()&&M&&M.hasCompleteView())return[M.getCompleteView().getQuery()];var T=[];return M&&(T=T.concat(M.getQueryViews().map(function(B){return B.getQuery()}))),mt(N,function(B,Y){T=T.concat(Y)}),T}),me=0;me<_e.length;++me){var Qe=_e[me];this.listenProvider_.stopListening(_.queryForListening_(Qe),this.tagForQuery_(Qe))}return K},_.prototype.createListenerForView_=function(c){var p=this,b=c.getQuery(),A=this.tagForQuery_(b);return{hashFn:function(){return(c.getServerCache()||nn.EMPTY_NODE).hash()},onComplete:function(R){if("ok"===R)return A?p.applyTaggedListenComplete(b.path,A):p.applyListenComplete(b.path);var K=function(_,c){var p="Unknown Error";"too_big"===_?p="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===_?p="Client doesn't have permission to access the desired data.":"unavailable"===_&&(p="The service is unavailable");var b=new Error(_+" at "+c.path.toString()+": "+p);return b.code=_.toUpperCase(),b}(R,b);return p.removeEventRegistration(b,null,K)}}},_.makeQueryKey_=function(c){return c.path.toString()+"$"+c.queryIdentifier()},_.parseQueryKey_=function(c){var p=c.indexOf("$");return J.assert(-1!==p&&p<c.length-1,"Bad queryKey."),{queryId:c.substr(p+1),path:new Ye(c.substr(0,p))}},_.prototype.queryKeyForTag_=function(c){return this.tagToQueryMap.get(c)},_.prototype.tagForQuery_=function(c){var p=_.makeQueryKey_(c);return this.queryToTagMap.get(p)},_.getNextQueryTag_=function(){return _.nextQueryTag_++},_.prototype.applyTaggedOperation_=function(c,p){var b=this.syncPointTree_.get(c);J.assert(b,"Missing sync point for query tag that we're tracking");var A=this.pendingWriteTree_.childWrites(c);return b.applyOperation(p,A,null)},_.prototype.applyOperationToSyncPoints_=function(c){return this.applyOperationHelper_(c,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Ye.Empty))},_.prototype.applyOperationHelper_=function(c,p,b,A){if(c.path.isEmpty())return this.applyOperationDescendantsHelper_(c,p,b,A);var R=p.get(Ye.Empty);null==b&&null!=R&&(b=R.getCompleteServerCache(Ye.Empty));var K=[],ue=c.path.getFront(),_e=c.operationForChild(ue),me=p.children.get(ue);if(me&&_e){var Qe=b?b.getImmediateChild(ue):null,ut=A.child(ue);K=K.concat(this.applyOperationHelper_(_e,me,Qe,ut))}return R&&(K=K.concat(R.applyOperation(c,A,b))),K},_.prototype.applyOperationDescendantsHelper_=function(c,p,b,A){var R=this,K=p.get(Ye.Empty);null==b&&null!=K&&(b=K.getCompleteServerCache(Ye.Empty));var ue=[];return p.children.inorderTraversal(function(_e,me){var Qe=b?b.getImmediateChild(_e):null,ut=A.child(_e),M=c.operationForChild(_e);M&&(ue=ue.concat(R.applyOperationDescendantsHelper_(M,me,Qe,ut)))}),K&&(ue=ue.concat(K.applyOperation(c,A,b))),ue},_.nextQueryTag_=1,_}(),Pr=function(){function _(){this.rootNode_=nn.EMPTY_NODE}return _.prototype.getNode=function(c){return this.rootNode_.getChild(c)},_.prototype.updateSnapshot=function(c,p){this.rootNode_=this.rootNode_.updateChild(c,p)},_}(),q=function(){function _(){this.counters_={}}return _.prototype.incrementCounter=function(c,p){void 0===p&&(p=1),J.contains(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=p},_.prototype.get=function(){return J.deepCopy(this.counters_)},_}(),H=function(){function _(){}return _.getCollection=function(c){var p=c.toString();return this.collections_[p]||(this.collections_[p]=new q),this.collections_[p]},_.getOrCreateReporter=function(c,p){var b=c.toString();return this.reporters_[b]||(this.reporters_[b]=p()),this.reporters_[b]},_.collections_={},_.reporters_={},_}(),L=function(){function _(c){this.collection_=c,this.last_=null}return _.prototype.get=function(){var c=this.collection_.get(),p=u.__assign({},c);return this.last_&&mt(this.last_,function(b,A){p[b]=p[b]-A}),this.last_=c,p},_}(),U=function(){function _(c,p){this.server_=p,this.statsToReport_={},this.statsListener_=new L(c);var b=1e4+2e4*Math.random();tt(this.reportStats_.bind(this),Math.floor(b))}return _.prototype.includeStat=function(c){this.statsToReport_[c]=!0},_.prototype.reportStats_=function(){var c=this,p=this.statsListener_.get(),b={},A=!1;mt(p,function(R,K){K>0&&J.contains(c.statsToReport_,R)&&(b[R]=K,A=!0)}),A&&this.server_.reportStats(b),tt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},_}(),ae=function(){function _(){this.eventLists_=[],this.recursionDepth_=0}return _.prototype.queueEvents=function(c){for(var p=null,b=0;b<c.length;b++){var A=c[b],R=A.getPath();null!==p&&!R.equals(p.getPath())&&(this.eventLists_.push(p),p=null),null===p&&(p=new G(R)),p.add(A)}p&&this.eventLists_.push(p)},_.prototype.raiseEventsAtPath=function(c,p){this.queueEvents(p),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(c)})},_.prototype.raiseEventsForChangedPath=function(c,p){this.queueEvents(p),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(c)||c.contains(b)})},_.prototype.raiseQueuedEventsMatchingPredicate_=function(c){this.recursionDepth_++;for(var p=!0,b=0;b<this.eventLists_.length;b++){var A=this.eventLists_[b];A&&(c(A.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):p=!1)}p&&(this.eventLists_=[]),this.recursionDepth_--},_}(),G=function(){function _(c){this.path_=c,this.events_=[]}return _.prototype.add=function(c){this.events_.push(c)},_.prototype.raise=function(){for(var c=0;c<this.events_.length;c++){var p=this.events_[c];if(null!==p){this.events_[c]=null;var b=p.getEventRunner();nt&&xt("event: "+p.toString()),Ct(b)}}},_.prototype.getPath=function(){return this.path_},_}(),fe=function(){function _(c){this.allowedEvents_=c,this.listeners_={},J.assert(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}return _.prototype.trigger=function(c){for(var p=[],b=1;b<arguments.length;b++)p[b-1]=arguments[b];if(Array.isArray(this.listeners_[c]))for(var A=u.__spread(this.listeners_[c]),R=0;R<A.length;R++)A[R].callback.apply(A[R].context,p)},_.prototype.on=function(c,p,b){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:p,context:b});var A=this.getInitialEvent(c);A&&p.apply(b,A)},_.prototype.off=function(c,p,b){this.validateEventType_(c);for(var A=this.listeners_[c]||[],R=0;R<A.length;R++)if(A[R].callback===p&&(!b||b===A[R].context))return void A.splice(R,1)},_.prototype.validateEventType_=function(c){J.assert(this.allowedEvents_.find(function(p){return p===c}),"Unknown event: "+c)},_}(),Fe=function(_){function c(){var b,A,p=_.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(A="visibilitychange",b="hidden"):void 0!==document.mozHidden?(A="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(A="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(A="webkitvisibilitychange",b="webkitHidden")),p.visible_=!0,A&&document.addEventListener(A,function(){var R=!document[b];R!==p.visible_&&(p.visible_=R,p.trigger("visible",R))},!1),p}return u.__extends(c,_),c.getInstance=function(){return new c},c.prototype.getInitialEvent=function(p){return J.assert("visible"===p,"Unknown event type: "+p),[this.visible_]},c}(fe),pt=function(_){function c(){var p=_.call(this,["online"])||this;return p.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!J.isMobileCordova()&&(window.addEventListener("online",function(){p.online_||(p.online_=!0,p.trigger("online",!0))},!1),window.addEventListener("offline",function(){p.online_&&(p.online_=!1,p.trigger("online",!1))},!1)),p}return u.__extends(c,_),c.getInstance=function(){return new c},c.prototype.getInitialEvent=function(p){return J.assert("online"===p,"Unknown event type: "+p),[this.online_]},c.prototype.currentlyOnline=function(){return this.online_},c}(fe),bt=function(){function _(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return _.prototype.closeAfter=function(c,p){this.closeAfterResponse=c,this.onClose=p,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},_.prototype.handleResponse=function(c,p){var b=this;this.pendingResponses[c]=p;for(var A=function(){var ue=R.pendingResponses[R.currentResponseNum];delete R.pendingResponses[R.currentResponseNum];for(var _e=function(Qe){ue[Qe]&&Ct(function(){b.onMessage_(ue[Qe])})},me=0;me<ue.length;++me)_e(me);if(R.currentResponseNum===R.closeAfterResponse)return R.onClose&&(R.onClose(),R.onClose=null),"break";R.currentResponseNum++},R=this;this.pendingResponses[this.currentResponseNum]&&"break"!==A(););},_}(),ro=function(){function _(c,p,b,A,R){this.connId=c,this.repoInfo=p,this.applicationId=b,this.transportSessionId=A,this.lastSessionId=R,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ft(c),this.stats_=H.getCollection(p),this.urlFn=function(K){return p.connectionURL(Un,K)}}return _.prototype.open=function(c,p){var b=this;this.curSegmentNum=0,this.onDisconnect_=p,this.myPacketOrderer=new bt(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(_){if(J.isNodeSdk()||"complete"===document.readyState)_();else{var c=!1,p=function(){document.body?c||(c=!0,_()):setTimeout(p,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",p,!1),window.addEventListener("load",p,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&p()}),window.attachEvent("onload",p))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new as(function(){for(var K=[],ue=0;ue<arguments.length;ue++)K[ue]=arguments[ue];var _e=u.__read(K,5),me=_e[0],Qe=_e[1],ut=_e[2];if(b.incrementIncomingBytes_(K),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===me)b.id=Qe,b.password=ut;else{if("close"!==me)throw new Error("Unrecognized command received: "+me);Qe?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(Qe,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var K=[],ue=0;ue<arguments.length;ue++)K[ue]=arguments[ue];var _e=u.__read(K,2),me=_e[0],Qe=_e[1];b.incrementIncomingBytes_(K),b.myPacketOrderer.handleResponse(me,Qe)},function(){b.onClosed_()},b.urlFn);var A={start:"t"};A.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(A.cb=b.scriptTagHolder.uniqueCallbackIdentifier),A.v="5",b.transportSessionId&&(A.s=b.transportSessionId),b.lastSessionId&&(A.ls=b.lastSessionId),b.applicationId&&(A.p=b.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Rt)&&(A.r="f");var R=b.urlFn(A);b.log_("Connecting via long-poll to "+R),b.scriptTagHolder.addTag(R,function(){})}})},_.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},_.forceAllow=function(){_.forceAllow_=!0},_.forceDisallow=function(){_.forceDisallow_=!0},_.isAvailable=function(){return!(J.isNodeSdk()||!_.forceAllow_&&(_.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},_.prototype.markConnectionHealthy=function(){},_.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},_.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},_.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},_.prototype.send=function(c){var p=J.stringify(c);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);for(var b=J.base64Encode(p),A=$e(b,1840),R=0;R<A.length;R++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[R]),this.curSegmentNum++},_.prototype.addDisconnectPingFrame=function(c,p){if(!J.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=c,b.pw=p,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},_.prototype.incrementIncomingBytes_=function(c){var p=J.stringify(c).length;this.bytesReceived+=p,this.stats_.incrementCounter("bytes_received",p)},_}(),as=function(){function _(c,p,b,A){if(this.onDisconnect=b,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,J.isNodeSdk())this.commandCB=c,this.onMessageCB=p;else{this.uniqueCallbackIdentifier=et(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=p,this.myIFrame=_.createIFrame_();var R="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(R='<script>document.domain="'+document.domain+'";<\/script>');var ue="<html><body>"+R+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ue),this.myIFrame.doc.close()}catch(_e){xt("frame writing exception"),_e.stack&&xt(_e.stack),xt(_e)}}}return _.createIFrame_=function(){var c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||xt("No IE domain setting required")}catch(A){var b=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c},_.prototype.close=function(){var c=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==c.myIFrame&&(document.body.removeChild(c.myIFrame),c.myIFrame=null)},Math.floor(0)));var p=this.onDisconnect;p&&(this.onDisconnect=null,p())},_.prototype.startLongPoll=function(c,p){for(this.myID=c,this.myPW=p,this.alive=!0;this.newRequest_(););},_.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;for(var p=this.urlFn(c),b="",A=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var K=this.pendingSegs.shift();b=b+"&seg"+A+"="+K.seg+"&ts"+A+"="+K.ts+"&d"+A+"="+K.d,A++}return this.addLongPollTag_(p+=b,this.currentSerial),!0}return!1},_.prototype.enqueueSegment=function(c,p,b){this.pendingSegs.push({seg:c,ts:p,d:b}),this.alive&&this.newRequest_()},_.prototype.addLongPollTag_=function(c,p){var b=this;this.outstandingRequests.add(p);var A=function(){b.outstandingRequests.delete(p),b.newRequest_()},R=setTimeout(A,Math.floor(25e3));this.addTag(c,function(){clearTimeout(R),A()})},_.prototype.addTag=function(c,p){var b=this;J.isNodeSdk()?this.doNodeLongPoll(c,p):setTimeout(function(){try{if(!b.sendNewPolls)return;var A=b.myIFrame.doc.createElement("script");A.type="text/javascript",A.async=!0,A.src=c,A.onload=A.onreadystatechange=function(){var R=A.readyState;(!R||"loaded"===R||"complete"===R)&&(A.onload=A.onreadystatechange=null,A.parentNode&&A.parentNode.removeChild(A),p())},A.onerror=function(){xt("Long-poll script failed to load: "+c),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(A)}catch(R){}},Math.floor(1))},_}(),co="",Ir=null;"undefined"!=typeof MozWebSocket?Ir=MozWebSocket:"undefined"!=typeof WebSocket&&(Ir=WebSocket);var si=function(){function _(c,p,b,A,R){this.connId=c,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ft(this.connId),this.stats_=H.getCollection(p),this.connURL=_.connectionURL_(p,A,R),this.nodeAdmin=p.nodeAdmin}return _.connectionURL_=function(c,p,b){var A={v:"5"};return!J.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Rt)&&(A.r="f"),p&&(A.s=p),b&&(A.ls=b),c.connectionURL(zn,A)},_.prototype.open=function(c,p){var b=this;this.onDisconnect=p,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,De.set("previous_websocket_failure",!0);try{if(J.isNodeSdk()){var R={headers:{"User-Agent":"Firebase/5/"+co+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},K=process.env,ue=0===this.connURL.indexOf("wss://")?K.HTTPS_PROXY||K.https_proxy:K.HTTP_PROXY||K.http_proxy;ue&&(R.proxy={origin:ue}),this.mySock=new Ir(this.connURL,[],R)}else this.mySock=new Ir(this.connURL,[],R={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(me){this.log_("Error instantiating WebSocket.");var _e=me.message||me.data;return _e&&this.log_(_e),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(me){b.handleIncomingFrame(me)},this.mySock.onerror=function(me){b.log_("WebSocket error.  Closing connection.");var Qe=me.message||me.data;Qe&&b.log_(Qe),b.onClosed_()}},_.prototype.start=function(){},_.forceDisallow=function(){_.forceDisallow_=!0},_.isAvailable=function(){var c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(c=!0)}return!c&&null!==Ir&&!_.forceDisallow_},_.previouslyFailed=function(){return De.isInMemoryStorage||!0===De.get("previous_websocket_failure")},_.prototype.markConnectionHealthy=function(){De.remove("previous_websocket_failure")},_.prototype.appendFrame_=function(c){if(this.frames.push(c),this.frames.length===this.totalFrames){var p=this.frames.join("");this.frames=null;var b=J.jsonEval(p);this.onMessage(b)}},_.prototype.handleNewFrameCount_=function(c){this.totalFrames=c,this.frames=[]},_.prototype.extractFrameCount_=function(c){if(J.assert(null===this.frames,"We already have a frame buffer"),c.length<=6){var p=Number(c);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),c},_.prototype.handleIncomingFrame=function(c){if(null!==this.mySock){var p=c.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{var b=this.extractFrameCount_(p);null!==b&&this.appendFrame_(b)}}},_.prototype.send=function(c){this.resetKeepAlive();var p=J.stringify(c);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);var b=$e(p,16384);b.length>1&&this.sendString_(String(b.length));for(var A=0;A<b.length;A++)this.sendString_(b[A])},_.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},_.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},_.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},_.prototype.resetKeepAlive=function(){var c=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){c.mySock&&c.sendString_("0"),c.resetKeepAlive()},Math.floor(45e3))},_.prototype.sendString_=function(c){try{this.mySock.send(c)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},_.responsesRequiredToBeHealthy=2,_.healthyTimeout=3e4,_}(),vo=function(){function _(c){this.initTransports_(c)}return Object.defineProperty(_,"ALL_TRANSPORTS",{get:function(){return[ro,si]},enumerable:!1,configurable:!0}),_.prototype.initTransports_=function(c){var p,b,A=si&&si.isAvailable(),R=A&&!si.previouslyFailed();if(c.webSocketOnly&&(A||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),R=!0),R)this.transports_=[si];else{var K=this.transports_=[];try{for(var ue=u.__values(_.ALL_TRANSPORTS),_e=ue.next();!_e.done;_e=ue.next()){var me=_e.value;me&&me.isAvailable()&&K.push(me)}}catch(Qe){p={error:Qe}}finally{try{_e&&!_e.done&&(b=ue.return)&&b.call(ue)}finally{if(p)throw p.error}}}},_.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},_.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},_}(),Go=function(){function _(c,p,b,A,R,K,ue,_e){this.id=c,this.repoInfo_=p,this.applicationId_=b,this.onMessage_=A,this.onReady_=R,this.onDisconnect_=K,this.onKill_=ue,this.lastSessionId=_e,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ft("c:"+this.id+":"),this.transportManager_=new vo(p),this.log_("Connection created"),this.start_()}return _.prototype.start_=function(){var c=this,p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),A=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){c.conn_&&c.conn_.open(b,A)},Math.floor(0));var R=p.healthyTimeout||0;R>0&&(this.healthyTimeout_=tt(function(){c.healthyTimeout_=null,c.isHealthy_||(c.conn_&&c.conn_.bytesReceived>102400?(c.log_("Connection exceeded healthy timeout but has received "+c.conn_.bytesReceived+" bytes.  Marking connection healthy."),c.isHealthy_=!0,c.conn_.markConnectionHealthy()):c.conn_&&c.conn_.bytesSent>10240?c.log_("Connection exceeded healthy timeout but has sent "+c.conn_.bytesSent+" bytes.  Leaving connection alive."):(c.log_("Closing unhealthy connection after timeout."),c.close()))},Math.floor(R)))},_.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},_.prototype.disconnReceiver_=function(c){var p=this;return function(b){c===p.conn_?p.onConnectionLost_(b):c===p.secondaryConn_?(p.log_("Secondary connection lost."),p.onSecondaryConnectionLost_()):p.log_("closing an old connection")}},_.prototype.connReceiver_=function(c){var p=this;return function(b){2!==p.state_&&(c===p.rx_?p.onPrimaryMessageReceived_(b):c===p.secondaryConn_?p.onSecondaryMessageReceived_(b):p.log_("message on old connection"))}},_.prototype.sendRequest=function(c){this.sendData_({t:"d",d:c})},_.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},_.prototype.onSecondaryControl_=function(c){if("t"in c){var p=c.t;"a"===p?this.upgradeIfSecondaryHealthy_():"r"===p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===p&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},_.prototype.onSecondaryMessageReceived_=function(c){var p=Me("t",c),b=Me("d",c);if("c"===p)this.onSecondaryControl_(b);else{if("d"!==p)throw new Error("Unknown protocol layer: "+p);this.pendingDataMessages.push(b)}},_.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},_.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},_.prototype.onPrimaryMessageReceived_=function(c){var p=Me("t",c),b=Me("d",c);"c"===p?this.onControl_(b):"d"===p&&this.onDataMessage_(b)},_.prototype.onDataMessage_=function(c){this.onPrimaryResponse_(),this.onMessage_(c)},_.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},_.prototype.onControl_=function(c){var p=Me("t",c);if("d"in c){var b=c.d;if("h"===p)this.onHandshake_(b);else if("n"===p){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===p?this.onConnectionShutdown_(b):"r"===p?this.onReset_(b):"e"===p?Gt("Server Error: "+b):"o"===p?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gt("Unknown control packet command: "+p)}},_.prototype.onHandshake_=function(c){var p=c.ts,b=c.v,A=c.h;this.sessionId=c.s,this.repoInfo_.updateHost(A),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,p),"5"!==b&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())},_.prototype.tryStartUpgrade_=function(){var c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)},_.prototype.startUpgrade_=function(c){var p=this;this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),A=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,A),tt(function(){p.secondaryConn_&&(p.log_("Timed out trying to upgrade."),p.secondaryConn_.close())},Math.floor(6e4))},_.prototype.onReset_=function(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.updateHost(c),1===this.state_?this.close():(this.closeConnections_(),this.start_())},_.prototype.onConnectionEstablished_=function(c,p){var b=this;this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(p,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tt(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},_.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},_.prototype.onSecondaryConnectionLost_=function(){var c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()},_.prototype.onConnectionLost_=function(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(De.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},_.prototype.onConnectionShutdown_=function(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()},_.prototype.sendData_=function(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)},_.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},_.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},_}(),vs=function(){function _(){}return _.prototype.put=function(c,p,b,A){},_.prototype.merge=function(c,p,b,A){},_.prototype.refreshAuthToken=function(c){},_.prototype.onDisconnectPut=function(c,p,b){},_.prototype.onDisconnectMerge=function(c,p,b){},_.prototype.onDisconnectCancel=function(c,p){},_.prototype.reportStats=function(c){},_}(),Yi=1e3,Xn=function(_){function c(p,b,A,R,K,ue,_e){var me=_.call(this)||this;if(me.repoInfo_=p,me.applicationId_=b,me.onDataUpdate_=A,me.onConnectStatus_=R,me.onServerInfoUpdate_=K,me.authTokenProvider_=ue,me.authOverride_=_e,me.id=c.nextPersistentConnectionId_++,me.log_=Ft("p:"+me.id+":"),me.interruptReasons_={},me.listens=new Map,me.outstandingPuts_=[],me.outstandingPutCount_=0,me.onDisconnectRequestQueue_=[],me.connected_=!1,me.reconnectDelay_=Yi,me.maxReconnectDelay_=3e5,me.securityDebugCallback_=null,me.lastSessionId=null,me.establishConnectionTimer_=null,me.visible_=!1,me.requestCBHash_={},me.requestNumber_=0,me.realtime_=null,me.authToken_=null,me.forceTokenRefresh_=!1,me.invalidAuthTokenCount_=0,me.firstConnection_=!0,me.lastConnectionAttemptTime_=null,me.lastConnectionEstablishedTime_=null,_e&&!J.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return me.scheduleConnect_(0),Fe.getInstance().on("visible",me.onVisible_,me),-1===p.host.indexOf("fblocal")&&pt.getInstance().on("online",me.onOnline_,me),me}return u.__extends(c,_),c.prototype.sendRequest=function(p,b,A){var R=++this.requestNumber_,K={r:R,a:p,b};this.log_(J.stringify(K)),J.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(K),A&&(this.requestCBHash_[R]=A)},c.prototype.listen=function(p,b,A,R){var K=p.queryIdentifier(),ue=p.path.toString();this.log_("Listen called for "+ue+" "+K),this.listens.has(ue)||this.listens.set(ue,new Map),J.assert(p.getQueryParams().isDefault()||!p.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),J.assert(!this.listens.get(ue).has(K),"listen() called twice for same path/queryId.");var _e={onComplete:R,hashFn:b,query:p,tag:A};this.listens.get(ue).set(K,_e),this.connected_&&this.sendListen_(_e)},c.prototype.sendListen_=function(p){var b=this,A=p.query,R=A.path.toString(),K=A.queryIdentifier();this.log_("Listen on "+R+" for "+K);var ue={p:R};p.tag&&(ue.q=A.queryObject(),ue.t=p.tag),ue.h=p.hashFn(),this.sendRequest("q",ue,function(me){var Qe=me.d,ut=me.s;c.warnOnListenWarnings_(Qe,A),(b.listens.get(R)&&b.listens.get(R).get(K))===p&&(b.log_("listen response",me),"ok"!==ut&&b.removeListen_(R,K),p.onComplete&&p.onComplete(ut,Qe))})},c.warnOnListenWarnings_=function(p,b){if(p&&"object"==typeof p&&J.contains(p,"w")){var A=J.safeGet(p,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){var R='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',K=b.path.toString();wt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+R+" at "+K+" to your security rules for better performance.")}}},c.prototype.refreshAuthToken=function(p){this.authToken_=p,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(p)},c.prototype.reduceReconnectDelayIfAdminCredential_=function(p){(p&&40===p.length||J.isAdmin(p))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},c.prototype.tryAuth=function(){var p=this;if(this.connected_&&this.authToken_){var b=this.authToken_,A=J.isValidFormat(b)?"auth":"gauth",R={cred:b};null===this.authOverride_?R.noauth=!0:"object"==typeof this.authOverride_&&(R.authvar=this.authOverride_),this.sendRequest(A,R,function(K){var ue=K.s,_e=K.d||"error";p.authToken_===b&&("ok"===ue?p.invalidAuthTokenCount_=0:p.onAuthRevoked_(ue,_e))})}},c.prototype.unlisten=function(p,b){var A=p.path.toString(),R=p.queryIdentifier();this.log_("Unlisten called for "+A+" "+R),J.assert(p.getQueryParams().isDefault()||!p.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,R)&&this.connected_&&this.sendUnlisten_(A,R,p.queryObject(),b)},c.prototype.sendUnlisten_=function(p,b,A,R){this.log_("Unlisten on "+p+" for "+b);var K={p};R&&(K.q=A,K.t=R),this.sendRequest("n",K)},c.prototype.onDisconnectPut=function(p,b,A){this.connected_?this.sendOnDisconnect_("o",p,b,A):this.onDisconnectRequestQueue_.push({pathString:p,action:"o",data:b,onComplete:A})},c.prototype.onDisconnectMerge=function(p,b,A){this.connected_?this.sendOnDisconnect_("om",p,b,A):this.onDisconnectRequestQueue_.push({pathString:p,action:"om",data:b,onComplete:A})},c.prototype.onDisconnectCancel=function(p,b){this.connected_?this.sendOnDisconnect_("oc",p,null,b):this.onDisconnectRequestQueue_.push({pathString:p,action:"oc",data:null,onComplete:b})},c.prototype.sendOnDisconnect_=function(p,b,A,R){var K={p:b,d:A};this.log_("onDisconnect "+p,K),this.sendRequest(p,K,function(ue){R&&setTimeout(function(){R(ue.s,ue.d)},Math.floor(0))})},c.prototype.put=function(p,b,A,R){this.putInternal("p",p,b,A,R)},c.prototype.merge=function(p,b,A,R){this.putInternal("m",p,b,A,R)},c.prototype.putInternal=function(p,b,A,R,K){var ue={p:b,d:A};void 0!==K&&(ue.h=K),this.outstandingPuts_.push({action:p,request:ue,onComplete:R}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},c.prototype.sendPut_=function(p){var b=this,A=this.outstandingPuts_[p].action,R=this.outstandingPuts_[p].request,K=this.outstandingPuts_[p].onComplete;this.outstandingPuts_[p].queued=this.connected_,this.sendRequest(A,R,function(ue){b.log_(A+" response",ue),delete b.outstandingPuts_[p],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),K&&K(ue.s,ue.d)})},c.prototype.reportStats=function(p){var b=this;if(this.connected_){var A={c:p};this.log_("reportStats",A),this.sendRequest("s",A,function(R){"ok"!==R.s&&b.log_("reportStats","Error sending stats: "+R.d)})}},c.prototype.onDataMessage_=function(p){if("r"in p){this.log_("from server: "+J.stringify(p));var b=p.r,A=this.requestCBHash_[b];A&&(delete this.requestCBHash_[b],A(p.b))}else{if("error"in p)throw"A server-side error has occurred: "+p.error;"a"in p&&this.onDataPush_(p.a,p.b)}},c.prototype.onDataPush_=function(p,b){this.log_("handleServerMessage",p,b),"d"===p?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===p?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===p?this.onListenRevoked_(b.p,b.q):"ac"===p?this.onAuthRevoked_(b.s,b.d):"sd"===p?this.onSecurityDebugPacket_(b):Gt("Unrecognized action received from server: "+J.stringify(p)+"\nAre you using the latest client?")},c.prototype.onReady_=function(p,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(p),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},c.prototype.scheduleConnect_=function(p){var b=this;J.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(p))},c.prototype.onVisible_=function(p){p&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)),this.visible_=p},c.prototype.onOnline_=function(p){p?(this.log_("Browser went online."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},c.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,A=Math.max(0,this.reconnectDelay_-b);A=Math.random()*A,this.log_("Trying to reconnect in "+A+"ms"),this.scheduleConnect_(A),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},c.prototype.establishConnection_=function(){var p=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),A=this.onReady_.bind(this),R=this.onRealtimeDisconnect_.bind(this),K=this.id+":"+c.nextConnectionId_++,ue=this,_e=this.lastSessionId,me=!1,Qe=null,ut=function(){Qe?Qe.close():(me=!0,R())};this.realtime_={close:ut,sendRequest:function(T){J.assert(Qe,"sendRequest call when we're not connected not allowed."),Qe.sendRequest(T)}};var N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(N).then(function(T){me?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),ue.authToken_=T&&T.accessToken,Qe=new Go(K,ue.repoInfo_,ue.applicationId_,b,A,R,function(B){wt(B+" ("+ue.repoInfo_.toString()+")"),ue.interrupt("server_kill")},_e))}).then(null,function(T){ue.log_("Failed to get token: "+T),me||(p.repoInfo_.nodeAdmin&&wt(T),ut())})}},c.prototype.interrupt=function(p){xt("Interrupting connection for reason: "+p),this.interruptReasons_[p]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},c.prototype.resume=function(p){xt("Resuming connection for reason: "+p),delete this.interruptReasons_[p],J.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0))},c.prototype.handleTimestamp_=function(p){var b=p-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},c.prototype.cancelSentTransactions_=function(){for(var p=0;p<this.outstandingPuts_.length;p++){var b=this.outstandingPuts_[p];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[p],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},c.prototype.onListenRevoked_=function(p,b){var A;A=b?b.map(function(K){return Mt(K)}).join("$"):"default";var R=this.removeListen_(p,A);R&&R.onComplete&&R.onComplete("permission_denied")},c.prototype.removeListen_=function(p,b){var R,A=new Ye(p).toString();if(this.listens.has(A)){var K=this.listens.get(A);R=K.get(b),K.delete(b),0===K.size&&this.listens.delete(A)}else R=void 0;return R},c.prototype.onAuthRevoked_=function(p,b){xt("Auth token revoked: "+p+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===p||"permission_denied"===p)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},c.prototype.onSecurityDebugPacket_=function(p){this.securityDebugCallback_?this.securityDebugCallback_(p):"msg"in p&&console.log("FIREBASE: "+p.msg.replace("\n","\nFIREBASE: "))},c.prototype.restoreState_=function(){var p,b,A,R;this.tryAuth();try{for(var K=u.__values(this.listens.values()),ue=K.next();!ue.done;ue=K.next()){var _e=ue.value;try{for(var me=(A=void 0,u.__values(_e.values())),Qe=me.next();!Qe.done;Qe=me.next())this.sendListen_(Qe.value)}catch(T){A={error:T}}finally{try{Qe&&!Qe.done&&(R=me.return)&&R.call(me)}finally{if(A)throw A.error}}}}catch(T){p={error:T}}finally{try{ue&&!ue.done&&(b=K.return)&&b.call(K)}finally{if(p)throw p.error}}for(var M=0;M<this.outstandingPuts_.length;M++)this.outstandingPuts_[M]&&this.sendPut_(M);for(;this.onDisconnectRequestQueue_.length;){var N=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(N.action,N.pathString,N.data,N.onComplete)}},c.prototype.sendConnectStats_=function(){var p={},b="js";J.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),p["sdk."+b+"."+co.replace(/\./g,"-")]=1,J.isMobileCordova()?p["framework.cordova"]=1:J.isReactNative()&&(p["framework.reactnative"]=1),this.reportStats(p)},c.prototype.shouldReconnect_=function(){var p=pt.getInstance().currentlyOnline();return J.isEmpty(this.interruptReasons_)&&p},c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c}(vs),ds=function(_){function c(p,b,A){var R=_.call(this)||this;return R.repoInfo_=p,R.onDataUpdate_=b,R.authTokenProvider_=A,R.log_=Ft("p:rest:"),R.listens_={},R}return u.__extends(c,_),c.prototype.reportStats=function(p){throw new Error("Method not implemented.")},c.getListenId_=function(p,b){return void 0!==b?"tag$"+b:(J.assert(p.getQueryParams().isDefault(),"should have a tag if it's not a default query."),p.path.toString())},c.prototype.listen=function(p,b,A,R){var K=this,ue=p.path.toString();this.log_("Listen called for "+ue+" "+p.queryIdentifier());var _e=c.getListenId_(p,A),me={};this.listens_[_e]=me;var Qe=p.getQueryParams().toRestQueryStringParameters();this.restRequest_(ue+".json",Qe,function(ut,M){var N=M;404===ut&&(N=null,ut=null),null===ut&&K.onDataUpdate_(ue,N,!1,A),J.safeGet(K.listens_,_e)===me&&R(ut?401===ut?"permission_denied":"rest_error:"+ut:"ok",null)})},c.prototype.unlisten=function(p,b){var A=c.getListenId_(p,b);delete this.listens_[A]},c.prototype.refreshAuthToken=function(p){},c.prototype.restRequest_=function(p,b,A){var R=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(K){var ue=K&&K.accessToken;ue&&(b.auth=ue);var _e=(R.repoInfo_.secure?"https://":"http://")+R.repoInfo_.host+p+"?ns="+R.repoInfo_.namespace+J.querystring(b);R.log_("Sending REST request for "+_e);var me=new XMLHttpRequest;me.onreadystatechange=function(){if(A&&4===me.readyState){R.log_("REST Response for "+_e+" received. status:",me.status,"response:",me.responseText);var Qe=null;if(me.status>=200&&me.status<300){try{Qe=J.jsonEval(me.responseText)}catch(ut){wt("Failed to parse JSON response for "+_e+": "+me.responseText)}A(null,Qe)}else 401!==me.status&&404!==me.status&&wt("Got unsuccessful REST response for "+_e+" Status: "+me.status),A(me.status);A=null}},me.open("GET",_e,!0),me.send()})},c}(vs),kt="repo_interrupt",Er=function(){function _(c,p,b,A){var R=this;if(this.repoInfo_=c,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Zi,this.persistentConnection_=null,this.stats_=H.getCollection(c),p||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new ds(this.repoInfo_,this.onDataUpdate_.bind(this),A),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var K=b.options.databaseAuthVariableOverride;if(null!=K){if("object"!=typeof K)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{J.stringify(K)}catch(ue){throw new Error("Invalid authOverride provided: "+ue)}}this.persistentConnection_=new Xn(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),A,K),this.server_=this.persistentConnection_}A.addTokenChangeListener(function(ue){R.server_.refreshAuthToken(ue)}),this.statsReporter_=H.getOrCreateReporter(c,function(){return new U(R.stats_,R.server_)}),this.transactionsInit_(),this.infoData_=new Pr,this.infoSyncTree_=new no({startListening:function(ue,_e,me,Qe){var ut=[],M=R.infoData_.getNode(ue.path);return M.isEmpty()||(ut=R.infoSyncTree_.applyServerOverwrite(ue.path,M),setTimeout(function(){Qe("ok")},0)),ut},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new no({startListening:function(ue,_e,me,Qe){return R.server_.listen(ue,me,_e,function(ut,M){var N=Qe(ut,M);R.eventQueue_.raiseEventsForChangedPath(ue.path,N)}),[]},stopListening:function(ue,_e){R.server_.unlisten(ue,_e)}})}return _.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},_.prototype.name=function(){return this.repoInfo_.namespace},_.prototype.serverTime=function(){var p=this.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+p},_.prototype.generateServerValues=function(){return function(_){return(_=_||{}).timestamp=_.timestamp||(new Date).getTime(),_}({timestamp:this.serverTime()})},_.prototype.onDataUpdate_=function(c,p,b,A){this.dataUpdateCount++;var R=new Ye(c);p=this.interceptServerDataCallback_?this.interceptServerDataCallback_(c,p):p;var K=[];if(A)if(b){var ue=J.map(p,function(M){return Pn(M)});K=this.serverSyncTree_.applyTaggedQueryMerge(R,ue,A)}else{var _e=Pn(p);K=this.serverSyncTree_.applyTaggedQueryOverwrite(R,_e,A)}else if(b){var me=J.map(p,function(M){return Pn(M)});K=this.serverSyncTree_.applyServerMerge(R,me)}else{var Qe=Pn(p);K=this.serverSyncTree_.applyServerOverwrite(R,Qe)}var ut=R;K.length>0&&(ut=this.rerunTransactions_(R)),this.eventQueue_.raiseEventsForChangedPath(ut,K)},_.prototype.interceptServerData_=function(c){this.interceptServerDataCallback_=c},_.prototype.onConnectStatus_=function(c){this.updateInfo_("connected",c),!1===c&&this.runOnDisconnectEvents_()},_.prototype.onServerInfoUpdate_=function(c){var p=this;mt(c,function(b,A){p.updateInfo_(b,A)})},_.prototype.updateInfo_=function(c,p){var b=new Ye("/.info/"+c),A=Pn(p);this.infoData_.updateSnapshot(b,A);var R=this.infoSyncTree_.applyServerOverwrite(b,A);this.eventQueue_.raiseEventsForChangedPath(b,R)},_.prototype.getNextWriteId_=function(){return this.nextWriteId_++},_.prototype.setWithPriority=function(c,p,b,A){var R=this;this.log_("set",{path:c.toString(),value:p,priority:b});var K=this.generateServerValues(),ue=Pn(p,b),_e=this.serverSyncTree_.calcCompleteEventCache(c),me=Mr(ue,_e,K),Qe=this.getNextWriteId_(),ut=this.serverSyncTree_.applyUserOverwrite(c,me,Qe,!0);this.eventQueue_.queueEvents(ut),this.server_.put(c.toString(),ue.val(!0),function(N,T){var B="ok"===N;B||wt("set at "+c+" failed: "+N);var Y=R.serverSyncTree_.ackUserWrite(Qe,!B);R.eventQueue_.raiseEventsForChangedPath(c,Y),R.callOnCompleteCallback(A,N,T)});var M=this.abortTransactions_(c);this.rerunTransactions_(M),this.eventQueue_.raiseEventsForChangedPath(M,[])},_.prototype.update=function(c,p,b){var A=this;this.log_("update",{path:c.toString(),value:p});var R=!0,K=this.generateServerValues(),ue={};if(mt(p,function(Qe,ut){R=!1,ue[Qe]=pi(c.child(Qe),Pn(ut),A.serverSyncTree_,K)}),R)xt("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var _e=this.getNextWriteId_(),me=this.serverSyncTree_.applyUserMerge(c,ue,_e);this.eventQueue_.queueEvents(me),this.server_.merge(c.toString(),p,function(Qe,ut){var M="ok"===Qe;M||wt("update at "+c+" failed: "+Qe);var N=A.serverSyncTree_.ackUserWrite(_e,!M),T=N.length>0?A.rerunTransactions_(c):c;A.eventQueue_.raiseEventsForChangedPath(T,N),A.callOnCompleteCallback(b,Qe,ut)}),mt(p,function(Qe){var ut=A.abortTransactions_(c.child(Qe));A.rerunTransactions_(ut)}),this.eventQueue_.raiseEventsForChangedPath(c,[])}},_.prototype.runOnDisconnectEvents_=function(){var c=this;this.log_("onDisconnectEvents");var p=this.generateServerValues(),b=new Zi;this.onDisconnect_.forEachTree(Ye.Empty,function(R,K){var ue=pi(R,K,c.serverSyncTree_,p);b.remember(R,ue)});var A=[];b.forEachTree(Ye.Empty,function(R,K){A=A.concat(c.serverSyncTree_.applyServerOverwrite(R,K));var ue=c.abortTransactions_(R);c.rerunTransactions_(ue)}),this.onDisconnect_=new Zi,this.eventQueue_.raiseEventsForChangedPath(Ye.Empty,A)},_.prototype.onDisconnectCancel=function(c,p){var b=this;this.server_.onDisconnectCancel(c.toString(),function(A,R){"ok"===A&&b.onDisconnect_.forget(c),b.callOnCompleteCallback(p,A,R)})},_.prototype.onDisconnectSet=function(c,p,b){var A=this,R=Pn(p);this.server_.onDisconnectPut(c.toString(),R.val(!0),function(K,ue){"ok"===K&&A.onDisconnect_.remember(c,R),A.callOnCompleteCallback(b,K,ue)})},_.prototype.onDisconnectSetWithPriority=function(c,p,b,A){var R=this,K=Pn(p,b);this.server_.onDisconnectPut(c.toString(),K.val(!0),function(ue,_e){"ok"===ue&&R.onDisconnect_.remember(c,K),R.callOnCompleteCallback(A,ue,_e)})},_.prototype.onDisconnectUpdate=function(c,p,b){var A=this;if(J.isEmpty(p))return xt("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(c.toString(),p,function(R,K){"ok"===R&&mt(p,function(ue,_e){var me=Pn(_e);A.onDisconnect_.remember(c.child(ue),me)}),A.callOnCompleteCallback(b,R,K)})},_.prototype.addEventCallbackForQuery=function(c,p){var b;b=".info"===c.path.getFront()?this.infoSyncTree_.addEventRegistration(c,p):this.serverSyncTree_.addEventRegistration(c,p),this.eventQueue_.raiseEventsAtPath(c.path,b)},_.prototype.removeEventCallbackForQuery=function(c,p){var b;b=".info"===c.path.getFront()?this.infoSyncTree_.removeEventRegistration(c,p):this.serverSyncTree_.removeEventRegistration(c,p),this.eventQueue_.raiseEventsAtPath(c.path,b)},_.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(kt)},_.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(kt)},_.prototype.stats=function(c){if(void 0===c&&(c=!1),"undefined"!=typeof console){var p;c?(this.statsListener_||(this.statsListener_=new L(this.stats_)),p=this.statsListener_.get()):p=this.stats_.get();var b=Object.keys(p).reduce(function(A,R){return Math.max(R.length,A)},0);mt(p,function(A,R){for(var K=A,ue=A.length;ue<b+2;ue++)K+=" ";console.log(K+R)})}},_.prototype.statsIncrementCounter=function(c){this.stats_.incrementCounter(c),this.statsReporter_.includeStat(c)},_.prototype.log_=function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),xt.apply(void 0,u.__spread([b],c))},_.prototype.callOnCompleteCallback=function(c,p,b){c&&Ct(function(){if("ok"===p)c(null);else{var A=(p||"error").toUpperCase(),R=A;b&&(R+=": "+b);var K=new Error(R);K.code=A,c(K)}})},Object.defineProperty(_.prototype,"database",{get:function(){return this.__database||(this.__database=new it(this))},enumerable:!1,configurable:!0}),_}(),Po=function(){function _(c){this.indexedFilter_=new _o(c.getIndex()),this.index_=c.getIndex(),this.startPost_=_.getStartPost_(c),this.endPost_=_.getEndPost_(c)}return _.prototype.getStartPost=function(){return this.startPost_},_.prototype.getEndPost=function(){return this.endPost_},_.prototype.matches=function(c){return this.index_.compare(this.getStartPost(),c)<=0&&this.index_.compare(c,this.getEndPost())<=0},_.prototype.updateChild=function(c,p,b,A,R,K){return this.matches(new ln(p,b))||(b=nn.EMPTY_NODE),this.indexedFilter_.updateChild(c,p,b,A,R,K)},_.prototype.updateFullNode=function(c,p,b){p.isLeafNode()&&(p=nn.EMPTY_NODE);var A=p.withIndex(this.index_);A=A.updatePriority(nn.EMPTY_NODE);var R=this;return p.forEachChild(un,function(K,ue){R.matches(new ln(K,ue))||(A=A.updateImmediateChild(K,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,A,b)},_.prototype.updatePriority=function(c,p){return c},_.prototype.filtersNodes=function(){return!0},_.prototype.getIndexedFilter=function(){return this.indexedFilter_},_.prototype.getIndex=function(){return this.index_},_.getStartPost_=function(c){if(c.hasStart()){var p=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),p)}return c.getIndex().minPost()},_.getEndPost_=function(c){if(c.hasEnd()){var p=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),p)}return c.getIndex().maxPost()},_}(),zo=function(){function _(c){this.rangedFilter_=new Po(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft()}return _.prototype.updateChild=function(c,p,b,A,R,K){return this.rangedFilter_.matches(new ln(p,b))||(b=nn.EMPTY_NODE),c.getImmediateChild(p).equals(b)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,p,b,A,R,K):this.fullLimitUpdateChild_(c,p,b,R,K)},_.prototype.updateFullNode=function(c,p,b){var A;if(p.isLeafNode()||p.isEmpty())A=nn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<p.numChildren()&&p.isIndexed(this.index_)){A=nn.EMPTY_NODE.withIndex(this.index_);var R=void 0;R=this.reverse_?p.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):p.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var K=0;R.hasNext()&&K<this.limit_;){var ue=R.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ue)<=0:this.index_.compare(ue,this.rangedFilter_.getEndPost())<=0))break;A=A.updateImmediateChild(ue.name,ue.node),K++}}else{A=(A=p.withIndex(this.index_)).updatePriority(nn.EMPTY_NODE);var me=void 0,Qe=void 0,ut=void 0;if(R=void 0,this.reverse_){R=A.getReverseIterator(this.index_),me=this.rangedFilter_.getEndPost(),Qe=this.rangedFilter_.getStartPost();var M=this.index_.getCompare();ut=function(Y,se){return M(se,Y)}}else R=A.getIterator(this.index_),me=this.rangedFilter_.getStartPost(),Qe=this.rangedFilter_.getEndPost(),ut=this.index_.getCompare();K=0;for(var N=!1;R.hasNext();)ue=R.getNext(),!N&&ut(me,ue)<=0&&(N=!0),N&&K<this.limit_&&ut(ue,Qe)<=0?K++:A=A.updateImmediateChild(ue.name,nn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,A,b)},_.prototype.updatePriority=function(c,p){return c},_.prototype.filtersNodes=function(){return!0},_.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},_.prototype.getIndex=function(){return this.index_},_.prototype.fullLimitUpdateChild_=function(c,p,b,A,R){var K;if(this.reverse_){var ue=this.index_.getCompare();K=function(xe,We){return ue(We,xe)}}else K=this.index_.getCompare();var _e=c;J.assert(_e.numChildren()===this.limit_,"");var me=new ln(p,b),Qe=this.reverse_?_e.getFirstChild(this.index_):_e.getLastChild(this.index_),ut=this.rangedFilter_.matches(me);if(_e.hasChild(p)){for(var M=_e.getImmediateChild(p),N=A.getChildAfterChild(this.index_,Qe,this.reverse_);null!=N&&(N.name===p||_e.hasChild(N.name));)N=A.getChildAfterChild(this.index_,N,this.reverse_);var T=null==N?1:K(N,me);if(ut&&!b.isEmpty()&&T>=0)return null!=R&&R.trackChildChange(Sn.childChangedChange(p,b,M)),_e.updateImmediateChild(p,b);null!=R&&R.trackChildChange(Sn.childRemovedChange(p,M));var Y=_e.updateImmediateChild(p,nn.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(null!=R&&R.trackChildChange(Sn.childAddedChange(N.name,N.node)),Y.updateImmediateChild(N.name,N.node)):Y}return b.isEmpty()?c:ut&&K(Qe,me)>=0?(null!=R&&(R.trackChildChange(Sn.childRemovedChange(Qe.name,Qe.node)),R.trackChildChange(Sn.childAddedChange(p,b))),_e.updateImmediateChild(p,b).updateImmediateChild(Qe.name,nn.EMPTY_NODE)):c},_}(),ko=function(){function _(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}return _.prototype.hasStart=function(){return this.startSet_},_.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},_.prototype.getIndexStartValue=function(){return J.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},_.prototype.getIndexStartName=function(){return J.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oe},_.prototype.hasEnd=function(){return this.endSet_},_.prototype.getIndexEndValue=function(){return J.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},_.prototype.getIndexEndName=function(){return J.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:de},_.prototype.hasLimit=function(){return this.limitSet_},_.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},_.prototype.getLimit=function(){return J.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},_.prototype.getIndex=function(){return this.index_},_.prototype.copy_=function(){var c=new _;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c},_.prototype.limit=function(c){var p=this.copy_();return p.limitSet_=!0,p.limit_=c,p.viewFrom_="",p},_.prototype.limitToFirst=function(c){var p=this.copy_();return p.limitSet_=!0,p.limit_=c,p.viewFrom_=_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,p},_.prototype.limitToLast=function(c){var p=this.copy_();return p.limitSet_=!0,p.limit_=c,p.viewFrom_=_.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,p},_.prototype.startAt=function(c,p){var b=this.copy_();return b.startSet_=!0,void 0===c&&(c=null),b.indexStartValue_=c,null!=p?(b.startNameSet_=!0,b.indexStartName_=p):(b.startNameSet_=!1,b.indexStartName_=""),b},_.prototype.endAt=function(c,p){var b=this.copy_();return b.endSet_=!0,void 0===c&&(c=null),b.indexEndValue_=c,void 0!==p?(b.endNameSet_=!0,b.indexEndName_=p):(b.endNameSet_=!1,b.indexEndName_=""),b},_.prototype.orderBy=function(c){var p=this.copy_();return p.index_=c,p},_.prototype.getQueryObject=function(){var c=_.WIRE_PROTOCOL_CONSTANTS_,p={};if(this.startSet_&&(p[c.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(p[c.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(p[c.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(p[c.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){p[c.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?c.VIEW_FROM_LEFT:c.VIEW_FROM_RIGHT),p[c.VIEW_FROM]=b}return this.index_!==un&&(p[c.INDEX]=this.index_.toString()),p},_.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},_.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===un},_.prototype.getNodeFilter=function(){return this.loadsAllData()?new _o(this.getIndex()):this.hasLimit()?new zo(this):new Po(this)},_.prototype.toRestQueryStringParameters=function(){var b,c=_.REST_QUERY_CONSTANTS_,p={};return this.isDefault()||(this.index_===un?b=c.PRIORITY_INDEX:this.index_===zr?b=c.VALUE_INDEX:this.index_===Gn?b=c.KEY_INDEX:(J.assert(this.index_ instanceof ni,"Unrecognized index type!"),b=this.index_.toString()),p[c.ORDER_BY]=J.stringify(b),this.startSet_&&(p[c.START_AT]=J.stringify(this.indexStartValue_),this.startNameSet_&&(p[c.START_AT]+=","+J.stringify(this.indexStartName_))),this.endSet_&&(p[c.END_AT]=J.stringify(this.indexEndValue_),this.endNameSet_&&(p[c.END_AT]+=","+J.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?p[c.LIMIT_TO_FIRST]=this.limit_:p[c.LIMIT_TO_LAST]=this.limit_)),p},_.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},_.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},_.DEFAULT=new _,_}(),gr=function(_){function c(p,b){if(!(p instanceof Er))throw new Error("new Reference() no longer supported - use app.database().");return _.call(this,p,b,ko.DEFAULT,!1)||this}return u.__extends(c,_),c.prototype.getKey=function(){return J.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},c.prototype.child=function(p){return J.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof p?p=String(p):p instanceof Ye||(null===this.path.getFront()?vi("Reference.child",1,p,!1):kn("Reference.child",1,p,!1)),new c(this.repo,this.path.child(p))},c.prototype.getParent=function(){J.validateArgCount("Reference.parent",0,0,arguments.length);var p=this.path.parent();return null===p?null:new c(this.repo,p)},c.prototype.getRoot=function(){J.validateArgCount("Reference.root",0,0,arguments.length);for(var p=this;null!==p.getParent();)p=p.getParent();return p},c.prototype.databaseProp=function(){return this.repo.database},c.prototype.set=function(p,b){J.validateArgCount("Reference.set",1,2,arguments.length),nr("Reference.set",this.path),Lt("Reference.set",1,p,this.path,!1),J.validateCallback("Reference.set",2,b,!0);var A=new J.Deferred;return this.repo.setWithPriority(this.path,p,null,A.wrapCallback(b)),A.promise},c.prototype.update=function(p,b){if(J.validateArgCount("Reference.update",1,2,arguments.length),nr("Reference.update",this.path),Array.isArray(p)){for(var A={},R=0;R<p.length;++R)A[""+R]=p[R];p=A,wt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yt("Reference.update",1,p,this.path,!1),J.validateCallback("Reference.update",2,b,!0);var K=new J.Deferred;return this.repo.update(this.path,p,K.wrapCallback(b)),K.promise},c.prototype.setWithPriority=function(p,b,A){if(J.validateArgCount("Reference.setWithPriority",2,3,arguments.length),nr("Reference.setWithPriority",this.path),Lt("Reference.setWithPriority",1,p,this.path,!1),tn("Reference.setWithPriority",2,b,!1),J.validateCallback("Reference.setWithPriority",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var R=new J.Deferred;return this.repo.setWithPriority(this.path,p,b,R.wrapCallback(A)),R.promise},c.prototype.remove=function(p){return J.validateArgCount("Reference.remove",0,1,arguments.length),nr("Reference.remove",this.path),J.validateCallback("Reference.remove",1,p,!0),this.set(null,p)},c.prototype.transaction=function(p,b,A){if(J.validateArgCount("Reference.transaction",1,3,arguments.length),nr("Reference.transaction",this.path),J.validateCallback("Reference.transaction",1,p,!1),J.validateCallback("Reference.transaction",2,b,!0),Di("Reference.transaction",3,A,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===A&&(A=!0);var R=new J.Deferred;"function"==typeof b&&R.promise.catch(function(){});var K=function(ue,_e,me){ue?R.reject(ue):R.resolve(new Vr(_e,me)),"function"==typeof b&&b(ue,_e,me)};return this.repo.startTransaction(this.path,p,K,A),R.promise},c.prototype.setPriority=function(p,b){J.validateArgCount("Reference.setPriority",1,2,arguments.length),nr("Reference.setPriority",this.path),tn("Reference.setPriority",1,p,!1),J.validateCallback("Reference.setPriority",2,b,!0);var A=new J.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),p,null,A.wrapCallback(b)),A.promise},c.prototype.push=function(p,b){J.validateArgCount("Reference.push",0,2,arguments.length),nr("Reference.push",this.path),Lt("Reference.push",1,p,this.path,!0),J.validateCallback("Reference.push",2,b,!0);var _e,A=this.repo.serverTime(),R=Ti(A),K=this.child(R),ue=this.child(R);return _e=null!=p?K.set(p,b).then(function(){return ue}):Promise.resolve(ue),K.then=_e.then.bind(_e),K.catch=_e.then.bind(_e,void 0),"function"==typeof b&&_e.catch(function(){}),K},c.prototype.onDisconnect=function(){return nr("Reference.onDisconnect",this.path),new Co(this.repo,this.path)},Object.defineProperty(c.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),c}(jr);jr.__referenceConstructor=gr,jo.__referenceConstructor=gr;var bo=function(){this.children={},this.childCount=0,this.value=null},Sr=function(){function _(c,p,b){void 0===c&&(c=""),void 0===p&&(p=null),void 0===b&&(b=new bo),this.name_=c,this.parent_=p,this.node_=b}return _.prototype.subTree=function(c){for(var p=c instanceof Ye?c:new Ye(c),b=this,A=p.getFront();null!==A;)b=new _(A,b,J.safeGet(b.node_.children,A)||new bo),A=(p=p.popFront()).getFront();return b},_.prototype.getValue=function(){return this.node_.value},_.prototype.setValue=function(c){J.assert(void 0!==c,"Cannot set value to undefined"),this.node_.value=c,this.updateParents_()},_.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},_.prototype.hasChildren=function(){return this.node_.childCount>0},_.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},_.prototype.forEachChild=function(c){var p=this;mt(this.node_.children,function(b,A){c(new _(b,p,A))})},_.prototype.forEachDescendant=function(c,p,b){p&&!b&&c(this),this.forEachChild(function(A){A.forEachDescendant(c,!0,b)}),p&&b&&c(this)},_.prototype.forEachAncestor=function(c,p){for(var b=p?this:this.parent();null!==b;){if(c(b))return!0;b=b.parent()}return!1},_.prototype.forEachImmediateDescendantWithValue=function(c){this.forEachChild(function(p){null!==p.getValue()?c(p):p.forEachImmediateDescendantWithValue(c)})},_.prototype.path=function(){return new Ye(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},_.prototype.name=function(){return this.name_},_.prototype.parent=function(){return this.parent_},_.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},_.prototype.updateChild_=function(c,p){var b=p.isEmpty(),A=J.contains(this.node_.children,c);b&&A?(delete this.node_.children[c],this.node_.childCount--,this.updateParents_()):!b&&!A&&(this.node_.children[c]=p.node_,this.node_.childCount++,this.updateParents_())},_}(),qr=(()=>(function(_){_[_.RUN=0]="RUN",_[_.SENT=1]="SENT",_[_.COMPLETED=2]="COMPLETED",_[_.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",_[_.NEEDS_ABORT=4]="NEEDS_ABORT"}(qr||(qr={})),qr))();Er.MAX_TRANSACTION_RETRIES_=25,Er.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Sr},Er.prototype.startTransaction=function(_,c,p,b){this.log_("transaction on "+_);var A=function(){},R=new gr(this,_);R.on("value",A);var ue={path:_,update:c,onComplete:p,status:null,order:et(),applyLocally:b,retryCount:0,unwatcher:function(){R.off("value",A)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_e=this.getLatestState_(_);ue.currentInputSnapshot=_e;var me=ue.update(_e.val());if(void 0===me){if(ue.unwatcher(),ue.currentOutputSnapshotRaw=null,ue.currentOutputSnapshotResolved=null,ue.onComplete){var Qe=new Zr(ue.currentInputSnapshot,new gr(this,ue.path),un);ue.onComplete(null,!1,Qe)}}else{en("transaction failed: Data returned ",me,ue.path),ue.status=qr.RUN;var ut=this.transactionQueueTree_.subTree(_),M=ut.getValue()||[];M.push(ue),ut.setValue(M);var N=void 0;"object"==typeof me&&null!==me&&J.contains(me,".priority")?(N=J.safeGet(me,".priority"),J.assert(Ot(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(this.serverSyncTree_.calcCompleteEventCache(_)||nn.EMPTY_NODE).getPriority().val(),N=N;var B=this.generateServerValues(),Y=Pn(me,N),se=Mr(Y,_e,B);ue.currentOutputSnapshotRaw=Y,ue.currentOutputSnapshotResolved=se,ue.currentWriteId=this.getNextWriteId_();var xe=this.serverSyncTree_.applyUserOverwrite(_,se,ue.currentWriteId,ue.applyLocally);this.eventQueue_.raiseEventsForChangedPath(_,xe),this.sendReadyTransactions_()}},Er.prototype.getLatestState_=function(_,c){return this.serverSyncTree_.calcCompleteEventCache(_,c)||nn.EMPTY_NODE},Er.prototype.sendReadyTransactions_=function(_){var c=this;if(void 0===_&&(_=this.transactionQueueTree_),_||this.pruneCompletedTransactionsBelowNode_(_),null!==_.getValue()){var p=this.buildTransactionQueue_(_);J.assert(p.length>0,"Sending zero length transaction queue"),p.every(function(A){return A.status===qr.RUN})&&this.sendTransactionQueue_(_.path(),p)}else _.hasChildren()&&_.forEachChild(function(A){c.sendReadyTransactions_(A)})},Er.prototype.sendTransactionQueue_=function(_,c){for(var p=this,b=c.map(function(M){return M.currentWriteId}),A=this.getLatestState_(_,b),R=A,K=A.hash(),ue=0;ue<c.length;ue++){var _e=c[ue];J.assert(_e.status===qr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),_e.status=qr.SENT,_e.retryCount++;var me=Ye.relativePath(_,_e.path);R=R.updateChild(me,_e.currentOutputSnapshotRaw)}var Qe=R.val(!0),ut=_;this.server_.put(ut.toString(),Qe,function(M){p.log_("transaction put response",{path:ut.toString(),status:M});var N=[];if("ok"===M){for(var T=[],B=0;B<c.length;B++){if(c[B].status=qr.COMPLETED,N=N.concat(p.serverSyncTree_.ackUserWrite(c[B].currentWriteId)),c[B].onComplete){var Y=c[B].currentOutputSnapshotResolved,se=new gr(p,c[B].path),xe=new Zr(Y,se,un);T.push(c[B].onComplete.bind(null,null,!0,xe))}c[B].unwatcher()}for(p.pruneCompletedTransactionsBelowNode_(p.transactionQueueTree_.subTree(_)),p.sendReadyTransactions_(),p.eventQueue_.raiseEventsForChangedPath(_,N),B=0;B<T.length;B++)Ct(T[B])}else{if("datastale"===M)for(B=0;B<c.length;B++)c[B].status=c[B].status===qr.SENT_NEEDS_ABORT?qr.NEEDS_ABORT:qr.RUN;else for(wt("transaction at "+ut.toString()+" failed: "+M),B=0;B<c.length;B++)c[B].status=qr.NEEDS_ABORT,c[B].abortReason=M;p.rerunTransactions_(_)}},K)},Er.prototype.rerunTransactions_=function(_){var c=this.getAncestorTransactionNode_(_),p=c.path(),b=this.buildTransactionQueue_(c);return this.rerunTransactionQueue_(b,p),p},Er.prototype.rerunTransactionQueue_=function(_,c){if(0!==_.length){for(var p=[],b=[],R=_.filter(function(Xt){return Xt.status===qr.RUN}).map(function(Xt){return Xt.currentWriteId}),K=0;K<_.length;K++){var ue=_[K],_e=Ye.relativePath(c,ue.path),me=!1,Qe=void 0;if(J.assert(null!==_e,"rerunTransactionsUnderNode_: relativePath should not be null."),ue.status===qr.NEEDS_ABORT)me=!0,Qe=ue.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(ue.currentWriteId,!0));else if(ue.status===qr.RUN)if(ue.retryCount>=Er.MAX_TRANSACTION_RETRIES_)me=!0,Qe="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(ue.currentWriteId,!0));else{var ut=this.getLatestState_(ue.path,R);ue.currentInputSnapshot=ut;var M=_[K].update(ut.val());if(void 0!==M){en("transaction failed: Data returned ",M,ue.path);var N=Pn(M);"object"==typeof M&&null!=M&&J.contains(M,".priority")||(N=N.updatePriority(ut.getPriority()));var B=ue.currentWriteId,Y=this.generateServerValues(),se=Mr(N,ut,Y);ue.currentOutputSnapshotRaw=N,ue.currentOutputSnapshotResolved=se,ue.currentWriteId=this.getNextWriteId_(),R.splice(R.indexOf(B),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(ue.path,se,ue.currentWriteId,ue.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(B,!0))}else me=!0,Qe="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(ue.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(c,b),b=[],me&&(_[K].status=qr.COMPLETED,setTimeout(_[K].unwatcher,Math.floor(0)),_[K].onComplete))if("nodata"===Qe){var xe=new gr(this,_[K].path),yt=new Zr(_[K].currentInputSnapshot,xe,un);p.push(_[K].onComplete.bind(null,null,!1,yt))}else p.push(_[K].onComplete.bind(null,new Error(Qe),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),K=0;K<p.length;K++)Ct(p[K]);this.sendReadyTransactions_()}},Er.prototype.getAncestorTransactionNode_=function(_){var c,p=this.transactionQueueTree_;for(c=_.getFront();null!==c&&null===p.getValue();)p=p.subTree(c),c=(_=_.popFront()).getFront();return p},Er.prototype.buildTransactionQueue_=function(_){var c=[];return this.aggregateTransactionQueuesForNode_(_,c),c.sort(function(p,b){return p.order-b.order}),c},Er.prototype.aggregateTransactionQueuesForNode_=function(_,c){var p=this,b=_.getValue();if(null!==b)for(var A=0;A<b.length;A++)c.push(b[A]);_.forEachChild(function(R){p.aggregateTransactionQueuesForNode_(R,c)})},Er.prototype.pruneCompletedTransactionsBelowNode_=function(_){var c=this,p=_.getValue();if(p){for(var b=0,A=0;A<p.length;A++)p[A].status!==qr.COMPLETED&&(p[b]=p[A],b++);p.length=b,_.setValue(p.length>0?p:null)}_.forEachChild(function(R){c.pruneCompletedTransactionsBelowNode_(R)})},Er.prototype.abortTransactions_=function(_){var c=this,p=this.getAncestorTransactionNode_(_).path(),b=this.transactionQueueTree_.subTree(_);return b.forEachAncestor(function(A){c.abortTransactionsOnNode_(A)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(A){c.abortTransactionsOnNode_(A)}),p},Er.prototype.abortTransactionsOnNode_=function(_){var c=_.getValue();if(null!==c){for(var p=[],b=[],A=-1,R=0;R<c.length;R++)c[R].status!==qr.SENT_NEEDS_ABORT&&(c[R].status===qr.SENT?(J.assert(A===R-1,"All SENT items should be at beginning of queue."),A=R,c[R].status=qr.SENT_NEEDS_ABORT,c[R].abortReason="set"):(J.assert(c[R].status===qr.RUN,"Unexpected transaction status in abort"),c[R].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(c[R].currentWriteId,!0)),c[R].onComplete&&p.push(c[R].onComplete.bind(null,new Error("set"),!1,null))));for(-1===A?_.setValue(null):c.length=A+1,this.eventQueue_.raiseEventsForChangedPath(_.path(),b),R=0;R<p.length;R++)Ct(p[R])}};var pe,v=function(){function _(c,p){var b=this;this.app_=c,this.authProvider_=p,this.auth_=null,this.auth_=p.getImmediate({optional:!0}),this.auth_||p.get().then(function(A){return b.auth_=A})}return _.prototype.getToken=function(c){return this.auth_?this.auth_.getToken(c).catch(function(p){return p&&"auth/token-not-initialized"===p.code?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(p)}):Promise.resolve(null)},_.prototype.addTokenChangeListener=function(c){this.auth_?this.auth_.addAuthTokenListener(c):(setTimeout(function(){return c(null)},0),this.authProvider_.get().then(function(p){return p.addAuthTokenListener(c)}))},_.prototype.removeTokenChangeListener=function(c){this.authProvider_.get().then(function(p){return p.removeAuthTokenListener(c)})},_.prototype.notifyForInvalidToken=function(){var c='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';wt(c+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},_}(),F=function(){function _(){}return _.prototype.getToken=function(c){return Promise.resolve({accessToken:_.EMULATOR_AUTH_TOKEN})},_.prototype.addTokenChangeListener=function(c){c(_.EMULATOR_AUTH_TOKEN)},_.prototype.removeTokenChangeListener=function(c){},_.prototype.notifyForInvalidToken=function(){},_.EMULATOR_AUTH_TOKEN="owner",_}(),Le=function(){function _(){this.repos_={},this.useRestClient_=!1}return _.getInstance=function(){return pe||(pe=new _),pe},_.prototype.interrupt=function(){var c,p,b,A;try{for(var R=u.__values(Object.keys(this.repos_)),K=R.next();!K.done;K=R.next()){var ue=K.value;try{for(var _e=(b=void 0,u.__values(Object.keys(this.repos_[ue]))),me=_e.next();!me.done;me=_e.next())this.repos_[ue][me.value].interrupt()}catch(ut){b={error:ut}}finally{try{me&&!me.done&&(A=_e.return)&&A.call(_e)}finally{if(b)throw b.error}}}}catch(ut){c={error:ut}}finally{try{K&&!K.done&&(p=R.return)&&p.call(R)}finally{if(c)throw c.error}}},_.prototype.resume=function(){var c,p,b,A;try{for(var R=u.__values(Object.keys(this.repos_)),K=R.next();!K.done;K=R.next()){var ue=K.value;try{for(var _e=(b=void 0,u.__values(Object.keys(this.repos_[ue]))),me=_e.next();!me.done;me=_e.next())this.repos_[ue][me.value].resume()}catch(ut){b={error:ut}}finally{try{me&&!me.done&&(A=_e.return)&&A.call(_e)}finally{if(b)throw b.error}}}}catch(ut){c={error:ut}}finally{try{K&&!K.done&&(p=R.return)&&p.call(R)}finally{if(c)throw c.error}}},_.prototype.databaseFromApp=function(c,p,b,A){var R=b||c.options.databaseURL;void 0===R&&(c.options.projectId||Dt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",c.options.projectId),R=c.options.projectId+"-default-rtdb.firebaseio.com");var _e,K=Ae(R,A),ue=K.repoInfo,me=void 0;"undefined"!=typeof process&&(me=process.env.FIREBASE_DATABASE_EMULATOR_HOST),me?(_e=!0,ue=(K=Ae(R="http://"+me+"?ns="+ue.namespace,A)).repoInfo):_e=!K.repoInfo.secure;var Qe=A&&_e?new F:new v(c,p);return rr("Invalid Firebase Database URL",1,K),K.path.isEmpty()||Dt("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(ue,c,Qe).database},_.prototype.deleteRepo=function(c){var p=J.safeGet(this.repos_,c.app.name);(!p||J.safeGet(p,c.repoInfo_.toURLString())!==c)&&Dt("Database "+c.app.name+"("+c.repoInfo_+") has already been deleted."),c.interrupt(),delete p[c.repoInfo_.toURLString()]},_.prototype.createRepo=function(c,p,b){var A=J.safeGet(this.repos_,p.name);A||(this.repos_[p.name]=A={});var R=J.safeGet(A,c.toURLString());return R&&Dt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),R=new Er(c,this.useRestClient_,p,b),A[c.toURLString()]=R,R},_.prototype.forceRestClient=function(c){this.useRestClient_=c},_}(),it=function(){function _(c){this.repo_=c,c instanceof Er||Dt("Don't call new Database() directly - please use firebase.database()."),this.root_=new gr(c,Ye.Empty),this.INTERNAL=new Wt(this)}return Object.defineProperty(_.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),_.prototype.ref=function(c){return this.checkDeleted_("ref"),J.validateArgCount("database.ref",0,1,arguments.length),c instanceof gr?this.refFromURL(c.toString()):void 0!==c?this.root_.child(c):this.root_},_.prototype.refFromURL=function(c){var p="database.refFromURL";this.checkDeleted_(p),J.validateArgCount(p,1,1,arguments.length);var b=Ae(c,this.repo_.repoInfo_.nodeAdmin);rr(p,1,b);var A=b.repoInfo;return A.host!==this.repo_.repoInfo_.host&&Dt(p+": Host name does not match the current database: (found "+A.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},_.prototype.checkDeleted_=function(c){null===this.repo_&&Dt("Cannot call "+c+" on a deleted database.")},_.prototype.goOffline=function(){J.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},_.prototype.goOnline=function(){J.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},_.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(c){return{".sv":{increment:c}}}},_}(),Wt=function(){function _(c){this.database=c}return _.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(c){return this.database.checkDeleted_("delete"),Le.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},_}(),qn=Object.freeze({__proto__:null,forceLongPolling:function(){si.forceDisallow(),ro.forceAllow()},forceWebSockets:function(){ro.forceDisallow()},isWebSocketsAvailable:function(){return si.isAvailable()},setSecurityDebugCallback:function(_,c){_.repo.persistentConnection_.securityDebugCallback_=c},stats:function(_,c){_.repo.stats(c)},statsIncrementCounter:function(_,c){_.repo.statsIncrementCounter(c)},dataUpdateCount:function(_){return _.repo.dataUpdateCount},interceptServerData:function(_,c){return _.repo.interceptServerData_(c)}}),ci=Xn;Xn.prototype.simpleListen=function(_,c){this.sendRequest("q",{p:_},c)},Xn.prototype.echo=function(_,c){this.sendRequest("echo",{d:_},c)};var Ya=Object.freeze({__proto__:null,DataConnection:ci,RealTimeConnection:Go,hijackHash:function(_){var c=Xn.prototype.put;return Xn.prototype.put=function(p,b,A,R){void 0!==R&&(R=_()),c.call(this,p,b,A,R)},function(){Xn.prototype.put=c}},ConnectionTarget:Hn,queryIdentifier:function(_){return _.queryIdentifier()},forceRestClient:function(_){Le.getInstance().forceRestClient(_)}}),xs=it.ServerValue;function Ks(_){!function(_){co=_}(_.SDK_VERSION);var c=_.INTERNAL.registerComponent(new Se.Component("database",function(p,b){var A=p.getProvider("app").getImmediate(),R=p.getProvider("auth-internal");return Le.getInstance().databaseFromApp(A,R,b)},"PUBLIC").setServiceProps({Reference:gr,Query:jr,Database:it,DataSnapshot:Zr,enableLogging:Ze,INTERNAL:qn,ServerValue:xs,TEST_ACCESS:Ya}).setMultipleInstances(!0));_.registerVersion("@firebase/database","0.6.13"),J.isNodeSdk()&&(zt.exports=c)}Ks(Ee.default),Pe.DataSnapshot=Zr,Pe.Database=it,Pe.OnDisconnect=Co,Pe.Query=jr,Pe.Reference=gr,Pe.ServerValue=xs,Pe.enableLogging=Ze,Pe.registerDatabase=Ks},5910:(zt,Pe,ee)=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var a,E=ee(5704),u=ee(6279),J=ee(300),ke=ee(1704),Se=ee(2870),Ne=ee(1100),Ie=(a=u)&&"object"==typeof a&&"default"in a?a:{default:a},ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(a){function r(o,d){var m=this;return(m=a.call(this,d)||this).code=o,m.message=d,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return E.__extends(r,a),r}(Error),De=new J.Logger("@firebase/firestore");function ge(){return De.logLevel}function ye(a){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(De.logLevel<=J.LogLevel.DEBUG){var d=r.map(st);De.debug.apply(De,E.__spreadArrays(["Firestore (7.24.0): "+a],d))}}function et(a){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(De.logLevel<=J.LogLevel.ERROR){var d=r.map(st);De.error.apply(De,E.__spreadArrays(["Firestore (7.24.0): "+a],d))}}function ct(a){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(De.logLevel<=J.LogLevel.WARN){var d=r.map(st);De.warn.apply(De,E.__spreadArrays(["Firestore (7.24.0): "+a],d))}}function st(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function nt(a){void 0===a&&(a="Unexpected state");var r="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+a;throw et(r),new Error(r)}function Te(a,r){a||nt()}function Ze(a,r){return a}function xt(a){var r=0;for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&r++;return r}function Ft(a,r){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&r(o,a[o])}function Gt(a){for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r))return!1;return!0}var Dt=function(){function a(r,o,d){void 0===o?o=0:o>r.length&&nt(),void 0===d?d=r.length-o:d>r.length-o&&nt(),this.segments=r,this.offset=o,this.t=d}return Object.defineProperty(a.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){return 0===a.i(this,r)},a.prototype.child=function(r){var o=this.segments.slice(this.offset,this.limit());return r instanceof a?r.forEach(function(d){o.push(d)}):o.push(r),this.o(o)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.u=function(r){return this.o(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)},a.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},a.prototype.l=function(){return this.segments[this.offset]},a.prototype._=function(){return this.get(this.length-1)},a.prototype.get=function(r){return this.segments[this.offset+r]},a.prototype.m=function(){return 0===this.length},a.prototype.T=function(r){if(r.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},a.prototype.I=function(r){if(this.length+1!==r.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},a.prototype.forEach=function(r){for(var o=this.offset,d=this.limit();o<d;o++)r(this.segments[o])},a.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},a.i=function(r,o){for(var d=Math.min(r.length,o.length),m=0;m<d;m++){var C=r.get(m),S=o.get(m);if(C<S)return-1;if(C>S)return 1}return r.length<o.length?-1:r.length>o.length?1:0},a}(),wt=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.o=function(o,d,m){return new r(o,d,m)},r.prototype.R=function(){return this.A().join("/")},r.prototype.toString=function(){return this.R()},r.g=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];for(var m=[],C=0,S=o;C<S.length;C++){var k=S[C];if(k.indexOf("//")>=0)throw new X(ne.INVALID_ARGUMENT,"Invalid segment ("+k+"). Paths must not contain // in them.");m.push.apply(m,k.split("/").filter(function(z){return z.length>0}))}return new r(m)},r.P=function(){return new r([])},r}(Dt),$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,re=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.o=function(o,d,m){return new r(o,d,m)},r.V=function(o){return $.test(o)},r.prototype.R=function(){return this.A().map(function(o){return o=o.replace("\\","\\\\").replace("`","\\`"),r.V(o)||(o="`"+o+"`"),o}).join(".")},r.prototype.toString=function(){return this.R()},r.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},r.v=function(){return new r(["__name__"])},r.S=function(o){for(var d=[],m="",C=0,S=function(){if(0===m.length)throw new X(ne.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(m),m=""},k=!1;C<o.length;){var z=o[C];if("\\"===z){if(C+1===o.length)throw new X(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var ce=o[C+1];if("\\"!==ce&&"."!==ce&&"`"!==ce)throw new X(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);m+=ce,C+=2}else"`"===z?(k=!k,C++):"."!==z||k?(m+=z,C++):(S(),C++)}if(S(),k)throw new X(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new r(d)},r.P=function(){return new r([])},r}(Dt),W=function(){function a(r){this.path=r}return a.D=function(r){return new a(wt.g(r))},a.C=function(r){return new a(wt.g(r).u(5))},a.prototype.N=function(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r},a.prototype.isEqual=function(r){return null!==r&&0===wt.i(this.path,r.path)},a.prototype.toString=function(){return this.path.toString()},a.i=function(r,o){return wt.i(r.path,o.path)},a.F=function(r){return r.length%2==0},a.$=function(r){return new a(new wt(r.slice()))},a}();function oe(a,r){if(0!==r.length)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() does not support arguments, but was called with "+Bt(r.length,"argument")+".")}function de(a,r,o){if(r.length!==o)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires "+Bt(o,"argument")+", but was called with "+Bt(r.length,"argument")+".")}function Z(a,r,o){if(r.length<o)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires at least "+Bt(o,"argument")+", but was called with "+Bt(r.length,"argument")+".")}function Re(a,r,o,d){if(r.length<o||r.length>d)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires between "+o+" and "+d+" arguments, but was called with "+Bt(r.length,"argument")+".")}function Me(a,r,o,d){Tt(a,r,Ye(o)+" argument",d)}function Mt(a,r,o,d){void 0!==d&&Me(a,r,o,d)}function $e(a,r,o,d){Tt(a,r,o+" option",d)}function mt(a,r,o,d){void 0!==d&&$e(a,r,o,d)}function Vt(a,r,o,d,m){void 0!==d&&function(C,S,k,z,ce){for(var be=[],je=0,He=ce;je<He.length;je++){var Xe=He[je];if(Xe===z)return;be.push(_n(Xe))}var dt=_n(z);throw new X(ne.INVALID_ARGUMENT,"Invalid value "+dt+" provided to function "+C+'() for option "'+k+'". Acceptable values: '+be.join(", "))}(a,0,o,d,m)}function rt(a,r,o,d){if(!r.some(function(m){return m===d}))throw new X(ne.INVALID_ARGUMENT,"Invalid value "+_n(d)+" provided to function "+a+"() for its "+Ye(o)+" argument. Acceptable values: "+r.join(", "));return d}function Tt(a,r,o,d){if(!("object"===r?cn(d):"non-empty string"===r?"string"==typeof d&&""!==d:typeof d===r)){var m=_n(d);throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires its "+o+" to be of type "+r+", but it was: "+m)}}function cn(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function _n(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var r=function(o){if(o.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(d&&d.length>1)return d[1]}return null}(a);return r?"a custom "+r+" object":"an object"}return"function"==typeof a?"a function":nt()}function fn(a,r,o){if(void 0===o)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires a valid "+Ye(r)+" argument, but it was undefined.")}function Ct(a,r,o){Ft(r,function(d,m){if(o.indexOf(d)<0)throw new X(ne.INVALID_ARGUMENT,"Unknown option '"+d+"' passed to function "+a+"(). Available options: "+o.join(", "))})}function lt(a,r,o,d){var m=_n(d);return new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires its "+Ye(o)+" argument to be a "+r+", but it was: "+m)}function tt(a,r,o){if(o<=0)throw new X(ne.INVALID_ARGUMENT,"Function "+a+"() requires its "+Ye(r)+" argument to be a positive number, but it was: "+o+".")}function Ye(a){switch(a){case 1:return"first";case 2:return"second";case 3:return"third";default:return a+"th"}}function Bt(a,r){return a+" "+r+(1===a?"":"s")}function wn(a){var r="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(o);else for(var d=0;d<a;d++)o[d]=Math.floor(256*Math.random());return o}var Zt=function(){function a(){}return a.k=function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/r.length)*r.length,d="";d.length<20;)for(var m=wn(40),C=0;C<m.length;++C)d.length<20&&m[C]<o&&(d+=r.charAt(m[C]%r.length));return d},a}();function Ut(a,r){return a<r?-1:a>r?1:0}function Cn(a,r,o){return a.length===r.length&&a.every(function(d,m){return o(d,r[m])})}function Vn(a){return a+"\0"}var Rt=function(){function a(r){this.M=r}return a.fromBase64String=function(r){return new a(atob(r))},a.fromUint8Array=function(r){return new a(function(o){for(var d="",m=0;m<o.length;++m)d+=String.fromCharCode(o[m]);return d}(r))},a.prototype.toBase64=function(){return btoa(this.M)},a.prototype.toUint8Array=function(){return function(r){for(var o=new Uint8Array(r.length),d=0;d<r.length;d++)o[d]=r.charCodeAt(d);return o}(this.M)},a.prototype.O=function(){return 2*this.M.length},a.prototype.L=function(r){return Ut(this.M,r.M)},a.prototype.isEqual=function(r){return this.M===r.M},a}();Rt.B=new Rt("");var An=function(){function a(r){this.q=r}return a.fromBase64String=function(r){try{return new a(Rt.fromBase64String(r))}catch(o){throw new X(ne.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+o)}},a.fromUint8Array=function(r){return new a(Rt.fromUint8Array(r))},a.prototype.toBase64=function(){return this.q.toBase64()},a.prototype.toUint8Array=function(){return this.q.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(r){return this.q.isEqual(r.q)},a}();function $t(){if("undefined"==typeof Uint8Array)throw new X(ne.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zn(){if("undefined"==typeof atob)throw new X(ne.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Un=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.fromBase64String=function(o){de("Blob.fromBase64String",arguments,1),Me("Blob.fromBase64String","string",1,o),zn();try{return new r(Rt.fromBase64String(o))}catch(d){throw new X(ne.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+d)}},r.fromUint8Array=function(o){if(de("Blob.fromUint8Array",arguments,1),$t(),!(o instanceof Uint8Array))throw lt("Blob.fromUint8Array","Uint8Array",1,o);return new r(Rt.fromUint8Array(o))},r.prototype.toBase64=function(){return de("Blob.toBase64",arguments,0),zn(),a.prototype.toBase64.call(this)},r.prototype.toUint8Array=function(){return de("Blob.toUint8Array",arguments,0),$t(),a.prototype.toUint8Array.call(this)},r.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},r}(An),Hn=function(a,r,o,d,m,C){this.U=a,this.persistenceKey=r,this.host=o,this.ssl=d,this.forceLongPolling=m,this.W=C},_t=function(){function a(r,o){this.projectId=r,this.database=o||"(default)"}return Object.defineProperty(a.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){return r instanceof a&&r.projectId===this.projectId&&r.database===this.database},a.prototype.L=function(r){return Ut(this.projectId,r.projectId)||Ut(this.database,r.database)},a}(),ze=function(){function a(r,o){this.K=r,this.G=o,this.H={}}return a.prototype.get=function(r){var o=this.K(r),d=this.H[o];if(void 0!==d)for(var m=0,C=d;m<C.length;m++){var S=C[m],z=S[1];if(this.G(S[0],r))return z}},a.prototype.has=function(r){return void 0!==this.get(r)},a.prototype.set=function(r,o){var d=this.K(r),m=this.H[d];if(void 0!==m){for(var C=0;C<m.length;C++)if(this.G(m[C][0],r))return void(m[C]=[r,o]);m.push([r,o])}else this.H[d]=[[r,o]]},a.prototype.delete=function(r){var o=this.K(r),d=this.H[o];if(void 0===d)return!1;for(var m=0;m<d.length;m++)if(this.G(d[m][0],r))return 1===d.length?delete this.H[o]:d.splice(m,1),!0;return!1},a.prototype.forEach=function(r){Ft(this.H,function(o,d){for(var m=0,C=d;m<C.length;m++){var S=C[m];r(S[0],S[1])}})},a.prototype.m=function(){return Gt(this.H)},a}(),Ae=function(){function a(r,o){if(this.seconds=r,this.nanoseconds=o,o<0)throw new X(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new X(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(r<-62135596800)throw new X(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new X(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(r){return a.fromMillis(r.getTime())},a.fromMillis=function(r){var o=Math.floor(r/1e3);return new a(o,1e6*(r-1e3*o))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype.Y=function(r){return this.seconds===r.seconds?Ut(this.nanoseconds,r.nanoseconds):Ut(this.seconds,r.seconds)},a.prototype.isEqual=function(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),at=function(){function a(r){this.timestamp=r}return a.J=function(r){return new a(r)},a.min=function(){return new a(new Ae(0,0))},a.prototype.L=function(r){return this.timestamp.Y(r.timestamp)},a.prototype.isEqual=function(r){return this.timestamp.isEqual(r.timestamp)},a.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.Z=function(){return this.timestamp},a}();function Et(a){return null==a}function Oe(a){return 0===a&&1/a==-1/0}function Ce(a){return"number"==typeof a&&Number.isInteger(a)&&!Oe(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var Ue=function(a,r,o,d,m,C,S){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C=null),void 0===S&&(S=null),this.path=a,this.collectionGroup=r,this.orderBy=o,this.filters=d,this.limit=m,this.startAt=C,this.endAt=S,this.tt=null};function Ke(a,r,o,d,m,C,S){return void 0===r&&(r=null),void 0===o&&(o=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C=null),void 0===S&&(S=null),new Ue(a,r,o,d,m,C,S)}function qe(a){var r=Ze(a);if(null===r.tt){var o=r.path.R();null!==r.collectionGroup&&(o+="|cg:"+r.collectionGroup),o+="|f:",o+=r.filters.map(function(d){return(m=d).field.R()+m.op.toString()+hi(m.value);var m}).join(","),o+="|ob:",o+=r.orderBy.map(function(d){return(m=d).field.R()+m.dir;var m}).join(","),Et(r.limit)||(o+="|l:",o+=r.limit),r.startAt&&(o+="|lb:",o+=qi(r.startAt)),r.endAt&&(o+="|ub:",o+=qi(r.endAt)),r.tt=o}return r.tt}function Ot(a,r){if(a.limit!==r.limit||a.orderBy.length!==r.orderBy.length)return!1;for(var o=0;o<a.orderBy.length;o++)if(!Wo(a.orderBy[o],r.orderBy[o]))return!1;if(a.filters.length!==r.filters.length)return!1;for(var d=0;d<a.filters.length;d++)if((m=a.filters[d]).op!==(C=r.filters[d]).op||!m.field.isEqual(C.field)||!hn(m.value,C.value))return!1;var m,C;return a.collectionGroup===r.collectionGroup&&!!a.path.isEqual(r.path)&&!!cs(a.startAt,r.startAt)&&cs(a.endAt,r.endAt)}function Lt(a){return W.F(a.path)&&null===a.collectionGroup&&0===a.filters.length}var en,Pt,Yt=function(){function a(r,o,d,m,C,S,k){void 0===C&&(C=at.min()),void 0===S&&(S=at.min()),void 0===k&&(k=Rt.B),this.target=r,this.targetId=o,this.et=d,this.sequenceNumber=m,this.nt=C,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=k}return a.prototype.st=function(r){return new a(this.target,this.targetId,this.et,r,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.it=function(r,o){return new a(this.target,this.targetId,this.et,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,r)},a.prototype.rt=function(r){return new a(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,r,this.resumeToken)},a}(),tn=function(a){this.count=a};function rn(a){switch(a){case ne.OK:return nt();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return nt()}}function Mn(a){if(void 0===a)return et("GRPC error has no .code"),ne.UNKNOWN;switch(a){case en.OK:return ne.OK;case en.CANCELLED:return ne.CANCELLED;case en.UNKNOWN:return ne.UNKNOWN;case en.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case en.INTERNAL:return ne.INTERNAL;case en.UNAVAILABLE:return ne.UNAVAILABLE;case en.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case en.NOT_FOUND:return ne.NOT_FOUND;case en.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case en.ABORTED:return ne.ABORTED;case en.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case en.DATA_LOSS:return ne.DATA_LOSS;default:return nt()}}(Pt=en||(en={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";var kn=function(){function a(r,o){this.i=r,this.root=o||nr.EMPTY}return a.prototype.ot=function(r,o){return new a(this.i,this.root.ot(r,o,this.i).copy(null,null,nr.at,null,null))},a.prototype.remove=function(r){return new a(this.i,this.root.remove(r,this.i).copy(null,null,nr.at,null,null))},a.prototype.get=function(r){for(var o=this.root;!o.m();){var d=this.i(r,o.key);if(0===d)return o.value;d<0?o=o.left:d>0&&(o=o.right)}return null},a.prototype.indexOf=function(r){for(var o=0,d=this.root;!d.m();){var m=this.i(r,d.key);if(0===m)return o+d.left.size;m<0?d=d.left:(o+=d.left.size+1,d=d.right)}return-1},a.prototype.m=function(){return this.root.m()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.ct=function(){return this.root.ct()},a.prototype.ut=function(){return this.root.ut()},a.prototype.ht=function(r){return this.root.ht(r)},a.prototype.forEach=function(r){this.ht(function(o,d){return r(o,d),!1})},a.prototype.toString=function(){var r=[];return this.ht(function(o,d){return r.push(o+":"+d),!1}),"{"+r.join(", ")+"}"},a.prototype.lt=function(r){return this.root.lt(r)},a.prototype._t=function(){return new vi(this.root,null,this.i,!1)},a.prototype.ft=function(r){return new vi(this.root,r,this.i,!1)},a.prototype.dt=function(){return new vi(this.root,null,this.i,!0)},a.prototype.wt=function(r){return new vi(this.root,r,this.i,!0)},a}(),vi=function(){function a(r,o,d,m){this.Tt=m,this.Et=[];for(var C=1;!r.m();)if(C=o?d(r.key,o):1,m&&(C*=-1),C<0)r=this.Tt?r.left:r.right;else{if(0===C){this.Et.push(r);break}this.Et.push(r),r=this.Tt?r.right:r.left}}return a.prototype.It=function(){var r=this.Et.pop(),o={key:r.key,value:r.value};if(this.Tt)for(r=r.left;!r.m();)this.Et.push(r),r=r.right;else for(r=r.right;!r.m();)this.Et.push(r),r=r.left;return o},a.prototype.At=function(){return this.Et.length>0},a.prototype.Rt=function(){if(0===this.Et.length)return null;var r=this.Et[this.Et.length-1];return{key:r.key,value:r.value}},a}(),nr=function(){function a(r,o,d,m,C){this.key=r,this.value=o,this.color=null!=d?d:a.RED,this.left=null!=m?m:a.EMPTY,this.right=null!=C?C:a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(r,o,d,m,C){return new a(null!=r?r:this.key,null!=o?o:this.value,null!=d?d:this.color,null!=m?m:this.left,null!=C?C:this.right)},a.prototype.m=function(){return!1},a.prototype.ht=function(r){return this.left.ht(r)||r(this.key,this.value)||this.right.ht(r)},a.prototype.lt=function(r){return this.right.lt(r)||r(this.key,this.value)||this.left.lt(r)},a.prototype.min=function(){return this.left.m()?this:this.left.min()},a.prototype.ct=function(){return this.min().key},a.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},a.prototype.ot=function(r,o,d){var m=this,C=d(r,m.key);return(m=C<0?m.copy(null,null,null,m.left.ot(r,o,d),null):0===C?m.copy(null,o,null,null,null):m.copy(null,null,null,null,m.right.ot(r,o,d))).gt()},a.prototype.Pt=function(){if(this.left.m())return a.EMPTY;var r=this;return r.left.yt()||r.left.left.yt()||(r=r.Vt()),(r=r.copy(null,null,null,r.left.Pt(),null)).gt()},a.prototype.remove=function(r,o){var d,m=this;if(o(r,m.key)<0)m.left.m()||m.left.yt()||m.left.left.yt()||(m=m.Vt()),m=m.copy(null,null,null,m.left.remove(r,o),null);else{if(m.left.yt()&&(m=m.bt()),m.right.m()||m.right.yt()||m.right.left.yt()||(m=m.vt()),0===o(r,m.key)){if(m.right.m())return a.EMPTY;d=m.right.min(),m=m.copy(d.key,d.value,null,null,m.right.Pt())}m=m.copy(null,null,null,null,m.right.remove(r,o))}return m.gt()},a.prototype.yt=function(){return this.color},a.prototype.gt=function(){var r=this;return r.right.yt()&&!r.left.yt()&&(r=r.St()),r.left.yt()&&r.left.left.yt()&&(r=r.bt()),r.left.yt()&&r.right.yt()&&(r=r.Dt()),r},a.prototype.Vt=function(){var r=this.Dt();return r.right.left.yt()&&(r=(r=(r=r.copy(null,null,null,null,r.right.bt())).St()).Dt()),r},a.prototype.vt=function(){var r=this.Dt();return r.left.left.yt()&&(r=(r=r.bt()).Dt()),r},a.prototype.St=function(){var r=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)},a.prototype.bt=function(){var r=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)},a.prototype.Dt=function(){var r=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,o)},a.prototype.Ct=function(){var r=this.Nt();return Math.pow(2,r)<=this.size+1},a.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw nt();var r=this.left.Nt();if(r!==this.right.Nt())throw nt();return r+(this.yt()?0:1)},a}();nr.EMPTY=null,nr.RED=!0,nr.at=!1,nr.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw nt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw nt()},enumerable:!1,configurable:!0}),a.prototype.copy=function(r,o,d,m,C){return this},a.prototype.ot=function(r,o,d){return new nr(r,o)},a.prototype.remove=function(r,o){return this},a.prototype.m=function(){return!0},a.prototype.ht=function(r){return!1},a.prototype.lt=function(r){return!1},a.prototype.ct=function(){return null},a.prototype.ut=function(){return null},a.prototype.yt=function(){return!1},a.prototype.Ct=function(){return!0},a.prototype.Nt=function(){return 0},a}());var rr=function(){function a(r){this.i=r,this.data=new kn(this.i)}return a.prototype.has=function(r){return null!==this.data.get(r)},a.prototype.first=function(){return this.data.ct()},a.prototype.last=function(){return this.data.ut()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(r){return this.data.indexOf(r)},a.prototype.forEach=function(r){this.data.ht(function(o,d){return r(o),!1})},a.prototype.Ft=function(r,o){for(var d=this.data.ft(r[0]);d.At();){var m=d.It();if(this.i(m.key,r[1])>=0)return;o(m.key)}},a.prototype.xt=function(r,o){var d;for(d=void 0!==o?this.data.ft(o):this.data._t();d.At();)if(!r(d.It().key))return},a.prototype.$t=function(r){var o=this.data.ft(r);return o.At()?o.It().key:null},a.prototype._t=function(){return new Di(this.data._t())},a.prototype.ft=function(r){return new Di(this.data.ft(r))},a.prototype.add=function(r){return this.copy(this.data.remove(r).ot(r,!0))},a.prototype.delete=function(r){return this.has(r)?this.copy(this.data.remove(r)):this},a.prototype.m=function(){return this.data.m()},a.prototype.kt=function(r){var o=this;return o.size<r.size&&(o=r,r=this),r.forEach(function(d){o=o.add(d)}),o},a.prototype.isEqual=function(r){if(!(r instanceof a)||this.size!==r.size)return!1;for(var o=this.data._t(),d=r.data._t();o.At();){var m=o.It().key,C=d.It().key;if(0!==this.i(m,C))return!1}return!0},a.prototype.A=function(){var r=[];return this.forEach(function(o){r.push(o)}),r},a.prototype.toString=function(){var r=[];return this.forEach(function(o){return r.push(o)}),"SortedSet("+r.toString()+")"},a.prototype.copy=function(r){var o=new a(this.i);return o.data=r,o},a}(),Di=function(){function a(r){this.Mt=r}return a.prototype.It=function(){return this.Mt.It().key},a.prototype.At=function(){return this.Mt.At()},a}(),Co=new kn(W.i);function Vr(){return Co}function Ti(){return Vr()}var ln=new kn(W.i);function Ar(){return ln}var Tn=new kn(W.i),In=new rr(W.i);function Gn(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];for(var o=In,d=0,m=a;d<m.length;d++){var C=m[d];o=o.add(C)}return o}var bi=new rr(Ut);function Ki(){return bi}var uo=function(){function a(r){this.i=r?function(o,d){return r(o,d)||W.i(o.key,d.key)}:function(o,d){return W.i(o.key,d.key)},this.Ot=Ar(),this.Lt=new kn(this.i)}return a.Bt=function(r){return new a(r.i)},a.prototype.has=function(r){return null!=this.Ot.get(r)},a.prototype.get=function(r){return this.Ot.get(r)},a.prototype.first=function(){return this.Lt.ct()},a.prototype.last=function(){return this.Lt.ut()},a.prototype.m=function(){return this.Lt.m()},a.prototype.indexOf=function(r){var o=this.Ot.get(r);return o?this.Lt.indexOf(o):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(r){this.Lt.ht(function(o,d){return r(o),!1})},a.prototype.add=function(r){var o=this.delete(r.key);return o.copy(o.Ot.ot(r.key,r),o.Lt.ot(r,null))},a.prototype.delete=function(r){var o=this.get(r);return o?this.copy(this.Ot.remove(r),this.Lt.remove(o)):this},a.prototype.isEqual=function(r){if(!(r instanceof a)||this.size!==r.size)return!1;for(var o=this.Lt._t(),d=r.Lt._t();o.At();){var m=o.It().key,C=d.It().key;if(!m.isEqual(C))return!1}return!0},a.prototype.toString=function(){var r=[];return this.forEach(function(o){r.push(o.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"},a.prototype.copy=function(r,o){var d=new a;return d.i=this.i,d.Ot=r,d.Lt=o,d},a}(),Rr=function(){function a(){this.qt=new kn(W.i)}return a.prototype.track=function(r){var o=r.doc.key,d=this.qt.get(o);d?0!==r.type&&3===d.type?this.qt=this.qt.ot(o,r):3===r.type&&1!==d.type?this.qt=this.qt.ot(o,{type:d.type,doc:r.doc}):2===r.type&&2===d.type?this.qt=this.qt.ot(o,{type:2,doc:r.doc}):2===r.type&&0===d.type?this.qt=this.qt.ot(o,{type:0,doc:r.doc}):1===r.type&&0===d.type?this.qt=this.qt.remove(o):1===r.type&&2===d.type?this.qt=this.qt.ot(o,{type:1,doc:d.doc}):0===r.type&&1===d.type?this.qt=this.qt.ot(o,{type:2,doc:r.doc}):nt():this.qt=this.qt.ot(o,r)},a.prototype.Ut=function(){var r=[];return this.qt.ht(function(o,d){r.push(d)}),r},a}(),hr=function(){function a(r,o,d,m,C,S,k,z){this.query=r,this.docs=o,this.Qt=d,this.docChanges=m,this.Wt=C,this.fromCache=S,this.jt=k,this.Kt=z}return a.Gt=function(r,o,d,m){var C=[];return o.forEach(function(S){C.push({type:0,doc:S})}),new a(r,o,uo.Bt(o),C,d,m,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){if(!(this.fromCache===r.fromCache&&this.jt===r.jt&&this.Wt.isEqual(r.Wt)&&zi(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.Qt.isEqual(r.Qt)))return!1;var o=this.docChanges,d=r.docChanges;if(o.length!==d.length)return!1;for(var m=0;m<o.length;m++)if(o[m].type!==d[m].type||!o[m].doc.isEqual(d[m].doc))return!1;return!0},a}(),vr=function(){function a(r,o,d,m,C){this.nt=r,this.zt=o,this.Ht=d,this.Yt=m,this.Jt=C}return a.Xt=function(r,o){var d=new Map;return d.set(r,br.Zt(r,o)),new a(at.min(),d,Ki(),Vr(),Gn())},a}(),br=function(){function a(r,o,d,m,C){this.resumeToken=r,this.te=o,this.ee=d,this.ne=m,this.se=C}return a.Zt=function(r,o){return new a(Rt.B,o,Gn(),Gn(),Gn())},a}(),ki=function(a,r,o,d){this.ie=a,this.removedTargetIds=r,this.key=o,this.re=d},ir=function(a,r){this.targetId=a,this.oe=r},jt=function(a,r,o,d){void 0===o&&(o=Rt.B),void 0===d&&(d=null),this.state=a,this.targetIds=r,this.resumeToken=o,this.cause=d},vn=function(){function a(){this.ae=0,this.ce=$r(),this.ue=Rt.B,this.he=!1,this.le=!0}return Object.defineProperty(a.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),a.prototype.de=function(r){r.O()>0&&(this.le=!0,this.ue=r)},a.prototype.we=function(){var r=Gn(),o=Gn(),d=Gn();return this.ce.forEach(function(m,C){switch(C){case 0:r=r.add(m);break;case 2:o=o.add(m);break;case 1:d=d.add(m);break;default:nt()}}),new br(this.ue,this.he,r,o,d)},a.prototype.me=function(){this.le=!1,this.ce=$r()},a.prototype.Te=function(r,o){this.le=!0,this.ce=this.ce.ot(r,o)},a.prototype.Ee=function(r){this.le=!0,this.ce=this.ce.remove(r)},a.prototype.Ie=function(){this.ae+=1},a.prototype.Ae=function(){this.ae-=1},a.prototype.Re=function(){this.le=!0,this.he=!0},a}(),un=function(){function a(r){this.ge=r,this.Pe=new Map,this.ye=Vr(),this.Ve=Qr(),this.pe=new rr(Ut)}return a.prototype.be=function(r){for(var o=0,d=r.ie;o<d.length;o++){var m=d[o];r.re instanceof qt?this.ve(m,r.re):r.re instanceof Cr&&this.Se(m,r.key,r.re)}for(var C=0,S=r.removedTargetIds;C<S.length;C++)this.Se(S[C],r.key,r.re)},a.prototype.De=function(r){var o=this;this.Ce(r,function(d){var m=o.Ne(d);switch(r.state){case 0:o.Fe(d)&&m.de(r.resumeToken);break;case 1:m.Ae(),m._e||m.me(),m.de(r.resumeToken);break;case 2:m.Ae(),m._e||o.removeTarget(d);break;case 3:o.Fe(d)&&(m.Re(),m.de(r.resumeToken));break;case 4:o.Fe(d)&&(o.xe(d),m.de(r.resumeToken));break;default:nt()}})},a.prototype.Ce=function(r,o){var d=this;r.targetIds.length>0?r.targetIds.forEach(o):this.Pe.forEach(function(m,C){d.Fe(C)&&o(C)})},a.prototype.$e=function(r){var o=r.targetId,d=r.oe.count,m=this.ke(o);if(m){var C=m.target;if(Lt(C))if(0===d){var S=new W(C.path);this.Se(o,S,new Cr(S,at.min()))}else Te(1===d);else this.Me(o)!==d&&(this.xe(o),this.pe=this.pe.add(o))}},a.prototype.Oe=function(r){var o=this,d=new Map;this.Pe.forEach(function(S,k){var z=o.ke(k);if(z){if(S.te&&Lt(z.target)){var ce=new W(z.target.path);null!==o.ye.get(ce)||o.Le(k,ce)||o.Se(k,ce,new Cr(ce,r))}S.fe&&(d.set(k,S.we()),S.me())}});var m=Gn();this.Ve.forEach(function(S,k){var z=!0;k.xt(function(ce){var be=o.ke(ce);return!be||2===be.et||(z=!1,!1)}),z&&(m=m.add(S))});var C=new vr(r,d,this.pe,this.ye,m);return this.ye=Vr(),this.Ve=Qr(),this.pe=new rr(Ut),C},a.prototype.ve=function(r,o){if(this.Fe(r)){var d=this.Le(r,o.key)?2:0;this.Ne(r).Te(o.key,d),this.ye=this.ye.ot(o.key,o),this.Ve=this.Ve.ot(o.key,this.Be(o.key).add(r))}},a.prototype.Se=function(r,o,d){if(this.Fe(r)){var m=this.Ne(r);this.Le(r,o)?m.Te(o,1):m.Ee(o),this.Ve=this.Ve.ot(o,this.Be(o).delete(r)),d&&(this.ye=this.ye.ot(o,d))}},a.prototype.removeTarget=function(r){this.Pe.delete(r)},a.prototype.Me=function(r){var o=this.Ne(r).we();return this.ge.qe(r).size+o.ee.size-o.se.size},a.prototype.Ie=function(r){this.Ne(r).Ie()},a.prototype.Ne=function(r){var o=this.Pe.get(r);return o||(o=new vn,this.Pe.set(r,o)),o},a.prototype.Be=function(r){var o=this.Ve.get(r);return o||(o=new rr(Ut),this.Ve=this.Ve.ot(r,o)),o},a.prototype.Fe=function(r){var o=null!==this.ke(r);return o||ye("WatchChangeAggregator","Detected inactive target",r),o},a.prototype.ke=function(r){var o=this.Pe.get(r);return o&&o._e?null:this.ge.Ue(r)},a.prototype.xe=function(r){var o=this;this.Pe.set(r,new vn),this.ge.qe(r).forEach(function(d){o.Se(r,d,null)})},a.prototype.Le=function(r,o){return this.ge.qe(r).has(o)},a}();function Qr(){return new kn(W.i)}function $r(){return new kn(W.i)}function wr(a){var r,o;return"server_timestamp"===(null===(o=((null===(r=null==a?void 0:a.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Wr(a){var r=a.mapValue.fields.__previous_value__;return wr(r)?Wr(r):r}function Dr(a){var r=nn(a.mapValue.fields.__local_write_time__.timestampValue);return new Ae(r.seconds,r.nanos)}var Fi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?wr(a)?4:10:nt()}function hn(a,r){var m,o=Br(a);if(o!==Br(r))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===r.booleanValue;case 4:return Dr(a).isEqual(Dr(r));case 3:return function(d,m){if("string"==typeof d.timestampValue&&"string"==typeof m.timestampValue&&d.timestampValue.length===m.timestampValue.length)return d.timestampValue===m.timestampValue;var C=nn(d.timestampValue),S=nn(m.timestampValue);return C.seconds===S.seconds&&C.nanos===S.nanos}(a,r);case 5:return a.stringValue===r.stringValue;case 6:return m=r,or(a.bytesValue).isEqual(or(m.bytesValue));case 7:return a.referenceValue===r.referenceValue;case 8:return function(d,m){return Bn(d.geoPointValue.latitude)===Bn(m.geoPointValue.latitude)&&Bn(d.geoPointValue.longitude)===Bn(m.geoPointValue.longitude)}(a,r);case 2:return function(d,m){if("integerValue"in d&&"integerValue"in m)return Bn(d.integerValue)===Bn(m.integerValue);if("doubleValue"in d&&"doubleValue"in m){var C=Bn(d.doubleValue),S=Bn(m.doubleValue);return C===S?Oe(C)===Oe(S):isNaN(C)&&isNaN(S)}return!1}(a,r);case 9:return Cn(a.arrayValue.values||[],r.arrayValue.values||[],hn);case 10:return function(d,m){var C=d.mapValue.fields||{},S=m.mapValue.fields||{};if(xt(C)!==xt(S))return!1;for(var k in C)if(C.hasOwnProperty(k)&&(void 0===S[k]||!hn(C[k],S[k])))return!1;return!0}(a,r);default:return nt()}}function pr(a,r){return void 0!==(a.values||[]).find(function(o){return hn(o,r)})}function fr(a,r){var m,C,S,k,o=Br(a),d=Br(r);if(o!==d)return Ut(o,d);switch(o){case 0:return 0;case 1:return Ut(a.booleanValue,r.booleanValue);case 2:return C=r,(S=Bn((m=a).integerValue||m.doubleValue))<(k=Bn(C.integerValue||C.doubleValue))?-1:S>k?1:S===k?0:isNaN(S)?isNaN(k)?0:-1:1;case 3:return Eo(a.timestampValue,r.timestampValue);case 4:return Eo(Dr(a),Dr(r));case 5:return Ut(a.stringValue,r.stringValue);case 6:return function(m,C){var S=or(m),k=or(C);return S.L(k)}(a.bytesValue,r.bytesValue);case 7:return function(m,C){for(var S=m.split("/"),k=C.split("/"),z=0;z<S.length&&z<k.length;z++){var ce=Ut(S[z],k[z]);if(0!==ce)return ce}return Ut(S.length,k.length)}(a.referenceValue,r.referenceValue);case 8:return function(m,C){var S=Ut(Bn(m.latitude),Bn(C.latitude));return 0!==S?S:Ut(Bn(m.longitude),Bn(C.longitude))}(a.geoPointValue,r.geoPointValue);case 9:return function(m,C){for(var S=m.values||[],k=C.values||[],z=0;z<S.length&&z<k.length;++z){var ce=fr(S[z],k[z]);if(ce)return ce}return Ut(S.length,k.length)}(a.arrayValue,r.arrayValue);case 10:return function(m,C){var S=m.fields||{},k=Object.keys(S),z=C.fields||{},ce=Object.keys(z);k.sort(),ce.sort();for(var be=0;be<k.length&&be<ce.length;++be){var je=Ut(k[be],ce[be]);if(0!==je)return je;var He=fr(S[k[be]],z[ce[be]]);if(0!==He)return He}return Ut(k.length,ce.length)}(a.mapValue,r.mapValue);default:throw nt()}}function Eo(a,r){if("string"==typeof a&&"string"==typeof r&&a.length===r.length)return Ut(a,r);var o=nn(a),d=nn(r),m=Ut(o.seconds,d.seconds);return 0!==m?m:Ut(o.nanos,d.nanos)}function hi(a){return Tr(a)}function Tr(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(m=nn(a.timestampValue)).seconds+","+m.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?or(a.bytesValue).toBase64():"referenceValue"in a?W.C(a.referenceValue).toString():"geoPointValue"in a?"geo("+(r=a.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in a?function(d){for(var m="[",C=!0,S=0,k=d.values||[];S<k.length;S++)C?C=!1:m+=",",m+=Tr(k[S]);return m+"]"}(a.arrayValue):"mapValue"in a?function(d){for(var m="{",C=!0,S=0,k=Object.keys(d.fields||{}).sort();S<k.length;S++){var z=k[S];C?C=!1:m+=",",m+=z+":"+Tr(d.fields[z])}return m+"}"}(a.mapValue):nt();var m,r}function nn(a){if(Te(!!a),"string"==typeof a){var r=0,o=Fi.exec(a);if(Te(!!o),o[1]){var d=o[1];d=(d+"000000000").substr(0,9),r=Number(d)}var m=new Date(a);return{seconds:Math.floor(m.getTime()/1e3),nanos:r}}return{seconds:Bn(a.seconds),nanos:Bn(a.nanos)}}function Bn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function or(a){return"string"==typeof a?Rt.fromBase64String(a):Rt.fromUint8Array(a)}function $n(a,r){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+r.path.R()}}function Pn(a){return!!a&&"integerValue"in a}function Mo(a){return!!a&&"arrayValue"in a}function zr(a){return!!a&&"nullValue"in a}function ni(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Zr(a){return!!a&&"mapValue"in a}var Ii={asc:"ASCENDING",desc:"DESCENDING"},dn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ur=function(a,r){this.U=a,this.Qe=r};function Ui(a){return{integerValue:""+a}}function Xr(a,r){if(a.Qe){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oe(r)?"-0":r}}function jr(a,r){return Ce(r)?Ui(r):Xr(a,r)}function ji(a,r){return a.Qe?new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+r.nanoseconds).slice(-9)+"Z":{seconds:""+r.seconds,nanos:r.nanoseconds}}function Hi(a,r){return a.Qe?r.toBase64():r.toUint8Array()}function Si(a,r){return ji(a,r.Z())}function Or(a){return Te(!!a),at.J((o=nn(a),new Ae(o.seconds,o.nanos)));var o}function ei(a,r){return(o=a,new wt(["projects",o.projectId,"databases",o.database])).child("documents").child(r).R();var o}function yo(a){var r=wt.g(a);return Te(Ni(r)),r}function pi(a,r){return ei(a.U,r.path)}function Mr(a,r){var o=yo(r);return Te(o.get(1)===a.U.projectId),Te(!o.get(3)&&!a.U.database||o.get(3)===a.U.database),new W(gi(o))}function wi(a,r){return ei(a.U,r)}function Zi(a){var r=yo(a);return 4===r.length?wt.P():gi(r)}function Fn(a){return new wt(["projects",a.U.projectId,"databases",a.U.database]).R()}function gi(a){return Te(a.length>4&&"documents"===a.get(4)),a.u(5)}function Xi(a,r,o){return{name:pi(a,r),fields:o.proto.mapValue.fields}}function yr(a,r){var o,m;if(r instanceof Qt)o={update:Xi(a,r.key,r.value)};else if(r instanceof ar)o={delete:pi(a,r.key)};else if(r instanceof mn)o={update:Xi(a,r.key,r.data),updateMask:oi(r.We)};else if(r instanceof Zn)o={transform:{document:pi(a,r.key),fieldTransforms:r.fieldTransforms.map(function(d){return function(m,C){var S=C.transform;if(S instanceof li)return{fieldPath:C.field.R(),setToServerValue:"REQUEST_TIME"};if(S instanceof ri)return{fieldPath:C.field.R(),appendMissingElements:{values:S.elements}};if(S instanceof ii)return{fieldPath:C.field.R(),removeAllFromArray:{values:S.elements}};if(S instanceof Pr)return{fieldPath:C.field.R(),increment:S.je};throw nt()}(0,d)})}};else{if(!(r instanceof Hr))return nt();o={verify:pi(a,r.key)}}return r.Ge.Ke||(o.currentDocument=void 0!==(m=r.Ge).updateTime?{updateTime:Si(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:nt()),o}function lo(a,r){var be,o=r.currentDocument?void 0!==(be=r.currentDocument).updateTime?Jt.updateTime(Or(be.updateTime)):void 0!==be.exists?Jt.exists(be.exists):Jt.ze():Jt.ze();if(r.update){var d=Mr(a,r.update.name),m=new Vi({mapValue:{fields:r.update.fields}});if(r.updateMask){var C=function(be){return new L((be.fieldPaths||[]).map(function(He){return re.S(He)}))}(r.updateMask);return new mn(d,m,C,o)}return new Qt(d,m,o)}if(r.delete){var S=Mr(a,r.delete);return new ar(S,o)}if(r.transform){var k=Mr(a,r.transform.document),z=r.transform.fieldTransforms.map(function(be){return function(je,He){var Xe=null;"setToServerValue"in He?(Te("REQUEST_TIME"===He.setToServerValue),Xe=new li):"appendMissingElements"in He?Xe=new ri(He.appendMissingElements.values||[]):"removeAllFromArray"in He?Xe=new ii(He.removeAllFromArray.values||[]):"increment"in He?Xe=new Pr(je,He.increment):nt();var sn=re.S(He.fieldPath);return new le(sn,Xe)}(a,be)});return Te(!0===o.exists),new Zn(k,z)}if(r.verify){var ce=Mr(a,r.verify);return new Hr(ce,o)}return nt()}function Jn(a,r){return{documents:[wi(a,r.path)]}}function xo(a,r){var o={structuredQuery:{}},d=r.path;null!==r.collectionGroup?(o.parent=wi(a,d),o.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(o.parent=wi(a,d.h()),o.structuredQuery.from=[{collectionId:d._()}]);var m=function(k){if(0!==k.length){var z=k.map(function(ce){return function(be){if("=="===be.op){if(ni(be.value))return{unaryFilter:{field:ti(be.field),op:"IS_NAN"}};if(zr(be.value))return{unaryFilter:{field:ti(be.field),op:"IS_NULL"}}}else if("!="===be.op){if(ni(be.value))return{unaryFilter:{field:ti(be.field),op:"IS_NOT_NAN"}};if(zr(be.value))return{unaryFilter:{field:ti(be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(be.field),op:_o(be.op),value:be.value}}}(ce)});return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}}(r.filters);m&&(o.structuredQuery.where=m);var C=function(k){if(0!==k.length)return k.map(function(z){return{field:ti((ce=z).field),direction:Sn(ce.dir)};var ce})}(r.orderBy);C&&(o.structuredQuery.orderBy=C);var z,S=(z=r.limit,a.Qe||Et(z)?z:{value:z});return null!==S&&(o.structuredQuery.limit=S),r.startAt&&(o.structuredQuery.startAt=mi(r.startAt)),r.endAt&&(o.structuredQuery.endAt=mi(r.endAt)),o}function Gi(a){var r=Zi(a.parent),o=a.structuredQuery,d=o.from?o.from.length:0,m=null;if(d>0){Te(1===d);var C=o.from[0];C.allDescendants?m=C.collectionId:r=r.child(C.collectionId)}var S=[];o.where&&(S=eo(o.where));var k=[];o.orderBy&&(k=o.orderBy.map(function(je){return new $o(yi((He=je).field),function(Xe){switch(Xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction));var He}));var je,He,z=null;o.limit&&(z=Et(He="object"==typeof(je=o.limit)?je.value:je)?null:He);var ce=null;o.startAt&&(ce=ui(o.startAt));var be=null;return o.endAt&&(be=ui(o.endAt)),si(As(r,m,k,S,z,"F",ce,be))}function eo(a){return a?void 0!==a.unaryFilter?[to(a)]:void 0!==a.fieldFilter?[$i(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(r){return eo(r)}).reduce(function(r,o){return r.concat(o)}):nt():[]}function mi(a){return{before:a.before,values:a.position}}function ui(a){return new Yi(a.values||[],!!a.before)}function Sn(a){return Ii[a]}function _o(a){return dn[a]}function ti(a){return{fieldPath:a.R()}}function yi(a){return re.S(a.fieldPath)}function $i(a){return _r.create(yi(a.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return nt()}}(a.fieldFilter.op),a.fieldFilter.value)}function to(a){switch(a.unaryFilter.op){case"IS_NAN":var r=yi(a.unaryFilter.field);return _r.create(r,"==",{doubleValue:NaN});case"IS_NULL":var o=yi(a.unaryFilter.field);return _r.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=yi(a.unaryFilter.field);return _r.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=yi(a.unaryFilter.field);return _r.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return nt()}}function oi(a){var r=[];return a.fields.forEach(function(o){return r.push(o.R())}),{fieldPaths:r}}function Ni(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}var sr=function(){this.He=void 0};function Ai(a,r,o){return a instanceof li?(C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=o).seconds,nanos:d.nanoseconds}}}},(m=r)&&(C.fields.__previous_value__=m),{mapValue:C}):a instanceof ri?Do(a,r):a instanceof ii?no(a,r):function(d,m){var C=jo(d,m),S=q(C)+q(d.je);return Pn(C)&&Pn(d.je)?Ui(S):Xr(d.serializer,S)}(a,r);var d,m,C}function Li(a,r,o){return a instanceof ri?Do(a,r):a instanceof ii?no(a,r):o}function jo(a,r){return a instanceof Pr?Pn(o=r)||(d=o)&&"doubleValue"in d?r:{integerValue:0}:null;var d,o}var li=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r}(sr),ri=function(a){function r(o){var d=this;return(d=a.call(this)||this).elements=o,d}return E.__extends(r,a),r}(sr);function Do(a,r){for(var o=H(r),d=function(S){o.some(function(k){return hn(k,S)})||o.push(S)},m=0,C=a.elements;m<C.length;m++)d(C[m]);return{arrayValue:{values:o}}}var ii=function(a){function r(o){var d=this;return(d=a.call(this)||this).elements=o,d}return E.__extends(r,a),r}(sr);function no(a,r){for(var o=H(r),d=function(S){o=o.filter(function(k){return!hn(k,S)})},m=0,C=a.elements;m<C.length;m++)d(C[m]);return{arrayValue:{values:o}}}var Pr=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).serializer=o,m.je=d,m}return E.__extends(r,a),r}(sr);function q(a){return Bn(a.integerValue||a.doubleValue)}function H(a){return Mo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var L=function(){function a(r){this.fields=r,r.sort(re.i)}return a.prototype.Ye=function(r){for(var o=0,d=this.fields;o<d.length;o++)if(d[o].T(r))return!0;return!1},a.prototype.isEqual=function(r){return Cn(this.fields,r.fields,function(o,d){return o.isEqual(d)})},a}(),le=function(a,r){this.field=a,this.transform=r},ht=function(a,r){this.version=a,this.transformResults=r},Jt=function(){function a(r,o){this.updateTime=r,this.exists=o}return a.ze=function(){return new a},a.exists=function(r){return new a(void 0,r)},a.updateTime=function(r){return new a(r)},Object.defineProperty(a.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)},a}();function U(a,r){return void 0!==a.updateTime?r instanceof qt&&r.version.isEqual(a.updateTime):void 0===a.exists||a.exists===r instanceof qt}var ae=function(){};function G(a,r,o){return a instanceof Qt?new qt((d=a).key,o.version,d.value,{hasCommittedMutations:!0}):a instanceof mn?function(d,m,C){if(!U(d.Ge,m))return new Wi(d.key,C.version);var S=Kn(d,m);return new qt(d.key,C.version,S,{hasCommittedMutations:!0})}(a,r,o):a instanceof Zn?function(d,m,C){if(Te(null!=C.transformResults),!U(d.Ge,m))return new Wi(d.key,C.version);var S=Nn(0,m),k=function(be,je,He){var Xe=[];Te(be.length===He.length);for(var dt=0;dt<He.length;dt++){var vt=be[dt],sn=vt.transform,on=null;je instanceof qt&&(on=je.field(vt.field)),Xe.push(Li(sn,on,He[dt]))}return Xe}(d.fieldTransforms,m,C.transformResults),z=C.version,ce=Wn(d,S.data(),k);return new qt(d.key,z,ce,{hasCommittedMutations:!0})}(a,r,o):function(d,m,C){return new Cr(d.key,C.version,{hasCommittedMutations:!0})}(a,0,o);var d}function fe(a,r,o,d){return a instanceof Qt?function(m,C){if(!U(m.Ge,C))return C;var S=bt(C);return new qt(m.key,S,m.value,{Je:!0})}(a,r):a instanceof mn?function(m,C){if(!U(m.Ge,C))return C;var S=bt(C),k=Kn(m,C);return new qt(m.key,S,k,{Je:!0})}(a,r):a instanceof Zn?function(m,C,S,k){if(!U(m.Ge,C))return C;var z=Nn(0,C),ce=function(je,He,Xe,dt){for(var vt=[],sn=0,on=je;sn<on.length;sn++){var Rn=on[sn],er=Rn.transform,cr=null;Xe instanceof qt&&(cr=Xe.field(Rn.field)),null===cr&&dt instanceof qt&&(cr=dt.field(Rn.field)),vt.push(Ai(er,cr,He))}return vt}(m.fieldTransforms,S,C,k),be=Wn(m,z.data(),ce);return new qt(m.key,z.version,be,{Je:!0})}(a,r,d,o):U((m=a).Ge,C=r)?new Cr(m.key,at.min()):C;var m,C}function Fe(a,r){return a instanceof Zn?function(o,d){for(var m=null,C=0,S=o.fieldTransforms;C<S.length;C++){var k=S[C],z=d instanceof qt?d.field(k.field):void 0,ce=jo(k.transform,z||null);null!=ce&&(m=null==m?(new Yr).set(k.field,ce):m.set(k.field,ce))}return m?m.Xe():null}(a,r):null}function pt(a,r){return a.type===r.type&&!!a.key.isEqual(r.key)&&!!a.Ge.isEqual(r.Ge)&&(0===a.type?a.value.isEqual(r.value):1===a.type?a.data.isEqual(r.data)&&a.We.isEqual(r.We):2!==a.type||Cn(a.fieldTransforms,a.fieldTransforms,function(o,d){return(m=o).field.isEqual((C=d).field)&&(k=C.transform,(S=m.transform)instanceof ri&&k instanceof ri||S instanceof ii&&k instanceof ii?Cn(S.elements,k.elements,hn):S instanceof Pr&&k instanceof Pr?hn(S.je,k.je):S instanceof li&&k instanceof li);var m,C,S,k}))}function bt(a){return a instanceof qt?a.version:at.min()}var Qt=function(a){function r(o,d,m){var C=this;return(C=a.call(this)||this).key=o,C.value=d,C.Ge=m,C.type=0,C}return E.__extends(r,a),r}(ae),mn=function(a){function r(o,d,m,C){var S=this;return(S=a.call(this)||this).key=o,S.data=d,S.We=m,S.Ge=C,S.type=1,S}return E.__extends(r,a),r}(ae);function Kn(a,r){return o=a,d=r instanceof qt?r.data():Vi.empty(),m=new Yr(d),o.We.fields.forEach(function(C){if(!C.m()){var S=o.data.field(C);null!==S?m.set(C,S):m.delete(C)}}),m.Xe();var o,d,m}var Zn=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).key=o,m.fieldTransforms=d,m.type=2,m.Ge=Jt.exists(!0),m}return E.__extends(r,a),r}(ae);function Nn(a,r){return r}function Wn(a,r,o){for(var d=new Yr(r),m=0;m<a.fieldTransforms.length;m++)d.set(a.fieldTransforms[m].field,o[m]);return d.Xe()}var ar=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).key=o,m.Ge=d,m.type=3,m}return E.__extends(r,a),r}(ae),Hr=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).key=o,m.Ge=d,m.type=4,m}return E.__extends(r,a),r}(ae),Vi=function(){function a(r){this.proto=r}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(r){if(r.m())return this.proto;for(var o=this.proto,d=0;d<r.length-1;++d)if(!o.mapValue.fields||!Zr(o=o.mapValue.fields[r.get(d)]))return null;return(o=(o.mapValue.fields||{})[r._()])||null},a.prototype.isEqual=function(r){return hn(this.proto,r.proto)},a}(),Yr=function(){function a(r){void 0===r&&(r=Vi.empty()),this.Ze=r,this.tn=new Map}return a.prototype.set=function(r,o){return this.en(r,o),this},a.prototype.delete=function(r){return this.en(r,null),this},a.prototype.en=function(r,o){for(var d=this.tn,m=0;m<r.length-1;++m){var C=r.get(m),S=d.get(C);S instanceof Map?d=S:S&&10===Br(S)?(S=new Map(Object.entries(S.mapValue.fields||{})),d.set(C,S),d=S):(S=new Map,d.set(C,S),d=S)}d.set(r._(),o)},a.prototype.Xe=function(){var r=this.nn(re.P(),this.tn);return null!=r?new Vi(r):this.Ze},a.prototype.nn=function(r,o){var d=this,m=!1,C=this.Ze.field(r),S=Zr(C)?Object.assign({},C.mapValue.fields):{};return o.forEach(function(k,z){if(k instanceof Map){var ce=d.nn(r.child(z),k);null!=ce&&(S[z]=ce,m=!0)}else null!==k?(S[z]=k,m=!0):S.hasOwnProperty(z)&&(delete S[z],m=!0)}),m?{mapValue:{fields:S}}:null},a}();function Ro(a){var r=[];return Ft(a.fields||{},function(o,d){var m=new re([o]);if(Zr(d)){var C=Ro(d.mapValue).fields;if(0===C.length)r.push(m);else for(var S=0,k=C;S<k.length;S++)r.push(m.child(k[S]))}else r.push(m)}),new L(r)}var lr=function(a,r){this.key=a,this.version=r},qt=function(a){function r(o,d,m,C){var S=this;return(S=a.call(this,o,d)||this).sn=m,S.Je=!!C.Je,S.hasCommittedMutations=!!C.hasCommittedMutations,S}return E.__extends(r,a),r.prototype.field=function(o){return this.sn.field(o)},r.prototype.data=function(){return this.sn},r.prototype.rn=function(){return this.sn.proto},r.prototype.isEqual=function(o){return o instanceof r&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.Je===o.Je&&this.hasCommittedMutations===o.hasCommittedMutations&&this.sn.isEqual(o.sn)},r.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),r}(lr),Cr=function(a){function r(o,d,m){var C=this;return(C=a.call(this,o,d)||this).hasCommittedMutations=!(!m||!m.hasCommittedMutations),C}return E.__extends(r,a),r.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(o){return o instanceof r&&o.hasCommittedMutations===this.hasCommittedMutations&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},r}(lr),Wi=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(o){return o instanceof r&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},r}(lr),To=function(a,r,o,d,m,C,S,k){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C="F"),void 0===S&&(S=null),void 0===k&&(k=null),this.path=a,this.collectionGroup=r,this.on=o,this.filters=d,this.limit=m,this.an=C,this.startAt=S,this.endAt=k,this.cn=null,this.un=null};function As(a,r,o,d,m,C,S,k){return new To(a,r,o,d,m,C,S,k)}function ro(a){return new To(a)}function as(a){return!Et(a.limit)&&"F"===a.an}function co(a){return!Et(a.limit)&&"L"===a.an}function It(a){return a.on.length>0?a.on[0].field:null}function Yn(a){for(var r=0,o=a.filters;r<o.length;r++){var d=o[r];if(d.hn())return d.field}return null}function Mi(a){return null!==a.collectionGroup}function Ir(a){var r=Ze(a);if(null===r.cn){r.cn=[];var o=Yn(r),d=It(r);if(null!==o&&null===d)o.p()||r.cn.push(new $o(o)),r.cn.push(new $o(re.v(),"asc"));else{for(var m=!1,C=0,S=r.on;C<S.length;C++){var k=S[C];r.cn.push(k),k.field.p()&&(m=!0)}if(!m){var z=r.on.length>0?r.on[r.on.length-1].dir:"asc";r.cn.push(new $o(re.v(),z))}}}return r.cn}function si(a){var r=Ze(a);if(!r.un)if("F"===r.an)r.un=Ke(r.path,r.collectionGroup,Ir(r),r.filters,r.limit,r.startAt,r.endAt);else{for(var o=[],d=0,m=Ir(r);d<m.length;d++){var C=m[d];o.push(new $o(C.field,"desc"===C.dir?"asc":"desc"))}var k=r.endAt?new Yi(r.endAt.position,!r.endAt.before):null,z=r.startAt?new Yi(r.startAt.position,!r.startAt.before):null;r.un=Ke(r.path,r.collectionGroup,o,r.filters,r.limit,k,z)}return r.un}function vo(a,r,o){return new To(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),r,o,a.startAt,a.endAt)}function io(a,r){return new To(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,r,a.endAt)}function Ko(a,r){return new To(a.path,a.collectionGroup,a.on.slice(),a.filters.slice(),a.limit,a.an,a.startAt,r)}function zi(a,r){return Ot(si(a),si(r))&&a.an===r.an}function Oo(a){return qe(si(a))+"|lt:"+a.an}function Ho(a){return"Query(target="+(o=(r=si(a)).path.R(),null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=", filters: ["+r.filters.map(function(d){return(m=d).field.R()+" "+m.op+" "+hi(m.value);var m}).join(", ")+"]"),Et(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=", orderBy: ["+r.orderBy.map(function(d){return(m=d).field.R()+" ("+m.dir+")";var m}).join(", ")+"]"),r.startAt&&(o+=", startAt: "+qi(r.startAt)),r.endAt&&(o+=", endAt: "+qi(r.endAt)),"Target("+o+"); limitType=")+a.an+")";var r,o}function oo(a,r){return m=(d=r).key.path,(null!==(o=a).collectionGroup?d.key.N(o.collectionGroup)&&o.path.T(m):W.F(o.path)?o.path.isEqual(m):o.path.I(m))&&function(o,d){for(var m=0,C=o.on;m<C.length;m++){var S=C[m];if(!S.field.p()&&null===d.field(S.field))return!1}return!0}(a,r)&&function(o,d){for(var m=0,C=o.filters;m<C.length;m++)if(!C[m].matches(d))return!1;return!0}(a,r)&&function(o,d){return!(o.startAt&&!ls(o.startAt,Ir(o),d)||o.endAt&&ls(o.endAt,Ir(o),d))}(a,r);var o,d,m}function Zo(a){return function(r,o){for(var d=!1,m=0,C=Ir(a);m<C.length;m++){var S=C[m],k=Ms(S,r,o);if(0!==k)return k;d=d||S.field.p()}return 0}}var _r=function(a){function r(o,d,m){var C=this;return(C=a.call(this)||this).field=o,C.op=d,C.value=m,C}return E.__extends(r,a),r.create=function(o,d,m){if(o.p())return"in"===d||"not-in"===d?this.ln(o,d,m):new Bi(o,d,m);if(zr(m)){if("=="!==d&&"!="!==d)throw new X(ne.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new r(o,d,m)}if(ni(m)){if("=="!==d&&"!="!==d)throw new X(ne.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new r(o,d,m)}return"array-contains"===d?new us(o,m):"in"===d?new _s(o,m):"not-in"===d?new Go(o,m):"array-contains-any"===d?new vs(o,m):new r(o,d,m)},r.ln=function(o,d,m){return"in"===d?new Xo(o,m):new Io(o,m)},r.prototype.matches=function(o){var d=o.field(this.field);return"!="===this.op?null!==d&&this._n(fr(d,this.value)):null!==d&&Br(this.value)===Br(d)&&this._n(fr(d,this.value))},r.prototype._n=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return nt()}},r.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},r}(function(){}),Bi=function(a){function r(o,d,m){var C=this;return(C=a.call(this,o,d,m)||this).key=W.C(m.referenceValue),C}return E.__extends(r,a),r.prototype.matches=function(o){var d=W.i(o.key,this.key);return this._n(d)},r}(_r),Xo=function(a){function r(o,d){var m=this;return(m=a.call(this,o,"in",d)||this).keys=xi(0,d),m}return E.__extends(r,a),r.prototype.matches=function(o){return this.keys.some(function(d){return d.isEqual(o.key)})},r}(_r),Io=function(a){function r(o,d){var m=this;return(m=a.call(this,o,"not-in",d)||this).keys=xi(0,d),m}return E.__extends(r,a),r.prototype.matches=function(o){return!this.keys.some(function(d){return d.isEqual(o.key)})},r}(_r);function xi(a,r){var o;return((null===(o=r.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(d){return W.C(d.referenceValue)})}var us=function(a){function r(o,d){return a.call(this,o,"array-contains",d)||this}return E.__extends(r,a),r.prototype.matches=function(o){var d=o.field(this.field);return Mo(d)&&pr(d.arrayValue,this.value)},r}(_r),_s=function(a){function r(o,d){return a.call(this,o,"in",d)||this}return E.__extends(r,a),r.prototype.matches=function(o){var d=o.field(this.field);return null!==d&&pr(this.value.arrayValue,d)},r}(_r),Go=function(a){function r(o,d){return a.call(this,o,"not-in",d)||this}return E.__extends(r,a),r.prototype.matches=function(o){if(pr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=o.field(this.field);return null!==d&&!pr(this.value.arrayValue,d)},r}(_r),vs=function(a){function r(o,d){return a.call(this,o,"array-contains-any",d)||this}return E.__extends(r,a),r.prototype.matches=function(o){var d=this,m=o.field(this.field);return!(!Mo(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(C){return pr(d.value.arrayValue,C)})},r}(_r),Yi=function(a,r){this.position=a,this.before=r};function qi(a){return(a.before?"b":"a")+":"+a.position.map(function(r){return hi(r)}).join(",")}function ls(a,r,o){for(var d=0,m=0;m<a.position.length;m++){var C=r[m],S=a.position[m];if(d=C.field.p()?W.i(W.C(S.referenceValue),o.key):fr(S,o.field(C.field)),"desc"===C.dir&&(d*=-1),0!==d)break}return a.before?d<=0:d<0}function cs(a,r){if(null===a)return null===r;if(null===r||a.before!==r.before||a.position.length!==r.position.length)return!1;for(var o=0;o<a.position.length;o++)if(!hn(a.position[o],r.position[o]))return!1;return!0}var $o=function(a,r){void 0===r&&(r="asc"),this.field=a,this.dir=r};function Ms(a,r,o){var m,S,k,z,d=a.field.p()?W.i(r.key,o.key):(S=o,k=r.field(m=a.field),z=S.field(m),null!==k&&null!==z?fr(k,z):nt());switch(a.dir){case"asc":return d;case"desc":return-1*d;default:return nt()}}function Wo(a,r){return a.dir===r.dir&&a.field.isEqual(r.field)}var Xn=function(){var a=this;this.promise=new Promise(function(r,o){a.resolve=r,a.reject=o})},ds=function(){function a(r,o,d,m,C){void 0===d&&(d=1e3),void 0===m&&(m=1.5),void 0===C&&(C=6e4),this.fn=r,this.dn=o,this.wn=d,this.mn=m,this.Tn=C,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return a.prototype.reset=function(){this.En=0},a.prototype.Rn=function(){this.En=this.Tn},a.prototype.gn=function(r){var o=this;this.cancel();var d=Math.floor(this.En+this.Pn()),m=Math.max(0,Date.now()-this.An),C=Math.max(0,d-m);C>0&&ye("ExponentialBackoff","Backing off for "+C+" ms (base delay: "+this.En+" ms, delay with jitter: "+d+" ms, last attempt: "+m+" ms ago)"),this.In=this.fn.yn(this.dn,C,function(){return o.An=Date.now(),r()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},a.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},a.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},a.prototype.Pn=function(){return(Math.random()-.5)*this.En},a}(),kt=function(){function a(r){var o=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,r(function(d){o.Sn=!0,o.result=d,o.bn&&o.bn(d)},function(d){o.Sn=!0,o.error=d,o.vn&&o.vn(d)})}return a.prototype.catch=function(r){return this.next(void 0,r)},a.prototype.next=function(r,o){var d=this;return this.Dn&&nt(),this.Dn=!0,this.Sn?this.error?this.Cn(o,this.error):this.Nn(r,this.result):new a(function(m,C){d.bn=function(S){d.Nn(r,S).next(m,C)},d.vn=function(S){d.Cn(o,S).next(m,C)}})},a.prototype.Fn=function(){var r=this;return new Promise(function(o,d){r.next(o,d)})},a.prototype.xn=function(r){try{var o=r();return o instanceof a?o:a.resolve(o)}catch(d){return a.reject(d)}},a.prototype.Nn=function(r,o){return r?this.xn(function(){return r(o)}):a.resolve(o)},a.prototype.Cn=function(r,o){return r?this.xn(function(){return r(o)}):a.reject(o)},a.resolve=function(r){return new a(function(o,d){o(r)})},a.reject=function(r){return new a(function(o,d){d(r)})},a.$n=function(r){return new a(function(o,d){var m=0,C=0,S=!1;r.forEach(function(k){++m,k.next(function(){++C,S&&C===m&&o()},function(z){return d(z)})}),S=!0,C===m&&o()})},a.kn=function(r){for(var o=a.resolve(!1),d=function(S){o=o.next(function(k){return k?a.resolve(k):S()})},m=0,C=r;m<C.length;m++)d(C[m]);return o},a.forEach=function(r,o){var d=this,m=[];return r.forEach(function(C,S){m.push(o.call(d,C,S))}),this.$n(m)},a}(),Er=function(){function a(r,o,d){this.name=r,this.version=o,this.Mn=d,12.2===a.On(ke.getUA())&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(r){return ye("SimpleDb","Removing database:",r),Sr(window.indexedDB.deleteDatabase(r)).Fn()},a.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(a.Bn())return!0;var r=ke.getUA(),o=a.On(r),d=0<o&&o<10,m=a.qn(r),C=0<m&&m<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||d||C)},a.Bn=function(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Un)},a.Qn=function(r,o){return r.store(o)},a.On=function(r){var o=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(d)},a.qn=function(r){var o=r.match(/Android ([\d.]+)/i),d=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(d)},a.prototype.Wn=function(r){return E.__awaiter(this,void 0,void 0,function(){var o,d=this;return E.__generator(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(ye("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(C,S){var k=indexedDB.open(d.name,d.version);k.onsuccess=function(z){C(z.target.result)},k.onblocked=function(){S(new zo(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},k.onerror=function(z){var ce=z.target.error;S("VersionError"===ce.name?new X(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zo(r,ce))},k.onupgradeneeded=function(z){ye("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',z.oldVersion),d.Mn.createOrUpgrade(z.target.result,k.transaction,z.oldVersion,d.version).next(function(){ye("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:o.db=m.sent(),m.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(C){return d.jn(C)}),this.db)]}})})},a.prototype.Kn=function(r){this.jn=r,this.db&&(this.db.onversionchange=function(o){return r(o)})},a.prototype.runTransaction=function(r,o,d,m){return E.__awaiter(this,void 0,void 0,function(){var C,S,k,z,ce;return E.__generator(this,function(be){switch(be.label){case 0:C="readonly"===o,S=0,k=function(){var je,He,Xe,dt,vt;return E.__generator(this,function(sn){switch(sn.label){case 0:++S,sn.label=1;case 1:return sn.trys.push([1,4,,5]),[4,z.Wn(r)];case 2:return z.db=sn.sent(),je=gr.open(z.db,r,C?"readonly":"readwrite",d),He=m(je).catch(function(on){return je.abort(on),kt.reject(on)}).Fn(),Xe={},He.catch(function(){}),[4,je.Gn];case 3:return[2,(Xe.value=(sn.sent(),He),Xe)];case 4:return ye("SimpleDb","Transaction failed with error:",(dt=sn.sent()).message,"Retrying:",vt="FirebaseError"!==dt.name&&S<3),z.close(),vt?[3,5]:[2,{value:Promise.reject(dt)}];case 5:return[2]}})},z=this,be.label=1;case 1:return[5,k()];case 2:if("object"==typeof(ce=be.sent()))return[2,ce.value];be.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),Po=function(){function a(r){this.zn=r,this.Hn=!1,this.Yn=null}return Object.defineProperty(a.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(r){this.zn=r},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Hn=!0},a.prototype.Xn=function(r){this.Yn=r},a.prototype.delete=function(){return Sr(this.zn.delete())},a}(),zo=function(a){function r(o,d){var m=this;return(m=a.call(this,ne.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+d)||this).name="IndexedDbTransactionError",m}return E.__extends(r,a),r}(X);function ko(a){return"IndexedDbTransactionError"===a.name}var gr=function(){function a(r,o){var d=this;this.action=r,this.transaction=o,this.aborted=!1,this.Zn=new Xn,this.transaction.oncomplete=function(){d.Zn.resolve()},this.transaction.onabort=function(){o.error?d.Zn.reject(new zo(r,o.error)):d.Zn.resolve()},this.transaction.onerror=function(m){var C=v(m.target.error);d.Zn.reject(new zo(r,C))}}return a.open=function(r,o,d,m){try{return new a(o,r.transaction(m,d))}catch(C){throw new zo(o,C)}},Object.defineProperty(a.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(r){r&&this.Zn.reject(r),this.aborted||(ye("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(r){var o=this.transaction.objectStore(r);return new bo(o)},a}(),bo=function(){function a(r){this.store=r}return a.prototype.put=function(r,o){var d;return void 0!==o?(ye("SimpleDb","PUT",this.store.name,r,o),d=this.store.put(o,r)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",r),d=this.store.put(r)),Sr(d)},a.prototype.add=function(r){return ye("SimpleDb","ADD",this.store.name,r,r),Sr(this.store.add(r))},a.prototype.get=function(r){var o=this;return Sr(this.store.get(r)).next(function(d){return void 0===d&&(d=null),ye("SimpleDb","GET",o.store.name,r,d),d})},a.prototype.delete=function(r){return ye("SimpleDb","DELETE",this.store.name,r),Sr(this.store.delete(r))},a.prototype.count=function(){return ye("SimpleDb","COUNT",this.store.name),Sr(this.store.count())},a.prototype.ts=function(r,o){var d=this.cursor(this.options(r,o)),m=[];return this.es(d,function(C,S){m.push(S)}).next(function(){return m})},a.prototype.ns=function(r,o){ye("SimpleDb","DELETE ALL",this.store.name);var d=this.options(r,o);d.ss=!1;var m=this.cursor(d);return this.es(m,function(C,S,k){return k.delete()})},a.prototype.rs=function(r,o){var d;o?d=r:(d={},o=r);var m=this.cursor(d);return this.es(m,o)},a.prototype.os=function(r){var o=this.cursor({});return new kt(function(d,m){o.onerror=function(C){var S=v(C.target.error);m(S)},o.onsuccess=function(C){var S=C.target.result;S?r(S.primaryKey,S.value).next(function(k){k?S.continue():d()}):d()}})},a.prototype.es=function(r,o){var d=[];return new kt(function(m,C){r.onerror=function(S){C(S.target.error)},r.onsuccess=function(S){var k=S.target.result;if(k){var z=new Po(k),ce=o(k.primaryKey,k.value,z);if(ce instanceof kt){var be=ce.catch(function(je){return z.done(),kt.reject(je)});d.push(be)}z.Sn?m():null===z.Jn?k.continue():k.continue(z.Jn)}else m()}}).next(function(){return kt.$n(d)})},a.prototype.options=function(r,o){var d=void 0;return void 0!==r&&("string"==typeof r?d=r:o=r),{index:d,range:o}},a.prototype.cursor=function(r){var o="next";if(r.reverse&&(o="prev"),r.index){var d=this.store.index(r.index);return r.ss?d.openKeyCursor(r.range,o):d.openCursor(r.range,o)}return this.store.openCursor(r.range,o)},a}();function Sr(a){return new kt(function(r,o){a.onsuccess=function(d){r(d.target.result)},a.onerror=function(d){var m=v(d.target.error);o(m)}})}var qr=!1;function v(a){var r=Er.On(ke.getUA());if(r>=12.2&&r<13){var o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){var d=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qr||(qr=!0,setTimeout(function(){throw d},0)),d}}return a}function F(){return"undefined"!=typeof window?window:null}function Q(){return"undefined"!=typeof document?document:null}var pe=function(){function a(r,o,d,m,C){this.cs=r,this.dn=o,this.us=d,this.op=m,this.hs=C,this.ls=new Xn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(S){})}return a._s=function(r,o,d,m,C){var S=new a(r,o,Date.now()+d,m,C);return S.start(d),S},a.prototype.start=function(r){var o=this;this.fs=setTimeout(function(){return o.ds()},r)},a.prototype.pn=function(){return this.ds()},a.prototype.cancel=function(r){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new X(ne.CANCELLED,"Operation cancelled"+(r?": "+r:""))))},a.prototype.ds=function(){var r=this;this.cs.ws(function(){return null!==r.fs?(r.clearTimeout(),r.op().then(function(o){return r.ls.resolve(o)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},a}(),Le=function(){function a(){var r=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new ds(this,"async_queue_retry"),this.Vs=function(){var d=Q();d&&ye("AsyncQueue","Visibility state changed to  ",d.visibilityState),r.ys.Vn()};var o=Q();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(a.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),a.prototype.ws=function(r){this.enqueue(r)},a.prototype.bs=function(r){this.vs(),this.Ss(r)},a.prototype.Ds=function(){if(!this.Is){this.Is=!0;var r=Q();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vs)}},a.prototype.enqueue=function(r){return this.vs(),this.Is?new Promise(function(o){}):this.Ss(r)},a.prototype.Cs=function(r){var o=this;this.ws(function(){return o.Es.push(r),o.Ns()})},a.prototype.Ns=function(){return E.__awaiter(this,void 0,void 0,function(){var r,o=this;return E.__generator(this,function(d){switch(d.label){case 0:if(0===this.Es.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return d.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!ko(r=d.sent()))throw r;return ye("AsyncQueue","Operation failed with retryable error: "+r),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return o.Ns()}),d.label=5;case 5:return[2]}})})},a.prototype.Ss=function(r){var o=this,d=this.Ts.then(function(){return o.gs=!0,r().catch(function(m){throw o.Rs=m,o.gs=!1,et("INTERNAL UNHANDLED ERROR: ",(S=(C=m).message||"",C.stack&&(S=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),S)),m;var C,S}).then(function(m){return o.gs=!1,m})});return this.Ts=d,d},a.prototype.yn=function(r,o,d){var m=this;this.vs(),this.Ps.indexOf(r)>-1&&(o=0);var C=pe._s(this,r,o,d,function(S){return m.Fs(S)});return this.As.push(C),C},a.prototype.vs=function(){this.Rs&&nt()},a.prototype.xs=function(){},a.prototype.$s=function(){return E.__awaiter(this,void 0,void 0,function(){var r;return E.__generator(this,function(o){switch(o.label){case 0:return[4,r=this.Ts];case 1:o.sent(),o.label=2;case 2:if(r!==this.Ts)return[3,0];o.label=3;case 3:return[2]}})})},a.prototype.ks=function(r){for(var o=0,d=this.As;o<d.length;o++)if(d[o].dn===r)return!0;return!1},a.prototype.Ms=function(r){var o=this;return this.$s().then(function(){o.As.sort(function(S,k){return S.us-k.us});for(var d=0,m=o.As;d<m.length;d++){var C=m[d];if(C.pn(),"all"!==r&&C.dn===r)break}return o.$s()})},a.prototype.Os=function(r){this.Ps.push(r)},a.prototype.Fs=function(r){var o=this.As.indexOf(r);this.As.splice(o,1)},a}();function it(a,r){if(et("AsyncQueue",r+": "+a),ko(a))return new X(ne.UNAVAILABLE,r+": "+a);throw a}var Wt=function(){this.Ls=void 0,this.listeners=[]},xn=function(){this.Bs=new ze(function(a){return Oo(a)},zi),this.onlineState="Unknown",this.qs=new Set};function bn(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m,C,S,k,z;return E.__generator(this,function(ce){switch(ce.label){case 0:if(o=Ze(a),m=!1,(C=o.Bs.get(d=r.query))||(m=!0,C=new Wt),!m)return[3,4];ce.label=1;case 1:return ce.trys.push([1,3,,4]),S=C,[4,o.Us(d)];case 2:return S.Ls=ce.sent(),[3,4];case 3:return k=ce.sent(),z=it(k,"Initialization of query '"+Ho(r.query)+"' failed"),[2,void r.onError(z)];case 4:return o.Bs.set(d,C),C.listeners.push(r),r.Qs(o.onlineState),C.Ls&&r.Ws(C.Ls)&&Ve(o),[2]}})})}function O(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m,C,S;return E.__generator(this,function(k){return o=Ze(a),m=!1,(C=o.Bs.get(d=r.query))&&(S=C.listeners.indexOf(r))>=0&&(C.listeners.splice(S,1),m=0===C.listeners.length),m?[2,(o.Bs.delete(d),o.js(d))]:[2]})})}function P(a,r){for(var o=Ze(a),d=!1,m=0,C=r;m<C.length;m++){var S=C[m],z=o.Bs.get(S.query);if(z){for(var ce=0,be=z.listeners;ce<be.length;ce++)be[ce].Ws(S)&&(d=!0);z.Ls=S}}d&&Ve(o)}function ie(a,r,o){var d=Ze(a),m=d.Bs.get(r);if(m)for(var C=0,S=m.listeners;C<S.length;C++)S[C].onError(o);d.Bs.delete(r)}function Ve(a){a.qs.forEach(function(r){r.next()})}var St=function(){function a(r,o,d){this.query=r,this.Ks=o,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=d||{}}return a.prototype.Ws=function(r){if(!this.options.includeMetadataChanges){for(var o=[],d=0,m=r.docChanges;d<m.length;d++){var C=m[d];3!==C.type&&o.push(C)}r=new hr(r.query,r.docs,r.Qt,o,r.Wt,r.fromCache,r.jt,!0)}var S=!1;return this.Gs?this.Hs(r)&&(this.Ks.next(r),S=!0):this.Ys(r,this.onlineState)&&(this.Js(r),S=!0),this.zs=r,S},a.prototype.onError=function(r){this.Ks.error(r)},a.prototype.Qs=function(r){this.onlineState=r;var o=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,r)&&(this.Js(this.zs),o=!0),o},a.prototype.Ys=function(r,o){return!r.fromCache||!(this.options.Xs&&"Offline"!==o||r.docs.m()&&"Offline"!==o)},a.prototype.Hs=function(r){return r.docChanges.length>0||!!(r.jt||this.zs&&this.zs.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.Js=function(r){r=hr.Gt(r.query,r.docs,r.Wt,r.fromCache),this.Gs=!0,this.Ks.next(r)},a}(),an=function(){function a(r){this.uid=r}return a.prototype.Zs=function(){return null!=this.uid},a.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(r){return r.uid===this.uid},a}();an.UNAUTHENTICATED=new an(null),an.ei=new an("google-credentials-uid"),an.ni=new an("first-party-uid");var qn=function(){function a(r,o){var d=this;this.previousValue=r,o&&(o.si=function(m){return d.ii(m)},this.ri=function(m){return o.oi(m)})}return a.prototype.ii=function(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue},a.prototype.next=function(){var r=++this.previousValue;return this.ri&&this.ri(r),r},a}();function ci(a,r){return"firestore_clients_"+a+"_"+r}function Ri(a,r,o){var d="firestore_mutations_"+a+"_"+o;return r.Zs()&&(d+="_"+r.uid),d}function Fo(a,r){return"firestore_targets_"+a+"_"+r}qn.ai=-1;var la=function(){function a(r,o,d,m){this.user=r,this.batchId=o,this.state=d,this.error=m}return a.ci=function(r,o,d){var m=JSON.parse(d),C="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error),S=void 0;return C&&m.error&&(C="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(S=new X(m.error.code,m.error.message)),C?new a(r,o,m.state,S):(et("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+d),null)},a.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},a}(),bs=function(){function a(r,o,d){this.targetId=r,this.state=o,this.error=d}return a.ci=function(r,o){var d=JSON.parse(o),m="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error),C=void 0;return m&&d.error&&(m="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(C=new X(d.error.code,d.error.message)),m?new a(r,d.state,C):(et("SharedClientState","Failed to parse target state for ID '"+r+"': "+o),null)},a.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},a}(),js=function(){function a(r,o){this.clientId=r,this.activeTargetIds=o}return a.ci=function(r,o){for(var d=JSON.parse(o),m="object"==typeof d&&d.activeTargetIds instanceof Array,C=Ki(),S=0;m&&S<d.activeTargetIds.length;++S)m=Ce(d.activeTargetIds[S]),C=C.add(d.activeTargetIds[S]);return m?new a(r,C):(et("SharedClientState","Failed to parse client data for instance '"+r+"': "+o),null)},a}(),Ya=function(){function a(r,o){this.clientId=r,this.onlineState=o}return a.ci=function(r){var o=JSON.parse(r);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new a(o.clientId,o.onlineState):(et("SharedClientState","Failed to parse online state: "+r),null)},a}(),Js=function(){function a(){this.activeTargetIds=Ki()}return a.prototype.hi=function(r){this.activeTargetIds=this.activeTargetIds.add(r)},a.prototype.li=function(r){this.activeTargetIds=this.activeTargetIds.delete(r)},a.prototype.ui=function(){var r={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(r)},a}(),Hs=function(){function a(r,o,d,m,C){this.window=r,this.fn=o,this.persistenceKey=d,this._i=m,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new kn(Ut),this.Ei=!1,this.Ii=[];var S=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.Ai=ci(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Js),this.gi=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return a.Ln=function(r){return!(!r||!r.localStorage)},a.prototype.start=function(){return E.__awaiter(this,void 0,void 0,function(){var r,o,d,m,C,S,k,z,ce,be,He=this;return E.__generator(this,function(Xe){switch(Xe.label){case 0:return[4,this.fi.pi()];case 1:for(r=Xe.sent(),o=0,d=r;o<d.length;o++)(m=d[o])!==this._i&&(C=this.getItem(ci(this.persistenceKey,m)))&&(S=js.ci(m,C))&&(this.Ti=this.Ti.ot(S.clientId,S));for(this.bi(),(k=this.storage.getItem(this.Vi))&&(z=this.vi(k))&&this.Si(z),ce=0,be=this.Ii;ce<be.length;ce++)this.mi(be[ce]);return this.Ii=[],this.window.addEventListener("unload",function(){return He.Di()}),this.Ei=!0,[2]}})})},a.prototype.oi=function(r){this.setItem(this.Ri,JSON.stringify(r))},a.prototype.Ci=function(){return this.Ni(this.Ti)},a.prototype.Fi=function(r){var o=!1;return this.Ti.forEach(function(d,m){m.activeTargetIds.has(r)&&(o=!0)}),o},a.prototype.xi=function(r){this.$i(r,"pending")},a.prototype.ki=function(r,o,d){this.$i(r,o,d),this.Mi(r)},a.prototype.Oi=function(r){var o="not-current";if(this.Fi(r)){var d=this.storage.getItem(Fo(this.persistenceKey,r));if(d){var m=bs.ci(r,d);m&&(o=m.state)}}return this.Li.hi(r),this.bi(),o},a.prototype.Bi=function(r){this.Li.li(r),this.bi()},a.prototype.qi=function(r){return this.Li.activeTargetIds.has(r)},a.prototype.Ui=function(r){this.removeItem(Fo(this.persistenceKey,r))},a.prototype.Qi=function(r,o,d){this.Wi(r,o,d)},a.prototype.ji=function(r,o,d){var m=this;o.forEach(function(C){m.Mi(C)}),this.currentUser=r,d.forEach(function(C){m.xi(C)})},a.prototype.Ki=function(r){this.Gi(r)},a.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},a.prototype.getItem=function(r){var o=this.storage.getItem(r);return ye("SharedClientState","READ",r,o),o},a.prototype.setItem=function(r,o){ye("SharedClientState","SET",r,o),this.storage.setItem(r,o)},a.prototype.removeItem=function(r){ye("SharedClientState","REMOVE",r),this.storage.removeItem(r)},a.prototype.mi=function(r){var o=this,d=r;if(d.storageArea===this.storage){if(ye("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Ai)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return E.__awaiter(o,void 0,void 0,function(){var m,C,S,k,z,ce;return E.__generator(this,function(be){if(this.Ei){if(null!==d.key)if(this.gi.test(d.key)){if(null==d.newValue)return m=this.zi(d.key),[2,this.Hi(m,null)];if(C=this.Yi(d.key,d.newValue))return[2,this.Hi(C.clientId,C)]}else if(this.Pi.test(d.key)){if(null!==d.newValue&&(S=this.Ji(d.key,d.newValue)))return[2,this.Xi(S)]}else if(this.yi.test(d.key)){if(null!==d.newValue&&(k=this.Zi(d.key,d.newValue)))return[2,this.tr(k)]}else if(d.key===this.Vi){if(null!==d.newValue&&(z=this.vi(d.newValue)))return[2,this.Si(z)]}else d.key===this.Ri&&(ce=function(je){var He=qn.ai;if(null!=je)try{var Xe=JSON.parse(je);Te("number"==typeof Xe),He=Xe}catch(dt){et("SharedClientState","Failed to read sequence number from WebStorage",dt)}return He}(d.newValue))!==qn.ai&&this.si(ce)}else this.Ii.push(d);return[2]})})})}},Object.defineProperty(a.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),a.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},a.prototype.$i=function(r,o,d){var m=new la(this.currentUser,r,o,d),C=Ri(this.persistenceKey,this.currentUser,r);this.setItem(C,m.ui())},a.prototype.Mi=function(r){var o=Ri(this.persistenceKey,this.currentUser,r);this.removeItem(o)},a.prototype.Gi=function(r){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:r}))},a.prototype.Wi=function(r,o,d){var m=Fo(this.persistenceKey,r),C=new bs(r,o,d);this.setItem(m,C.ui())},a.prototype.zi=function(r){var o=this.gi.exec(r);return o?o[1]:null},a.prototype.Yi=function(r,o){var d=this.zi(r);return js.ci(d,o)},a.prototype.Ji=function(r,o){var d=this.Pi.exec(r),m=Number(d[1]);return la.ci(new an(void 0!==d[2]?d[2]:null),m,o)},a.prototype.Zi=function(r,o){var d=this.yi.exec(r),m=Number(d[1]);return bs.ci(m,o)},a.prototype.vi=function(r){return Ya.ci(r)},a.prototype.Xi=function(r){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(o){return r.user.uid===this.currentUser.uid?[2,this.fi.er(r.batchId,r.state,r.error)]:(ye("SharedClientState","Ignoring mutation for non-active user "+r.user.uid),[2])})})},a.prototype.tr=function(r){return this.fi.nr(r.targetId,r.state,r.error)},a.prototype.Hi=function(r,o){var d=this,m=o?this.Ti.ot(r,o):this.Ti.remove(r),C=this.Ni(this.Ti),S=this.Ni(m),k=[],z=[];return S.forEach(function(ce){C.has(ce)||k.push(ce)}),C.forEach(function(ce){S.has(ce)||z.push(ce)}),this.fi.sr(k,z).then(function(){d.Ti=m})},a.prototype.Si=function(r){this.Ti.get(r.clientId)&&this.di(r.onlineState)},a.prototype.Ni=function(r){var o=Ki();return r.forEach(function(d,m){o=o.kt(m.activeTargetIds)}),o},a}(),xs=function(){function a(){this.ir=new Js,this.rr={},this.di=null,this.si=null}return a.prototype.xi=function(r){},a.prototype.ki=function(r,o,d){},a.prototype.Oi=function(r){return this.ir.hi(r),this.rr[r]||"not-current"},a.prototype.Qi=function(r,o,d){this.rr[r]=o},a.prototype.Bi=function(r){this.ir.li(r)},a.prototype.qi=function(r){return this.ir.activeTargetIds.has(r)},a.prototype.Ui=function(r){delete this.rr[r]},a.prototype.Ci=function(){return this.ir.activeTargetIds},a.prototype.Fi=function(r){return this.ir.activeTargetIds.has(r)},a.prototype.start=function(){return this.ir=new Js,Promise.resolve()},a.prototype.ji=function(r,o,d){},a.prototype.Ki=function(r){},a.prototype.Di=function(){},a.prototype.oi=function(r){},a}(),Ks=function(){function a(r,o,d,m){this.batchId=r,this.ar=o,this.baseMutations=d,this.mutations=m}return a.prototype.cr=function(r,o,d){for(var m=d.ur,C=0;C<this.mutations.length;C++){var S=this.mutations[C];S.key.isEqual(r)&&(o=G(S,o,m[C]))}return o},a.prototype.hr=function(r,o){for(var d=0,m=this.baseMutations;d<m.length;d++){var C=m[d];C.key.isEqual(r)&&(o=fe(C,o,o,this.ar))}for(var S=o,k=0,z=this.mutations;k<z.length;k++){var ce=z[k];ce.key.isEqual(r)&&(o=fe(ce,o,S,this.ar))}return o},a.prototype.lr=function(r){var o=this,d=r;return this.mutations.forEach(function(m){var C=o.hr(m.key,r.get(m.key));C&&(d=d.ot(m.key,C))}),d},a.prototype.keys=function(){return this.mutations.reduce(function(r,o){return r.add(o.key)},Gn())},a.prototype.isEqual=function(r){return this.batchId===r.batchId&&Cn(this.mutations,r.mutations,function(o,d){return pt(o,d)})&&Cn(this.baseMutations,r.baseMutations,function(o,d){return pt(o,d)})},a}(),_=function(){function a(r,o,d,m){this.batch=r,this._r=o,this.ur=d,this.dr=m}return a.from=function(r,o,d){Te(r.mutations.length===d.length);for(var m=Tn,C=r.mutations,S=0;S<C.length;S++)m=m.ot(C[S].key,d[S].version);return new a(r,o,d,m)},a}(),c=function(){function a(){this.wr=new ze(function(r){return r.toString()},function(r,o){return r.isEqual(o)}),this.mr=!1}return Object.defineProperty(a.prototype,"readTime",{get:function(){return this.Tr},set:function(r){this.Tr=r},enumerable:!1,configurable:!0}),a.prototype.Er=function(r,o){this.Ir(),this.readTime=o,this.wr.set(r.key,r)},a.prototype.Ar=function(r,o){this.Ir(),o&&(this.readTime=o),this.wr.set(r,null)},a.prototype.Rr=function(r,o){this.Ir();var d=this.wr.get(o);return void 0!==d?kt.resolve(d):this.gr(r,o)},a.prototype.getEntries=function(r,o){return this.Pr(r,o)},a.prototype.apply=function(r){return this.Ir(),this.mr=!0,this.yr(r)},a.prototype.Ir=function(){},a}(),p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function a(){this.Vr=[]}return a.prototype.pr=function(r){this.Vr.push(r)},a.prototype.br=function(){this.Vr.forEach(function(r){return r()})},a}(),A=function(){function a(r,o,d){this.vr=r,this.Sr=o,this.Dr=d}return a.prototype.Cr=function(r,o){var d=this;return this.Sr.Nr(r,o).next(function(m){return d.Fr(r,o,m)})},a.prototype.Fr=function(r,o,d){return this.vr.Rr(r,o).next(function(m){for(var C=0,S=d;C<S.length;C++)m=S[C].hr(o,m);return m})},a.prototype.$r=function(r,o,d){var m=Ti();return o.forEach(function(C,S){for(var k=0,z=d;k<z.length;k++)S=z[k].hr(C,S);m=m.ot(C,S)}),m},a.prototype.kr=function(r,o){var d=this;return this.vr.getEntries(r,o).next(function(m){return d.Mr(r,m)})},a.prototype.Mr=function(r,o){var d=this;return this.Sr.Or(r,o).next(function(m){var C=d.$r(r,o,m),S=Vr();return C.forEach(function(k,z){z||(z=new Cr(k,at.min())),S=S.ot(k,z)}),S})},a.prototype.Lr=function(r,o,d){return W.F((m=o).path)&&null===m.collectionGroup&&0===m.filters.length?this.Br(r,o.path):Mi(o)?this.qr(r,o,d):this.Ur(r,o,d);var m},a.prototype.Br=function(r,o){return this.Cr(r,new W(o)).next(function(d){var m=Ar();return d instanceof qt&&(m=m.ot(d.key,d)),m})},a.prototype.qr=function(r,o,d){var m=this,C=o.collectionGroup,S=Ar();return this.Dr.Qr(r,C).next(function(k){return kt.forEach(k,function(z){var be,je,ce=(be=o,je=z.child(C),new To(je,null,be.on.slice(),be.filters.slice(),be.limit,be.an,be.startAt,be.endAt));return m.Ur(r,ce,d).next(function(be){be.forEach(function(je,He){S=S.ot(je,He)})})}).next(function(){return S})})},a.prototype.Ur=function(r,o,d){var m,C,S=this;return this.vr.Lr(r,o,d).next(function(k){return m=k,S.Sr.Wr(r,o)}).next(function(k){return S.jr(r,C=k,m).next(function(z){m=z;for(var ce=0,be=C;ce<be.length;ce++)for(var je=be[ce],He=0,Xe=je.mutations;He<Xe.length;He++){var dt=Xe[He],vt=dt.key,sn=m.get(vt),on=fe(dt,sn,sn,je.ar);m=on instanceof qt?m.ot(vt,on):m.remove(vt)}})}).next(function(){return m.forEach(function(k,z){oo(o,z)||(m=m.remove(k))}),m})},a.prototype.jr=function(r,o,d){for(var m=Gn(),C=0,S=o;C<S.length;C++)for(var k=0,z=S[C].mutations;k<z.length;k++){var ce=z[k];ce instanceof mn&&null===d.get(ce.key)&&(m=m.add(ce.key))}var be=d;return this.vr.getEntries(r,m).next(function(je){return je.forEach(function(He,Xe){null!==Xe&&Xe instanceof qt&&(be=be.ot(He,Xe))}),be})},a}(),R=function(){function a(r,o,d,m){this.targetId=r,this.fromCache=o,this.Kr=d,this.Gr=m}return a.zr=function(r,o){for(var d=Gn(),m=Gn(),C=0,S=o.docChanges;C<S.length;C++){var k=S[C];switch(k.type){case 0:d=d.add(k.doc.key);break;case 1:m=m.add(k.doc.key)}}return new a(r,o.fromCache,d,m)},a}();function K(a,r){var d=a[1],C=r[1],S=Ut(a[0],r[0]);return 0===S?Ut(d,C):S}var ue=function(){function a(r){this.Hr=r,this.buffer=new rr(K),this.Yr=0}return a.prototype.Jr=function(){return++this.Yr},a.prototype.Xr=function(r){var o=[r,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(o);else{var d=this.buffer.last();K(o,d)<0&&(this.buffer=this.buffer.delete(d).add(o))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),_e={Zr:!1,eo:0,no:0,so:0},me=function(){function a(r,o,d){this.io=r,this.ro=o,this.oo=d}return a.ao=function(r){return new a(r,a.co,a.uo)},a}();me.ho=-1,me.lo=1048576,me._o=41943040,me.co=10,me.uo=1e3,me.fo=new me(me._o,me.co,me.uo),me.do=new me(me.ho,0,0);var Qe=function(){function a(r,o){this.wo=r,this.cs=o,this.mo=!1,this.To=null}return a.prototype.start=function(r){this.wo.params.io!==me.ho&&this.Eo(r)},a.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(a.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),a.prototype.Eo=function(r){var o=this,d=this.mo?3e5:6e4;ye("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.To=this.cs.yn("lru_garbage_collection",d,function(){return E.__awaiter(o,void 0,void 0,function(){var m;return E.__generator(this,function(C){switch(C.label){case 0:this.To=null,this.mo=!0,C.label=1;case 1:return C.trys.push([1,3,,7]),[4,r.Io(this.wo)];case 2:return C.sent(),[3,7];case 3:return ko(m=C.sent())?(ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,zs(m)];case 5:C.sent(),C.label=6;case 6:return[3,7];case 7:return[4,this.Eo(r)];case 8:return C.sent(),[2]}})})})},a}(),ut=function(){function a(r,o){this.Ao=r,this.params=o}return a.prototype.Ro=function(r,o){return this.Ao.Po(r).next(function(d){return Math.floor(o/100*d)})},a.prototype.yo=function(r,o){var d=this;if(0===o)return kt.resolve(qn.ai);var m=new ue(o);return this.Ao.Ce(r,function(C){return m.Xr(C.sequenceNumber)}).next(function(){return d.Ao.Vo(r,function(C){return m.Xr(C)})}).next(function(){return m.maxValue})},a.prototype.po=function(r,o,d){return this.Ao.po(r,o,d)},a.prototype.bo=function(r,o){return this.Ao.bo(r,o)},a.prototype.vo=function(r,o){var d=this;return this.params.io===me.ho?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),kt.resolve(_e)):this.So(r).next(function(m){return m<d.params.io?(ye("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+d.params.io),_e):d.Do(r,o)})},a.prototype.So=function(r){return this.Ao.So(r)},a.prototype.Do=function(r,o){var d,m,C,S,k,z,ce,be=this,je=Date.now();return this.Ro(r,this.params.ro).next(function(He){return He>be.params.oo?(ye("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+be.params.oo+" from "+He),m=be.params.oo):m=He,S=Date.now(),be.yo(r,m)}).next(function(He){return d=He,k=Date.now(),be.po(r,d,o)}).next(function(He){return C=He,z=Date.now(),be.bo(r,d)}).next(function(He){return ce=Date.now(),ge()<=J.LogLevel.DEBUG&&ye("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-je)+"ms\n\tDetermined least recently used "+m+" in "+(k-S)+"ms\n\tRemoved "+C+" targets in "+(z-k)+"ms\n\tRemoved "+He+" documents in "+(ce-z)+"ms\nTotal Duration: "+(ce-je)+"ms"),kt.resolve({Zr:!0,eo:m,no:C,so:He})})},a}();function M(a){for(var r="",o=0;o<a.length;o++)r.length>0&&(r=T(r)),r=N(a.get(o),r);return T(r)}function N(a,r){for(var o=r,d=a.length,m=0;m<d;m++){var C=a.charAt(m);switch(C){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=C}}return o}function T(a){return a+"\x01\x01"}function B(a){var r=a.length;if(Te(r>=2),2===r)return Te("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),wt.P();for(var o=r-2,d=[],m="",C=0;C<r;){var S=a.indexOf("\x01",C);switch((S<0||S>o)&&nt(),a.charAt(S+1)){case"\x01":var k=a.substring(C,S),z=void 0;0===m.length?z=k:(z=m+=k,m=""),d.push(z);break;case"\x10":m+=a.substring(C,S),m+="\0";break;case"\x11":m+=a.substring(C,S+1);break;default:nt()}C=S+2}return new wt(d)}var Y=function(a){this.Co=a};function se(a,r){if(r.document)return z=!!r.hasCommittedMutations,ce=Mr(a.Co,(k=r.document).name),be=Or(k.updateTime),je=new Vi({mapValue:{fields:k.fields}}),new qt(ce,be,je,{hasCommittedMutations:!!z});var k,z,ce,be,je;if(r.noDocument){var o=W.$(r.noDocument.path),d=gn(r.noDocument.readTime);return new Cr(o,d,{hasCommittedMutations:!!r.hasCommittedMutations})}if(r.unknownDocument){var m=W.$(r.unknownDocument.path),C=gn(r.unknownDocument.version);return new Wi(m,C)}return nt()}function xe(a,r,o){var He,Xe,d=We(o),m=r.key.path.h().A();if(r instanceof qt){var C={name:pi(He=a.Co,(Xe=r).key),fields:Xe.rn().mapValue.fields,updateTime:ji(He,Xe.version.Z())};return new Qi(null,null,C,r.hasCommittedMutations,d,m)}if(r instanceof Cr){var k=r.key.path.A(),z=Xt(r.version),ce=r.hasCommittedMutations;return new Qi(null,new gf(k,z),null,ce,d,m)}if(r instanceof Wi){var be=r.key.path.A(),je=Xt(r.version);return new Qi(new Xc(be,je),null,null,!0,d,m)}return nt()}function We(a){var r=a.Z();return[r.seconds,r.nanoseconds]}function yt(a){var r=new Ae(a[0],a[1]);return at.J(r)}function Xt(a){var r=a.Z();return new Hu(r.seconds,r.nanoseconds)}function gn(a){var r=new Ae(a.seconds,a.nanoseconds);return at.J(r)}function Ln(a,r){var o=(r.baseMutations||[]).map(function(C){return lo(a.Co,C)}),d=r.mutations.map(function(C){return lo(a.Co,C)}),m=Ae.fromMillis(r.localWriteTimeMs);return new Ks(r.batchId,m,o,d)}function Jr(a){var r,o,d=gn(a.readTime),m=void 0!==a.lastLimboFreeSnapshotVersion?gn(a.lastLimboFreeSnapshotVersion):at.min();return void 0!==a.query.documents?(Te(1===(o=a.query).documents.length),r=si(ro(Zi(o.documents[0])))):r=Gi(a.query),new Yt(r,a.targetId,0,a.lastListenSequenceNumber,d,m,Rt.fromBase64String(a.resumeToken))}function Nr(a,r){var o,d=Xt(r.nt),m=Xt(r.lastLimboFreeSnapshotVersion);o=Lt(r.target)?Jn(a.Co,r.target):xo(a.Co,r.target);var C=r.resumeToken.toBase64();return new fs(r.targetId,qe(r.target),d,C,r.sequenceNumber,m,o)}var Rs=function(){function a(r,o,d,m){this.userId=r,this.serializer=o,this.Dr=d,this.No=m,this.Fo={}}return a.xo=function(r,o,d,m){return Te(""!==r.uid),new a(r.Zs()?r.uid:"",o,d,m)},a.prototype.$o=function(r){var o=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lo(r).rs({index:kr.userMutationsIndex,range:d},function(m,C,S){o=!1,S.done()}).next(function(){return o})},a.prototype.ko=function(r,o,d,m){var C=this,S=Yo(r),k=Lo(r);return k.add({}).next(function(z){Te("number"==typeof z);for(var ce=new Ks(z,o,d,m),be=function(on,Rn,er){var cr=er.baseMutations.map(function(ai){return yr(on.Co,ai)}),Gr=er.mutations.map(function(ai){return yr(on.Co,ai)});return new kr(Rn,er.batchId,er.ar.toMillis(),cr,Gr)}(C.serializer,C.userId,ce),je=[],He=new rr(function(on,Rn){return Ut(on.R(),Rn.R())}),Xe=0,dt=m;Xe<dt.length;Xe++){var vt=dt[Xe],sn=so.key(C.userId,vt.key.path,z);He=He.add(vt.key.path.h()),je.push(k.put(be)),je.push(S.put(sn,so.PLACEHOLDER))}return He.forEach(function(on){je.push(C.Dr.Mo(r,on))}),r.pr(function(){C.Fo[z]=ce.keys()}),kt.$n(je).next(function(){return ce})})},a.prototype.Oo=function(r,o){var d=this;return Lo(r).get(o).next(function(m){return m?(Te(m.userId===d.userId),Ln(d.serializer,m)):null})},a.prototype.Lo=function(r,o){var d=this;return this.Fo[o]?kt.resolve(this.Fo[o]):this.Oo(r,o).next(function(m){if(m){var C=m.keys();return d.Fo[o]=C,C}return null})},a.prototype.Bo=function(r,o){var d=this,m=o+1,C=IDBKeyRange.lowerBound([this.userId,m]),S=null;return Lo(r).rs({index:kr.userMutationsIndex,range:C},function(k,z,ce){z.userId===d.userId&&(Te(z.batchId>=m),S=Ln(d.serializer,z)),ce.done()}).next(function(){return S})},a.prototype.qo=function(r){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return Lo(r).rs({index:kr.userMutationsIndex,range:o,reverse:!0},function(m,C,S){d=C.batchId,S.done()}).next(function(){return d})},a.prototype.Uo=function(r){var o=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lo(r).ts(kr.userMutationsIndex,d).next(function(m){return m.map(function(C){return Ln(o.serializer,C)})})},a.prototype.Nr=function(r,o){var d=this,m=so.prefixForPath(this.userId,o.path),C=IDBKeyRange.lowerBound(m),S=[];return Yo(r).rs({range:C},function(k,z,ce){var be=k[0],He=k[2],Xe=B(k[1]);if(be===d.userId&&o.path.isEqual(Xe))return Lo(r).get(He).next(function(dt){if(!dt)throw nt();Te(dt.userId===d.userId),S.push(Ln(d.serializer,dt))});ce.done()}).next(function(){return S})},a.prototype.Or=function(r,o){var d=this,m=new rr(Ut),C=[];return o.forEach(function(S){var k=so.prefixForPath(d.userId,S.path),z=IDBKeyRange.lowerBound(k),ce=Yo(r).rs({range:z},function(be,je,He){var Xe=be[0],vt=be[2],sn=B(be[1]);Xe===d.userId&&S.path.isEqual(sn)?m=m.add(vt):He.done()});C.push(ce)}),kt.$n(C).next(function(){return d.Qo(r,m)})},a.prototype.Wr=function(r,o){var d=this,m=o.path,C=m.length+1,S=so.prefixForPath(this.userId,m),k=IDBKeyRange.lowerBound(S),z=new rr(Ut);return Yo(r).rs({range:k},function(ce,be,je){var He=ce[0],dt=ce[2],vt=B(ce[1]);He===d.userId&&m.T(vt)?vt.length===C&&(z=z.add(dt)):je.done()}).next(function(){return d.Qo(r,z)})},a.prototype.Qo=function(r,o){var d=this,m=[],C=[];return o.forEach(function(S){C.push(Lo(r).get(S).next(function(k){if(null===k)throw nt();Te(k.userId===d.userId),m.push(Ln(d.serializer,k))}))}),kt.$n(C).next(function(){return m})},a.prototype.Wo=function(r,o){var d=this;return es(r.jo,this.userId,o).next(function(m){return r.pr(function(){d.Ko(o.batchId)}),kt.forEach(m,function(C){return d.No.Go(r,C)})})},a.prototype.Ko=function(r){delete this.Fo[r]},a.prototype.zo=function(r){var o=this;return this.$o(r).next(function(d){if(!d)return kt.resolve();var m=IDBKeyRange.lowerBound(so.prefixForUser(o.userId)),C=[];return Yo(r).rs({range:m},function(S,k,z){if(S[0]===o.userId){var ce=B(S[1]);C.push(ce)}else z.done()}).next(function(){Te(0===C.length)})})},a.prototype.Ho=function(r,o){return So(r,this.userId,o)},a.prototype.Yo=function(r){var o=this;return Vo(r).get(this.userId).next(function(d){return d||new Kr(o.userId,-1,"")})},a}();function So(a,r,o){var d=so.prefixForPath(r,o.path),m=d[1],C=IDBKeyRange.lowerBound(d),S=!1;return Yo(a).rs({range:C,ss:!0},function(k,z,ce){k[0]===r&&k[1]===m&&(S=!0),ce.done()}).next(function(){return S})}function es(a,r,o){var d=a.store(kr.store),m=a.store(so.store),C=[],S=IDBKeyRange.only(o.batchId),k=0,z=d.rs({range:S},function(dt,vt,sn){return k++,sn.delete()});C.push(z.next(function(){Te(1===k)}));for(var ce=[],be=0,je=o.mutations;be<je.length;be++){var He=je[be],Xe=so.key(r,He.key.path,o.batchId);C.push(m.delete(Xe)),ce.push(He.key)}return kt.$n(C).next(function(){return ce})}function Lo(a){return ns.Qn(a,kr.store)}function Yo(a){return ns.Qn(a,so.store)}function Vo(a){return ns.Qn(a,Kr.store)}var Gs=function(){function a(r,o){this.serializer=r,this.Dr=o}return a.prototype.Er=function(r,o,d){return $s(r).put(Ws(o),d)},a.prototype.Ar=function(r,o){var d=$s(r),m=Ws(o);return d.delete(m)},a.prototype.updateMetadata=function(r,o){var d=this;return this.getMetadata(r).next(function(m){return m.byteSize+=o,d.Jo(r,m)})},a.prototype.Rr=function(r,o){var d=this;return $s(r).get(Ws(o)).next(function(m){return d.Xo(m)})},a.prototype.Zo=function(r,o){var d=this;return $s(r).get(Ws(o)).next(function(m){var C=d.Xo(m);return C?{ta:C,size:hl(m)}:null})},a.prototype.getEntries=function(r,o){var d=this,m=Ti();return this.ea(r,o,function(C,S){var k=d.Xo(S);m=m.ot(C,k)}).next(function(){return m})},a.prototype.na=function(r,o){var d=this,m=Ti(),C=new kn(W.i);return this.ea(r,o,function(S,k){var z=d.Xo(k);z?(m=m.ot(S,z),C=C.ot(S,hl(k))):(m=m.ot(S,null),C=C.ot(S,0))}).next(function(){return{sa:m,ia:C}})},a.prototype.ea=function(r,o,d){if(o.m())return kt.resolve();var m=IDBKeyRange.bound(o.first().path.A(),o.last().path.A()),C=o._t(),S=C.It();return $s(r).rs({range:m},function(k,z,ce){for(var be=W.$(k);S&&W.i(S,be)<0;)d(S,null),S=C.It();S&&S.isEqual(be)&&(d(S,z),S=C.At()?C.It():null),S?ce.Xn(S.path.A()):ce.done()}).next(function(){for(;S;)d(S,null),S=C.At()?C.It():null})},a.prototype.Lr=function(r,o,d){var m=this,C=Ar(),S=o.path.length+1,k={};if(d.isEqual(at.min())){var z=o.path.A();k.range=IDBKeyRange.lowerBound(z)}else{var ce=o.path.A(),be=We(d);k.range=IDBKeyRange.lowerBound([ce,be],!0),k.index=Qi.collectionReadTimeIndex}return $s(r).rs(k,function(je,He,Xe){if(je.length===S){var dt=se(m.serializer,He);o.path.T(dt.key.path)?dt instanceof qt&&oo(o,dt)&&(C=C.ot(dt.key,dt)):Xe.done()}}).next(function(){return C})},a.prototype.ra=function(r){return new qa(this,!!r&&r.oa)},a.prototype.aa=function(r){return this.getMetadata(r).next(function(o){return o.byteSize})},a.prototype.getMetadata=function(r){return Qa(r).get(ts.key).next(function(o){return Te(!!o),o})},a.prototype.Jo=function(r,o){return Qa(r).put(ts.key,o)},a.prototype.Xo=function(r){if(r){var o=se(this.serializer,r);return o instanceof Cr&&o.version.isEqual(at.min())?null:o}return null},a}(),qa=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).ca=o,m.oa=d,m.ua=new ze(function(C){return C.toString()},function(C,S){return C.isEqual(S)}),m}return E.__extends(r,a),r.prototype.yr=function(o){var d=this,m=[],C=0,S=new rr(function(k,z){return Ut(k.R(),z.R())});return this.wr.forEach(function(k,z){var ce=d.ua.get(k);if(z){var be=xe(d.ca.serializer,z,d.readTime);S=S.add(k.path.h());var je=hl(be);C+=je-ce,m.push(d.ca.Er(o,k,be))}else if(C-=ce,d.oa){var He=xe(d.ca.serializer,new Cr(k,at.min()),d.readTime);m.push(d.ca.Er(o,k,He))}else m.push(d.ca.Ar(o,k))}),S.forEach(function(k){m.push(d.ca.Dr.Mo(o,k))}),m.push(this.ca.updateMetadata(o,C)),kt.$n(m)},r.prototype.gr=function(o,d){var m=this;return this.ca.Zo(o,d).next(function(C){return null===C?(m.ua.set(d,0),null):(m.ua.set(d,C.size),C.ta)})},r.prototype.Pr=function(o,d){var m=this;return this.ca.na(o,d).next(function(C){var S=C.sa;return C.ia.forEach(function(k,z){m.ua.set(k,z)}),S})},r}(c);function Qa(a){return ns.Qn(a,ts.store)}function $s(a){return ns.Qn(a,Qi.store)}function Ws(a){return a.path.A()}function hl(a){var r;if(a.document)r=a.document;else if(a.unknownDocument)r=a.unknownDocument;else{if(!a.noDocument)throw nt();r=a.noDocument}return JSON.stringify(r).length}var Bo=function(){function a(){this.ha=new Ea}return a.prototype.Mo=function(r,o){return this.ha.add(o),kt.resolve()},a.prototype.Qr=function(r,o){return kt.resolve(this.ha.getEntries(o))},a}(),Ea=function(){function a(){this.index={}}return a.prototype.add=function(r){var o=r._(),d=r.h(),m=this.index[o]||new rr(wt.i),C=!m.has(d);return this.index[o]=m.add(d),C},a.prototype.has=function(r){var o=r._(),d=r.h(),m=this.index[o];return m&&m.has(d)},a.prototype.getEntries=function(r){return(this.index[r]||new rr(wt.i)).A()},a}(),pl=function(){function a(r){this.serializer=r}return a.prototype.createOrUpgrade=function(r,o,d,m){var C=this;Te(d<m&&d>=0&&m<=10);var z,S=new gr("createOrUpgrade",o);d<1&&m>=1&&(r.createObjectStore(En.store),(z=r).createObjectStore(Kr.store,{keyPath:Kr.keyPath}),z.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0}).createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0}),z.createObjectStore(so.store),Ja(r),function(z){z.createObjectStore(Qi.store)}(r));var k=kt.resolve();return d<3&&m>=3&&(0!==d&&(function(z){z.deleteObjectStore(No.store),z.deleteObjectStore(fs.store),z.deleteObjectStore(hs.store)}(r),Ja(r)),k=k.next(function(){return function(z){var ce=z.store(hs.store),be=new hs(0,0,at.min().Z(),0);return ce.put(hs.key,be)}(S)})),d<4&&m>=4&&(0!==d&&(k=k.next(function(){return function(z,ce){return ce.store(kr.store).ts().next(function(be){z.deleteObjectStore(kr.store),z.createObjectStore(kr.store,{keyPath:kr.keyPath,autoIncrement:!0}).createIndex(kr.userMutationsIndex,kr.userMutationsKeyPath,{unique:!0});var je=ce.store(kr.store),He=be.map(function(Xe){return je.put(Xe)});return kt.$n(He)})}(r,S)})),k=k.next(function(){!function(z){z.createObjectStore(ca.store,{keyPath:ca.keyPath})}(r)})),d<5&&m>=5&&(k=k.next(function(){return C.removeAcknowledgedMutations(S)})),d<6&&m>=6&&(k=k.next(function(){return function(z){z.createObjectStore(ts.store)}(r),C.addDocumentGlobal(S)})),d<7&&m>=7&&(k=k.next(function(){return C.ensureSequenceNumbers(S)})),d<8&&m>=8&&(k=k.next(function(){return C.createCollectionParentIndex(r,S)})),d<9&&m>=9&&(k=k.next(function(){(function(z){z.objectStoreNames.contains("remoteDocumentChanges")&&z.deleteObjectStore("remoteDocumentChanges")})(r),function(z){var ce=z.objectStore(Qi.store);ce.createIndex(Qi.readTimeIndex,Qi.readTimeIndexPath,{unique:!1}),ce.createIndex(Qi.collectionReadTimeIndex,Qi.collectionReadTimeIndexPath,{unique:!1})}(o)})),d<10&&m>=10&&(k=k.next(function(){return C.rewriteCanonicalIds(S)})),k},a.prototype.addDocumentGlobal=function(r){var o=0;return r.store(Qi.store).rs(function(d,m){o+=hl(m)}).next(function(){var d=new ts(o);return r.store(ts.store).put(ts.key,d)})},a.prototype.removeAcknowledgedMutations=function(r){var o=this,d=r.store(Kr.store),m=r.store(kr.store);return d.ts().next(function(C){return kt.forEach(C,function(S){var k=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return m.ts(kr.userMutationsIndex,k).next(function(z){return kt.forEach(z,function(ce){Te(ce.userId===S.userId);var be=Ln(o.serializer,ce);return es(r,S.userId,be).next(function(){})})})})})},a.prototype.ensureSequenceNumbers=function(r){var o=r.store(No.store),d=r.store(Qi.store);return r.store(hs.store).get(hs.key).next(function(m){var C=[];return d.rs(function(S,k){var z=new wt(S),ce=[0,M(z)];C.push(o.get(ce).next(function(be){return be?kt.resolve():o.put(new No(0,M(z),m.highestListenSequenceNumber))}))}).next(function(){return kt.$n(C)})})},a.prototype.createCollectionParentIndex=function(r,o){r.createObjectStore(Oi.store,{keyPath:Oi.keyPath});var d=o.store(Oi.store),m=new Ea,C=function(S){if(m.add(S)){var k=S._(),z=S.h();return d.put({collectionId:k,parent:M(z)})}};return o.store(Qi.store).rs({ss:!0},function(S,k){var z=new wt(S);return C(z.h())}).next(function(){return o.store(so.store).rs({ss:!0},function(S,k){var ce=B(S[1]);return C(ce.h())})})},a.prototype.rewriteCanonicalIds=function(r){var o=this,d=r.store(fs.store);return d.rs(function(m,C){var S=Jr(C),k=Nr(o.serializer,S);return d.put(k)})},a}(),Hu=function(a,r){this.seconds=a,this.nanoseconds=r},En=function(a,r,o){this.ownerId=a,this.allowTabSynchronization=r,this.leaseTimestampMs=o};En.store="owner",En.key="owner";var Kr=function(a,r,o){this.userId=a,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o};Kr.store="mutationQueues",Kr.keyPath="userId";var kr=function(a,r,o,d,m){this.userId=a,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=d,this.mutations=m};kr.store="mutations",kr.keyPath="batchId",kr.userMutationsIndex="userMutationsIndex",kr.userMutationsKeyPath=["userId","batchId"];var so=function(){function a(){}return a.prefixForUser=function(r){return[r]},a.prefixForPath=function(r,o){return[r,M(o)]},a.key=function(r,o,d){return[r,M(o),d]},a}();so.store="documentMutations",so.PLACEHOLDER=new so;var gf=function(a,r){this.path=a,this.readTime=r},Xc=function(a,r){this.path=a,this.version=r},Qi=function(a,r,o,d,m,C){this.unknownDocument=a,this.noDocument=r,this.document=o,this.hasCommittedMutations=d,this.readTime=m,this.parentPath=C};Qi.store="remoteDocuments",Qi.readTimeIndex="readTimeIndex",Qi.readTimeIndexPath="readTime",Qi.collectionReadTimeIndex="collectionReadTimeIndex",Qi.collectionReadTimeIndexPath=["parentPath","readTime"];var ts=function(a){this.byteSize=a};ts.store="remoteDocumentGlobal",ts.key="remoteDocumentGlobalKey";var fs=function(a,r,o,d,m,C,S){this.targetId=a,this.canonicalId=r,this.readTime=o,this.resumeToken=d,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=C,this.query=S};fs.store="targets",fs.keyPath="targetId",fs.queryTargetsIndexName="queryTargetsIndex",fs.queryTargetsKeyPath=["canonicalId","targetId"];var No=function(a,r,o){this.targetId=a,this.path=r,this.sequenceNumber=o};No.store="targetDocuments",No.keyPath=["targetId","path"],No.documentTargetsIndex="documentTargetsIndex",No.documentTargetsKeyPath=["path","targetId"];var hs=function(a,r,o,d){this.highestTargetId=a,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=d};hs.key="targetGlobalKey",hs.store="targetGlobal";var Oi=function(a,r){this.collectionId=a,this.parent=r};function Ja(a){a.createObjectStore(No.store,{keyPath:No.keyPath}).createIndex(No.documentTargetsIndex,No.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.queryTargetsIndexName,fs.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(hs.store)}Oi.store="collectionParents",Oi.keyPath=["collectionId","parent"];var ca=function(a,r,o,d){this.clientId=a,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=d};ca.store="clientMetadata",ca.keyPath="clientId";var fo=E.__spreadArrays(E.__spreadArrays(E.__spreadArrays([Kr.store,kr.store,so.store,Qi.store,fs.store,En.store,hs.store,No.store],[ca.store]),[ts.store]),[Oi.store]),gl=function(){function a(){this.la=new Ea}return a.prototype.Mo=function(r,o){var d=this;if(!this.la.has(o)){var m=o._(),C=o.h();r.pr(function(){d.la.add(o)});var S={collectionId:m,parent:M(C)};return Tu(r).put(S)}return kt.resolve()},a.prototype.Qr=function(r,o){var d=[],m=IDBKeyRange.bound([o,""],[Vn(o),""],!1,!0);return Tu(r).ts(m).next(function(C){for(var S=0,k=C;S<k.length;S++){var z=k[S];if(z.collectionId!==o)break;d.push(B(z.parent))}return d})},a}();function Tu(a){return ns.Qn(a,Oi.store)}var Da=function(){function a(r){this._a=r}return a.prototype.next=function(){return this._a+=2,this._a},a.fa=function(){return new a(0)},a.da=function(){return new a(-1)},a}(),ho=function(){function a(r,o){this.No=r,this.serializer=o}return a.prototype.wa=function(r){var o=this;return this.ma(r).next(function(d){var m=new Da(d.highestTargetId);return d.highestTargetId=m.next(),o.Ta(r,d).next(function(){return d.highestTargetId})})},a.prototype.Ea=function(r){return this.ma(r).next(function(o){return at.J(new Ae(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.Ia=function(r){return this.ma(r).next(function(o){return o.highestListenSequenceNumber})},a.prototype.Aa=function(r,o,d){var m=this;return this.ma(r).next(function(C){return C.highestListenSequenceNumber=o,d&&(C.lastRemoteSnapshotVersion=d.Z()),o>C.highestListenSequenceNumber&&(C.highestListenSequenceNumber=o),m.Ta(r,C)})},a.prototype.Ra=function(r,o){var d=this;return this.ga(r,o).next(function(){return d.ma(r).next(function(m){return m.targetCount+=1,d.Pa(o,m),d.Ta(r,m)})})},a.prototype.ya=function(r,o){return this.ga(r,o)},a.prototype.Va=function(r,o){var d=this;return this.pa(r,o.targetId).next(function(){return Ao(r).delete(o.targetId)}).next(function(){return d.ma(r)}).next(function(m){return Te(m.targetCount>0),m.targetCount-=1,d.Ta(r,m)})},a.prototype.po=function(r,o,d){var m=this,C=0,S=[];return Ao(r).rs(function(k,z){var ce=Jr(z);ce.sequenceNumber<=o&&null===d.get(ce.targetId)&&(C++,S.push(m.Va(r,ce)))}).next(function(){return kt.$n(S)}).next(function(){return C})},a.prototype.Ce=function(r,o){return Ao(r).rs(function(d,m){var C=Jr(m);o(C)})},a.prototype.ma=function(r){return Os(r).get(hs.key).next(function(o){return Te(null!==o),o})},a.prototype.Ta=function(r,o){return Os(r).put(hs.key,o)},a.prototype.ga=function(r,o){return Ao(r).put(Nr(this.serializer,o))},a.prototype.Pa=function(r,o){var d=!1;return r.targetId>o.highestTargetId&&(o.highestTargetId=r.targetId,d=!0),r.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=r.sequenceNumber,d=!0),d},a.prototype.ba=function(r){return this.ma(r).next(function(o){return o.targetCount})},a.prototype.va=function(r,o){var d=qe(o),m=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),C=null;return Ao(r).rs({range:m,index:fs.queryTargetsIndexName},function(S,k,z){var ce=Jr(k);Ot(o,ce.target)&&(C=ce,z.done())}).next(function(){return C})},a.prototype.Sa=function(r,o,d){var m=this,C=[],S=ps(r);return o.forEach(function(k){var z=M(k.path);C.push(S.put(new No(d,z))),C.push(m.No.Da(r,d,k))}),kt.$n(C)},a.prototype.Ca=function(r,o,d){var m=this,C=ps(r);return kt.forEach(o,function(S){var k=M(S.path);return kt.$n([C.delete([d,k]),m.No.Na(r,d,S)])})},a.prototype.pa=function(r,o){var d=ps(r),m=IDBKeyRange.bound([o],[o+1],!1,!0);return d.delete(m)},a.prototype.Fa=function(r,o){var d=IDBKeyRange.bound([o],[o+1],!1,!0),m=ps(r),C=Gn();return m.rs({range:d,ss:!0},function(S,k,z){var ce=B(S[1]),be=new W(ce);C=C.add(be)}).next(function(){return C})},a.prototype.Ho=function(r,o){var d=M(o.path),m=IDBKeyRange.bound([d],[Vn(d)],!1,!0),C=0;return ps(r).rs({index:No.documentTargetsIndex,ss:!0,range:m},function(S,k,z){0!==S[0]&&(C++,z.done())}).next(function(){return C>0})},a.prototype.Ue=function(r,o){return Ao(r).get(o).next(function(d){return d?Jr(d):null})},a}();function Ao(a){return ns.Qn(a,fs.store)}function Os(a){return ns.Qn(a,hs.store)}function ps(a){return ns.Qn(a,No.store)}var Zs="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ws=function(a){function r(o,d){var m=this;return(m=a.call(this)||this).jo=o,m.xa=d,m}return E.__extends(r,a),r}(b),ns=function(){function a(r,o,d,m,C,S,k,z,ce,be){if(this.allowTabSynchronization=r,this.persistenceKey=o,this.clientId=d,this.fn=C,this.window=S,this.document=k,this.$a=ce,this.ka=be,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(je){return Promise.resolve()},!a.Ln())throw new X(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ed(this,m),this.Wa=o+"main",this.serializer=new Y(z),this.ja=new Er(this.Wa,10,new pl(this.serializer)),this.Ka=new ho(this.No,this.serializer),this.Dr=new gl,this.vr=new Gs(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===be&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.Qn=function(r,o){if(r instanceof ws)return Er.Qn(r.jo,o);throw nt()},a.prototype.start=function(){var r=this;return this.za().then(function(){if(!r.isPrimary&&!r.allowTabSynchronization)throw new X(ne.FAILED_PRECONDITION,Zs);return r.Ha(),r.Ya(),r.Ja(),r.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return r.Ka.Ia(o)})}).then(function(o){r.Ma=new qn(o,r.$a)}).then(function(){r.Oa=!0}).catch(function(o){return r.ja&&r.ja.close(),Promise.reject(o)})},a.prototype.Xa=function(r){var o=this;return this.Qa=function(d){return E.__awaiter(o,void 0,void 0,function(){return E.__generator(this,function(m){return this.Ei?[2,r(d)]:[2]})})},r(this.isPrimary)},a.prototype.Za=function(r){var o=this;this.ja.Kn(function(d){return E.__awaiter(o,void 0,void 0,function(){return E.__generator(this,function(m){switch(m.label){case 0:return null===d.newVersion?[4,r()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},a.prototype.tc=function(r){var o=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.fn.ws(function(){return E.__awaiter(o,void 0,void 0,function(){return E.__generator(this,function(d){switch(d.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},a.prototype.za=function(){var r=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return Za(o).put(new ca(r.clientId,Date.now(),r.networkEnabled,r.inForeground)).next(function(){if(r.isPrimary)return r.ec(o).next(function(d){d||(r.isPrimary=!1,r.fn.Cs(function(){return r.Qa(!1)}))})}).next(function(){return r.nc(o)}).next(function(d){return r.isPrimary&&!d?r.sc(o).next(function(){return!1}):!!d&&r.ic(o).next(function(){return!0})})}).catch(function(o){if(ko(o))return ye("IndexedDbPersistence","Failed to extend owner lease: ",o),r.isPrimary;if(!r.allowTabSynchronization)throw o;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){r.isPrimary!==o&&r.fn.Cs(function(){return r.Qa(o)}),r.isPrimary=o})},a.prototype.ec=function(r){var o=this;return Ka(r).get(En.key).next(function(d){return kt.resolve(o.rc(d))})},a.prototype.oc=function(r){return Za(r).delete(this.clientId)},a.prototype.ac=function(){return E.__awaiter(this,void 0,void 0,function(){var r,o,d,C=this;return E.__generator(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(k){var z=a.Qn(k,ca.store);return z.ts().next(function(ce){var be=C.uc(ce,18e5),je=ce.filter(function(He){return-1===be.indexOf(He)});return kt.forEach(je,function(He){return z.delete(He.clientId)}).next(function(){return je})})}).catch(function(){return[]})]);case 1:if(r=S.sent(),this.Ga)for(o=0,d=r;o<d.length;o++)this.Ga.removeItem(this.hc(d[o].clientId));S.label=2;case 2:return[2]}})})},a.prototype.Ja=function(){var r=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return r.za().then(function(){return r.ac()}).then(function(){return r.Ja()})})},a.prototype.rc=function(r){return!!r&&r.ownerId===this.clientId},a.prototype.nc=function(r){var o=this;return this.ka?kt.resolve(!0):Ka(r).get(En.key).next(function(d){if(null!==d&&o.cc(d.leaseTimestampMs,5e3)&&!o.lc(d.ownerId)){if(o.rc(d)&&o.networkEnabled)return!0;if(!o.rc(d)){if(!d.allowTabSynchronization)throw new X(ne.FAILED_PRECONDITION,Zs);return!1}}return!(!o.networkEnabled||!o.inForeground)||Za(r).ts().next(function(m){return void 0===o.uc(m,5e3).find(function(C){return!(o.clientId===C.clientId||!(!o.networkEnabled&&C.networkEnabled||!o.inForeground&&C.inForeground&&o.networkEnabled===C.networkEnabled))})})}).next(function(d){return o.isPrimary!==d&&ye("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},a.prototype.Di=function(){return E.__awaiter(this,void 0,void 0,function(){var r=this;return E.__generator(this,function(o){switch(o.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[En.store,ca.store],function(d){var m=new ws(d,qn.ai);return r.sc(m).next(function(){return r.oc(m)})})];case 1:return o.sent(),this.ja.close(),this.wc(),[2]}})})},a.prototype.uc=function(r,o){var d=this;return r.filter(function(m){return d.cc(m.updateTimeMs,o)&&!d.lc(m.clientId)})},a.prototype.pi=function(){var r=this;return this.runTransaction("getActiveClients","readonly",function(o){return Za(o).ts().next(function(d){return r.uc(d,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.mc=function(r){return Rs.xo(r,this.serializer,this.Dr,this.No)},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.Ic=function(){return this.Dr},a.prototype.runTransaction=function(r,o,d){var C,m=this;return ye("IndexedDbPersistence","Starting transaction:",r),this.ja.runTransaction(r,"readonly"===o?"readonly":"readwrite",fo,function(k){return C=new ws(k,m.Ma?m.Ma.next():qn.ai),"readwrite-primary"===o?m.ec(C).next(function(z){return!!z||m.nc(C)}).next(function(z){if(!z)throw et("Failed to obtain primary lease for action '"+r+"'."),m.isPrimary=!1,m.fn.Cs(function(){return m.Qa(!1)}),new X(ne.FAILED_PRECONDITION,p);return d(C)}).next(function(z){return m.ic(C).next(function(){return z})}):m.Ac(C).next(function(){return d(C)})}).then(function(k){return C.br(),k})},a.prototype.Ac=function(r){var o=this;return Ka(r).get(En.key).next(function(d){if(null!==d&&o.cc(d.leaseTimestampMs,5e3)&&!o.lc(d.ownerId)&&!o.rc(d)&&!(o.ka||o.allowTabSynchronization&&d.allowTabSynchronization))throw new X(ne.FAILED_PRECONDITION,Zs)})},a.prototype.ic=function(r){var o=new En(this.clientId,this.allowTabSynchronization,Date.now());return Ka(r).put(En.key,o)},a.Ln=function(){return Er.Ln()},a.prototype.sc=function(r){var o=this,d=Ka(r);return d.get(En.key).next(function(m){return o.rc(m)?(ye("IndexedDbPersistence","Releasing primary lease."),d.delete(En.key)):kt.resolve()})},a.prototype.cc=function(r,o){var d=Date.now();return!(r<d-o||r>d&&(et("Detected an update time that is in the future: "+r+" > "+d),1))},a.prototype.Ha=function(){var r=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){r.fn.ws(function(){return r.inForeground="visible"===r.document.visibilityState,r.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},a.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},a.prototype.Ya=function(){var r,o=this;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.La=function(){o._c(),o.fn.ws(function(){return o.Di()})},this.window.addEventListener("unload",this.La))},a.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},a.prototype.lc=function(r){var o;try{var d=null!==(null===(o=this.Ga)||void 0===o?void 0:o.getItem(this.hc(r)));return ye("IndexedDbPersistence","Client '"+r+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(m){return et("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},a.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){et("Failed to set zombie client id.",r)}},a.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},a.prototype.hc=function(r){return"firestore_zombie_"+this.persistenceKey+"_"+r},a}();function Ka(a){return ns.Qn(a,En.store)}function Za(a){return ns.Qn(a,ca.store)}var ed=function(){function a(r,o){this.db=r,this.wo=new ut(this,o)}return a.prototype.Po=function(r){var o=this.Rc(r);return this.db.Tc().ba(r).next(function(d){return o.next(function(m){return d+m})})},a.prototype.Rc=function(r){var o=0;return this.Vo(r,function(d){o++}).next(function(){return o})},a.prototype.Ce=function(r,o){return this.db.Tc().Ce(r,o)},a.prototype.Vo=function(r,o){return this.gc(r,function(d,m){return o(m)})},a.prototype.Da=function(r,o,d){return Gu(r,d)},a.prototype.Na=function(r,o,d){return Gu(r,d)},a.prototype.po=function(r,o,d){return this.db.Tc().po(r,o,d)},a.prototype.Go=function(r,o){return Gu(r,o)},a.prototype.Pc=function(r,o){return m=o,C=!1,Vo(d=r).os(function(S){return So(d,S,m).next(function(k){return k&&(C=!0),kt.resolve(!k)})}).next(function(){return C});var d,m,C},a.prototype.bo=function(r,o){var d=this,m=this.db.Ec().ra(),C=[],S=0;return this.gc(r,function(k,z){if(z<=o){var ce=d.Pc(r,k).next(function(be){if(!be)return S++,m.Rr(r,k).next(function(){return m.Ar(k),ps(r).delete([0,M(k.path)])})});C.push(ce)}}).next(function(){return kt.$n(C)}).next(function(){return m.apply(r)}).next(function(){return S})},a.prototype.removeTarget=function(r,o){var d=o.st(r.xa);return this.db.Tc().ya(r,d)},a.prototype.yc=function(r,o){return Gu(r,o)},a.prototype.gc=function(r,o){var d,m=ps(r),C=qn.ai;return m.rs({index:No.documentTargetsIndex},function(S,k){var ce=k.path,be=k.sequenceNumber;0===S[0]?(C!==qn.ai&&o(new W(B(d)),C),C=be,d=ce):C=qn.ai}).next(function(){C!==qn.ai&&o(new W(B(d)),C)})},a.prototype.So=function(r){return this.db.Ec().aa(r)},a}();function Gu(a,r){return ps(a).put((d=a.xa,new No(0,M(r.path),d)));var d}function ml(a,r){var o=a.projectId;return a.j||(o+="."+a.database),"firestore/"+r+"/"+o+"/"}var rs=function(){function a(r,o,d){this.persistence=r,this.Vc=o,this.bc=new kn(Ut),this.vc=new ze(function(m){return qe(m)},Ot),this.Sc=at.min(),this.Sr=r.mc(d),this.Dc=r.Ec(),this.Ka=r.Tc(),this.Cc=new A(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return a.prototype.Io=function(r){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return r.vo(d,o.bc)})},a}();function yl(a,r){var o=Ze(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var S,k,z,ce,be,je,He,m=r.batch.keys(),C=o.Dc.ra({oa:!0});return(S=o,k=d,z=r,ce=C,be=z.batch,je=be.keys(),He=kt.resolve(),je.forEach(function(Xe){He=He.next(function(){return ce.Rr(k,Xe)}).next(function(dt){var vt=dt,sn=z.dr.get(Xe);Te(null!==sn),(!vt||vt.version.L(sn)<0)&&(vt=be.cr(Xe,vt,z))&&ce.Er(vt,z._r)})}),He.next(function(){return S.Sr.Wo(k,be)})).next(function(){return C.apply(d)}).next(function(){return o.Sr.zo(d)}).next(function(){return o.Cc.kr(d,m)})})}function Ta(a){var r=Ze(a);return r.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return r.Ka.Ea(o)})}function Fh(a,r){var o=Ze(a),d=r.nt,m=o.bc;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(C){var S=o.Dc.ra({oa:!0});m=o.bc;var k=[];r.zt.forEach(function(je,He){var sn,on,Rn,Xe=m.get(He);if(Xe){k.push(o.Ka.Ca(C,je.se,He).next(function(){return o.Ka.Sa(C,je.ee,He)}));var dt=je.resumeToken;if(dt.O()>0){var vt=Xe.it(dt,d).st(C.xa);m=m.ot(He,vt),sn=Xe,Rn=je,Te((on=vt).resumeToken.O()>0),(0===sn.resumeToken.O()||on.nt.X()-sn.nt.X()>=3e8||Rn.ee.size+Rn.ne.size+Rn.se.size>0)&&k.push(o.Ka.ya(C,vt))}}});var z=Vr(),ce=Gn();if(r.Yt.forEach(function(je,He){ce=ce.add(je)}),k.push(S.getEntries(C,ce).next(function(je){r.Yt.forEach(function(He,Xe){var dt=je.get(He);Xe instanceof Cr&&Xe.version.isEqual(at.min())?(S.Ar(He,d),z=z.ot(He,Xe)):null==dt||Xe.version.L(dt.version)>0||0===Xe.version.L(dt.version)&&dt.hasPendingWrites?(S.Er(Xe,d),z=z.ot(He,Xe)):ye("LocalStore","Ignoring outdated watch update for ",He,". Current version:",dt.version," Watch version:",Xe.version),r.Jt.has(He)&&k.push(o.persistence.No.yc(C,He))})})),!d.isEqual(at.min())){var be=o.Ka.Ea(C).next(function(je){return o.Ka.Aa(C,C.xa,d)});k.push(be)}return kt.$n(k).next(function(){return S.apply(C)}).next(function(){return o.Cc.Mr(C,z)})}).then(function(C){return o.bc=m,C})}function _l(a,r){var o=Ze(a);return o.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===r&&(r=-1),o.Sr.Bo(d,r)})}function Xa(a,r){var o=Ze(a);return o.persistence.runTransaction("Allocate target","readwrite",function(d){var m;return o.Ka.va(d,r).next(function(C){return C?kt.resolve(m=C):o.Ka.wa(d).next(function(S){return m=new Yt(r,S,0,d.xa),o.Ka.Ra(d,m).next(function(){return m})})})}).then(function(d){var m=o.bc.get(d.targetId);return(null===m||d.nt.L(m.nt)>0)&&(o.bc=o.bc.ot(d.targetId,d),o.vc.set(r,d.targetId)),d})}function eu(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C,S;return E.__generator(this,function(k){switch(k.label){case 0:d=Ze(a),m=d.bc.get(r),C=o?"readwrite":"readwrite-primary",k.label=1;case 1:return k.trys.push([1,4,,5]),o?[3,3]:[4,d.persistence.runTransaction("Release target",C,function(z){return d.persistence.No.removeTarget(z,m)})];case 2:k.sent(),k.label=3;case 3:return[3,5];case 4:if(!ko(S=k.sent()))throw S;return ye("LocalStore","Failed to update sequence numbers for target "+r+": "+S),[3,5];case 5:return d.bc=d.bc.remove(r),d.vc.delete(m.target),[2]}})})}function $u(a,r,o){var d=Ze(a),m=at.min(),C=Gn();return d.persistence.runTransaction("Execute query","readonly",function(S){return(k=d,z=S,ce=si(r),be=Ze(k),je=be.vc.get(ce),void 0!==je?kt.resolve(be.bc.get(je)):be.Ka.va(z,ce)).next(function(k){if(k)return m=k.lastLimboFreeSnapshotVersion,d.Ka.Fa(S,k.targetId).next(function(z){C=z})}).next(function(){return d.Vc.Lr(S,r,o?m:at.min(),o?C:Gn())}).next(function(k){return{documents:k,Fc:C}});var k,z,ce,be,je})}function vl(a,r){var o=Ze(a),d=Ze(o.Ka),m=o.bc.get(r);return m?Promise.resolve(m.target):o.persistence.runTransaction("Get target data","readonly",function(C){return d.Ue(C,r).next(function(S){return S?S.target:null})})}function td(a){var r=Ze(a);return r.persistence.runTransaction("Get new document changes","readonly",function(o){return m=o,C=r.Sc,S=Ze(r.Dc),k=Vr(),z=We(C),ce=$s(m),be=IDBKeyRange.lowerBound(z,!0),ce.rs({index:Qi.readTimeIndex,range:be},function(je,He){var Xe=se(S.serializer,He);k=k.ot(Xe.key,Xe),z=He.readTime}).next(function(){return{xc:k,readTime:yt(z)}});var m,C,S,k,z,ce,be}).then(function(o){var d=o.xc;return r.Sc=o.readTime,d})}function Wu(a){return E.__awaiter(this,void 0,void 0,function(){var r;return E.__generator(this,function(o){return[2,(r=Ze(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return C=$s(d),S=at.min(),C.rs({index:Qi.readTimeIndex,reverse:!0},function(k,z,ce){z.readTime&&(S=yt(z.readTime)),ce.done()}).next(function(){return S});var C,S}).then(function(d){r.Sc=d})]})})}function zs(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){if(a.code!==ne.FAILED_PRECONDITION||a.message!==p)throw a;return ye("LocalStore","Unexpectedly lost primary lease"),[2]})})}var tu=function(){function a(){this.$c=new rr(Ci.kc),this.Mc=new rr(Ci.Oc)}return a.prototype.m=function(){return this.$c.m()},a.prototype.Da=function(r,o){var d=new Ci(r,o);this.$c=this.$c.add(d),this.Mc=this.Mc.add(d)},a.prototype.Lc=function(r,o){var d=this;r.forEach(function(m){return d.Da(m,o)})},a.prototype.Na=function(r,o){this.Bc(new Ci(r,o))},a.prototype.qc=function(r,o){var d=this;r.forEach(function(m){return d.Na(m,o)})},a.prototype.Uc=function(r){var o=this,d=new W(new wt([])),m=new Ci(d,r),C=new Ci(d,r+1),S=[];return this.Mc.Ft([m,C],function(k){o.Bc(k),S.push(k.key)}),S},a.prototype.Qc=function(){var r=this;this.$c.forEach(function(o){return r.Bc(o)})},a.prototype.Bc=function(r){this.$c=this.$c.delete(r),this.Mc=this.Mc.delete(r)},a.prototype.Wc=function(r){var o=new W(new wt([])),d=new Ci(o,r),m=new Ci(o,r+1),C=Gn();return this.Mc.Ft([d,m],function(S){C=C.add(S.key)}),C},a.prototype.Ho=function(r){var o=new Ci(r,0),d=this.$c.$t(o);return null!==d&&r.isEqual(d.key)},a}(),Ci=function(){function a(r,o){this.key=r,this.jc=o}return a.kc=function(r,o){return W.i(r.key,o.key)||Ut(r.jc,o.jc)},a.Oc=function(r,o){return Ut(r.jc,o.jc)||W.i(r.key,o.key)},a}(),nu=function(a,r){this.user=r,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+a},bl=function(){function a(){this.Gc=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.zc=function(){},a.prototype.Hc=function(r){this.Gc=r,r(an.UNAUTHENTICATED)},a.prototype.Yc=function(){this.Gc=null},a}(),Ys=function(){function a(r){var o=this;this.Jc=null,this.currentUser=an.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){o.Zc++,o.currentUser=o.tu(),o.Xc=!0,o.Gc&&o.Gc(o.currentUser)},this.Zc=0,this.auth=r.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),r.get().then(function(d){o.auth=d,o.Jc&&o.auth.addAuthTokenListener(o.Jc)},function(){}))}return a.prototype.getToken=function(){var r=this,o=this.Zc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(m){return r.Zc!==o?(ye("FirebaseCredentialsProvider","getToken aborted due to token change."),r.getToken()):m?(Te("string"==typeof m.accessToken),new nu(m.accessToken,r.currentUser)):null}):Promise.resolve(null)},a.prototype.zc=function(){this.forceRefresh=!0},a.prototype.Hc=function(r){this.Gc=r,this.Xc&&r(this.currentUser)},a.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},a.prototype.tu=function(){var r=this.auth&&this.auth.getUid();return Te(null===r||"string"==typeof r),new an(r)},a}(),mf=function(){function a(r,o){this.eu=r,this.nu=o,this.type="FirstParty",this.user=an.ni}return Object.defineProperty(a.prototype,"Kc",{get:function(){var r={"X-Goog-AuthUser":this.nu},o=this.eu.auth.getAuthHeaderValueForFirstParty([]);return o&&(r.Authorization=o),r},enumerable:!1,configurable:!0}),a}(),zu=function(){function a(r,o){this.eu=r,this.nu=o}return a.prototype.getToken=function(){return Promise.resolve(new mf(this.eu,this.nu))},a.prototype.Hc=function(r){r(an.ni)},a.prototype.Yc=function(){},a.prototype.zc=function(){},a}(),nd=function(){function a(r,o,d,m,C,S){this.fn=r,this.su=d,this.iu=m,this.ru=C,this.listener=S,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new ds(r,o)}return a.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.uu=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.hu()},a.prototype.stop=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){switch(r.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},a.prototype.lu=function(){this.state=0,this.ys.reset()},a.prototype._u=function(){var r=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return r.fu()}))},a.prototype.du=function(r){this.wu(),this.stream.send(r)},a.prototype.fu=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){return this.uu()?[2,this.close(0)]:[2]})})},a.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},a.prototype.close=function(r,o){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(d){switch(d.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==r?this.ys.reset():o&&o.code===ne.RESOURCE_EXHAUSTED?(et(o.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):o&&o.code===ne.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=r,[4,this.listener.Tu(o)];case 1:return d.sent(),[2]}})})},a.prototype.mu=function(){},a.prototype.auth=function(){var r=this;this.state=1;var o=this.Eu(this.ou),d=this.ou;this.ru.getToken().then(function(m){r.ou===d&&r.Iu(m)},function(m){o(function(){var C=new X(ne.UNKNOWN,"Fetching auth token failed: "+m.message);return r.Au(C)})})},a.prototype.Iu=function(r){var o=this,d=this.Eu(this.ou);this.stream=this.Ru(r),this.stream.gu(function(){d(function(){return o.state=2,o.listener.gu()})}),this.stream.Tu(function(m){d(function(){return o.Au(m)})}),this.stream.onMessage(function(m){d(function(){return o.onMessage(m)})})},a.prototype.hu=function(){var r=this;this.state=4,this.ys.gn(function(){return E.__awaiter(r,void 0,void 0,function(){return E.__generator(this,function(o){return this.state=0,this.start(),[2]})})})},a.prototype.Au=function(r){return ye("PersistentStream","close with error: "+r),this.stream=null,this.close(3,r)},a.prototype.Eu=function(r){var o=this;return function(d){o.fn.ws(function(){return o.ou===r?d():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),wl=function(a){function r(o,d,m,C,S){var k=this;return(k=a.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",d,m,S)||this).serializer=C,k}return E.__extends(r,a),r.prototype.Ru=function(o){return this.iu.Pu("Listen",o)},r.prototype.onMessage=function(o){this.ys.reset();var d=function(C,S){var k,ys;if("targetChange"in S){var z="NO_CHANGE"===(ys=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ys?1:"REMOVE"===ys?2:"CURRENT"===ys?3:"RESET"===ys?4:nt(),ce=S.targetChange.targetIds||[],be=function(ys,oa){return ys.Qe?(Te(void 0===oa||"string"==typeof oa),Rt.fromBase64String(oa||"")):(Te(void 0===oa||oa instanceof Uint8Array),Rt.fromUint8Array(oa||new Uint8Array))}(C,S.targetChange.resumeToken),je=S.targetChange.cause,He=je&&function(ys){var oa=void 0===ys.code?ne.UNKNOWN:Mn(ys.code);return new X(oa,ys.message||"")}(je);k=new jt(z,ce,be,He||null)}else if("documentChange"in S){var Xe=S.documentChange,dt=Mr(C,Xe.document.name),vt=Or(Xe.document.updateTime),sn=new Vi({mapValue:{fields:Xe.document.fields}}),on=new qt(dt,vt,sn,{});k=new ki(Xe.targetIds||[],Xe.removedTargetIds||[],on.key,on)}else if("documentDelete"in S){var cr=S.documentDelete,Gr=Mr(C,cr.document),ai=cr.readTime?Or(cr.readTime):at.min(),Vs=new Cr(Gr,ai);k=new ki([],cr.removedTargetIds||[],Vs.key,Vs)}else if("documentRemove"in S){var ka=S.documentRemove,Fu=Mr(C,ka.document);k=new ki([],ka.removedTargetIds||[],Fu,null)}else{if(!("filter"in S))return nt();var gu=S.filter,ul=new tn(gu.count||0);k=new ir(gu.targetId,ul)}return k}(this.serializer,o),m=function(C){if(!("targetChange"in C))return at.min();var S=C.targetChange;return S.targetIds&&S.targetIds.length?at.min():S.readTime?Or(S.readTime):at.min()}(o);return this.listener.yu(d,m)},r.prototype.Vu=function(o){var C,S,k,z,d={};d.database=Fn(this.serializer),d.addTarget=(C=this.serializer,(k=Lt(z=(S=o).target)?{documents:Jn(C,z)}:{query:xo(C,z)}).targetId=S.targetId,S.resumeToken.O()>0&&(k.resumeToken=Hi(C,S.resumeToken)),k);var m=function(C,S){var k=function(z,ce){switch(ce){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,S.et);return null==k?null:{"goog-listen-tags":k}}(0,o);m&&(d.labels=m),this.du(d)},r.prototype.pu=function(o){var d={};d.database=Fn(this.serializer),d.removeTarget=o,this.du(d)},r}(nd),yf=function(a){function r(o,d,m,C,S){var k=this;return(k=a.call(this,o,"write_stream_connection_backoff","write_stream_idle",d,m,S)||this).serializer=C,k.bu=!1,k}return E.__extends(r,a),Object.defineProperty(r.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},r.prototype.mu=function(){this.bu&&this.Su([])},r.prototype.Ru=function(o){return this.iu.Pu("Write",o)},r.prototype.onMessage=function(o){if(Te(!!o.streamToken),this.lastStreamToken=o.streamToken,this.bu){this.ys.reset();var d=(S=o.commitTime,(C=o.writeResults)&&C.length>0?(Te(void 0!==S),C.map(function(k){return function(z,ce){var be=Or(z.updateTime?z.updateTime:ce);be.isEqual(at.min())&&(be=Or(ce));var je=null;return z.transformResults&&z.transformResults.length>0&&(je=z.transformResults),new ht(be,je)}(k,S)})):[]),m=Or(o.commitTime);return this.listener.Du(m,d)}var C,S;return Te(!o.writeResults||0===o.writeResults.length),this.bu=!0,this.listener.Cu()},r.prototype.Nu=function(){var o={};o.database=Fn(this.serializer),this.du(o)},r.prototype.Su=function(o){var d=this,m={streamToken:this.lastStreamToken,writes:o.map(function(C){return yr(d.serializer,C)})};this.du(m)},r}(nd),Cl=function(a){function r(o,d,m){var C=this;return(C=a.call(this)||this).credentials=o,C.iu=d,C.serializer=m,C.Fu=!1,C}return E.__extends(r,a),r.prototype.xu=function(){if(this.Fu)throw new X(ne.FAILED_PRECONDITION,"The client has already been terminated.")},r.prototype.$u=function(o,d,m){var C=this;return this.xu(),this.credentials.getToken().then(function(S){return C.iu.$u(o,d,m,S)}).catch(function(S){throw S.code===ne.UNAUTHENTICATED&&C.credentials.zc(),S})},r.prototype.ku=function(o,d,m){var C=this;return this.xu(),this.credentials.getToken().then(function(S){return C.iu.ku(o,d,m,S)}).catch(function(S){throw S.code===ne.UNAUTHENTICATED&&C.credentials.zc(),S})},r.prototype.terminate=function(){this.Fu=!1},r}(function(){}),ru=function(){function a(r,o){this.cs=r,this.di=o,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return a.prototype.Bu=function(){var r=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return r.Ou=null,r.Uu("Backend didn't respond within 10 seconds."),r.qu("Offline"),Promise.resolve()}))},a.prototype.Qu=function(r){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+r.toString()),this.qu("Offline")))},a.prototype.set=function(r){this.Wu(),this.Mu=0,"Online"===r&&(this.Lu=!1),this.qu(r)},a.prototype.qu=function(r){r!==this.state&&(this.state=r,this.di(r))},a.prototype.Uu=function(r){var o="Could not reach Cloud Firestore backend. "+r+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(et(o),this.Lu=!1):ye("OnlineStateTracker",o)},a.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},a}(),iu=function(a,r,o,d,m){var C=this;this.ju=a,this.Ku=r,this.cs=o,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=m,this.Xu.Zu(function(S){o.ws(function(){return E.__awaiter(C,void 0,void 0,function(){return E.__generator(this,function(k){switch(k.label){case 0:return Sa(this)?(ye("RemoteStore","Restarting streams for network reachability change."),[4,function(z){return E.__awaiter(this,void 0,void 0,function(){var ce;return E.__generator(this,function(be){switch(be.label){case 0:return(ce=Ze(z)).Yu.add(4),[4,Ei(ce)];case 1:return be.sent(),ce.th.set("Unknown"),ce.Yu.delete(4),[4,Ps(ce)];case 2:return be.sent(),[2]}})})}(this)]):[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})})}),this.th=new ru(o,d)};function Ps(a){return E.__awaiter(this,void 0,void 0,function(){var r,o;return E.__generator(this,function(d){switch(d.label){case 0:if(!Sa(a))return[3,4];r=0,o=a.Ju,d.label=1;case 1:return r<o.length?[4,(0,o[r])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Ei(a){return E.__awaiter(this,void 0,void 0,function(){var r,o;return E.__generator(this,function(d){switch(d.label){case 0:r=0,o=a.Ju,d.label=1;case 1:return r<o.length?[4,(0,o[r])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Yu(a){return E.__awaiter(this,void 0,void 0,function(){var r;return E.__generator(this,function(o){switch(o.label){case 0:return r=Ze(a),ye("RemoteStore","RemoteStore shutting down."),r.Yu.add(5),[4,Ei(r)];case 1:return o.sent(),r.Xu.Di(),r.th.set("Unknown"),[2]}})})}function El(a,r){var o=Ze(a);o.Hu.has(r.targetId)||(o.Hu.set(r.targetId,r),Ia(o)?Iu(o):Nu(o).uu()&&da(o,r))}function qs(a,r){var o=Ze(a),d=Nu(o);o.Hu.delete(r),d.uu()&&ao(o,r),0===o.Hu.size&&(d.uu()?d._u():Sa(o)&&o.th.set("Unknown"))}function da(a,r){a.eh.Ie(r.targetId),Nu(a).Vu(r)}function ao(a,r){a.eh.Ie(r),Nu(a).pu(r)}function Iu(a){a.eh=new un({qe:function(r){return a.Gu.qe(r)},Ue:function(r){return a.Hu.get(r)||null}}),Nu(a).start(),a.th.Bu()}function Ia(a){return Sa(a)&&!Nu(a).cu()&&a.Hu.size>0}function Sa(a){return 0===Ze(a).Yu.size}function Qs(a){a.eh=void 0}function Xs(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){return a.Hu.forEach(function(o,d){da(a,o)}),[2]})})}function ea(a,r){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(o){return Qs(a),Ia(a)?(a.th.Qu(r),Iu(a)):a.th.set("Unknown"),[2]})})}function ta(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C;return E.__generator(this,function(S){switch(S.label){case 0:if(a.th.set("Online"),!(r instanceof jt&&2===r.state&&r.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(k,z){return E.__awaiter(this,void 0,void 0,function(){var ce,be,je,He;return E.__generator(this,function(Xe){switch(Xe.label){case 0:ce=z.cause,be=0,je=z.targetIds,Xe.label=1;case 1:return be<je.length?k.Hu.has(He=je[be])?[4,k.Gu.nh(He,ce)]:[3,3]:[3,5];case 2:Xe.sent(),k.Hu.delete(He),k.eh.removeTarget(He),Xe.label=3;case 3:Xe.label=4;case 4:return be++,[3,1];case 5:return[2]}})})}(a,r)];case 2:return S.sent(),[3,5];case 3:return d=S.sent(),ye("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),d),[4,qu(a,d)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(r instanceof ki?a.eh.be(r):r instanceof ir?a.eh.$e(r):a.eh.De(r),o.isEqual(at.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,Ta(a.ju)];case 8:return m=S.sent(),o.L(m)>=0?[4,(k=a,z=o,ce=k.eh.Oe(z),ce.zt.forEach(function(be,je){if(be.resumeToken.O()>0){var He=k.Hu.get(je);He&&k.Hu.set(je,He.it(be.resumeToken,z))}}),ce.Ht.forEach(function(be){var je=k.Hu.get(be);if(je){k.Hu.set(be,je.it(Rt.B,je.nt)),ao(k,be);var He=new Yt(je.target,be,1,je.sequenceNumber);da(k,He)}}),k.Gu.sh(ce))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return ye("RemoteStore","Failed to raise snapshot:",C=S.sent()),[4,qu(a,C)];case 12:return S.sent(),[3,13];case 13:return[2]}var k,z,ce})})}function qu(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d=this;return E.__generator(this,function(m){switch(m.label){case 0:if(!ko(r))throw r;return a.Yu.add(1),[4,Ei(a)];case 1:return m.sent(),a.th.set("Offline"),o||(o=function(){return Ta(a.ju)}),a.cs.Cs(function(){return E.__awaiter(d,void 0,void 0,function(){return E.__generator(this,function(C){switch(C.label){case 0:return ye("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return C.sent(),a.Yu.delete(1),[4,Ps(a)];case 2:return C.sent(),[2]}})})}),[2]}})})}function Dl(a,r){return r().catch(function(o){return qu(a,o,r)})}function ks(a){return E.__awaiter(this,void 0,void 0,function(){var r,o,d,m,C;return E.__generator(this,function(S){switch(S.label){case 0:r=Ze(a),o=na(r),d=r.zu.length>0?r.zu[r.zu.length-1].batchId:-1,S.label=1;case 1:if(!(Sa(k=r)&&k.zu.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,_l(r.ju,d)];case 3:return null===(m=S.sent())?(0===r.zu.length&&o._u(),[3,7]):(d=m.batchId,function(k,z){k.zu.push(z);var ce=na(k);ce.uu()&&ce.vu&&ce.Su(z.mutations)}(r,m),[3,6]);case 4:return C=S.sent(),[4,qu(r,C)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return Na(r)&&Tl(r),[2]}var k})})}function Na(a){return Sa(a)&&!na(a).cu()&&a.zu.length>0}function Tl(a){na(a).start()}function rd(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){return na(a).Nu(),[2]})})}function id(a){return E.__awaiter(this,void 0,void 0,function(){var r,o,d;return E.__generator(this,function(C){for(r=na(a),o=0,d=a.zu;o<d.length;o++)r.Su(d[o].mutations);return[2]})})}function ou(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m;return E.__generator(this,function(C){switch(C.label){case 0:return d=a.zu.shift(),m=_.from(d,r,o),[4,Dl(a,function(){return a.Gu.ih(m)})];case 1:return C.sent(),[4,ks(a)];case 2:return C.sent(),[2]}})})}function Su(a,r){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(o){switch(o.label){case 0:return r&&na(a).vu?[4,function(d,m){return E.__awaiter(this,void 0,void 0,function(){var C,S;return E.__generator(this,function(k){switch(k.label){case 0:return rn(S=m.code)&&S!==ne.ABORTED?(C=d.zu.shift(),na(d).lu(),[4,Dl(d,function(){return d.Gu.rh(C.batchId,m)})]):[3,3];case 1:return k.sent(),[4,ks(d)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}(a,r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Na(a)&&Tl(a),[2]}})})}function Il(a,r){return E.__awaiter(this,void 0,void 0,function(){var o;return E.__generator(this,function(m){switch(m.label){case 0:return o=Ze(a),r?(o.Yu.delete(2),[4,Ps(o)]):[3,2];case 1:return m.sent(),[3,5];case 2:return r?[3,4]:(o.Yu.add(2),[4,Ei(o)]);case 3:m.sent(),o.th.set("Unknown"),m.label=4;case 4:m.label=5;case 5:return[2]}})})}function Nu(a){var o,d,m,C,r=this;return a.oh||(a.oh=(o=a.Ku,d=a.cs,m={gu:Xs.bind(null,a),Tu:ea.bind(null,a),yu:ta.bind(null,a)},(C=Ze(o)).xu(),new wl(d,C.iu,C.credentials,C.serializer,m)),a.Ju.push(function(o){return E.__awaiter(r,void 0,void 0,function(){return E.__generator(this,function(d){switch(d.label){case 0:return o?(a.oh.lu(),Ia(a)?Iu(a):a.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.oh.stop()];case 2:d.sent(),Qs(a),d.label=3;case 3:return[2]}})})})),a.oh}function na(a){var o,d,m,C,r=this;return a.ah||(a.ah=(o=a.Ku,d=a.cs,m={gu:rd.bind(null,a),Tu:Su.bind(null,a),Cu:id.bind(null,a),Du:ou.bind(null,a)},(C=Ze(o)).xu(),new yf(d,C.iu,C.credentials,C.serializer,m)),a.Ju.push(function(o){return E.__awaiter(r,void 0,void 0,function(){return E.__generator(this,function(d){switch(d.label){case 0:return o?(a.ah.lu(),[4,ks(a)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,a.ah.stop()];case 3:d.sent(),a.zu.length>0&&(ye("RemoteStore","Stopping write stream with "+a.zu.length+" pending writes"),a.zu=[]),d.label=4;case 4:return[2]}})})})),a.ah}var fa=function(a){this.key=a},od=function(a){this.key=a},Qu=function(){function a(r,o){this.query=r,this.uh=o,this.hh=null,this.te=!1,this.lh=Gn(),this.Wt=Gn(),this._h=Zo(r),this.fh=new uo(this._h)}return Object.defineProperty(a.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),a.prototype.wh=function(r,o){var d=this,m=o?o.mh:new Rr,C=o?o.fh:this.fh,S=o?o.Wt:this.Wt,k=C,z=!1,ce=as(this.query)&&C.size===this.query.limit?C.last():null,be=co(this.query)&&C.size===this.query.limit?C.first():null;if(r.ht(function(He,Xe){var dt=C.get(He),vt=Xe instanceof qt?Xe:null;vt&&(vt=oo(d.query,vt)?vt:null);var sn=!!dt&&d.Wt.has(dt.key),on=!!vt&&(vt.Je||d.Wt.has(vt.key)&&vt.hasCommittedMutations),Rn=!1;dt&&vt?dt.data().isEqual(vt.data())?sn!==on&&(m.track({type:3,doc:vt}),Rn=!0):d.Th(dt,vt)||(m.track({type:2,doc:vt}),Rn=!0,(ce&&d._h(vt,ce)>0||be&&d._h(vt,be)<0)&&(z=!0)):!dt&&vt?(m.track({type:0,doc:vt}),Rn=!0):dt&&!vt&&(m.track({type:1,doc:dt}),Rn=!0,(ce||be)&&(z=!0)),Rn&&(vt?(k=k.add(vt),S=on?S.add(He):S.delete(He)):(k=k.delete(He),S=S.delete(He)))}),as(this.query)||co(this.query))for(;k.size>this.query.limit;){var je=as(this.query)?k.last():k.first();k=k.delete(je.key),S=S.delete(je.key),m.track({type:1,doc:je})}return{fh:k,mh:m,Eh:z,Wt:S}},a.prototype.Th=function(r,o){return r.Je&&o.hasCommittedMutations&&!o.Je},a.prototype.yr=function(r,o,d){var m=this,C=this.fh;this.fh=r.fh,this.Wt=r.Wt;var S=r.mh.Ut();S.sort(function(be,je){return Xe=je.type,(dt=function(vt){switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}})(be.type)-dt(Xe)||m._h(be.doc,je.doc);var Xe,dt}),this.Ih(d);var k=o?this.Ah():[],z=0===this.lh.size&&this.te?1:0,ce=z!==this.hh;return this.hh=z,0!==S.length||ce?{snapshot:new hr(this.query,r.fh,C,S,r.Wt,0===z,ce,!1),Rh:k}:{Rh:k}},a.prototype.Qs=function(r){return this.te&&"Offline"===r?(this.te=!1,this.yr({fh:this.fh,mh:new Rr,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},a.prototype.gh=function(r){return!this.uh.has(r)&&!!this.fh.has(r)&&!this.fh.get(r).Je},a.prototype.Ih=function(r){var o=this;r&&(r.ee.forEach(function(d){return o.uh=o.uh.add(d)}),r.ne.forEach(function(d){}),r.se.forEach(function(d){return o.uh=o.uh.delete(d)}),this.te=r.te)},a.prototype.Ah=function(){var r=this;if(!this.te)return[];var o=this.lh;this.lh=Gn(),this.fh.forEach(function(m){r.gh(m.key)&&(r.lh=r.lh.add(m.key))});var d=[];return o.forEach(function(m){r.lh.has(m)||d.push(new od(m))}),this.lh.forEach(function(m){o.has(m)||d.push(new fa(m))}),d},a.prototype.Ph=function(r){this.uh=r.Fc,this.lh=Gn();var o=this.wh(r.documents);return this.yr(o,!0)},a.prototype.yh=function(){return hr.Gt(this.query,this.fh,this.Wt,0===this.hh)},a}(),su=function(a,r,o){this.query=a,this.targetId=r,this.view=o},Sl=function(a){this.key=a,this.Vh=!1},Ju=function(){function a(r,o,d,m,C,S){this.ju=r,this.ph=o,this.bh=d,this.Sh=m,this.currentUser=C,this.Dh=S,this.Ch={},this.Nh=new ze(function(k){return Oo(k)},zi),this.Fh=new Map,this.xh=[],this.$h=new kn(W.i),this.kh=new Map,this.Mh=new tu,this.Oh={},this.Lh=new Map,this.Bh=Da.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(a.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),a}();function Au(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,m,C,S,k;return E.__generator(this,function(z){switch(z.label){case 0:return o=Pl(a),(C=o.Nh.get(r))?(o.Sh.Oi(C.targetId),m=C.view.yh(),[3,4]):[3,1];case 1:return[4,Xa(o.ju,si(r))];case 2:return S=z.sent(),k=o.Sh.Oi(S.targetId),[4,ha(o,r,S.targetId,"current"===k)];case 3:m=z.sent(),o.Uh&&El(o.ph,S),z.label=4;case 4:return[2,m]}})})}function ha(a,r,o,d){return E.__awaiter(this,void 0,void 0,function(){var m,C,S,k,z,ce;return E.__generator(this,function(be){switch(be.label){case 0:return a.Qh=function(je,He,Xe){return function(dt,vt,sn,on){return E.__awaiter(this,void 0,void 0,function(){var Rn,er,cr;return E.__generator(this,function(Gr){switch(Gr.label){case 0:return(Rn=vt.view.wh(sn)).Eh?[4,$u(dt.ju,vt.query,!1).then(function(ai){return vt.view.wh(ai.documents,Rn)})]:[3,2];case 1:Rn=Gr.sent(),Gr.label=2;case 2:return er=on&&on.zt.get(vt.targetId),cr=vt.view.yr(Rn,dt.Uh,er),[2,(ic(dt,vt.targetId,cr.Rh),cr.snapshot)]}})})}(a,je,He,Xe)},[4,$u(a.ju,r,!0)];case 1:return m=be.sent(),C=new Qu(r,m.Fc),S=C.wh(m.documents),k=br.Zt(o,d&&"Offline"!==a.onlineState),z=C.yr(S,a.Uh,k),ic(a,o,z.Rh),ce=new su(r,o,C),[2,(a.Nh.set(r,ce),a.Fh.has(o)?a.Fh.get(o).push(r):a.Fh.set(o,[r]),z.snapshot)]}})})}function sd(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m;return E.__generator(this,function(C){switch(C.label){case 0:return o=Ze(a),d=o.Nh.get(r),(m=o.Fh.get(d.targetId)).length>1?[2,(o.Fh.set(d.targetId,m.filter(function(S){return!zi(S,r)})),void o.Nh.delete(r))]:o.Uh?(o.Sh.Bi(d.targetId),o.Sh.Fi(d.targetId)?[3,2]:[4,eu(o.ju,d.targetId,!1).then(function(){o.Sh.Ui(d.targetId),qs(o.ph,d.targetId),gs(o,d.targetId)}).catch(zs)]):[3,3];case 1:C.sent(),C.label=2;case 2:return[3,5];case 3:return gs(o,d.targetId),[4,eu(o.ju,d.targetId,!0)];case 4:C.sent(),C.label=5;case 5:return[2]}})})}function Nl(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d;return E.__generator(this,function(m){switch(m.label){case 0:o=Ze(a),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,Fh(o.ju,r)];case 2:return d=m.sent(),r.zt.forEach(function(C,S){var k=o.kh.get(S);k&&(Te(C.ee.size+C.ne.size+C.se.size<=1),C.ee.size>0?k.Vh=!0:C.ne.size>0?Te(k.Vh):C.se.size>0&&(Te(k.Vh),k.Vh=!1))}),[4,au(o,d,r)];case 3:return m.sent(),[3,6];case 4:return[4,zs(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function mr(a,r,o){var d=Ze(a);if(d.Uh&&0===o||!d.Uh&&1===o){var m=[];d.Nh.forEach(function(C,S){var k=S.view.Qs(r);k.snapshot&&m.push(k.snapshot)}),function(C,S){var k=Ze(C);k.onlineState=S;var z=!1;k.Bs.forEach(function(ce,be){for(var je=0,He=be.listeners;je<He.length;je++)He[je].Qs(S)&&(z=!0)}),z&&Ve(k)}(d.bh,r),m.length&&d.Ch.yu(m),d.onlineState=r,d.Uh&&d.Sh.Ki(r)}}function Ku(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C,S,k,z;return E.__generator(this,function(ce){switch(ce.label){case 0:return(d=Ze(a)).Sh.Qi(r,"rejected",o),m=d.kh.get(r),(C=m&&m.key)?(S=(S=new kn(W.i)).ot(C,new Cr(C,at.min())),k=Gn().add(C),z=new vr(at.min(),new Map,new rr(Ut),S,k),[4,Nl(d,z)]):[3,2];case 1:return ce.sent(),d.$h=d.$h.remove(C),d.kh.delete(r),xl(d),[3,4];case 2:return[4,eu(d.ju,r,!1).then(function(){return gs(d,r,o)}).catch(zs)];case 3:ce.sent(),ce.label=4;case 4:return[2]}})})}function Al(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m;return E.__generator(this,function(C){switch(C.label){case 0:o=Ze(a),d=r.batch.batchId,C.label=1;case 1:return C.trys.push([1,4,,6]),[4,yl(o.ju,r)];case 2:return m=C.sent(),Ml(o,d,null),Aa(o,d),o.Sh.ki(d,"acknowledged"),[4,au(o,m)];case 3:return C.sent(),[3,6];case 4:return[4,zs(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}})})}function rc(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m;return E.__generator(this,function(C){switch(C.label){case 0:d=Ze(a),C.label=1;case 1:return C.trys.push([1,4,,6]),[4,(S=d.ju,k=r,z=Ze(S),z.persistence.runTransaction("Reject batch","readwrite-primary",function(ce){var be;return z.Sr.Oo(ce,k).next(function(je){return Te(null!==je),be=je.keys(),z.Sr.Wo(ce,je)}).next(function(){return z.Sr.zo(ce)}).next(function(){return z.Cc.kr(ce,be)})}))];case 2:return m=C.sent(),Ml(d,r,o),Aa(d,r),d.Sh.ki(r,"rejected",o),[4,au(d,m)];case 3:return C.sent(),[3,6];case 4:return[4,zs(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}var S,k,z})})}function Aa(a,r){(a.Lh.get(r)||[]).forEach(function(o){o.resolve()}),a.Lh.delete(r)}function Ml(a,r,o){var d=Ze(a),m=d.Oh[d.currentUser.ti()];if(m){var C=m.get(r);C&&(o?C.reject(o):C.resolve(),m=m.remove(r)),d.Oh[d.currentUser.ti()]=m}}function gs(a,r,o){void 0===o&&(o=null),a.Sh.Bi(r);for(var d=0,m=a.Fh.get(r);d<m.length;d++){var C=m[d];a.Nh.delete(C),o&&a.Ch.Wh(C,o)}a.Fh.delete(r),a.Uh&&a.Mh.Uc(r).forEach(function(S){a.Mh.Ho(S)||ad(a,S)})}function ad(a,r){var o=a.$h.get(r);null!==o&&(qs(a.ph,o),a.$h=a.$h.remove(r),a.kh.delete(o),xl(a))}function ic(a,r,o){for(var d=0,m=o;d<m.length;d++){var C=m[d];C instanceof fa?(a.Mh.Da(C.key,r),ud(a,C)):C instanceof od?(ye("SyncEngine","Document no longer in limbo: "+C.key),a.Mh.Na(C.key,r),a.Mh.Ho(C.key)||ad(a,C.key)):nt()}}function ud(a,r){var o=r.key;a.$h.get(o)||(ye("SyncEngine","New document in limbo: "+o),a.xh.push(o),xl(a))}function xl(a){for(;a.xh.length>0&&a.$h.size<a.Dh;){var r=a.xh.shift(),o=a.Bh.next();a.kh.set(o,new Sl(r)),a.$h=a.$h.ot(r,o),El(a.ph,new Yt(si(ro(r.path)),o,2,qn.ai))}}function au(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C,S;return E.__generator(this,function(k){switch(k.label){case 0:return d=Ze(a),m=[],C=[],S=[],d.Nh.m()?[3,3]:(d.Nh.forEach(function(z,ce){S.push(d.Qh(ce,r,o).then(function(be){if(be){d.Uh&&d.Sh.Qi(ce.targetId,be.fromCache?"not-current":"current"),m.push(be);var je=R.zr(ce.targetId,be);C.push(je)}}))}),[4,Promise.all(S)]);case 1:return k.sent(),d.Ch.yu(m),[4,function(z,ce){return E.__awaiter(this,void 0,void 0,function(){var be,je,He,Xe,dt,vt,sn,Rn;return E.__generator(this,function(er){switch(er.label){case 0:be=Ze(z),er.label=1;case 1:return er.trys.push([1,3,,4]),[4,be.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(cr){return kt.forEach(ce,function(Gr){return kt.forEach(Gr.Kr,function(ai){return be.persistence.No.Da(cr,Gr.targetId,ai)}).next(function(){return kt.forEach(Gr.Gr,function(ai){return be.persistence.No.Na(cr,Gr.targetId,ai)})})})})];case 2:return er.sent(),[3,4];case 3:if(!ko(je=er.sent()))throw je;return ye("LocalStore","Failed to update sequence numbers: "+je),[3,4];case 4:for(He=0,Xe=ce;He<Xe.length;He++)vt=(dt=Xe[He]).targetId,dt.fromCache||(sn=be.bc.get(vt),Rn=sn.rt(sn.nt),be.bc=be.bc.ot(vt,Rn));return[2]}})})}(d.ju,C)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}function ms(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d;return E.__generator(this,function(m){switch(m.label){case 0:return(o=Ze(a)).currentUser.isEqual(r)?[3,3]:(ye("SyncEngine","User change. New user:",r.ti()),[4,function(C,S){return E.__awaiter(this,void 0,void 0,function(){var k,z,ce,be;return E.__generator(this,function(je){switch(je.label){case 0:return k=Ze(C),z=k.Sr,ce=k.Cc,[4,k.persistence.runTransaction("Handle user change","readonly",function(He){var Xe;return k.Sr.Uo(He).next(function(dt){return Xe=dt,z=k.persistence.mc(S),ce=new A(k.Dc,z,k.persistence.Ic()),z.Uo(He)}).next(function(dt){for(var vt=[],sn=[],on=Gn(),Rn=0,er=Xe;Rn<er.length;Rn++){var cr=er[Rn];vt.push(cr.batchId);for(var Gr=0,ai=cr.mutations;Gr<ai.length;Gr++)on=on.add(ai[Gr].key)}for(var Ds=0,ka=dt;Ds<ka.length;Ds++){var Fu=ka[Ds];sn.push(Fu.batchId);for(var pu=0,gu=Fu.mutations;pu<gu.length;pu++)on=on.add(gu[pu].key)}return ce.kr(He,on).next(function(ul){return{jh:ul,Kh:vt,Gh:sn}})})})];case 1:return be=je.sent(),[2,(k.Sr=z,k.Cc=ce,k.Vc.Nc(k.Cc),be)]}})})}(o.ju,r)]);case 1:return d=m.sent(),o.currentUser=r,(C=o).Lh.forEach(function(k){k.forEach(function(z){z.reject(new X(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),C.Lh.clear(),o.Sh.ji(r,d.Kh,d.Gh),[4,au(o,d.jh)];case 2:m.sent(),m.label=3;case 3:return[2]}var C})})}function Ma(a,r){var o=Ze(a),d=o.kh.get(r);if(d&&d.Vh)return Gn().add(d.key);var m=Gn(),C=o.Fh.get(r);if(!C)return m;for(var S=0,k=C;S<k.length;S++){var ce=o.Nh.get(k[S]);m=m.kt(ce.view.dh)}return m}function Rl(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m;return E.__generator(this,function(C){switch(C.label){case 0:return[4,$u((o=Ze(a)).ju,r.query,!0)];case 1:return d=C.sent(),m=r.view.Ph(d),[2,(o.Uh&&ic(o,r.targetId,m.Rh),m)]}})})}function oc(a,r,o,d){return E.__awaiter(this,void 0,void 0,function(){var m,C;return E.__generator(this,function(S){switch(S.label){case 0:return[4,(k=(m=Ze(a)).ju,z=r,ce=Ze(k),be=Ze(ce.Sr),ce.persistence.runTransaction("Lookup mutation documents","readonly",function(je){return be.Lo(je,z).next(function(He){return He?ce.Cc.kr(je,He):kt.resolve(null)})}))];case 1:return null===(C=S.sent())?[3,6]:"pending"!==o?[3,3]:[4,ks(m.ph)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(Ml(m,r,d||null),Aa(m,r),function(k,z){Ze(Ze(k).Sr).Ko(z)}(m.ju,r)):nt(),S.label=4;case 4:return[4,au(m,C)];case 5:return S.sent(),[3,7];case 6:ye("SyncEngine","Cannot apply mutation batch with id: "+r),S.label=7;case 7:return[2]}var k,z,ce,be})})}function ld(a,r){return E.__awaiter(this,void 0,void 0,function(){var o,d,m,C,S,z,ce;return E.__generator(this,function(be){switch(be.label){case 0:return Pl(o=Ze(a)),Zu(o),!0!==r||!0===o.qh?[3,3]:(d=o.Sh.Ci(),[4,sc(o,d.A())]);case 1:return m=be.sent(),o.qh=!0,[4,Il(o.ph,!0)];case 2:for(be.sent(),C=0,S=m;C<S.length;C++)El(o.ph,S[C]);return[3,7];case 3:return!1!==r||!1===o.qh?[3,7]:(z=[],ce=Promise.resolve(),o.Fh.forEach(function(je,He){o.Sh.qi(He)?z.push(He):ce=ce.then(function(){return gs(o,He),eu(o.ju,He,!0)}),qs(o.ph,He)}),[4,ce]);case 4:return be.sent(),[4,sc(o,z)];case 5:return be.sent(),(He=Ze(o)).kh.forEach(function(Xe,dt){qs(He.ph,dt)}),He.Mh.Qc(),He.kh=new Map,He.$h=new kn(W.i),o.qh=!1,[4,Il(o.ph,!1)];case 6:be.sent(),be.label=7;case 7:return[2]}var He})})}function sc(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C,S,k,z,ce,be,je,He,dt,vt,sn;return E.__generator(this,function(on){switch(on.label){case 0:d=Ze(a),m=[],C=[],S=0,k=r,on.label=1;case 1:return S<k.length?(ce=void 0,(be=d.Fh.get(z=k[S]))&&0!==be.length?[4,Xa(d.ju,si(be[0]))]:[3,7]):[3,13];case 2:ce=on.sent(),je=0,He=be,on.label=3;case 3:return je<He.length?(dt=d.Nh.get(He[je]),[4,Rl(d,dt)]):[3,6];case 4:(vt=on.sent()).snapshot&&C.push(vt.snapshot),on.label=5;case 5:return je++,[3,3];case 6:return[3,11];case 7:return[4,vl(d.ju,z)];case 8:return sn=on.sent(),[4,Xa(d.ju,sn)];case 9:return ce=on.sent(),[4,ha(d,Ol(sn),z,!1)];case 10:on.sent(),on.label=11;case 11:m.push(ce),on.label=12;case 12:return S++,[3,1];case 13:return[2,(d.Ch.yu(C),m)]}})})}function Ol(a){return As(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Mu(a){var r=Ze(a);return Ze(Ze(r.ju).persistence).pi()}function ac(a,r,o,d){return E.__awaiter(this,void 0,void 0,function(){var m,C,S;return E.__generator(this,function(k){switch(k.label){case 0:return(m=Ze(a)).qh?(ye("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Fh.has(r))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,td(m.ju)];case 3:return C=k.sent(),S=vr.Xt(r,"current"===o),[4,au(m,C,S)];case 4:return k.sent(),[3,8];case 5:return[4,eu(m.ju,r,!0)];case 6:return k.sent(),gs(m,r,d),[3,8];case 7:nt(),k.label=8;case 8:return[2]}})})}function uc(a,r,o){return E.__awaiter(this,void 0,void 0,function(){var d,m,C,S,k,z,ce,be,je;return E.__generator(this,function(Xe){switch(Xe.label){case 0:if(!(d=Pl(a)).qh)return[3,10];m=0,C=r,Xe.label=1;case 1:return m<C.length?d.Fh.has(S=C[m])?(ye("SyncEngine","Adding an already active target "+S),[3,5]):[4,vl(d.ju,S)]:[3,6];case 2:return k=Xe.sent(),[4,Xa(d.ju,k)];case 3:return z=Xe.sent(),[4,ha(d,Ol(k),z.targetId,!1)];case 4:Xe.sent(),El(d.ph,z),Xe.label=5;case 5:return m++,[3,1];case 6:ce=function(dt){return E.__generator(this,function(vt){switch(vt.label){case 0:return d.Fh.has(dt)?[4,eu(d.ju,dt,!1).then(function(){qs(d.ph,dt),gs(d,dt)}).catch(zs)]:[3,2];case 1:vt.sent(),vt.label=2;case 2:return[2]}})},be=0,je=o,Xe.label=7;case 7:return be<je.length?[5,ce(je[be])]:[3,10];case 8:Xe.sent(),Xe.label=9;case 9:return be++,[3,7];case 10:return[2]}})})}function Pl(a){var r=Ze(a);return r.ph.Gu.sh=Nl.bind(null,r),r.ph.Gu.qe=Ma.bind(null,r),r.ph.Gu.nh=Ku.bind(null,r),r.Ch.yu=P.bind(null,r.bh),r.Ch.Wh=ie.bind(null,r.bh),r}function Zu(a){var r=Ze(a);return r.ph.Gu.ih=Al.bind(null,r),r.ph.Gu.rh=rc.bind(null,r),r}var _f=function(){function a(){}return a.prototype.Nc=function(r){this.zh=r},a.prototype.Lr=function(r,o,d,m){var S,C=this;return 0===(S=o).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.on.length||1===S.on.length&&S.on[0].field.p())||d.isEqual(at.min())?this.Hh(r,o):this.zh.kr(r,m).next(function(S){var k=C.Yh(o,S);return(as(o)||co(o))&&C.Eh(o.an,k,m,d)?C.Hh(r,o):(ge()<=J.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ho(o)),C.zh.Lr(r,o,d).next(function(z){return k.forEach(function(ce){z=z.ot(ce.key,ce)}),z}))})},a.prototype.Yh=function(r,o){var d=new rr(Zo(r));return o.forEach(function(m,C){C instanceof qt&&oo(r,C)&&(d=d.add(C))}),d},a.prototype.Eh=function(r,o,d,m){if(d.size!==o.size)return!0;var C="F"===r?o.last():o.first();return!!C&&(C.hasPendingWrites||C.version.L(m)>0)},a.prototype.Hh=function(r,o){return ge()<=J.LogLevel.DEBUG&&ye("IndexFreeQueryEngine","Using full collection scan to execute query:",Ho(o)),this.zh.Lr(r,o,at.min())},a}(),vf=function(){function a(r,o){this.Dr=r,this.No=o,this.Sr=[],this.Jh=1,this.Xh=new rr(Ci.kc)}return a.prototype.$o=function(r){return kt.resolve(0===this.Sr.length)},a.prototype.ko=function(r,o,d,m){var C=this.Jh;this.Jh++;var S=new Ks(C,o,d,m);this.Sr.push(S);for(var k=0,z=m;k<z.length;k++){var ce=z[k];this.Xh=this.Xh.add(new Ci(ce.key,C)),this.Dr.Mo(r,ce.key.path.h())}return kt.resolve(S)},a.prototype.Oo=function(r,o){return kt.resolve(this.Zh(o))},a.prototype.Bo=function(r,o){var m=this.tl(o+1),C=m<0?0:m;return kt.resolve(this.Sr.length>C?this.Sr[C]:null)},a.prototype.qo=function(){return kt.resolve(0===this.Sr.length?-1:this.Jh-1)},a.prototype.Uo=function(r){return kt.resolve(this.Sr.slice())},a.prototype.Nr=function(r,o){var d=this,m=new Ci(o,0),C=new Ci(o,Number.POSITIVE_INFINITY),S=[];return this.Xh.Ft([m,C],function(k){var z=d.Zh(k.jc);S.push(z)}),kt.resolve(S)},a.prototype.Or=function(r,o){var d=this,m=new rr(Ut);return o.forEach(function(C){var S=new Ci(C,0),k=new Ci(C,Number.POSITIVE_INFINITY);d.Xh.Ft([S,k],function(z){m=m.add(z.jc)})}),kt.resolve(this.el(m))},a.prototype.Wr=function(r,o){var d=o.path,m=d.length+1,C=d;W.F(C)||(C=C.child(""));var S=new Ci(new W(C),0),k=new rr(Ut);return this.Xh.xt(function(z){var ce=z.key.path;return!!d.T(ce)&&(ce.length===m&&(k=k.add(z.jc)),!0)},S),kt.resolve(this.el(k))},a.prototype.el=function(r){var o=this,d=[];return r.forEach(function(m){var C=o.Zh(m);null!==C&&d.push(C)}),d},a.prototype.Wo=function(r,o){var d=this;Te(0===this.nl(o.batchId,"removed")),this.Sr.shift();var m=this.Xh;return kt.forEach(o.mutations,function(C){var S=new Ci(C.key,o.batchId);return m=m.delete(S),d.No.Go(r,C.key)}).next(function(){d.Xh=m})},a.prototype.Ko=function(r){},a.prototype.Ho=function(r,o){var d=new Ci(o,0),m=this.Xh.$t(d);return kt.resolve(o.isEqual(m&&m.key))},a.prototype.zo=function(r){return kt.resolve()},a.prototype.nl=function(r,o){return this.tl(r)},a.prototype.tl=function(r){return 0===this.Sr.length?0:r-this.Sr[0].batchId},a.prototype.Zh=function(r){var o=this.tl(r);return o<0||o>=this.Sr.length?null:this.Sr[o]},a}(),cd=function(){function a(r,o){this.Dr=r,this.sl=o,this.docs=new kn(W.i),this.size=0}return a.prototype.Er=function(r,o,d){var m=o.key,C=this.docs.get(m),S=C?C.size:0,k=this.sl(o);return this.docs=this.docs.ot(m,{ta:o,size:k,readTime:d}),this.size+=k-S,this.Dr.Mo(r,m.path.h())},a.prototype.Ar=function(r){var o=this.docs.get(r);o&&(this.docs=this.docs.remove(r),this.size-=o.size)},a.prototype.Rr=function(r,o){var d=this.docs.get(o);return kt.resolve(d?d.ta:null)},a.prototype.getEntries=function(r,o){var d=this,m=Ti();return o.forEach(function(C){var S=d.docs.get(C);m=m.ot(C,S?S.ta:null)}),kt.resolve(m)},a.prototype.Lr=function(r,o,d){for(var m=Ar(),C=new W(o.path.child("")),S=this.docs.ft(C);S.At();){var k=S.It(),ce=k.value,be=ce.ta,je=ce.readTime;if(!o.path.T(k.key.path))break;je.L(d)<=0||be instanceof qt&&oo(o,be)&&(m=m.ot(be.key,be))}return kt.resolve(m)},a.prototype.il=function(r,o){return kt.forEach(this.docs,function(d){return o(d)})},a.prototype.ra=function(r){return new Xu(this)},a.prototype.aa=function(r){return kt.resolve(this.size)},a}(),Xu=function(a){function r(o){var d=this;return(d=a.call(this)||this).ca=o,d}return E.__extends(r,a),r.prototype.yr=function(o){var d=this,m=[];return this.wr.forEach(function(C,S){S?m.push(d.ca.Er(o,S,d.readTime)):d.ca.Ar(C)}),kt.$n(m)},r.prototype.gr=function(o,d){return this.ca.Rr(o,d)},r.prototype.Pr=function(o,d){return this.ca.getEntries(o,d)},r}(c),dd=function(){function a(r){this.persistence=r,this.rl=new ze(function(o){return qe(o)},Ot),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ol=0,this.al=new tu,this.targetCount=0,this.cl=Da.fa()}return a.prototype.Ce=function(r,o){return this.rl.forEach(function(d,m){return o(m)}),kt.resolve()},a.prototype.Ea=function(r){return kt.resolve(this.lastRemoteSnapshotVersion)},a.prototype.Ia=function(r){return kt.resolve(this.ol)},a.prototype.wa=function(r){return this.highestTargetId=this.cl.next(),kt.resolve(this.highestTargetId)},a.prototype.Aa=function(r,o,d){return d&&(this.lastRemoteSnapshotVersion=d),o>this.ol&&(this.ol=o),kt.resolve()},a.prototype.ga=function(r){this.rl.set(r.target,r);var o=r.targetId;o>this.highestTargetId&&(this.cl=new Da(o),this.highestTargetId=o),r.sequenceNumber>this.ol&&(this.ol=r.sequenceNumber)},a.prototype.Ra=function(r,o){return this.ga(o),this.targetCount+=1,kt.resolve()},a.prototype.ya=function(r,o){return this.ga(o),kt.resolve()},a.prototype.Va=function(r,o){return this.rl.delete(o.target),this.al.Uc(o.targetId),this.targetCount-=1,kt.resolve()},a.prototype.po=function(r,o,d){var m=this,C=0,S=[];return this.rl.forEach(function(k,z){z.sequenceNumber<=o&&null===d.get(z.targetId)&&(m.rl.delete(k),S.push(m.pa(r,z.targetId)),C++)}),kt.$n(S).next(function(){return C})},a.prototype.ba=function(r){return kt.resolve(this.targetCount)},a.prototype.va=function(r,o){var d=this.rl.get(o)||null;return kt.resolve(d)},a.prototype.Sa=function(r,o,d){return this.al.Lc(o,d),kt.resolve()},a.prototype.Ca=function(r,o,d){this.al.qc(o,d);var m=this.persistence.No,C=[];return m&&o.forEach(function(S){C.push(m.Go(r,S))}),kt.$n(C)},a.prototype.pa=function(r,o){return this.al.Uc(o),kt.resolve()},a.prototype.Fa=function(r,o){var d=this.al.Wc(o);return kt.resolve(d)},a.prototype.Ho=function(r,o){return kt.resolve(this.al.Ho(o))},a}(),ra=function(){function a(r){var o=this;this.ul={},this.Ma=new qn(0),this.Oa=!1,this.Oa=!0,this.No=r(this),this.Ka=new dd(this),this.Dr=new Bo,this.vr=new cd(this.Dr,function(C){return o.No.hl(C)})}return a.prototype.start=function(){return Promise.resolve()},a.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(a.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),a.prototype.Za=function(){},a.prototype.tc=function(){},a.prototype.Ic=function(){return this.Dr},a.prototype.mc=function(r){var o=this.ul[r.ti()];return o||(o=new vf(this.Dr,this.No),this.ul[r.ti()]=o),o},a.prototype.Tc=function(){return this.Ka},a.prototype.Ec=function(){return this.vr},a.prototype.runTransaction=function(r,o,d){var m=this;ye("MemoryPersistence","Starting transaction:",r);var C=new el(this.Ma.next());return this.No.ll(),d(C).next(function(S){return m.No._l(C).next(function(){return S})}).Fn().then(function(S){return C.br(),S})},a.prototype.fl=function(r,o){return kt.kn(Object.values(this.ul).map(function(d){return function(){return d.Ho(r,o)}}))},a}(),el=function(a){function r(o){var d=this;return(d=a.call(this)||this).xa=o,d}return E.__extends(r,a),r}(b),fd=function(){function a(r){this.persistence=r,this.dl=new tu,this.wl=null}return a.ml=function(r){return new a(r)},Object.defineProperty(a.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw nt()},enumerable:!1,configurable:!0}),a.prototype.Da=function(r,o,d){return this.dl.Da(d,o),this.Tl.delete(d.toString()),kt.resolve()},a.prototype.Na=function(r,o,d){return this.dl.Na(d,o),this.Tl.add(d.toString()),kt.resolve()},a.prototype.Go=function(r,o){return this.Tl.add(o.toString()),kt.resolve()},a.prototype.removeTarget=function(r,o){var d=this;this.dl.Uc(o.targetId).forEach(function(C){return d.Tl.add(C.toString())});var m=this.persistence.Tc();return m.Fa(r,o.targetId).next(function(C){C.forEach(function(S){return d.Tl.add(S.toString())})}).next(function(){return m.Va(r,o)})},a.prototype.ll=function(){this.wl=new Set},a.prototype._l=function(r){var o=this,d=this.persistence.Ec().ra();return kt.forEach(this.Tl,function(m){var C=W.D(m);return o.El(r,C).next(function(S){S||d.Ar(C)})}).next(function(){return o.wl=null,d.apply(r)})},a.prototype.yc=function(r,o){var d=this;return this.El(r,o).next(function(m){m?d.Tl.delete(o.toString()):d.Tl.add(o.toString())})},a.prototype.hl=function(r){return 0},a.prototype.El=function(r,o){var d=this;return kt.kn([function(){return kt.resolve(d.dl.Ho(o))},function(){return d.persistence.Tc().Ho(r,o)},function(){return d.persistence.fl(r,o)}])},a}(),hd=function(){function a(r){this.Il=r.Il,this.Al=r.Al}return a.prototype.gu=function(r){this.Rl=r},a.prototype.Tu=function(r){this.gl=r},a.prototype.onMessage=function(r){this.Pl=r},a.prototype.close=function(){this.Al()},a.prototype.send=function(r){this.Il(r)},a.prototype.yl=function(){this.Rl()},a.prototype.Vl=function(r){this.gl(r)},a.prototype.pl=function(r){this.Pl(r)},a}(),pd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lh=function(a){function r(o){var d=this;return(d=a.call(this,o)||this).forceLongPolling=o.forceLongPolling,d.W=o.W,d}return E.__extends(r,a),r.prototype.Nl=function(o,d,m,C){return new Promise(function(S,k){var z=new Se.XhrIo;z.listenOnce(Se.EventType.COMPLETE,function(){try{switch(z.getLastErrorCode()){case Se.ErrorCode.NO_ERROR:var be=z.getResponseJson();ye("Connection","XHR received:",JSON.stringify(be)),S(be);break;case Se.ErrorCode.TIMEOUT:ye("Connection",'RPC "'+o+'" timed out'),k(new X(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Se.ErrorCode.HTTP_ERROR:var je=z.getStatus();if(ye("Connection",'RPC "'+o+'" failed with status:',je,"response text:",z.getResponseText()),je>0){var He=z.getResponseJson().error;if(He&&He.status&&He.message){var Xe=(vt=He.status.toLowerCase().replace("_","-"),Object.values(ne).indexOf(vt)>=0?vt:ne.UNKNOWN);k(new X(Xe,He.message))}else k(new X(ne.UNKNOWN,"Server responded with status "+z.getStatus()))}else k(new X(ne.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{ye("Connection",'RPC "'+o+'" completed.')}var vt});var ce=JSON.stringify(C);z.send(d,"POST",ce,m,15)})},r.prototype.Pu=function(o,d){var m=[this.vl,"/","google.firestore.v1.Firestore","/",o,"/channel"],C=Se.createWebChannelTransport(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(S.initMessageHeaders,d),ke.isMobileCordova()||ke.isReactNative()||ke.isElectron()||ke.isIE()||ke.isUWP()||ke.isBrowserExtension()||(S.httpHeadersOverwriteParam="$httpHeaders");var k=m.join("");ye("Connection","Creating WebChannel: "+k,S);var z=C.createWebChannel(k,S),ce=!1,be=!1,je=new hd({Il:function(Xe){be?ye("Connection","Not sending because WebChannel is closed:",Xe):(ce||(ye("Connection","Opening WebChannel transport."),z.open(),ce=!0),ye("Connection","WebChannel sending:",Xe),z.send(Xe))},Al:function(){return z.close()}}),He=function(Xe,dt){z.listen(Xe,function(vt){try{dt(vt)}catch(sn){setTimeout(function(){throw sn},0)}})};return He(Se.WebChannel.EventType.OPEN,function(){be||ye("Connection","WebChannel transport opened.")}),He(Se.WebChannel.EventType.CLOSE,function(){be||(be=!0,ye("Connection","WebChannel transport closed"),je.Vl())}),He(Se.WebChannel.EventType.ERROR,function(Xe){be||(be=!0,ct("Connection","WebChannel transport errored:",Xe),je.Vl(new X(ne.UNAVAILABLE,"The operation could not be completed")))}),He(Se.WebChannel.EventType.MESSAGE,function(Xe){var dt;if(!be){var vt=Xe.data[0];Te(!!vt);var on=vt.error||(null===(dt=vt[0])||void 0===dt?void 0:dt.error);if(on){ye("Connection","WebChannel received error:",on);var Rn=on.status,er=function(Gr){var ai=en[Gr];if(void 0!==ai)return Mn(ai)}(Rn),cr=on.message;void 0===er&&(er=ne.INTERNAL,cr="Unknown error status: "+Rn+" with message "+on.message),be=!0,je.Vl(new X(er,cr)),z.close()}else ye("Connection","WebChannel received:",vt),je.pl(vt)}}),setTimeout(function(){je.yl()},0),je},r}(function(){function a(r){this.bl=r,this.U=r.U,this.vl=(r.ssl?"https":"http")+"://"+r.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return a.prototype.$u=function(r,o,d,m){var C=this.Dl(r,o);ye("RestConnection","Sending: ",C,d);var S={};return this.Cl(S,m),this.Nl(r,C,S,d).then(function(k){return ye("RestConnection","Received: ",k),k},function(k){throw ct("RestConnection",r+" failed with error: ",k,"url: ",C,"request:",d),k})},a.prototype.ku=function(r,o,d,m){return this.$u(r,o,d,m)},a.prototype.Cl=function(r,o){if(r["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",r["Content-Type"]="text/plain",o)for(var d in o.Kc)o.Kc.hasOwnProperty(d)&&(r[d]=o.Kc[d])},a.prototype.Dl=function(r,o){return this.vl+"/v1/"+o+":"+pd[r]},a}()),bf=function(){function a(){var r=this;this.Fl=function(){return r.xl()},this.$l=function(){return r.kl()},this.Ml=[],this.Ol()}return a.prototype.Zu=function(r){this.Ml.push(r)},a.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},a.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},a.prototype.xl=function(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var r=0,o=this.Ml;r<o.length;r++)(0,o[r])(0)},a.prototype.kl=function(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var r=0,o=this.Ml;r<o.length;r++)(0,o[r])(1)},a.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),Vh=function(){function a(){}return a.prototype.Zu=function(r){},a.prototype.Di=function(){},a}();function tl(a){return new Ur(a,!0)}var kl="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",xu=function(){function a(){}return a.prototype.initialize=function(r){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(o){switch(o.label){case 0:return this.Sh=this.Ll(r),this.persistence=this.Bl(r),[4,this.persistence.start()];case 1:return o.sent(),this.ql=this.Ul(r),this.ju=this.Ql(r),[2]}})})},a.prototype.Ul=function(r){return null},a.prototype.Ql=function(r){return o=this.persistence,d=new _f,new rs(o,d,r.Wl);var o,d},a.prototype.Bl=function(r){if(r.persistenceSettings.jl)throw new X(ne.FAILED_PRECONDITION,kl);return new ra(fd.ml)},a.prototype.Ll=function(r){return new xs},a.prototype.terminate=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(r){switch(r.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return r.sent(),[4,this.persistence.Di()];case 2:return r.sent(),[2]}})})},a.prototype.clearPersistence=function(r,o){throw new X(ne.FAILED_PRECONDITION,kl)},a}(),wf=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.initialize=function(o){return E.__awaiter(this,void 0,void 0,function(){var d,m=this;return E.__generator(this,function(C){switch(C.label){case 0:return[4,a.prototype.initialize.call(this,o)];case 1:return C.sent(),d=this.Kl.fi,this.Sh instanceof Hs?(this.Sh.fi={er:oc.bind(null,d),nr:ac.bind(null,d),sr:uc.bind(null,d),pi:Mu.bind(null,d)},[4,this.Sh.start()]):[3,3];case 2:C.sent(),C.label=3;case 3:return[4,this.persistence.Xa(function(S){return E.__awaiter(m,void 0,void 0,function(){return E.__generator(this,function(k){switch(k.label){case 0:return[4,ld(this.Kl.fi,S)];case 1:return k.sent(),this.ql&&(S&&!this.ql.Ei?this.ql.start(this.ju):S||this.ql.stop()),[2]}})})})];case 4:return C.sent(),[2]}})})},r.prototype.Ll=function(o){if(o.persistenceSettings.jl&&o.persistenceSettings.synchronizeTabs){var d=F();if(!Hs.Ln(d))throw new X(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=ml(o.bl.U,o.bl.persistenceKey);return new Hs(d,o.cs,m,o.clientId,o.Wl)}return new xs},r}(function(a){function r(o){var d=this;return(d=a.call(this)||this).Kl=o,d}return E.__extends(r,a),r.prototype.initialize=function(o){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(d){switch(d.label){case 0:return[4,a.prototype.initialize.call(this,o)];case 1:return d.sent(),[4,Wu(this.ju)];case 2:return d.sent(),[4,this.Kl.initialize(this,o)];case 3:return d.sent(),[4,Zu(this.Kl.fi)];case 4:return d.sent(),[4,ks(this.Kl.ph)];case 5:return d.sent(),[2]}})})},r.prototype.Ul=function(o){return new Qe(this.persistence.No.wo,o.cs)},r.prototype.Bl=function(o){var d=ml(o.bl.U,o.bl.persistenceKey),m=tl(o.bl.U);return new ns(o.persistenceSettings.synchronizeTabs,d,o.clientId,me.ao(o.persistenceSettings.cacheSizeBytes),o.cs,F(),Q(),m,this.Sh,o.persistenceSettings.ka)},r.prototype.Ll=function(o){return new xs},r.prototype.clearPersistence=function(o,d){return function(m){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(S){switch(S.label){case 0:return Er.Ln()?[4,Er.delete(m+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(ml(o,d))},r}(xu)),lc=function(){function a(){}return a.prototype.initialize=function(r,o){return E.__awaiter(this,void 0,void 0,function(){var d=this;return E.__generator(this,function(m){switch(m.label){case 0:return this.ju?[3,2]:(this.ju=r.ju,this.Sh=r.Sh,this.Ku=this.Gl(o),this.ph=this.zl(o),this.bh=this.Hl(o),this.fi=this.Yl(o),this.Sh.di=function(C){return mr(d.fi,C,1)},this.ph.Gu.Jl=ms.bind(null,this.fi),[4,Il(this.ph,this.fi.Uh)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},a.prototype.Hl=function(r){return new xn},a.prototype.Gl=function(r){var d=tl(r.bl.U),m=new Lh(r.bl);return new Cl(r.credentials,m,d)},a.prototype.zl=function(r){var o,d,m,C,S,k=this;return o=this.ju,d=this.Ku,m=r.cs,C=function(z){return mr(k.fi,z,0)},S=bf.Ln()?new bf:new Vh,new iu(o,d,m,C,S)},a.prototype.Yl=function(r){return z=!r.persistenceSettings.jl||!r.persistenceSettings.synchronizeTabs,ce=new Ju(this.ju,this.ph,this.bh,this.Sh,r.Wl,r.Dh),z&&(ce.qh=!0),ce;var z,ce},a.prototype.terminate=function(){return Yu(this.ph)},a}(),nl=function(){function a(r){this.observer=r,this.muted=!1}return a.prototype.next=function(r){this.observer.next&&this.Xl(this.observer.next,r)},a.prototype.error=function(r){this.observer.error?this.Xl(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)},a.prototype.Zl=function(){this.muted=!0},a.prototype.Xl=function(r,o){var d=this;this.muted||setTimeout(function(){d.muted||r(o)},0)},a}(),cc=function(a){!function(o,d,m,C){if(!(d instanceof Array)||d.length<1)throw new X(ne.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Bt(1,"element")+".")}(0,a);for(var r=0;r<a.length;++r)if(Me("FieldPath","string",r,a[r]),0===a[r].length)throw new X(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new re(a)},uu=function(a){function r(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];return a.call(this,o)||this}return E.__extends(r,a),r.documentId=function(){return new r(re.v().R())},r.prototype.isEqual=function(o){if(!(o instanceof r))throw lt("isEqual","FieldPath",1,o);return this.t_.isEqual(o.t_)},r}(cc),Cf=new RegExp("[~\\*/\\[\\]]"),lu=function(a){this.e_=a},xa=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.n_=function(o){if(2!==o.s_)throw o.i_(1===o.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return o.We.push(o.path),null},r.prototype.isEqual=function(o){return o instanceof r},r}(lu);function rl(a,r,o){return new Vl({s_:3,r_:r.settings.r_,methodName:a.e_,o_:o},r.U,r.serializer,r.ignoreUndefinedProperties)}var Cs=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.n_=function(o){return new le(o.path,new li)},r.prototype.isEqual=function(o){return o instanceof r},r}(lu),di=function(a){function r(o,d){var m=this;return(m=a.call(this,o)||this).a_=d,m}return E.__extends(r,a),r.prototype.n_=function(o){var d=rl(this,o,!0),m=this.a_.map(function(S){return qo(S,d)}),C=new ri(m);return new le(o.path,C)},r.prototype.isEqual=function(o){return this===o},r}(lu),Fl=function(a){function r(o,d){var m=this;return(m=a.call(this,o)||this).a_=d,m}return E.__extends(r,a),r.prototype.n_=function(o){var d=rl(this,o,!0),m=this.a_.map(function(S){return qo(S,d)}),C=new ii(m);return new le(o.path,C)},r.prototype.isEqual=function(o){return this===o},r}(lu),Pi=function(a){function r(o,d){var m=this;return(m=a.call(this,o)||this).c_=d,m}return E.__extends(r,a),r.prototype.n_=function(o){var d=new Pr(o.serializer,jr(o.serializer,this.c_));return new le(o.path,d)},r.prototype.isEqual=function(o){return this===o},r}(lu),cu=function(){function a(r,o){if(de("GeoPoint",arguments,2),Me("GeoPoint","number",1,r),Me("GeoPoint","number",2,o),!isFinite(r)||r<-90||r>90)throw new X(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(o)||o<-180||o>180)throw new X(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this.u_=r,this.h_=o}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){return this.u_===r.u_&&this.h_===r.h_},a.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},a.prototype.Y=function(r){return Ut(this.u_,r.u_)||Ut(this.h_,r.h_)},a}(),il=function(a){this.l_=a},Ll=/^__.*__$/,pa=function(a,r,o){this.__=a,this.f_=r,this.d_=o},Ef=function(){function a(r,o,d){this.data=r,this.We=o,this.fieldTransforms=d}return a.prototype.w_=function(r,o){var d=[];return d.push(null!==this.We?new mn(r,this.data,this.We,o):new Qt(r,this.data,o)),this.fieldTransforms.length>0&&d.push(new Zn(r,this.fieldTransforms)),d},a}(),du=function(){function a(r,o,d){this.data=r,this.We=o,this.fieldTransforms=d}return a.prototype.w_=function(r,o){var d=[new mn(r,this.data,this.We,o)];return this.fieldTransforms.length>0&&d.push(new Zn(r,this.fieldTransforms)),d},a}();function Ru(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}var Vl=function(){function a(r,o,d,m,C,S){this.settings=r,this.U=o,this.serializer=d,this.ignoreUndefinedProperties=m,void 0===C&&this.m_(),this.fieldTransforms=C||[],this.We=S||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),a.prototype.T_=function(r){return new a(Object.assign(Object.assign({},this.settings),r),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},a.prototype.E_=function(r){var o,d=null===(o=this.path)||void 0===o?void 0:o.child(r),m=this.T_({path:d,o_:!1});return m.I_(r),m},a.prototype.A_=function(r){var o,d=null===(o=this.path)||void 0===o?void 0:o.child(r),m=this.T_({path:d,o_:!1});return m.m_(),m},a.prototype.R_=function(r){return this.T_({path:void 0,o_:!0})},a.prototype.i_=function(r){return ol(r,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},a.prototype.contains=function(r){return void 0!==this.We.find(function(o){return r.T(o)})||void 0!==this.fieldTransforms.find(function(o){return r.T(o.field)})},a.prototype.m_=function(){if(this.path)for(var r=0;r<this.path.length;r++)this.I_(this.path.get(r))},a.prototype.I_=function(r){if(0===r.length)throw this.i_("Document fields must not be empty");if(Ru(this.s_)&&Ll.test(r))throw this.i_('Document fields cannot begin and end with "__"')},a}(),gd=function(){function a(r,o,d){this.U=r,this.ignoreUndefinedProperties=o,this.serializer=d||tl(r)}return a.prototype.P_=function(r,o,d,m){return void 0===m&&(m=!1),new Vl({s_:r,methodName:o,r_:d,path:re.P(),o_:!1,g_:m},this.U,this.serializer,this.ignoreUndefinedProperties)},a}();function dc(a,r,o,d,m,C){void 0===C&&(C={});var S=a.P_(C.merge||C.mergeFields?2:0,r,o,m);po("Data must be an object, but it was:",S,d);var k,z,ce=Oa(d,S);if(C.merge)k=new L(S.We),z=S.fieldTransforms;else if(C.mergeFields){for(var be=[],je=0,He=C.mergeFields;je<He.length;je++){var Xe=He[je],dt=void 0;if(Xe instanceof cc)dt=Xe.t_;else{if("string"!=typeof Xe)throw nt();dt=Fs(r,Xe,o)}if(!S.contains(dt))throw new X(ne.INVALID_ARGUMENT,"Field '"+dt+"' is specified in your field mask but missing from your input data.");md(be,dt)||be.push(dt)}k=new L(be),z=S.fieldTransforms.filter(function(vt){return k.Ye(vt.field)})}else k=null,z=S.fieldTransforms;return new Ef(new Vi(ce),k,z)}function fc(a,r,o,d){var m=a.P_(1,r,o);po("Data must be an object, but it was:",m,d);var C=[],S=new Yr;Ft(d,function(z,ce){var be=Fs(r,z,o),je=m.A_(be);if(ce instanceof xa||ce instanceof il&&ce.l_ instanceof xa)C.push(be);else{var He=qo(ce,je);null!=He&&(C.push(be),S.set(be,He))}});var k=new L(C);return new du(S.Xe(),k,m.fieldTransforms)}function Ra(a,r,o,d,m,C){var S=a.P_(1,r,o),k=[Es(r,d,o)],z=[m];if(C.length%2!=0)throw new X(ne.INVALID_ARGUMENT,"Function "+r+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var ce=0;ce<C.length;ce+=2)k.push(Es(r,C[ce])),z.push(C[ce+1]);for(var be=[],je=new Yr,He=k.length-1;He>=0;--He)if(!md(be,k[He])){var Xe=k[He],dt=z[He],vt=S.A_(Xe);if(dt instanceof xa||dt instanceof il&&dt.l_ instanceof xa)be.push(Xe);else{var sn=qo(dt,vt);null!=sn&&(be.push(Xe),je.set(Xe,sn))}}var on=new L(be);return new du(je.Xe(),on,S.fieldTransforms)}function Ji(a,r,o,d){return void 0===d&&(d=!1),qo(o,a.P_(d?4:3,r))}function qo(a,r){if(a instanceof il&&(a=a.l_),fu(a))return po("Unsupported field value:",r,a),Oa(a,r);if(a instanceof lu)return function(o,d){if(!Ru(d.s_))throw d.i_(o.e_+"() can only be used with update() and set()");if(!d.path)throw d.i_(o.e_+"() is not currently supported inside arrays");var m=o.n_(d);m&&d.fieldTransforms.push(m)}(a,r),null;if(r.path&&r.We.push(r.path),a instanceof Array){if(r.settings.o_&&4!==r.s_)throw r.i_("Nested arrays are not supported");return function(o,d){for(var m=[],C=0,S=0,k=o;S<k.length;S++){var z=qo(k[S],d.R_(C));null==z&&(z={nullValue:"NULL_VALUE"}),m.push(z),C++}return{arrayValue:{values:m}}}(a,r)}return function(o,d){if(null===o)return{nullValue:"NULL_VALUE"};if("number"==typeof o)return jr(d.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var m=Ae.fromDate(o);return{timestampValue:ji(d.serializer,m)}}if(o instanceof Ae){var C=new Ae(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ji(d.serializer,C)}}if(o instanceof cu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof An)return{bytesValue:Hi(d.serializer,o.q)};if(o instanceof pa){var S=d.U,k=o.__;if(!k.isEqual(S))throw d.i_("Document reference is for database "+k.projectId+"/"+k.database+" but should be for database "+S.projectId+"/"+S.database);return{referenceValue:ei(o.__||d.U,o.f_.path)}}if(void 0===o&&d.ignoreUndefinedProperties)return null;throw d.i_("Unsupported field value: "+_n(o))}(a,r)}function Oa(a,r){var o={};return Gt(a)?r.path&&r.path.length>0&&r.We.push(r.path):Ft(a,function(d,m){var C=qo(m,r.E_(d));null!=C&&(o[d]=C)}),{mapValue:{fields:o}}}function fu(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ae||a instanceof cu||a instanceof An||a instanceof pa||a instanceof lu)}function po(a,r,o){if(!fu(o)||!cn(o)){var d=_n(o);throw r.i_("an object"===d?a+" a custom object":a+" "+d)}}function Es(a,r,o){if(r instanceof cc)return r.t_;if("string"==typeof r)return Fs(a,r);throw ol("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}function Fs(a,r,o){try{return function(m){if(m.search(Cf)>=0)throw new X(ne.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(uu.bind.apply(uu,E.__spreadArrays([void 0],m.split("."))))}catch(C){throw new X(ne.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(r).t_}catch(m){throw ol((d=m)instanceof Error?d.message:d.toString(),a,!1,void 0,o)}var d}function ol(a,r,o,d,m){var C=d&&!d.m(),S=void 0!==m,k="Function "+r+"() called with invalid data";o&&(k+=" (via `toFirestore()`)");var z="";return(C||S)&&(z+=" (found",C&&(z+=" in field "+d),S&&(z+=" in document "+m),z+=")"),new X(ne.INVALID_ARGUMENT,(k+=". ")+a+z)}function md(a,r){return a.some(function(o){return o.isEqual(r)})}var yd=function(){function a(r){this.Ku=r,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return a.prototype.v_=function(r){return E.__awaiter(this,void 0,void 0,function(){var o,d=this;return E.__generator(this,function(m){switch(m.label){case 0:if(this.S_(),this.mutations.length>0)throw new X(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(C,S){return E.__awaiter(this,void 0,void 0,function(){var k,z,ce,be,je,He;return E.__generator(this,function(Xe){switch(Xe.label){case 0:return k=Ze(C),z=Fn(k.serializer)+"/documents",ce={documents:S.map(function(dt){return pi(k.serializer,dt)})},[4,k.ku("BatchGetDocuments",z,ce)];case 1:return be=Xe.sent(),je=new Map,be.forEach(function(dt){var sn,on,vt=(sn=k.serializer,"found"in(on=dt)?function(Rn,er){Te(!!er.found);var cr=Mr(Rn,er.found.name),Gr=Or(er.found.updateTime),ai=new Vi({mapValue:{fields:er.found.fields}});return new qt(cr,Gr,ai,{})}(sn,on):"missing"in on?function(Rn,er){Te(!!er.missing),Te(!!er.readTime);var cr=Mr(Rn,er.missing),Gr=Or(er.readTime);return new Cr(cr,Gr)}(sn,on):nt());je.set(vt.key.toString(),vt)}),He=[],[2,(S.forEach(function(dt){var vt=je.get(dt.toString());Te(!!vt),He.push(vt)}),He)]}})})}(this.Ku,r)];case 1:return[2,((o=m.sent()).forEach(function(C){C instanceof Cr||C instanceof qt?d.D_(C):nt()}),o)]}})})},a.prototype.set=function(r,o){this.write(o.w_(r,this.Ge(r))),this.b_.add(r.toString())},a.prototype.update=function(r,o){try{this.write(o.w_(r,this.C_(r)))}catch(d){this.p_=d}this.b_.add(r.toString())},a.prototype.delete=function(r){this.write([new ar(r,this.Ge(r))]),this.b_.add(r.toString())},a.prototype.commit=function(){return E.__awaiter(this,void 0,void 0,function(){var r,o=this;return E.__generator(this,function(d){switch(d.label){case 0:if(this.S_(),this.p_)throw this.p_;return r=this.y_,this.mutations.forEach(function(m){r.delete(m.key.toString())}),r.forEach(function(m,C){var S=W.D(C);o.mutations.push(new Hr(S,o.Ge(S)))}),[4,function(m,C){return E.__awaiter(this,void 0,void 0,function(){var S,k,z;return E.__generator(this,function(ce){switch(ce.label){case 0:return S=Ze(m),k=Fn(S.serializer)+"/documents",z={writes:C.map(function(be){return yr(S.serializer,be)})},[4,S.$u("Commit",k,z)];case 1:return ce.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return d.sent(),this.V_=!0,[2]}})})},a.prototype.D_=function(r){var o;if(r instanceof qt)o=r.version;else{if(!(r instanceof Cr))throw nt();o=at.min()}var d=this.y_.get(r.key.toString());if(d){if(!o.isEqual(d))throw new X(ne.ABORTED,"Document version changed between two reads.")}else this.y_.set(r.key.toString(),o)},a.prototype.Ge=function(r){var o=this.y_.get(r.toString());return!this.b_.has(r.toString())&&o?Jt.updateTime(o):Jt.ze()},a.prototype.C_=function(r){var o=this.y_.get(r.toString());if(!this.b_.has(r.toString())&&o){if(o.isEqual(at.min()))throw new X(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jt.updateTime(o)}return Jt.exists(!0)},a.prototype.write=function(r){this.S_(),this.mutations=this.mutations.concat(r)},a.prototype.S_=function(){},a}(),Df=function(){function a(r,o,d,m){this.cs=r,this.Ku=o,this.updateFunction=d,this.ls=m,this.N_=5,this.ys=new ds(this.cs,"transaction_retry")}return a.prototype.run=function(){this.F_()},a.prototype.F_=function(){var r=this;this.ys.gn(function(){return E.__awaiter(r,void 0,void 0,function(){var o,d,m=this;return E.__generator(this,function(C){return o=new yd(this.Ku),(d=this.x_(o))&&d.then(function(S){m.cs.ws(function(){return o.commit().then(function(){m.ls.resolve(S)}).catch(function(k){m.k_(k)})})}).catch(function(S){m.k_(S)}),[2]})})})},a.prototype.x_=function(r){try{var o=this.updateFunction(r);return!Et(o)&&o.catch&&o.then?o:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.ls.reject(d),null}},a.prototype.k_=function(r){var o=this;this.N_>0&&this.M_(r)?(this.N_-=1,this.cs.ws(function(){return o.F_(),Promise.resolve()})):this.ls.reject(r)},a.prototype.M_=function(r){if("FirebaseError"===r.name){var o=r.code;return"aborted"===o||"failed-precondition"===o||!rn(o)}return!1},a}(),_d=function(){function a(r,o){this.credentials=r,this.cs=o,this.clientId=Zt.k(),this.O_=new Xn}return a.prototype.start=function(r,o,d,m){var C=this;this.L_(),this.bl=r;var S=new Xn,k=!1;return this.credentials.Hc(function(z){if(!k)return k=!0,ye("FirestoreClient","Initializing. user=",z.uid),C.B_(o,d,m,z,S).then(C.O_.resolve,C.O_.reject);C.cs.Cs(function(){return function(ce,be){return E.__awaiter(this,void 0,void 0,function(){var je,He;return E.__generator(this,function(Xe){switch(Xe.label){case 0:return(je=Ze(ce)).cs.xs(),ye("RemoteStore","RemoteStore received new credentials"),He=Sa(je),je.Yu.add(3),[4,Ei(je)];case 1:return Xe.sent(),He&&je.th.set("Unknown"),[4,je.Gu.Jl(be)];case 2:return Xe.sent(),je.Yu.delete(3),[4,Ps(je)];case 3:return Xe.sent(),[2]}})})}(C.ph,z)})}),this.cs.ws(function(){return C.O_.promise}),S.promise},a.prototype.enableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!0),(d=Ze(r.ph)).Yu.delete(0),Ps(d);var d})},a.prototype.B_=function(r,o,d,m,C){return E.__awaiter(this,void 0,void 0,function(){var S,k,z=this;return E.__generator(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,3,,4]),[4,r.initialize(S={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:m,Dh:100,persistenceSettings:d})];case 1:return ce.sent(),[4,o.initialize(r,S)];case 2:return ce.sent(),this.persistence=r.persistence,this.Sh=r.Sh,this.ju=r.ju,this.ql=r.ql,this.Ku=o.Ku,this.ph=o.ph,this.fi=o.fi,this.q_=o.bh,this.q_.Us=Au.bind(null,this.fi),this.q_.js=sd.bind(null,this.fi),this.persistence.Za(function(){return E.__awaiter(z,void 0,void 0,function(){return E.__generator(this,function(be){switch(be.label){case 0:return[4,this.terminate()];case 1:return be.sent(),[2]}})})}),C.resolve(),[3,4];case 3:if(k=ce.sent(),C.reject(k),!this.U_(k))throw k;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+k),this.B_(new xu,new lc,{jl:!1},m,C))];case 4:return[2]}})})},a.prototype.U_=function(r){return"FirebaseError"===r.name?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code},a.prototype.L_=function(){if(this.cs.ps)throw new X(ne.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.disableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!1),function(o){return E.__awaiter(this,void 0,void 0,function(){var d;return E.__generator(this,function(m){switch(m.label){case 0:return(d=Ze(o)).Yu.add(0),[4,Ei(d)];case 1:return m.sent(),d.th.set("Offline"),[2]}})})}(r.ph)})},a.prototype.terminate=function(){var r=this;this.cs.Ds();var o=new Xn;return this.cs.bs(function(){return E.__awaiter(r,void 0,void 0,function(){var d,m;return E.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Yu(this.ph)];case 1:return C.sent(),[4,this.Sh.Di()];case 2:return C.sent(),[4,this.persistence.Di()];case 3:return C.sent(),this.credentials.Yc(),o.resolve(),[3,5];case 4:return d=C.sent(),m=it(d,"Failed to shutdown persistence"),o.reject(m),[3,5];case 5:return[2]}})})}),o.promise},a.prototype.waitForPendingWrites=function(){var r=this;this.L_();var o=new Xn;return this.cs.ws(function(){return function(d,m){return E.__awaiter(this,void 0,void 0,function(){var C,S,k,z,ce;return E.__generator(this,function(be){switch(be.label){case 0:Sa((C=Ze(d)).ph)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),be.label=1;case 1:return be.trys.push([1,3,,4]),[4,(je=C.ju,He=Ze(je),He.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Xe){return He.Sr.qo(Xe)}))];case 2:return-1===(S=be.sent())?[2,void m.resolve()]:((k=C.Lh.get(S)||[]).push(m),C.Lh.set(S,k),[3,4]);case 3:return z=be.sent(),ce=it(z,"Initialization of waitForPendingWrites() operation failed"),m.reject(ce),[3,4];case 4:return[2]}var je,He})})}(r.fi,o)}),o.promise},a.prototype.listen=function(r,o,d){var m=this;this.L_();var C=new nl(d),S=new St(r,C,o);return this.cs.ws(function(){return bn(m.q_,S)}),function(){C.Zl(),m.cs.ws(function(){return O(m.q_,S)})}},a.prototype.Q_=function(r){return E.__awaiter(this,void 0,void 0,function(){var o,d=this;return E.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),o=new Xn,[2,(this.cs.ws(function(){return function(C,S,k){return E.__awaiter(this,void 0,void 0,function(){var z,ce,be;return E.__generator(this,function(je){switch(je.label){case 0:return je.trys.push([0,2,,3]),[4,(He=C,Xe=S,dt=Ze(He),dt.persistence.runTransaction("read document","readonly",function(vt){return dt.Cc.Cr(vt,Xe)}))];case 1:return(z=je.sent())instanceof qt?k.resolve(z):z instanceof Cr?k.resolve(null):k.reject(new X(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ce=je.sent(),be=it(ce,"Failed to get document '"+S+" from cache"),k.reject(be),[3,3];case 3:return[2]}var He,Xe,dt})})}(d.ju,r,o)}),o.promise)]}})})},a.prototype.W_=function(r,o){return void 0===o&&(o={}),E.__awaiter(this,void 0,void 0,function(){var d,m=this;return E.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),d=new Xn,[2,(this.cs.ws(function(){return S=m.q_,k=m.cs,z=r,ce=o,be=d,je=new nl({next:function(Xe){k.ws(function(){return O(S,He)});var dt=Xe.docs.has(z);!dt&&Xe.fromCache?be.reject(new X(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Xe.fromCache&&ce&&"server"===ce.source?be.reject(new X(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):be.resolve(Xe)},error:function(Xe){return be.reject(Xe)}}),He=new St(ro(z.path),je,{includeMetadataChanges:!0,Xs:!0}),bn(S,He);var S,k,z,ce,be,je,He}),d.promise)]}})})},a.prototype.j_=function(r){return E.__awaiter(this,void 0,void 0,function(){var o,d=this;return E.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),o=new Xn,[2,(this.cs.ws(function(){return function(C,S,k){return E.__awaiter(this,void 0,void 0,function(){var z,ce,be,je,He,Xe;return E.__generator(this,function(dt){switch(dt.label){case 0:return dt.trys.push([0,2,,3]),[4,$u(C,S,!0)];case 1:return z=dt.sent(),ce=new Qu(S,z.Fc),be=ce.wh(z.documents),je=ce.yr(be,!1),k.resolve(je.snapshot),[3,3];case 2:return He=dt.sent(),Xe=it(He,"Failed to execute query '"+S+" against cache"),k.reject(Xe),[3,3];case 3:return[2]}})})}(d.ju,r,o)}),o.promise)]}})})},a.prototype.K_=function(r,o){return void 0===o&&(o={}),E.__awaiter(this,void 0,void 0,function(){var d,m=this;return E.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),d=new Xn,[2,(this.cs.ws(function(){return S=m.q_,k=m.cs,z=r,ce=o,be=d,je=new nl({next:function(Xe){k.ws(function(){return O(S,He)}),Xe.fromCache&&"server"===ce.source?be.reject(new X(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):be.resolve(Xe)},error:function(Xe){return be.reject(Xe)}}),He=new St(z,je,{includeMetadataChanges:!0,Xs:!0}),bn(S,He);var S,k,z,ce,be,je,He}),d.promise)]}})})},a.prototype.write=function(r){var o=this;this.L_();var d=new Xn;return this.cs.ws(function(){return function(m,C,S){return E.__awaiter(this,void 0,void 0,function(){var k,z,ce,be;return E.__generator(this,function(je){switch(je.label){case 0:k=Zu(m),je.label=1;case 1:return je.trys.push([1,5,,6]),[4,(He=k.ju,Xe=C,vt=Ze(He),sn=Ae.now(),on=Xe.reduce(function(Rn,er){return Rn.add(er.key)},Gn()),vt.persistence.runTransaction("Locally write mutations","readwrite",function(Rn){return vt.Cc.kr(Rn,on).next(function(er){dt=er;for(var cr=[],Gr=0,ai=Xe;Gr<ai.length;Gr++){var Vs=ai[Gr],Ds=Fe(Vs,dt.get(Vs.key));null!=Ds&&cr.push(new mn(Vs.key,Ds,Ro(Ds.proto.mapValue),Jt.exists(!0)))}return vt.Sr.ko(Rn,sn,cr,Xe)})}).then(function(Rn){var er=Rn.lr(dt);return{batchId:Rn.batchId,wr:er}}))];case 2:return z=je.sent(),k.Sh.xi(z.batchId),function(He,Xe,dt){var vt=He.Oh[He.currentUser.ti()];vt||(vt=new kn(Ut)),vt=vt.ot(Xe,dt),He.Oh[He.currentUser.ti()]=vt}(k,z.batchId,S),[4,au(k,z.wr)];case 3:return je.sent(),[4,ks(k.ph)];case 4:return je.sent(),[3,6];case 5:return ce=je.sent(),be=it(ce,"Failed to persist write"),S.reject(be),[3,6];case 6:return[2]}var He,Xe,dt,vt,sn,on})})}(o.fi,r,d)}),d.promise},a.prototype.U=function(){return this.bl.U},a.prototype.G_=function(r){var o=this;this.L_();var d=new nl(r);return this.cs.ws(function(){return E.__awaiter(o,void 0,void 0,function(){return E.__generator(this,function(m){return[2,(C=this.q_,S=d,Ze(C).qs.add(S),void S.next())];var C,S})})}),function(){d.Zl(),o.cs.ws(function(){return E.__awaiter(o,void 0,void 0,function(){return E.__generator(this,function(m){return[2,(C=this.q_,S=d,void Ze(C).qs.delete(S))];var C,S})})})}},Object.defineProperty(a.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),a.prototype.transaction=function(r){var o=this;this.L_();var d=new Xn;return this.cs.ws(function(){return new Df(o.cs,o.Ku,r,d).run(),Promise.resolve()}),d.promise},a}();function sl(a){return function(r,o){if("object"!=typeof r||null===r)return!1;for(var d=r,m=0,C=["next","error","complete"];m<C.length;m++){var S=C[m];if(S in d&&"function"==typeof d[S])return!0}return!1}(a)}var hc=function(){function a(r,o,d,m,C){this.U=r,this.timestampsInSnapshots=o,this.H_=d,this.Y_=m,this.J_=C}return a.prototype.X_=function(r){switch(Br(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Bn(r.integerValue||r.doubleValue);case 3:return this.Z_(r.timestampValue);case 4:return this.tf(r);case 5:return r.stringValue;case 6:return this.J_(or(r.bytesValue));case 7:return this.ef(r.referenceValue);case 8:return this.nf(r.geoPointValue);case 9:return this.sf(r.arrayValue);case 10:return this.if(r.mapValue);default:throw nt()}},a.prototype.if=function(r){var o=this,d={};return Ft(r.fields||{},function(m,C){d[m]=o.X_(C)}),d},a.prototype.nf=function(r){return new cu(Bn(r.latitude),Bn(r.longitude))},a.prototype.sf=function(r){var o=this;return(r.values||[]).map(function(d){return o.X_(d)})},a.prototype.tf=function(r){switch(this.H_){case"previous":var o=Wr(r);return null==o?null:this.X_(o);case"estimate":return this.Z_(Dr(r));default:return null}},a.prototype.Z_=function(r){var o=nn(r),d=new Ae(o.seconds,o.nanos);return this.timestampsInSnapshots?d:d.toDate()},a.prototype.ef=function(r){var o=wt.g(r);Te(Ni(o));var d=new _t(o.get(1),o.get(3)),m=new W(o.u(5));return d.isEqual(this.U)||et("Document "+m+" contains a document reference within a different database ("+d.projectId+"/"+d.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(m)},a}(),vd=me.ho,bd=function(){function a(r){var o,d,m,C,S;if(void 0===r.host){if(void 0!==r.ssl)throw new X(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else $e("settings","non-empty string","host",r.host),this.host=r.host,mt("settings","boolean","ssl",r.ssl),this.ssl=null===(o=r.ssl)||void 0===o||o;if(Ct("settings",r,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),mt("settings","object","credentials",r.credentials),this.credentials=r.credentials,mt("settings","boolean","timestampsInSnapshots",r.timestampsInSnapshots),mt("settings","boolean","ignoreUndefinedProperties",r.ignoreUndefinedProperties),!0===r.timestampsInSnapshots?et("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===r.timestampsInSnapshots&&et("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(d=r.timestampsInSnapshots)||void 0===d||d,this.ignoreUndefinedProperties=null!==(m=r.ignoreUndefinedProperties)&&void 0!==m&&m,mt("settings","number","cacheSizeBytes",r.cacheSizeBytes),void 0===r.cacheSizeBytes)this.cacheSizeBytes=me._o;else{if(r.cacheSizeBytes!==vd&&r.cacheSizeBytes<me.lo)throw new X(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+me.lo);this.cacheSizeBytes=r.cacheSizeBytes}mt("settings","boolean","experimentalForceLongPolling",r.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(C=r.experimentalForceLongPolling)&&void 0!==C&&C,mt("settings","boolean","experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(S=r.experimentalAutoDetectLongPolling)&&void 0!==S&&S,function(k,z,ce,be){if(!0===z&&!0===be)throw new X(ne.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,r.experimentalForceLongPolling,0,r.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(r){return this.host===r.host&&this.ssl===r.ssl&&this.timestampsInSnapshots===r.timestampsInSnapshots&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties},a}(),pc=function(){function a(r,o,d,m){var C=this;if(void 0===d&&(d=new xu),void 0===m&&(m=new lc),this.rf=d,this.af=m,this.cf=null,this.uf=new Le,this.INTERNAL={delete:function(){return E.__awaiter(C,void 0,void 0,function(){return E.__generator(this,function(z){switch(z.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return z.sent(),[2]}})})}},"object"==typeof r.options){var S=r;this.cf=S,this.__=a._f(S),this.ff=S.name,this.df=new Ys(o)}else{var k=r;if(!k.projectId)throw new X(ne.INVALID_ARGUMENT,"Must provide projectId");this.__=new _t(k.projectId,k.database),this.ff="[DEFAULT]",this.df=new bl}this.wf=new bd({})}return Object.defineProperty(a.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new gd(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),a.prototype.settings=function(r){de("Firestore.settings",arguments,1),Me("Firestore.settings","object",1,r),r.merge&&delete(r=Object.assign(Object.assign({},this.wf),r)).merge;var o=new bd(r);if(this.lf&&!this.wf.isEqual(o))throw new X(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=o,void 0!==o.credentials&&(this.df=function(d){if(!d)return new bl;switch(d.type){case"gapi":var m=d.client;return Te(!("object"!=typeof m||null===m||!m.auth||!m.auth.getAuthHeaderValueForFirstParty)),new zu(m,d.sessionIndex||"0");case"provider":return d.client;default:throw new X(ne.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(o.credentials))},a.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},a.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},a.prototype.enablePersistence=function(r){var o,d;if(this.lf)throw new X(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var m=!1,C=!1;if(r&&(void 0!==r.experimentalTabSynchronization&&et("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),m=null!==(d=null!==(o=r.synchronizeTabs)&&void 0!==o?o:r.experimentalTabSynchronization)&&void 0!==d&&d,C=!!r.experimentalForceOwningTab&&r.experimentalForceOwningTab,m&&C))throw new X(ne.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:m,ka:C})},a.prototype.clearPersistence=function(){return E.__awaiter(this,void 0,void 0,function(){var r,o=this;return E.__generator(this,function(d){if(void 0!==this.lf&&!this.lf.z_)throw new X(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return r=new Xn,[2,(this.uf.bs(function(){return E.__awaiter(o,void 0,void 0,function(){var m;return E.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return C.sent(),r.resolve(),[3,3];case 2:return m=C.sent(),r.reject(m),[3,3];case 3:return[2]}})})}),r.promise)]})})},a.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(a.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),a.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},a.prototype.onSnapshotsInSync=function(r){return this.hf(),sl(r)?this.lf.G_(r):(Me("Firestore.onSnapshotsInSync","function",1,r),this.lf.G_({next:r}))},a.prototype.hf=function(){return this.lf||this.Ef(new xu,new lc,{jl:!1}),this.lf},a.prototype.Af=function(){return new Hn(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},a.prototype.Ef=function(r,o,d){var m=this.Af();return this.lf=new _d(this.df,this.uf),this.lf.start(m,r,o,d)},a._f=function(r){if(!Object.prototype.hasOwnProperty.call(r.options,"projectId"))throw new X(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var d=r.options.projectId;if(!d||"string"!=typeof d)throw new X(ne.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new _t(d)},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.cf)throw new X(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),a.prototype.collection=function(r){return de("Firestore.collection",arguments,1),Me("Firestore.collection","non-empty string",1,r),this.hf(),new Gl(wt.g(r),this,null)},a.prototype.doc=function(r){return de("Firestore.doc",arguments,1),Me("Firestore.doc","non-empty string",1,r),this.hf(),ga.Rf(wt.g(r),this,null)},a.prototype.collectionGroup=function(r){if(de("Firestore.collectionGroup",arguments,1),Me("Firestore.collectionGroup","non-empty string",1,r),r.indexOf("/")>=0)throw new X(ne.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new al((o=r,new To(wt.P(),o)),this,null);var o},a.prototype.runTransaction=function(r){var o=this;return de("Firestore.runTransaction",arguments,1),Me("Firestore.runTransaction","function",1,r),this.hf().transaction(function(d){return r(new gc(o,d))})},a.prototype.batch=function(){return this.hf(),new Bl(this)},Object.defineProperty(a,"logLevel",{get:function(){switch(ge()){case J.LogLevel.DEBUG:return"debug";case J.LogLevel.ERROR:return"error";case J.LogLevel.SILENT:return"silent";case J.LogLevel.WARN:return"warn";case J.LogLevel.INFO:return"info";case J.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),a.setLogLevel=function(r){de("Firestore.setLogLevel",arguments,1),rt("setLogLevel",["debug","error","silent","warn","info","verbose"],1,r),De.setLogLevel(r)},a.prototype.gf=function(){return this.wf.timestampsInSnapshots},a.prototype.Pf=function(){return this.wf},a}(),gc=function(){function a(r,o){this.yf=r,this.Vf=o}return a.prototype.get=function(r){var o=this;de("Transaction.get",arguments,1);var d=Ls("Transaction.get",r,this.yf);return this.Vf.v_([d.f_]).then(function(m){if(!m||1!==m.length)return nt();var C=m[0];if(C instanceof Cr)return new Ou(o.yf,d.f_,null,!1,!1,d.d_);if(C instanceof qt)return new Ou(o.yf,d.f_,C,!1,!1,d.d_);throw nt()})},a.prototype.set=function(r,o,d){Re("Transaction.set",arguments,2,3);var m=Ls("Transaction.set",r,this.yf);d=Pa("Transaction.set",d);var C=$l(m.d_,o,d),S=dc(this.yf.mf,"Transaction.set",m.f_,C,null!==m.d_,d);return this.Vf.set(m.f_,S),this},a.prototype.update=function(r,o,d){for(var m,C,S=[],k=3;k<arguments.length;k++)S[k-3]=arguments[k];return"string"==typeof o||o instanceof uu?(Z("Transaction.update",arguments,3),m=Ls("Transaction.update",r,this.yf),C=Ra(this.yf.mf,"Transaction.update",m.f_,o,d,S)):(de("Transaction.update",arguments,2),m=Ls("Transaction.update",r,this.yf),C=fc(this.yf.mf,"Transaction.update",m.f_,o)),this.Vf.update(m.f_,C),this},a.prototype.delete=function(r){de("Transaction.delete",arguments,1);var o=Ls("Transaction.delete",r,this.yf);return this.Vf.delete(o.f_),this},a}(),Bl=function(){function a(r){this.yf=r,this.pf=[],this.bf=!1}return a.prototype.set=function(r,o,d){Re("WriteBatch.set",arguments,2,3),this.vf();var m=Ls("WriteBatch.set",r,this.yf);d=Pa("WriteBatch.set",d);var C=$l(m.d_,o,d),S=dc(this.yf.mf,"WriteBatch.set",m.f_,C,null!==m.d_,d);return this.pf=this.pf.concat(S.w_(m.f_,Jt.ze())),this},a.prototype.update=function(r,o,d){for(var m,C,S=[],k=3;k<arguments.length;k++)S[k-3]=arguments[k];return this.vf(),"string"==typeof o||o instanceof uu?(Z("WriteBatch.update",arguments,3),m=Ls("WriteBatch.update",r,this.yf),C=Ra(this.yf.mf,"WriteBatch.update",m.f_,o,d,S)):(de("WriteBatch.update",arguments,2),m=Ls("WriteBatch.update",r,this.yf),C=fc(this.yf.mf,"WriteBatch.update",m.f_,o)),this.pf=this.pf.concat(C.w_(m.f_,Jt.exists(!0))),this},a.prototype.delete=function(r){de("WriteBatch.delete",arguments,1),this.vf();var o=Ls("WriteBatch.delete",r,this.yf);return this.pf=this.pf.concat(new ar(o.f_,Jt.ze())),this},a.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},a.prototype.vf=function(){if(this.bf)throw new X(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}(),ga=function(a){function r(o,d,m){var C=this;return(C=a.call(this,d.__,o,m)||this).f_=o,C.firestore=d,C.d_=m,C.lf=C.firestore.hf(),C}return E.__extends(r,a),r.Rf=function(o,d,m){if(o.length%2!=0)throw new X(ne.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o.R()+" has "+o.length);return new r(new W(o),d,m)},Object.defineProperty(r.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return new Gl(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),r.prototype.collection=function(o){if(de("DocumentReference.collection",arguments,1),Me("DocumentReference.collection","non-empty string",1,o),!o)throw new X(ne.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var d=wt.g(o);return new Gl(this.f_.path.child(d),this.firestore,null)},r.prototype.isEqual=function(o){if(!(o instanceof r))throw lt("isEqual","DocumentReference",1,o);return this.firestore===o.firestore&&this.f_.isEqual(o.f_)&&this.d_===o.d_},r.prototype.set=function(o,d){Re("DocumentReference.set",arguments,1,2),d=Pa("DocumentReference.set",d);var m=$l(this.d_,o,d),C=dc(this.firestore.mf,"DocumentReference.set",this.f_,m,null!==this.d_,d);return this.lf.write(C.w_(this.f_,Jt.ze()))},r.prototype.update=function(o,d){for(var m,C=[],S=2;S<arguments.length;S++)C[S-2]=arguments[S];return"string"==typeof o||o instanceof uu?(Z("DocumentReference.update",arguments,2),m=Ra(this.firestore.mf,"DocumentReference.update",this.f_,o,d,C)):(de("DocumentReference.update",arguments,1),m=fc(this.firestore.mf,"DocumentReference.update",this.f_,o)),this.lf.write(m.w_(this.f_,Jt.exists(!0)))},r.prototype.delete=function(){return de("DocumentReference.delete",arguments,0),this.lf.write([new ar(this.f_,Jt.ze())])},r.prototype.onSnapshot=function(){for(var o,d,m,C=this,S=[],k=0;k<arguments.length;k++)S[k]=arguments[k];Re("DocumentReference.onSnapshot",arguments,1,4);var z={includeMetadataChanges:!1},ce=0;"object"!=typeof S[ce]||sl(S[ce])||(Ct("DocumentReference.onSnapshot",z=S[ce],["includeMetadataChanges"]),mt("DocumentReference.onSnapshot","boolean","includeMetadataChanges",z.includeMetadataChanges),ce++);var be={includeMetadataChanges:z.includeMetadataChanges};if(sl(S[ce])){var je=S[ce];S[ce]=null===(o=je.next)||void 0===o?void 0:o.bind(je),S[ce+1]=null===(d=je.error)||void 0===d?void 0:d.bind(je),S[ce+2]=null===(m=je.complete)||void 0===m?void 0:m.bind(je)}else Me("DocumentReference.onSnapshot","function",ce,S[ce]),Mt("DocumentReference.onSnapshot","function",ce+1,S[ce+1]),Mt("DocumentReference.onSnapshot","function",ce+2,S[ce+2]);var He={next:function(Xe){S[ce]&&S[ce](C.Sf(Xe))},error:S[ce+1],complete:S[ce+2]};return this.lf.listen(ro(this.f_.path),be,He)},r.prototype.get=function(o){var d=this;Re("DocumentReference.get",arguments,0,1),ia("DocumentReference.get",o);var m=this.firestore.hf();return o&&"cache"===o.source?m.Q_(this.f_).then(function(C){return new Ou(d.firestore,d.f_,C,!0,C instanceof qt&&C.Je,d.d_)}):m.W_(this.f_,o).then(function(C){return d.Sf(C)})},r.prototype.withConverter=function(o){return new r(this.f_,this.firestore,o)},r.prototype.Sf=function(o){var d=o.docs.get(this.f_);return new Ou(this.firestore,this.f_,d,o.fromCache,o.hasPendingWrites,this.d_)},r}(pa),wd=function(){function a(r,o){this.hasPendingWrites=r,this.fromCache=o}return a.prototype.isEqual=function(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache},a}(),Ou=function(){function a(r,o,d,m,C,S){this.yf=r,this.f_=o,this.Df=d,this.Cf=m,this.Nf=C,this.d_=S}return a.prototype.data=function(r){var o=this;if(Re("DocumentSnapshot.data",arguments,0,1),r=is("DocumentSnapshot.data",r),this.Df){if(this.d_){var d=new Ul(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(d,r)}return new hc(this.yf.__,this.yf.gf(),r.serverTimestamps||"none",function(m){return new ga(m,o.yf,null)},function(m){return new Un(m)}).X_(this.Df.rn())}},a.prototype.get=function(r,o){var d=this;if(Re("DocumentSnapshot.get",arguments,1,2),o=is("DocumentSnapshot.get",o),this.Df){var m=this.Df.data().field(Es("DocumentSnapshot.get",r,this.f_));if(null!==m)return new hc(this.yf.__,this.yf.gf(),o.serverTimestamps||"none",function(C){return new ga(C,d.yf,d.d_)},function(C){return new Un(C)}).X_(m)}},Object.defineProperty(a.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new ga(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return new wd(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(r){if(!(r instanceof a))throw lt("isEqual","DocumentSnapshot",1,r);return this.yf===r.yf&&this.Cf===r.Cf&&this.f_.isEqual(r.f_)&&(null===this.Df?null===r.Df:this.Df.isEqual(r.Df))&&this.d_===r.d_},a}(),Ul=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.prototype.data=function(o){return a.prototype.data.call(this,o)},r}(Ou);function Pu(a,r,o,d,m,C,S){var k;if(m.p()){if("array-contains"===C||"array-contains-any"===C)throw new X(ne.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){ma(S,C);for(var z=[],ce=0,be=S;ce<be.length;ce++)z.push(jl(d,a,be[ce]));k={arrayValue:{values:z}}}else k=jl(d,a,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||ma(S,C),k=Ji(o,r,S,"in"===C||"not-in"===C);var He=_r.create(m,C,k);return function(Xe,dt){if(dt.hn()){var vt=Yn(Xe);if(null!==vt&&!vt.isEqual(dt.field))throw new X(ne.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+vt.toString()+"' and '"+dt.field.toString()+"'");var sn=It(Xe);null!==sn&&Hl(0,dt.field,sn)}var on=function(Rn,er){for(var cr=0,Gr=Rn.filters;cr<Gr.length;cr++){var ai=Gr[cr];if(er.indexOf(ai.op)>=0)return ai.op}return null}(Xe,function(Rn){switch(Rn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(dt.op));if(null!==on)throw new X(ne.INVALID_ARGUMENT,on===dt.op?"Invalid query. You cannot use more than one '"+dt.op.toString()+"' filter.":"Invalid query. You cannot use '"+dt.op.toString()+"' filters with '"+on.toString()+"' filters.")}(a,He),He}function Cd(a,r,o){if(null!==a.startAt)throw new X(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new X(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var d=new $o(r,o);return function(m,C){if(null===It(m)){var S=Yn(m);null!==S&&Hl(0,S,C.field)}}(a,d),d}function jl(a,r,o){if("string"==typeof o){if(""===o)throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mi(r)&&-1!==o.indexOf("/"))throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var d=r.path.child(wt.g(o));if(!W.F(d))throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return $n(a,new W(d))}if(o instanceof pa)return $n(a,o.f_);throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_n(o)+".")}function ma(a,r){if(!Array.isArray(a)||0===a.length)throw new X(ne.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+r.toString()+"' filters.");if(a.length>10)throw new X(ne.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===r||"array-contains-any"===r){if(a.indexOf(null)>=0)throw new X(ne.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'null' in the value array.");if(a.filter(function(o){return Number.isNaN(o)}).length>0)throw new X(ne.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Hl(a,r,o){if(!o.isEqual(r))throw new X(ne.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+r.toString()+"' and so you must also use '"+r.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}function ku(a){if(co(a)&&0===a.on.length)throw new X(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var al=function(){function a(r,o,d){this.Ff=r,this.firestore=o,this.d_=d}return a.prototype.where=function(r,o,d){de("Query.where",arguments,3),fn("Query.where",3,d);var k,ce,m=rt("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,o),C=Es("Query.where",r),S=Pu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,C,m,d);return new a((ce=(k=this.Ff).filters.concat([S]),new To(k.path,k.collectionGroup,k.on.slice(),ce,k.limit,k.an,k.startAt,k.endAt)),this.firestore,this.d_)},a.prototype.orderBy=function(r,o){var d;if(Re("Query.orderBy",arguments,1,2),Mt("Query.orderBy","non-empty string",2,o),void 0===o||"asc"===o)d="asc";else{if("desc"!==o)throw new X(ne.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+o+"', expected 'asc' or 'desc'.");d="desc"}var S,z,m=Es("Query.orderBy",r),C=Cd(this.Ff,m,d);return new a((z=(S=this.Ff).on.concat([C]),new To(S.path,S.collectionGroup,z,S.filters.slice(),S.limit,S.an,S.startAt,S.endAt)),this.firestore,this.d_)},a.prototype.limit=function(r){return de("Query.limit",arguments,1),Me("Query.limit","number",1,r),tt("Query.limit",1,r),new a(vo(this.Ff,r,"F"),this.firestore,this.d_)},a.prototype.limitToLast=function(r){return de("Query.limitToLast",arguments,1),Me("Query.limitToLast","number",1,r),tt("Query.limitToLast",1,r),new a(vo(this.Ff,r,"L"),this.firestore,this.d_)},a.prototype.startAt=function(r){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];Z("Query.startAt",arguments,1);var m=this.xf("Query.startAt",r,o,!0);return new a(io(this.Ff,m),this.firestore,this.d_)},a.prototype.startAfter=function(r){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];Z("Query.startAfter",arguments,1);var m=this.xf("Query.startAfter",r,o,!1);return new a(io(this.Ff,m),this.firestore,this.d_)},a.prototype.endBefore=function(r){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];Z("Query.endBefore",arguments,1);var m=this.xf("Query.endBefore",r,o,!0);return new a(Ko(this.Ff,m),this.firestore,this.d_)},a.prototype.endAt=function(r){for(var o=[],d=1;d<arguments.length;d++)o[d-1]=arguments[d];Z("Query.endAt",arguments,1);var m=this.xf("Query.endAt",r,o,!1);return new a(Ko(this.Ff,m),this.firestore,this.d_)},a.prototype.isEqual=function(r){if(!(r instanceof a))throw lt("isEqual","Query",1,r);return this.firestore===r.firestore&&zi(this.Ff,r.Ff)&&this.d_===r.d_},a.prototype.withConverter=function(r){return new a(this.Ff,this.firestore,r)},a.prototype.xf=function(r,o,d,m){if(fn(r,1,o),o instanceof Ou)return de(r,E.__spreadArrays([o],d),1),function(S,k,z,ce,be){if(!ce)throw new X(ne.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+z+"().");for(var je=[],He=0,Xe=Ir(S);He<Xe.length;He++){var dt=Xe[He];if(dt.field.p())je.push($n(k,ce.key));else{var vt=ce.field(dt.field);if(wr(vt))throw new X(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+dt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===vt){var sn=dt.field.R();throw new X(ne.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+sn+"' (used as the orderBy) does not exist.")}je.push(vt)}}return new Yi(je,be)}(this.Ff,this.firestore.__,r,o.Df,m);var C=[o].concat(d);return function(S,k,z,ce,be,je){var He=S.on;if(be.length>He.length)throw new X(ne.INVALID_ARGUMENT,"Too many arguments provided to "+ce+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Xe=[],dt=0;dt<be.length;dt++){var vt=be[dt];if(He[dt].field.p()){if("string"!=typeof vt)throw new X(ne.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+ce+"(), but got a "+typeof vt);if(!Mi(S)&&-1!==vt.indexOf("/"))throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+ce+"() must be a plain document ID, but '"+vt+"' contains a slash.");var sn=S.path.child(wt.g(vt));if(!W.F(sn))throw new X(ne.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+ce+"() must result in a valid document path, but '"+sn+"' is not because it contains an odd number of segments.");var on=new W(sn);Xe.push($n(k,on))}else{var Rn=Ji(z,ce,vt);Xe.push(Rn)}}return new Yi(Xe,je)}(this.Ff,this.firestore.__,this.firestore.mf,r,C,m)},a.prototype.onSnapshot=function(){for(var r,o,d,m=this,C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];Re("Query.onSnapshot",arguments,1,4);var k={},z=0;if("object"!=typeof C[z]||sl(C[z])||(Ct("Query.onSnapshot",k=C[z],["includeMetadataChanges"]),mt("Query.onSnapshot","boolean","includeMetadataChanges",k.includeMetadataChanges),z++),sl(C[z])){var ce=C[z];C[z]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),C[z+1]=null===(o=ce.error)||void 0===o?void 0:o.bind(ce),C[z+2]=null===(d=ce.complete)||void 0===d?void 0:d.bind(ce)}else Me("Query.onSnapshot","function",z,C[z]),Mt("Query.onSnapshot","function",z+1,C[z+1]),Mt("Query.onSnapshot","function",z+2,C[z+2]);var be={next:function(je){C[z]&&C[z](new hu(m.firestore,m.Ff,je,m.d_))},error:C[z+1],complete:C[z+2]};return ku(this.Ff),this.firestore.hf().listen(this.Ff,k,be)},a.prototype.get=function(r){var o=this;Re("Query.get",arguments,0,1),ia("Query.get",r),ku(this.Ff);var d=this.firestore.hf();return(r&&"cache"===r.source?d.j_(this.Ff):d.K_(this.Ff,r)).then(function(m){return new hu(o.firestore,o.Ff,m,o.d_)})},a}(),hu=function(){function a(r,o,d,m){this.yf=r,this.$f=o,this.kf=d,this.d_=m,this.Mf=null,this.Of=null,this.metadata=new wd(d.hasPendingWrites,d.fromCache)}return Object.defineProperty(a.prototype,"docs",{get:function(){var r=[];return this.forEach(function(o){return r.push(o)}),r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(r,o){var d=this;Re("QuerySnapshot.forEach",arguments,1,2),Me("QuerySnapshot.forEach","function",1,r),this.kf.docs.forEach(function(m){r.call(o,d.Lf(m,d.metadata.fromCache,d.kf.Wt.has(m.key)))})},Object.defineProperty(a.prototype,"query",{get:function(){return new al(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(r){r&&(Ct("QuerySnapshot.docChanges",r,["includeMetadataChanges"]),mt("QuerySnapshot.docChanges","boolean","includeMetadataChanges",r.includeMetadataChanges));var o=!(!r||!r.includeMetadataChanges);if(o&&this.kf.Kt)throw new X(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===o||(this.Mf=function(d,m,C){if(d.Qt.m()){var S=0;return d.docChanges.map(function(z){return{type:"added",doc:C(z.doc,d.fromCache,d.Wt.has(z.doc.key)),oldIndex:-1,newIndex:S++}})}var k=d.Qt;return d.docChanges.filter(function(z){return m||3!==z.type}).map(function(z){var ce=C(z.doc,d.fromCache,d.Wt.has(z.doc.key)),be=-1,je=-1;return 0!==z.type&&(be=k.indexOf(z.doc.key),k=k.delete(z.doc.key)),1!==z.type&&(je=(k=k.add(z.doc)).indexOf(z.doc.key)),{type:Ed(z.type),doc:ce,oldIndex:be,newIndex:je}})}(this.kf,o,this.Lf.bind(this)),this.Of=o),this.Mf},a.prototype.isEqual=function(r){if(!(r instanceof a))throw lt("isEqual","QuerySnapshot",1,r);return this.yf===r.yf&&zi(this.$f,r.$f)&&this.kf.isEqual(r.kf)&&this.d_===r.d_},a.prototype.Lf=function(r,o,d){return new Ul(this.yf,r.key,r,o,d,this.d_)},a}(),Gl=function(a){function r(o,d,m){var C=this;if((C=a.call(this,ro(o),d,m)||this).Bf=o,o.length%2!=1)throw new X(ne.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o.R()+" has "+o.length);return C}return E.__extends(r,a),Object.defineProperty(r.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){var o=this.Ff.path.h();return o.m()?null:new ga(new W(o),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),r.prototype.doc=function(o){Re("CollectionReference.doc",arguments,0,1),0===arguments.length&&(o=Zt.k()),Me("CollectionReference.doc","non-empty string",1,o);var d=wt.g(o);return ga.Rf(this.Ff.path.child(d),this.firestore,this.d_)},r.prototype.add=function(o){de("CollectionReference.add",arguments,1);var d=this.d_?this.d_.toFirestore(o):o;Me("CollectionReference.add","object",1,d);var m=this.doc();return new ga(m.f_,this.firestore,null).set(d).then(function(){return m})},r.prototype.withConverter=function(o){return new r(this.Bf,this.firestore,o)},r}(al);function Pa(a,r){if(void 0===r)return{merge:!1};if(Ct(a,r,["merge","mergeFields"]),mt(a,"boolean","merge",r.merge),void 0!==(C=r.mergeFields)&&function(k,z,ce,be,je){if(!(be instanceof Array))throw new X(ne.INVALID_ARGUMENT,"Function "+k+"() requires its "+z+" option to be an array, but it was: "+_n(be));for(var He=0;He<be.length;++He)if(!je(be[He]))throw new X(ne.INVALID_ARGUMENT,"Function "+k+"() requires all "+z+" elements to be a string or a FieldPath, but the value at index "+He+" was: "+_n(be[He]))}(a,"mergeFields",0,C,function(o){return"string"==typeof o||o instanceof uu}),void 0!==r.mergeFields&&void 0!==r.merge)throw new X(ne.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');var C;return r}function is(a,r){return void 0===r?{}:(Ct(a,r,["serverTimestamps"]),Vt(a,0,"serverTimestamps",r.serverTimestamps,["estimate","previous","none"]),r)}function ia(a,r){Mt(a,"object",1,r),r&&(Ct(a,r,["source"]),Vt(a,0,"source",r.source,["default","server","cache"]))}function Ls(a,r,o){if(r instanceof pa){if(r.firestore!==o)throw new X(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}throw lt(a,"DocumentReference",1,r)}function Ed(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function $l(a,r,o){return a?o&&(o.merge||o.mergeFields)?a.toFirestore(r,o):a.toFirestore(r):r}var Dd=function(a){function r(){return null!==a&&a.apply(this,arguments)||this}return E.__extends(r,a),r.serverTimestamp=function(){oe("FieldValue.serverTimestamp",arguments);var o=new Cs("serverTimestamp");return o.e_="FieldValue.serverTimestamp",new r(o)},r.delete=function(){oe("FieldValue.delete",arguments);var o=new xa("deleteField");return o.e_="FieldValue.delete",new r(o)},r.arrayUnion=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];Z("FieldValue.arrayUnion",arguments,1);var m=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];return Z("arrayUnion()",arguments,1),new di("arrayUnion",C)}.apply(void 0,o);return m.e_="FieldValue.arrayUnion",new r(m)},r.arrayRemove=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];Z("FieldValue.arrayRemove",arguments,1);var m=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];return Z("arrayRemove()",arguments,1),new Fl("arrayRemove",C)}.apply(void 0,o);return m.e_="FieldValue.arrayRemove",new r(m)},r.increment=function(o){Me("FieldValue.increment","number",1,o),de("FieldValue.increment",arguments,1);var d=new Pi("increment",o);return d.e_="FieldValue.increment",new r(d)},r.prototype.isEqual=function(o){return this.l_.isEqual(o.l_)},r}(il),mc={Firestore:pc,GeoPoint:cu,Timestamp:Ae,Blob:Un,Transaction:gc,WriteBatch:Bl,DocumentReference:ga,DocumentSnapshot:Ou,Query:al,QueryDocumentSnapshot:Ul,QuerySnapshot:hu,CollectionReference:Gl,FieldPath:uu,FieldValue:Dd,setLogLevel:pc.setLogLevel,CACHE_SIZE_UNLIMITED:vd};function Wl(a){a.INTERNAL.registerComponent(new Ne.Component("firestore",function(d){return m=d.getProvider("app").getImmediate(),C=d.getProvider("auth-internal"),S=new lc,k=new wf(S),new pc(m,C,k,S);var m,C,S,k},"PUBLIC").setServiceProps(Object.assign({},mc))),a.registerVersion("@firebase/firestore","1.18.0")}Wl(Ie.default),Pe.__PRIVATE_registerFirestore=Wl},300:(zt,Pe,ee)=>{"use strict";function E(){for(var ge=0,ye=0,et=arguments.length;ye<et;ye++)ge+=arguments[ye].length;var ct=Array(ge),st=0;for(ye=0;ye<et;ye++)for(var nt=arguments[ye],Te=0,Ze=nt.length;Te<Ze;Te++,st++)ct[st]=nt[Te];return ct}ee.r(Pe),ee.d(Pe,{LogLevel:()=>ke,Logger:()=>ne,setLogLevel:()=>X,setUserLogHandler:()=>De});var u,J=[],ke=(()=>{return(ge=ke||(ke={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ke;var ge})(),Se={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Ne=ke.INFO,Ee=((u={})[ke.DEBUG]="log",u[ke.VERBOSE]="log",u[ke.INFO]="info",u[ke.WARN]="warn",u[ke.ERROR]="error",u),Ie=function(ge,ye){for(var et=[],ct=2;ct<arguments.length;ct++)et[ct-2]=arguments[ct];if(!(ye<ge.logLevel)){var st=(new Date).toISOString(),nt=Ee[ye];if(!nt)throw new Error("Attempted to log a message with an invalid logType (value: "+ye+")");console[nt].apply(console,E(["["+st+"]  "+ge.name+":"],et))}},ne=function(){function ge(ye){this.name=ye,this._logLevel=Ne,this._logHandler=Ie,this._userLogHandler=null,J.push(this)}return Object.defineProperty(ge.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ye){if(!(ye in ke))throw new TypeError('Invalid value "'+ye+'" assigned to `logLevel`');this._logLevel=ye},enumerable:!1,configurable:!0}),ge.prototype.setLogLevel=function(ye){this._logLevel="string"==typeof ye?Se[ye]:ye},Object.defineProperty(ge.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ye){this._userLogHandler=ye},enumerable:!1,configurable:!0}),ge.prototype.debug=function(){for(var ye=[],et=0;et<arguments.length;et++)ye[et]=arguments[et];this._userLogHandler&&this._userLogHandler.apply(this,E([this,ke.DEBUG],ye)),this._logHandler.apply(this,E([this,ke.DEBUG],ye))},ge.prototype.log=function(){for(var ye=[],et=0;et<arguments.length;et++)ye[et]=arguments[et];this._userLogHandler&&this._userLogHandler.apply(this,E([this,ke.VERBOSE],ye)),this._logHandler.apply(this,E([this,ke.VERBOSE],ye))},ge.prototype.info=function(){for(var ye=[],et=0;et<arguments.length;et++)ye[et]=arguments[et];this._userLogHandler&&this._userLogHandler.apply(this,E([this,ke.INFO],ye)),this._logHandler.apply(this,E([this,ke.INFO],ye))},ge.prototype.warn=function(){for(var ye=[],et=0;et<arguments.length;et++)ye[et]=arguments[et];this._userLogHandler&&this._userLogHandler.apply(this,E([this,ke.WARN],ye)),this._logHandler.apply(this,E([this,ke.WARN],ye))},ge.prototype.error=function(){for(var ye=[],et=0;et<arguments.length;et++)ye[et]=arguments[et];this._userLogHandler&&this._userLogHandler.apply(this,E([this,ke.ERROR],ye)),this._logHandler.apply(this,E([this,ke.ERROR],ye))},ge}();function X(ge){J.forEach(function(ye){ye.setLogLevel(ge)})}function De(ge,ye){for(var et=function(Te){var Ze=null;ye&&ye.level&&(Ze=Se[ye.level]),Te.userLogHandler=null===ge?null:function(xt,Ft){for(var Gt=[],Dt=2;Dt<arguments.length;Dt++)Gt[Dt-2]=arguments[Dt];var wt=Gt.map(function($){if(null==$)return null;if("string"==typeof $)return $;if("number"==typeof $||"boolean"==typeof $)return $.toString();if($ instanceof Error)return $.message;try{return JSON.stringify($)}catch(re){return null}}).filter(function($){return $}).join(" ");Ft>=(null!=Ze?Ze:xt.logLevel)&&ge({level:ke[Ft].toLowerCase(),message:wt,args:Gt,type:xt.name})}},ct=0,st=J;ct<st.length;ct++)et(st[ct])}},1704:(zt,Pe,ee)=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var E=ee(5057),u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(Oe,Ce){if(!Oe)throw ke(Ce)},ke=function(Oe){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Oe)},Se=function(Oe){for(var Ce=[],Ue=0,Ke=0;Ke<Oe.length;Ke++){var qe=Oe.charCodeAt(Ke);qe<128?Ce[Ue++]=qe:qe<2048?(Ce[Ue++]=qe>>6|192,Ce[Ue++]=63&qe|128):55296==(64512&qe)&&Ke+1<Oe.length&&56320==(64512&Oe.charCodeAt(Ke+1))?(qe=65536+((1023&qe)<<10)+(1023&Oe.charCodeAt(++Ke)),Ce[Ue++]=qe>>18|240,Ce[Ue++]=qe>>12&63|128,Ce[Ue++]=qe>>6&63|128,Ce[Ue++]=63&qe|128):(Ce[Ue++]=qe>>12|224,Ce[Ue++]=qe>>6&63|128,Ce[Ue++]=63&qe|128)}return Ce},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Oe,Ce){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ue=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[],qe=0;qe<Oe.length;qe+=3){var Ot=Oe[qe],Lt=qe+1<Oe.length,en=Lt?Oe[qe+1]:0,Pt=qe+2<Oe.length,Yt=Pt?Oe[qe+2]:0,Mn=(15&en)<<2|Yt>>6,kn=63&Yt;Pt||(kn=64,Lt||(Mn=64)),Ke.push(Ue[Ot>>2],Ue[(3&Ot)<<4|en>>4],Ue[Mn],Ue[kn])}return Ke.join("")},encodeString:function(Oe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Oe):this.encodeByteArray(Se(Oe),Ce)},decodeString:function(Oe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Oe):function(Oe){for(var Ce=[],Ue=0,Ke=0;Ue<Oe.length;){var qe=Oe[Ue++];if(qe<128)Ce[Ke++]=String.fromCharCode(qe);else if(qe>191&&qe<224){var Ot=Oe[Ue++];Ce[Ke++]=String.fromCharCode((31&qe)<<6|63&Ot)}else if(qe>239&&qe<365){var Pt=((7&qe)<<18|(63&(Ot=Oe[Ue++]))<<12|(63&(Lt=Oe[Ue++]))<<6|63&Oe[Ue++])-65536;Ce[Ke++]=String.fromCharCode(55296+(Pt>>10)),Ce[Ke++]=String.fromCharCode(56320+(1023&Pt))}else{Ot=Oe[Ue++];var Lt=Oe[Ue++];Ce[Ke++]=String.fromCharCode((15&qe)<<12|(63&Ot)<<6|63&Lt)}}return Ce.join("")}(this.decodeStringToByteArray(Oe,Ce))},decodeStringToByteArray:function(Oe,Ce){this.init_();for(var Ue=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[],qe=0;qe<Oe.length;){var Ot=Ue[Oe.charAt(qe++)],en=qe<Oe.length?Ue[Oe.charAt(qe)]:0,Yt=++qe<Oe.length?Ue[Oe.charAt(qe)]:64,rn=++qe<Oe.length?Ue[Oe.charAt(qe)]:64;if(++qe,null==Ot||null==en||null==Yt||null==rn)throw Error();Ke.push(Ot<<2|en>>4),64!==Yt&&(Ke.push(en<<4&240|Yt>>2),64!==rn&&Ke.push(Yt<<6&192|rn))}return Ke},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},ne=function(Oe){try{return Ee.decodeString(Oe,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function De(Oe,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return Ce}for(var Ke in Ce)!Ce.hasOwnProperty(Ke)||(Oe[Ke]=De(Oe[Ke],Ce[Ke]));return Oe}var ge=function(){function Oe(){var Ce=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ue,Ke){Ce.resolve=Ue,Ce.reject=Ke})}return Oe.prototype.wrapCallback=function(Ce){var Ue=this;return function(Ke,qe){Ke?Ue.reject(Ke):Ue.resolve(qe),"function"==typeof Ce&&(Ue.promise.catch(function(){}),1===Ce.length?Ce(Ke):Ce(Ke,qe))}},Oe}();function ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Oe){return!1}}var oe=function(Oe){function Ce(Ue,Ke){var qe=Oe.call(this,Ke)||this;return qe.code=Ue,qe.name="FirebaseError",Object.setPrototypeOf(qe,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(qe,de.prototype.create),qe}return E.__extends(Ce,Oe),Ce}(Error),de=function(){function Oe(Ce,Ue,Ke){this.service=Ce,this.serviceName=Ue,this.errors=Ke}return Oe.prototype.create=function(Ce){for(var Ue=[],Ke=1;Ke<arguments.length;Ke++)Ue[Ke-1]=arguments[Ke];for(var qe=Ue[0]||{},Ot=this.service+"/"+Ce,Lt=this.errors[Ce],en=Lt?Z(Lt,qe):"Error",Pt=this.serviceName+": "+en+" ("+Ot+").",Yt=new oe(Ot,Pt),tn=0,rn=Object.keys(qe);tn<rn.length;tn++){var Mn=rn[tn];"_"!==Mn.slice(-1)&&(Mn in Yt&&console.warn('Overwriting FirebaseError base field "'+Mn+'" can cause unexpected behavior.'),Yt[Mn]=qe[Mn])}return Yt},Oe}();function Z(Oe,Ce){return Oe.replace(Re,function(Ue,Ke){var qe=Ce[Ke];return null!=qe?String(qe):"<"+Ke+"?>"})}var Re=/\{\$([^}]+)}/g;function Me(Oe){return JSON.parse(Oe)}var $e=function(Oe){var Ce={},Ue={},Ke={},qe="";try{var Ot=Oe.split(".");Ce=Me(ne(Ot[0])||""),Ue=Me(ne(Ot[1])||""),qe=Ot[2],Ke=Ue.d||{},delete Ue.d}catch(Lt){}return{header:Ce,claims:Ue,data:Ke,signature:qe}},Ye=function(){function Oe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ce=1;Ce<this.blockSize;++Ce)this.pad_[Ce]=0;this.reset()}return Oe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Oe.prototype.compress_=function(Ce,Ue){Ue||(Ue=0);var Ke=this.W_;if("string"==typeof Ce)for(var qe=0;qe<16;qe++)Ke[qe]=Ce.charCodeAt(Ue)<<24|Ce.charCodeAt(Ue+1)<<16|Ce.charCodeAt(Ue+2)<<8|Ce.charCodeAt(Ue+3),Ue+=4;else for(qe=0;qe<16;qe++)Ke[qe]=Ce[Ue]<<24|Ce[Ue+1]<<16|Ce[Ue+2]<<8|Ce[Ue+3],Ue+=4;for(qe=16;qe<80;qe++)Ke[qe]=4294967295&((Ot=Ke[qe-3]^Ke[qe-8]^Ke[qe-14]^Ke[qe-16])<<1|Ot>>>31);var rn,Mn,Lt=this.chain_[0],en=this.chain_[1],Pt=this.chain_[2],Yt=this.chain_[3],tn=this.chain_[4];for(qe=0;qe<80;qe++){qe<40?qe<20?(rn=Yt^en&(Pt^Yt),Mn=1518500249):(rn=en^Pt^Yt,Mn=1859775393):qe<60?(rn=en&Pt|Yt&(en|Pt),Mn=2400959708):(rn=en^Pt^Yt,Mn=3395469782);var Ot=(Lt<<5|Lt>>>27)+rn+tn+Mn+Ke[qe]&4294967295;tn=Yt,Yt=Pt,Pt=4294967295&(en<<30|en>>>2),en=Lt,Lt=Ot}this.chain_[0]=this.chain_[0]+Lt&4294967295,this.chain_[1]=this.chain_[1]+en&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+Yt&4294967295,this.chain_[4]=this.chain_[4]+tn&4294967295},Oe.prototype.update=function(Ce,Ue){if(null!=Ce){void 0===Ue&&(Ue=Ce.length);for(var Ke=Ue-this.blockSize,qe=0,Ot=this.buf_,Lt=this.inbuf_;qe<Ue;){if(0===Lt)for(;qe<=Ke;)this.compress_(Ce,qe),qe+=this.blockSize;if("string"==typeof Ce){for(;qe<Ue;)if(Ot[Lt]=Ce.charCodeAt(qe),++qe,++Lt===this.blockSize){this.compress_(Ot),Lt=0;break}}else for(;qe<Ue;)if(Ot[Lt]=Ce[qe],++qe,++Lt===this.blockSize){this.compress_(Ot),Lt=0;break}}this.inbuf_=Lt,this.total_+=Ue}},Oe.prototype.digest=function(){var Ce=[],Ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ke=this.blockSize-1;Ke>=56;Ke--)this.buf_[Ke]=255&Ue,Ue/=256;this.compress_(this.buf_);var qe=0;for(Ke=0;Ke<5;Ke++)for(var Ot=24;Ot>=0;Ot-=8)Ce[qe]=this.chain_[Ke]>>Ot&255,++qe;return Ce},Oe}(),wn=function(){function Oe(Ce,Ue){var Ke=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ue,this.task.then(function(){Ce(Ke)}).catch(function(qe){Ke.error(qe)})}return Oe.prototype.next=function(Ce){this.forEachObserver(function(Ue){Ue.next(Ce)})},Oe.prototype.error=function(Ce){this.forEachObserver(function(Ue){Ue.error(Ce)}),this.close(Ce)},Oe.prototype.complete=function(){this.forEachObserver(function(Ce){Ce.complete()}),this.close()},Oe.prototype.subscribe=function(Ce,Ue,Ke){var Ot,qe=this;if(void 0===Ce&&void 0===Ue&&void 0===Ke)throw new Error("Missing Observer.");void 0===(Ot=function(Oe,Ce){if("object"!=typeof Oe||null===Oe)return!1;for(var Ue=0,Ke=["next","error","complete"];Ue<Ke.length;Ue++){var qe=Ke[Ue];if(qe in Oe&&"function"==typeof Oe[qe])return!0}return!1}(Ce)?Ce:{next:Ce,error:Ue,complete:Ke}).next&&(Ot.next=Cn),void 0===Ot.error&&(Ot.error=Cn),void 0===Ot.complete&&(Ot.complete=Cn);var Lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{qe.finalError?Ot.error(qe.finalError):Ot.complete()}catch(en){}}),this.observers.push(Ot),Lt},Oe.prototype.unsubscribeOne=function(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Oe.prototype.forEachObserver=function(Ce){if(!this.finalized)for(var Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,Ce)},Oe.prototype.sendOne=function(Ce,Ue){var Ke=this;this.task.then(function(){if(void 0!==Ke.observers&&void 0!==Ke.observers[Ce])try{Ue(Ke.observers[Ce])}catch(qe){"undefined"!=typeof console&&console.error&&console.error(qe)}})},Oe.prototype.close=function(Ce){var Ue=this;this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(function(){Ue.observers=void 0,Ue.onNoObservers=void 0}))},Oe}();function Cn(){}function Rt(Oe,Ce,Ue){var Ke="";switch(Ce){case 1:Ke=Ue?"first":"First";break;case 2:Ke=Ue?"second":"Second";break;case 3:Ke=Ue?"third":"Third";break;case 4:Ke=Ue?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Oe+" failed: "+(Ke+" argument ")}Pe.CONSTANTS=u,Pe.Deferred=ge,Pe.ErrorFactory=de,Pe.FirebaseError=oe,Pe.MAX_VALUE_MILLIS=144e5,Pe.RANDOM_FACTOR=.5,Pe.Sha1=Ye,Pe.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},Pe.assert=J,Pe.assertionError=ke,Pe.async=function(Oe,Ce){return function(){for(var Ue=[],Ke=0;Ke<arguments.length;Ke++)Ue[Ke]=arguments[Ke];Promise.resolve(!0).then(function(){Oe.apply(void 0,Ue)}).catch(function(qe){Ce&&Ce(qe)})}},Pe.base64=Ee,Pe.base64Decode=ne,Pe.base64Encode=function(Oe){var Ce=Se(Oe);return Ee.encodeByteArray(Ce,!0)},Pe.calculateBackoffMillis=function(Oe,Ce,Ue){void 0===Ce&&(Ce=1e3),void 0===Ue&&(Ue=2);var Ke=Ce*Math.pow(Ue,Oe),qe=Math.round(.5*Ke*(Math.random()-.5)*2);return Math.min(144e5,Ke+qe)},Pe.contains=function(Oe,Ce){return Object.prototype.hasOwnProperty.call(Oe,Ce)},Pe.createSubscribe=function(Oe,Ce){var Ue=new wn(Oe,Ce);return Ue.subscribe.bind(Ue)},Pe.decode=$e,Pe.deepCopy=function(Oe){return De(void 0,Oe)},Pe.deepExtend=De,Pe.errorPrefix=Rt,Pe.getUA=ye,Pe.isAdmin=function(Oe){var Ce=$e(Oe).claims;return"object"==typeof Ce&&!0===Ce.admin},Pe.isBrowser=function(){return"object"==typeof self&&self.self===self},Pe.isBrowserExtension=function(){var Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id},Pe.isElectron=function(){return ye().indexOf("Electron/")>=0},Pe.isEmpty=function(Oe){for(var Ce in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ce))return!1;return!0},Pe.isIE=function(){var Oe=ye();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0},Pe.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},Pe.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())},Pe.isNode=ct,Pe.isNodeSdk=function(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN},Pe.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Pe.isSafari=function(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Pe.isUWP=function(){return ye().indexOf("MSAppHost/")>=0},Pe.isValidFormat=function(Oe){var Ue=$e(Oe).claims;return!!Ue&&"object"==typeof Ue&&Ue.hasOwnProperty("iat")},Pe.isValidTimestamp=function(Oe){var Ce=$e(Oe).claims,Ue=Math.floor((new Date).getTime()/1e3),Ke=0,qe=0;return"object"==typeof Ce&&(Ce.hasOwnProperty("nbf")?Ke=Ce.nbf:Ce.hasOwnProperty("iat")&&(Ke=Ce.iat),qe=Ce.hasOwnProperty("exp")?Ce.exp:Ke+86400),!!Ue&&!!Ke&&!!qe&&Ue>=Ke&&Ue<=qe},Pe.issuedAtTime=function(Oe){var Ce=$e(Oe).claims;return"object"==typeof Ce&&Ce.hasOwnProperty("iat")?Ce.iat:null},Pe.jsonEval=Me,Pe.map=function(Oe,Ce,Ue){var Ke={};for(var qe in Oe)Object.prototype.hasOwnProperty.call(Oe,qe)&&(Ke[qe]=Ce.call(Ue,Oe[qe],qe,Oe));return Ke},Pe.querystring=function(Oe){for(var Ce=[],Ue=function(Pt,Yt){Array.isArray(Yt)?Yt.forEach(function(tn){Ce.push(encodeURIComponent(Pt)+"="+encodeURIComponent(tn))}):Ce.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Yt))},Ke=0,qe=Object.entries(Oe);Ke<qe.length;Ke++){var Ot=qe[Ke];Ue(Ot[0],Ot[1])}return Ce.length?"&"+Ce.join("&"):""},Pe.querystringDecode=function(Oe){var Ce={};return Oe.replace(/^\?/,"").split("&").forEach(function(Ke){if(Ke){var qe=Ke.split("=");Ce[qe[0]]=qe[1]}}),Ce},Pe.safeGet=function(Oe,Ce){if(Object.prototype.hasOwnProperty.call(Oe,Ce))return Oe[Ce]},Pe.stringLength=function(Oe){for(var Ce=0,Ue=0;Ue<Oe.length;Ue++){var Ke=Oe.charCodeAt(Ue);Ke<128?Ce++:Ke<2048?Ce+=2:Ke>=55296&&Ke<=56319?(Ce+=4,Ue++):Ce+=3}return Ce},Pe.stringToByteArray=function(Oe){for(var Ce=[],Ue=0,Ke=0;Ke<Oe.length;Ke++){var qe=Oe.charCodeAt(Ke);if(qe>=55296&&qe<=56319){var Ot=qe-55296;Ke++,J(Ke<Oe.length,"Surrogate pair missing trail surrogate."),qe=65536+(Ot<<10)+(Oe.charCodeAt(Ke)-56320)}qe<128?Ce[Ue++]=qe:qe<2048?(Ce[Ue++]=qe>>6|192,Ce[Ue++]=63&qe|128):qe<65536?(Ce[Ue++]=qe>>12|224,Ce[Ue++]=qe>>6&63|128,Ce[Ue++]=63&qe|128):(Ce[Ue++]=qe>>18|240,Ce[Ue++]=qe>>12&63|128,Ce[Ue++]=qe>>6&63|128,Ce[Ue++]=63&qe|128)}return Ce},Pe.stringify=function(Oe){return JSON.stringify(Oe)},Pe.validateArgCount=function(Oe,Ce,Ue,Ke){var qe;if(Ke<Ce?qe="at least "+Ce:Ke>Ue&&(qe=0===Ue?"none":"no more than "+Ue),qe)throw new Error(Oe+" failed: Was called with "+Ke+(1===Ke?" argument.":" arguments.")+" Expects "+qe+".")},Pe.validateCallback=function(Oe,Ce,Ue,Ke){if((!Ke||Ue)&&"function"!=typeof Ue)throw new Error(Rt(Oe,Ce,Ke)+"must be a valid function.")},Pe.validateContextObject=function(Oe,Ce,Ue,Ke){if((!Ke||Ue)&&("object"!=typeof Ue||null===Ue))throw new Error(Rt(Oe,Ce,Ke)+"must be a valid context object.")},Pe.validateIndexedDBOpenable=function(){return new Promise(function(Oe,Ce){try{var Ue=!0,Ke="validate-browser-context-for-indexeddb-analytics-module",qe=window.indexedDB.open(Ke);qe.onsuccess=function(){qe.result.close(),Ue||window.indexedDB.deleteDatabase(Ke),Oe(!0)},qe.onupgradeneeded=function(){Ue=!1},qe.onerror=function(){var Ot;Ce((null===(Ot=qe.error)||void 0===Ot?void 0:Ot.message)||"")}}catch(Ot){Ce(Ot)}})},Pe.validateNamespace=function(Oe,Ce,Ue,Ke){if((!Ke||Ue)&&"string"!=typeof Ue)throw new Error(Rt(Oe,Ce,Ke)+"must be a valid firebase namespace.")}},2870:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{default:()=>qr,ErrorCode:()=>zo,EventType:()=>ko,WebChannel:()=>gr,XhrIo:()=>bo,createWebChannelTransport:()=>Po});var E=function(v,F){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,pe){Q.__proto__=pe}||function(Q,pe){for(var Le in pe)Object.prototype.hasOwnProperty.call(pe,Le)&&(Q[Le]=pe[Le])})(v,F)};function J(v){var F="function"==typeof Symbol&&Symbol.iterator,Q=F&&v[F],pe=0;if(Q)return Q.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&pe>=v.length&&(v=void 0),{value:v&&v[pe++],done:!v}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}var Se,ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ne=Ne||{},Ee=ke||self;function Ie(){}function ne(v){var F=typeof v;return"object"!=F?F:v?Array.isArray(v)?"array":F:"null"}function X(v){var F=ne(v);return"array"==F||"object"==F&&"number"==typeof v.length}function De(v){var F=typeof v;return"object"==F&&null!=v||"function"==F}var ye="closure_uid_"+(1e9*Math.random()>>>0),et=0;function ct(v,F,Q){return v.call.apply(v.bind,arguments)}function st(v,F,Q){if(!v)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,pe),v.apply(F,Le)}}return function(){return v.apply(F,arguments)}}function nt(v,F,Q){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:st).apply(null,arguments)}function Te(v,F){var Q=Array.prototype.slice.call(arguments,1);return function(){var pe=Q.slice();return pe.push.apply(pe,arguments),v.apply(this,pe)}}var Ze=Date.now;function xt(v,F){function Q(){}Q.prototype=F.prototype,v.S=F.prototype,v.prototype=new Q,v.prototype.constructor=v}function Ft(){this.j=this.j,this.i=this.i}Ft.prototype.j=!1,Ft.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(v){Object.prototype.hasOwnProperty.call(v,ye)&&v[ye]||(v[ye]=++et)}(this)},Ft.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Dt=Array.prototype.indexOf?function(v,F){return Array.prototype.indexOf.call(v,F,void 0)}:function(v,F){if("string"==typeof v)return"string"!=typeof F||1!=F.length?-1:v.indexOf(F,0);for(var Q=0;Q<v.length;Q++)if(Q in v&&v[Q]===F)return Q;return-1},wt=Array.prototype.forEach?function(v,F,Q){Array.prototype.forEach.call(v,F,Q)}:function(v,F,Q){for(var pe=v.length,Le="string"==typeof v?v.split(""):v,it=0;it<pe;it++)it in Le&&F.call(Q,Le[it],it,v)};function re(v){return Array.prototype.concat.apply([],arguments)}function W(v){var F=v.length;if(0<F){for(var Q=Array(F),pe=0;pe<F;pe++)Q[pe]=v[pe];return Q}return[]}function oe(v){return/^[\s\xa0]*$/.test(v)}var Me,de=String.prototype.trim?function(v){return v.trim()}:function(v){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(v)[1]};function Z(v,F){return-1!=v.indexOf(F)}function Re(v,F){return v<F?-1:v>F?1:0}e:{var Mt=Ee.navigator;if(Mt){var $e=Mt.userAgent;if($e){Me=$e;break e}}Me=""}function mt(v,F,Q){for(var pe in v)F.call(Q,v[pe],pe,v)}function Vt(v){var F={};for(var Q in v)F[Q]=v[Q];return F}var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(v,F){for(var Q,pe,Le=1;Le<arguments.length;Le++){for(Q in pe=arguments[Le])v[Q]=pe[Q];for(var it=0;it<rt.length;it++)Q=rt[it],Object.prototype.hasOwnProperty.call(pe,Q)&&(v[Q]=pe[Q])}}function cn(v){return cn[" "](v),v}cn[" "]=Ie;var Zt,v,fn=Z(Me,"Opera"),Ct=Z(Me,"Trident")||Z(Me,"MSIE"),lt=Z(Me,"Edge"),tt=lt||Ct,Ye=Z(Me,"Gecko")&&!(Z(Me.toLowerCase(),"webkit")&&!Z(Me,"Edge"))&&!(Z(Me,"Trident")||Z(Me,"MSIE"))&&!Z(Me,"Edge"),Bt=Z(Me.toLowerCase(),"webkit")&&!Z(Me,"Edge");function wn(){var v=Ee.document;return v?v.documentMode:void 0}e:{var Ut="",Cn=(v=Me,Ye?/rv:([^\);]+)(\)|;)/.exec(v):lt?/Edge\/([\d\.]+)/.exec(v):Ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(v):Bt?/WebKit\/(\S+)/.exec(v):fn?/(?:Version)[ \/]?(\S+)/.exec(v):void 0);if(Cn&&(Ut=Cn?Cn[1]:""),Ct){var Vn=wn();if(null!=Vn&&Vn>parseFloat(Ut)){Zt=String(Vn);break e}}Zt=Ut}var Rt={};function An(v){return function(v,F){var Q=Rt;return Object.prototype.hasOwnProperty.call(Q,v)?Q[v]:Q[v]=F()}(v,function(){for(var F=0,Q=de(String(Zt)).split("."),pe=de(String(v)).split("."),Le=Math.max(Q.length,pe.length),it=0;0==F&&it<Le;it++){var Wt=Q[it]||"",xn=pe[it]||"";do{if(Wt=/(\d*)(\D*)(.*)/.exec(Wt)||["","","",""],xn=/(\d*)(\D*)(.*)/.exec(xn)||["","","",""],0==Wt[0].length&&0==xn[0].length)break;F=Re(0==Wt[1].length?0:parseInt(Wt[1],10),0==xn[1].length?0:parseInt(xn[1],10))||Re(0==Wt[2].length,0==xn[2].length)||Re(Wt[2],xn[2]),Wt=Wt[3],xn=xn[3]}while(0==F)}return 0<=F})}var Un=Ee.document&&Ct&&(wn()||parseInt(Zt,10))||void 0,Hn=!Ct||9<=Number(Un),_t=Ct&&!An("9"),ze=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{Ee.addEventListener("test",Ie,F),Ee.removeEventListener("test",Ie,F)}catch(Q){}return v}();function Ae(v,F){this.type=v,this.a=this.target=F,this.defaultPrevented=!1}function at(v,F){if(Ae.call(this,v?v.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,v){var Q=this.type=v.type,pe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.a=F,F=v.relatedTarget){if(Ye){e:{try{cn(F.nodeName);var Le=!0;break e}catch(it){}Le=!1}Le||(F=null)}}else"mouseover"==Q?F=v.fromElement:"mouseout"==Q&&(F=v.toElement);this.relatedTarget=F,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Et[v.pointerType]||"",this.c=v,v.defaultPrevented&&this.b()}}Ae.prototype.b=function(){this.defaultPrevented=!0},xt(at,Ae);var Et={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var v=this.c;if(v.preventDefault)v.preventDefault();else if(v.returnValue=!1,_t)try{(v.ctrlKey||112<=v.keyCode&&123>=v.keyCode)&&(v.keyCode=-1)}catch(F){}};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ue(v,F,Q,pe,Le){this.listener=v,this.proxy=null,this.src=F,this.type=Q,this.capture=!!pe,this.ca=Le,this.key=++Ce,this.Y=this.Z=!1}function Ke(v){v.Y=!0,v.listener=null,v.proxy=null,v.src=null,v.ca=null}function qe(v){this.src=v,this.a={},this.b=0}function Ot(v,F){var Q=F.type;if(Q in v.a){var it,pe=v.a[Q],Le=Dt(pe,F);(it=0<=Le)&&Array.prototype.splice.call(pe,Le,1),it&&(Ke(F),0==v.a[Q].length&&(delete v.a[Q],v.b--))}}function Lt(v,F,Q,pe){for(var Le=0;Le<v.length;++Le){var it=v[Le];if(!it.Y&&it.listener==F&&it.capture==!!Q&&it.ca==pe)return Le}return-1}qe.prototype.add=function(v,F,Q,pe,Le){var it=v.toString();(v=this.a[it])||(v=this.a[it]=[],this.b++);var Wt=Lt(v,F,pe,Le);return-1<Wt?(F=v[Wt],Q||(F.Z=!1)):((F=new Ue(F,this.src,it,!!pe,Le)).Z=Q,v.push(F)),F};var en="closure_lm_"+(1e6*Math.random()|0),Pt={};function Yt(v,F,Q,pe,Le){if(pe&&pe.once)return Mn(v,F,Q,pe,Le);if(Array.isArray(F)){for(var it=0;it<F.length;it++)Yt(v,F[it],Q,pe,Le);return null}return Q=Ti(Q),v&&v[Oe]?v.va(F,Q,De(pe)?!!pe.capture:!!pe,Le):tn(v,F,Q,!1,pe,Le)}function tn(v,F,Q,pe,Le,it){if(!F)throw Error("Invalid event type");var Wt=De(Le)?!!Le.capture:!!Le;if(Wt&&!Hn)return null;var xn=Co(v);if(xn||(v[en]=xn=new qe(v)),(Q=xn.add(F,Q,pe,Wt,it)).proxy)return Q;if(pe=function(){var v=Di,F=Hn?function(Q){return v.call(F.src,F.listener,Q)}:function(Q){if(!(Q=v.call(F.src,F.listener,Q)))return Q};return F}(),Q.proxy=pe,pe.src=v,pe.listener=Q,v.addEventListener)ze||(Le=Wt),void 0===Le&&(Le=!1),v.addEventListener(F.toString(),pe,Le);else if(v.attachEvent)v.attachEvent(nr(F.toString()),pe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(pe)}return Q}function Mn(v,F,Q,pe,Le){if(Array.isArray(F)){for(var it=0;it<F.length;it++)Mn(v,F[it],Q,pe,Le);return null}return Q=Ti(Q),v&&v[Oe]?v.wa(F,Q,De(pe)?!!pe.capture:!!pe,Le):tn(v,F,Q,!0,pe,Le)}function kn(v,F,Q,pe,Le){if(Array.isArray(F))for(var it=0;it<F.length;it++)kn(v,F[it],Q,pe,Le);else pe=De(pe)?!!pe.capture:!!pe,Q=Ti(Q),v&&v[Oe]?(v=v.c,(F=String(F).toString())in v.a&&-1<(Q=Lt(it=v.a[F],Q,pe,Le))&&(Ke(it[Q]),Array.prototype.splice.call(it,Q,1),0==it.length&&(delete v.a[F],v.b--))):v&&(v=Co(v))&&(F=v.a[F.toString()],v=-1,F&&(v=Lt(F,Q,pe,Le)),(Q=-1<v?F[v]:null)&&vi(Q))}function vi(v){if("number"!=typeof v&&v&&!v.Y){var F=v.src;if(F&&F[Oe])Ot(F.c,v);else{var Q=v.type,pe=v.proxy;F.removeEventListener?F.removeEventListener(Q,pe,v.capture):F.detachEvent?F.detachEvent(nr(Q),pe):F.addListener&&F.removeListener&&F.removeListener(pe),(Q=Co(F))?(Ot(Q,v),0==Q.b&&(Q.src=null,F[en]=null)):Ke(v)}}}function nr(v){return v in Pt?Pt[v]:Pt[v]="on"+v}function rr(v,F){var Q=v.listener,pe=v.ca||v.src;return v.Z&&vi(v),Q.call(pe,F)}function Di(v,F){if(v.Y)return!0;if(!Hn){if(!F)e:{F=["window","event"];for(var Q=Ee,pe=0;pe<F.length;pe++)if(null==(Q=Q[F[pe]])){F=null;break e}F=Q}return rr(v,F=new at(F,this))}return rr(v,new at(F,this))}function Co(v){return(v=v[en])instanceof qe?v:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ti(v){return"function"==ne(v)?v:(v[Vr]||(v[Vr]=function(F){return v.handleEvent(F)}),v[Vr])}function ln(){Ft.call(this),this.c=new qe(this),this.J=this,this.C=null}function Ar(v,F,Q,pe){if(!(F=v.c.a[String(F)]))return!0;F=F.concat();for(var Le=!0,it=0;it<F.length;++it){var Wt=F[it];if(Wt&&!Wt.Y&&Wt.capture==Q){var xn=Wt.listener,bn=Wt.ca||Wt.src;Wt.Z&&Ot(v.c,Wt),Le=!1!==xn.call(bn,pe)&&Le}}return Le&&!pe.defaultPrevented}xt(ln,Ft),ln.prototype[Oe]=!0,(Se=ln.prototype).addEventListener=function(v,F,Q,pe){Yt(this,v,F,Q,pe)},Se.removeEventListener=function(v,F,Q,pe){kn(this,v,F,Q,pe)},Se.dispatchEvent=function(v){var F,Q=this.C;if(Q)for(F=[];Q;Q=Q.C)F.push(Q);Q=this.J;var pe=v.type||v;if("string"==typeof v)v=new Ae(v,Q);else if(v instanceof Ae)v.target=v.target||Q;else{var Le=v;Tt(v=new Ae(pe,Q),Le)}if(Le=!0,F)for(var it=F.length-1;0<=it;it--){var Wt=v.a=F[it];Le=Ar(Wt,pe,!0,v)&&Le}if(Le=Ar(Wt=v.a=Q,pe,!0,v)&&Le,Le=Ar(Wt,pe,!1,v)&&Le,F)for(it=0;it<F.length;it++)Le=Ar(Wt=v.a=F[it],pe,!1,v)&&Le;return Le},Se.G=function(){if(ln.S.G.call(this),this.c){var F,v=this.c;for(F in v.a){for(var Q=v.a[F],pe=0;pe<Q.length;pe++)Ke(Q[pe]);delete v.a[F],v.b--}}this.C=null},Se.va=function(v,F,Q,pe){return this.c.add(String(v),F,!1,Q,pe)},Se.wa=function(v,F,Q,pe){return this.c.add(String(v),F,!0,Q,pe)};var Tn=Ee.JSON.stringify;function In(){this.b=this.a=null}var hr,Gn=new(function(){function v(F,Q,pe){this.f=pe,this.c=F,this.g=Q,this.b=0,this.a=null}return v.prototype.get=function(){var F;return 0<this.b?(this.b--,this.a=(F=this.a).next,F.next=null):F=this.c(),F},v}())(function(){return new Ki},function(v){v.reset()},100);function bi(){var v=ki,F=null;return v.a&&(F=v.a,v.a=v.a.next,v.a||(v.b=null),F.next=null),F}function Ki(){this.next=this.b=this.a=null}function uo(v){Ee.setTimeout(function(){throw v},0)}function Rr(v,F){hr||function(){var v=Ee.Promise.resolve(void 0);hr=function(){v.then(ir)}}(),br||(hr(),br=!0),ki.add(v,F)}In.prototype.add=function(v,F){var Q=Gn.get();Q.set(v,F),this.b?this.b.next=Q:this.a=Q,this.b=Q},Ki.prototype.set=function(v,F){this.a=v,this.b=F,this.next=null},Ki.prototype.reset=function(){this.next=this.b=this.a=null};var br=!1,ki=new In;function ir(){for(var v;v=bi();){try{v.a.call(v.b)}catch(Q){uo(Q)}var F=Gn;F.g(v),F.b<F.f&&(F.b++,v.next=F.a,F.a=v)}br=!1}function jt(v,F){ln.call(this),this.b=v||1,this.a=F||Ee,this.f=nt(this.Ya,this),this.g=Ze()}function vn(v){v.aa=!1,v.M&&(v.a.clearTimeout(v.M),v.M=null)}function un(v,F,Q){if("function"==ne(v))Q&&(v=nt(v,Q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=nt(v.handleEvent,v)}return 2147483647<Number(F)?-1:Ee.setTimeout(v,F||0)}function Qr(v){v.a=un(function(){v.a=null,v.c&&(v.c=!1,Qr(v))},v.h);var F=v.b;v.b=null,v.g.apply(null,F)}xt(jt,ln),(Se=jt.prototype).aa=!1,Se.M=null,Se.Ya=function(){if(this.aa){var v=Ze()-this.g;0<v&&v<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-v):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(vn(this),this.start()))}},Se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ze())},Se.G=function(){jt.S.G.call(this),vn(this),delete this.a};var $r=function(v){function F(Q,pe,Le){var it=v.call(this)||this;return it.g=null!=Le?Q.bind(Le):Q,it.h=pe,it.b=null,it.c=!1,it.a=null,it}return function(v,F){function Q(){this.constructor=v}E(v,F),v.prototype=null===F?Object.create(F):(Q.prototype=F.prototype,new Q)}(F,v),F.prototype.f=function(Q){this.b=arguments,this.a?this.c=!0:Qr(this)},F.prototype.G=function(){v.prototype.G.call(this),this.a&&(Ee.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},F}(Ft);function wr(v){Ft.call(this),this.b=v,this.a={}}xt(wr,Ft);var Wr=[];function Dr(v,F,Q,pe){Array.isArray(Q)||(Q&&(Wr[0]=Q.toString()),Q=Wr);for(var Le=0;Le<Q.length;Le++){var it=Yt(F,Q[Le],pe||v.handleEvent,!1,v.b||v);if(!it)break;v.a[it.key]=it}}function Fi(v){mt(v.a,function(F,Q){this.a.hasOwnProperty(Q)&&vi(F)},v),v.a={}}function Br(){this.a=!0}function fr(v,F,Q,pe){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+function(v,F){if(!v.a)return F;if(!F)return null;try{var Q=JSON.parse(F);if(Q)for(v=0;v<Q.length;v++)if(Array.isArray(Q[v])){var pe=Q[v];if(!(2>pe.length)){var Le=pe[1];if(Array.isArray(Le)&&!(1>Le.length)){var it=Le[0];if("noop"!=it&&"stop"!=it&&"close"!=it)for(var Wt=1;Wt<Le.length;Wt++)Le[Wt]=""}}}return Tn(Q)}catch(xn){return F}}(v,Q)+(pe?" "+pe:"")})}wr.prototype.G=function(){wr.S.G.call(this),Fi(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Br.prototype.info=function(){};var Tr=null;function nn(){return Tr=Tr||new ln}function Bn(v){Ae.call(this,"serverreachability",v)}function or(v){var F=nn();F.dispatchEvent(new Bn(F,v))}function $n(v){Ae.call(this,"statevent",v)}function Pn(v){var F=nn();F.dispatchEvent(new $n(F,v))}function Mo(v){Ae.call(this,"timingevent",v)}function zr(v,F){if("function"!=ne(v))throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){v()},F)}xt(Bn,Ae),xt($n,Ae),xt(Mo,Ae);var ni={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Zr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ii(){}function Ur(){}Ii.prototype.a=null;var ji,Ui={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Xr(){Ae.call(this,"d")}function jr(){Ae.call(this,"c")}function Hi(){}function Si(v,F,Q,pe){this.g=v,this.c=F,this.f=Q,this.T=pe||1,this.J=new wr(this),this.P=Or,this.R=new jt(v=tt?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}xt(Xr,Ae),xt(jr,Ae),xt(Hi,Ii),ji=new Hi;var Or=45e3,ei={},yo={};function pi(v,F,Q){v.H=1,v.i=Ai(yi(F)),v.j=Q,v.I=!0,Mr(v,null)}function Mr(v,F){v.u=Ze(),Fn(v),v.l=yi(v.i);var Q=v.l,pe=v.T;Array.isArray(pe)||(pe=[String(pe)]),U(Q.b,"t",pe),v.D=0,v.a=$o(v.g,v.g.C?F:null),0<v.O&&(v.F=new $r(nt(v.Ca,v,v.a),v.O)),Dr(v.J,v.a,"readystatechange",v.Wa),F=v.B?Vt(v.B):{},v.j?(v.m||(v.m="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.a.ba(v.l,v.m,v.j,F)):(v.m="GET",v.a.ba(v.l,v.m,null,F)),or(1),function(v,F,Q,pe,Le,it){v.info(function(){if(v.a)if(it)for(var Wt="",xn=it.split("&"),bn=0;bn<xn.length;bn++){var O=xn[bn].split("=");if(1<O.length){var P=O[0];O=O[1];var ie=P.split("_");Wt=2<=ie.length&&"type"==ie[1]?Wt+(P+"=")+O+"&":Wt+(P+"=redacted&")}}else Wt=null;else Wt=it;return"XMLHTTP REQ ("+pe+") [attempt "+Le+"]: "+F+"\n"+Q+"\n"+Wt})}(v.c,v.m,v.l,v.f,v.T,v.j)}function wi(v,F,Q){for(var pe=!0;!v.A&&v.D<Q.length;){var Le=Zi(v,Q);if(Le==yo){4==F&&(v.h=4,Pn(14),pe=!1),fr(v.c,v.f,null,"[Incomplete Response]");break}if(Le==ei){v.h=4,Pn(15),fr(v.c,v.f,Q,"[Invalid Chunk]"),pe=!1;break}fr(v.c,v.f,Le,null),Jn(v,Le)}4==F&&0==Q.length&&(v.h=1,Pn(16),pe=!1),v.b=v.b&&pe,pe?0<Q.length&&!v.W&&(v.W=!0,(F=v.g).a==v&&F.V&&!F.F&&(F.c.info("Great, no buffering proxy detected. Bytes received: "+Q.length),us(F),F.F=!0)):(fr(v.c,v.f,Q,"[Invalid Chunked Response]"),lo(v),yr(v))}function Zi(v,F){var Q=v.D,pe=F.indexOf("\n",Q);return-1==pe?yo:(Q=Number(F.substring(Q,pe)),isNaN(Q)?ei:(pe+=1)+Q>F.length?yo:(F=F.substr(pe,Q),v.D=pe+Q,F))}function Fn(v){v.U=Ze()+v.P,gi(v,v.P)}function gi(v,F){if(null!=v.o)throw Error("WatchDog timer not null");v.o=zr(nt(v.Ua,v),F)}function Xi(v){v.o&&(Ee.clearTimeout(v.o),v.o=null)}function yr(v){0==v.g.v||v.A||vs(v.g,v)}function lo(v){Xi(v);var F=v.F;F&&"function"==typeof F.ja&&F.ja(),v.F=null,vn(v.R),Fi(v.J),v.a&&(F=v.a,v.a=null,F.abort(),F.ja())}function Jn(v,F){try{var Q=v.g;if(0!=Q.v&&(Q.a==v||mn(Q.b,v)))if(Q.I=v.N,!v.C&&mn(Q.b,v)&&3==Q.v){try{var pe=Q.ka.a.parse(F)}catch(ci){pe=null}if(Array.isArray(pe)&&3==pe.length){var Le=pe;if(0==Le[0])e:if(Q.j)Q.oa=Le[1],0<Q.oa-Q.P&&37500>Le[2]&&Q.H&&0==Q.o&&!Q.m&&(Q.m=zr(nt(Q.Ra,Q),6e3));else{if(Q.a){if(!(Q.a.u+3e3<v.u))break e;Go(Q),zi(Q)}xi(Q),Pn(18)}if(1>=Qt(Q.b)&&Q.ea){try{Q.ea()}catch(ci){}Q.ea=void 0}}else qi(Q,11)}else if((v.C||Q.a==v)&&Go(Q),!oe(F))for(F=pe=Q.ka.a.parse(F),pe=0;pe<F.length;pe++)if(Q.P=(Le=F[pe])[0],Le=Le[1],2==Q.v)if("c"==Le[0]){Q.J=Le[1],Q.ga=Le[2];var it=Le[3];null!=it&&(Q.ha=it,Q.c.info("VER="+Q.ha));var Wt=Le[4];null!=Wt&&(Q.pa=Wt,Q.c.info("SVER="+Q.pa));var xn=Le[5];if(null!=xn&&"number"==typeof xn&&0<xn){var bn=1.5*xn;Q.D=bn,Q.c.info("backChannelRequestTimeoutMs_="+bn)}bn=Q;var O=v.a;if(O){var P=O.a?O.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var ie=bn.b;!ie.a&&(Z(P,"spdy")||Z(P,"quic")||Z(P,"h2"))&&(ie.f=ie.g,ie.a=new Set,ie.b&&(Kn(ie,ie.b),ie.b=null))}if(bn.A){var Ve=O.a?O.a.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(bn.na=Ve,sr(bn.B,bn.A,Ve))}}Q.v=3,Q.f&&Q.f.ta(),Q.V&&(Q.N=Ze()-v.u,Q.c.info("Handshake RTT: "+Q.N+"ms"));var St=v;if((bn=Q).la=cs(bn,bn.C?bn.ga:null,bn.fa),St.C){Zn(bn.b,St);var an=St,qn=bn.D;qn&&an.setTimeout(qn),an.o&&(Xi(an),Fn(an)),bn.a=St}else Io(bn);0<Q.g.length&&oo(Q)}else"stop"!=Le[0]&&"close"!=Le[0]||qi(Q,7);else 3==Q.v&&("stop"==Le[0]||"close"==Le[0]?"stop"==Le[0]?qi(Q,7):Ko(Q):"noop"!=Le[0]&&Q.f&&Q.f.sa(Le),Q.o=0);or(4)}catch(ci){}}function Gi(v,F){if(v.forEach&&"function"==typeof v.forEach)v.forEach(F,void 0);else if(X(v)||"string"==typeof v)wt(v,F,void 0);else{if(v.L&&"function"==typeof v.L)var Q=v.L();else if(v.K&&"function"==typeof v.K)Q=void 0;else if(X(v)||"string"==typeof v){Q=[];for(var pe=v.length,Le=0;Le<pe;Le++)Q.push(Le)}else for(Le in Q=[],pe=0,v)Q[pe++]=Le;Le=(pe=function(v){if(v.K&&"function"==typeof v.K)return v.K();if("string"==typeof v)return v.split("");if(X(v)){for(var F=[],Q=v.length,pe=0;pe<Q;pe++)F.push(v[pe]);return F}for(pe in F=[],Q=0,v)F[Q++]=v[pe];return F}(v)).length;for(var it=0;it<Le;it++)F.call(void 0,pe[it],Q&&Q[it],v)}}function eo(v,F){this.b={},this.a=[],this.c=0;var Q=arguments.length;if(1<Q){if(Q%2)throw Error("Uneven number of arguments");for(var pe=0;pe<Q;pe+=2)this.set(arguments[pe],arguments[pe+1])}else if(v)if(v instanceof eo)for(Q=v.L(),pe=0;pe<Q.length;pe++)this.set(Q[pe],v.get(Q[pe]));else for(pe in v)this.set(pe,v[pe])}function mi(v){if(v.c!=v.a.length){for(var F=0,Q=0;F<v.a.length;){var pe=v.a[F];ui(v.b,pe)&&(v.a[Q++]=pe),F++}v.a.length=Q}if(v.c!=v.a.length){var Le={};for(Q=F=0;F<v.a.length;)ui(Le,pe=v.a[F])||(v.a[Q++]=pe,Le[pe]=1),F++;v.a.length=Q}}function ui(v,F){return Object.prototype.hasOwnProperty.call(v,F)}(Se=Si.prototype).setTimeout=function(v){this.P=v},Se.Wa=function(v){v=v.target;var F=this.F;F&&3==Mi(v)?F.f():this.Ca(v)},Se.Ca=function(v){try{if(v==this.a)e:{var F=Mi(this.a),Q=this.a.ua(),pe=this.a.X();if(!(3>F||3==F&&!tt&&!this.a.$())){this.A||4!=F||7==Q||or(8==Q||0>=pe?3:2),Xi(this);var Le=this.a.X();this.N=Le;var it=this.a.$();if(this.b=200==Le,function(v,F,Q,pe,Le,it,Wt){v.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Le+"]: "+F+"\n"+Q+"\n"+it+" "+Wt})}(this.c,this.m,this.l,this.f,this.T,F,Le),this.b){if(this.V&&!this.C){t:{if(this.a){var Wt,xn=this.a;if((Wt=xn.a?xn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Wt)){var bn=Wt;break t}}bn=null}if(!bn){this.b=!1,this.h=3,Pn(12),lo(this),yr(this);break e}fr(this.c,this.f,bn,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Jn(this,bn)}this.I?(wi(this,F,it),tt&&this.b&&3==F&&(Dr(this.J,this.R,"tick",this.Va),this.R.start())):(fr(this.c,this.f,it,null),Jn(this,it)),4==F&&lo(this),this.b&&!this.A&&(4==F?vs(this.g,this):(this.b=!1,Fn(this)))}else 400==Le&&0<it.indexOf("Unknown SID")?(this.h=3,Pn(12)):(this.h=0,Pn(13)),lo(this),yr(this)}}}catch(O){}},Se.Va=function(){if(this.a){var v=Mi(this.a),F=this.a.$();this.D<F.length&&(Xi(this),wi(this,v,F),this.b&&4!=v&&Fn(this))}},Se.cancel=function(){this.A=!0,lo(this)},Se.Ua=function(){this.o=null;var v=Ze();0<=v-this.U?(function(v,F){v.info(function(){return"TIMEOUT: "+F})}(this.c,this.l),2!=this.H&&(or(3),Pn(17)),lo(this),this.h=2,yr(this)):gi(this,this.U-v)},(Se=eo.prototype).K=function(){mi(this);for(var v=[],F=0;F<this.a.length;F++)v.push(this.b[this.a[F]]);return v},Se.L=function(){return mi(this),this.a.concat()},Se.get=function(v,F){return ui(this.b,v)?this.b[v]:F},Se.set=function(v,F){ui(this.b,v)||(this.c++,this.a.push(v)),this.b[v]=F},Se.forEach=function(v,F){for(var Q=this.L(),pe=0;pe<Q.length;pe++){var Le=Q[pe],it=this.get(Le);v.call(F,it,Le,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ti(v,F){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,v instanceof ti){this.a=void 0!==F?F:v.a,$i(this,v.f),this.j=v.j,to(this,v.c),oi(this,v.h),this.g=v.g,F=v.b;var Q=new L;Q.c=F.c,F.a&&(Q.a=new eo(F.a),Q.b=F.b),Ni(this,Q),this.i=v.i}else v&&(Q=String(v).match(Sn))?(this.a=!!F,$i(this,Q[1]||"",!0),this.j=li(Q[2]||""),to(this,Q[3]||"",!0),oi(this,Q[4]),this.g=li(Q[5]||"",!0),Ni(this,Q[6]||"",!0),this.i=li(Q[7]||"")):(this.a=!!F,this.b=new L(null,this.a))}function yi(v){return new ti(v)}function $i(v,F,Q){v.f=Q?li(F,!0):F,v.f&&(v.f=v.f.replace(/:$/,""))}function to(v,F,Q){v.c=Q?li(F,!0):F}function oi(v,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);v.h=F}else v.h=null}function Ni(v,F,Q){F instanceof L?(v.b=F,function(v,F){F&&!v.f&&(le(v),v.c=null,v.a.forEach(function(Q,pe){var Le=pe.toLowerCase();pe!=Le&&(ht(this,pe),U(this,Le,Q))},v)),v.f=F}(v.b,v.a)):(Q||(F=ri(F,q)),v.b=new L(F,v.a))}function sr(v,F,Q){v.b.set(F,Q)}function Ai(v){return sr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ze()).toString(36)),v}function li(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ri(v,F,Q){return"string"==typeof v?(v=encodeURI(v).replace(F,Do),Q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Do(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}ti.prototype.toString=function(){var v=[],F=this.f;F&&v.push(ri(F,ii,!0),":");var Q=this.c;return(Q||"file"==F)&&(v.push("//"),(F=this.j)&&v.push(ri(F,ii,!0),"@"),v.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.h)&&v.push(":",String(Q))),(Q=this.g)&&(this.c&&"/"!=Q.charAt(0)&&v.push("/"),v.push(ri(Q,"/"==Q.charAt(0)?Pr:no,!0))),(Q=this.b.toString())&&v.push("?",Q),(Q=this.i)&&v.push("#",ri(Q,H)),v.join("")};var ii=/[#\/\?@]/g,no=/[#\?:]/g,Pr=/[#\?]/g,q=/[#\?@]/g,H=/#/g;function L(v,F){this.b=this.a=null,this.c=v||null,this.f=!!F}function le(v){v.a||(v.a=new eo,v.b=0,v.c&&function(v,F){if(v){v=v.split("&");for(var Q=0;Q<v.length;Q++){var pe=v[Q].indexOf("="),Le=null;if(0<=pe){var it=v[Q].substring(0,pe);Le=v[Q].substring(pe+1)}else it=v[Q];F(it,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}(v.c,function(F,Q){v.add(decodeURIComponent(F.replace(/\+/g," ")),Q)}))}function ht(v,F){le(v),F=ae(v,F),ui(v.a.b,F)&&(v.c=null,v.b-=v.a.get(F).length,ui((v=v.a).b,F)&&(delete v.b[F],v.c--,v.a.length>2*v.c&&mi(v)))}function Jt(v,F){return le(v),F=ae(v,F),ui(v.a.b,F)}function U(v,F,Q){ht(v,F),0<Q.length&&(v.c=null,v.a.set(ae(v,F),W(Q)),v.b+=Q.length)}function ae(v,F){return F=String(F),v.f&&(F=F.toLowerCase()),F}function fe(v,F){this.b=v,this.a=F}function Fe(v){this.g=v||pt,v=Ee.PerformanceNavigationTiming?0<(v=Ee.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(Ee.ia&&Ee.ia.ya&&Ee.ia.ya()&&Ee.ia.ya().qb),this.f=v?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Se=L.prototype).add=function(v,F){le(this),this.c=null,v=ae(this,v);var Q=this.a.get(v);return Q||this.a.set(v,Q=[]),Q.push(F),this.b+=1,this},Se.forEach=function(v,F){le(this),this.a.forEach(function(Q,pe){wt(Q,function(Le){v.call(F,Le,pe,this)},this)},this)},Se.L=function(){le(this);for(var v=this.a.K(),F=this.a.L(),Q=[],pe=0;pe<F.length;pe++)for(var Le=v[pe],it=0;it<Le.length;it++)Q.push(F[pe]);return Q},Se.K=function(v){le(this);var F=[];if("string"==typeof v)Jt(this,v)&&(F=re(F,this.a.get(ae(this,v))));else{v=this.a.K();for(var Q=0;Q<v.length;Q++)F=re(F,v[Q])}return F},Se.set=function(v,F){return le(this),this.c=null,Jt(this,v=ae(this,v))&&(this.b-=this.a.get(v).length),this.a.set(v,[F]),this.b+=1,this},Se.get=function(v,F){return v&&0<(v=this.K(v)).length?String(v[0]):F},Se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var v=[],F=this.a.L(),Q=0;Q<F.length;Q++){var pe=F[Q],Le=encodeURIComponent(String(pe));pe=this.K(pe);for(var it=0;it<pe.length;it++){var Wt=Le;""!==pe[it]&&(Wt+="="+encodeURIComponent(String(pe[it]))),v.push(Wt)}}return this.c=v.join("&")};var pt=10;function bt(v){return!!v.b||!!v.a&&v.a.size>=v.f}function Qt(v){return v.b?1:v.a?v.a.size:0}function mn(v,F){return v.b?v.b==F:!!v.a&&v.a.has(F)}function Kn(v,F){v.a?v.a.add(F):v.b=F}function Zn(v,F){v.b&&v.b==F?v.b=null:v.a&&v.a.has(F)&&v.a.delete(F)}function Nn(v){var F,Q;if(null!=v.b)return v.c.concat(v.b.s);if(null!=v.a&&0!==v.a.size){var pe=v.c;try{for(var Le=J(v.a.values()),it=Le.next();!it.done;it=Le.next())pe=pe.concat(it.value.s)}catch(xn){F={error:xn}}finally{try{it&&!it.done&&(Q=Le.return)&&Q.call(Le)}finally{if(F)throw F.error}}return pe}return W(v.c)}function Wn(){}function ar(){this.a=new Wn}function Hr(v,F,Q){var pe=Q||"";try{Gi(v,function(Le,it){var Wt=Le;De(Le)&&(Wt=Tn(Le)),F.push(pe+it+"="+encodeURIComponent(Wt))})}catch(Le){throw F.push(pe+"type="+encodeURIComponent("_badmap")),Le}}function Yr(v,F,Q,pe,Le){try{F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null,Le(pe)}catch(it){}}Fe.prototype.cancel=function(){var v,F;if(this.c=Nn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var Q=J(this.a.values()),pe=Q.next();!pe.done;pe=Q.next())pe.value.cancel()}catch(it){v={error:it}}finally{try{pe&&!pe.done&&(F=Q.return)&&F.call(Q)}finally{if(v)throw v.error}}this.a.clear()}},Wn.prototype.stringify=function(v){return Ee.JSON.stringify(v,void 0)},Wn.prototype.parse=function(v){return Ee.JSON.parse(v,void 0)};var Ro=Ee.JSON.parse;function lr(v){ln.call(this),this.headers=new eo,this.H=v||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=qt,this.D=this.F=!1}xt(lr,ln);var qt="",Cr=/^https?$/i,Wi=["POST","PUT"];function As(v){return"content-type"==v.toLowerCase()}function ro(v,F){v.b=!1,v.a&&(v.g=!0,v.a.abort(),v.g=!1),v.f=F,v.h=5,as(v),It(v)}function as(v){v.u||(v.u=!0,v.dispatchEvent("complete"),v.dispatchEvent("error"))}function co(v){if(v.b&&void 0!==Ne&&(!v.s[1]||4!=Mi(v)||2!=v.X()))if(v.l&&4==Mi(v))un(v.za,0,v);else if(v.dispatchEvent("readystatechange"),4==Mi(v)){v.b=!1;try{var pe,F=v.X();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}if(!(pe=Q)){var Le;if(Le=0===F){var it=String(v.B).match(Sn)[1]||null;if(!it&&Ee.self&&Ee.self.location){var Wt=Ee.self.location.protocol;it=Wt.substr(0,Wt.length-1)}Le=!Cr.test(it?it.toLowerCase():"")}pe=Le}if(pe)v.dispatchEvent("complete"),v.dispatchEvent("success");else{v.h=6;try{var xn=2<Mi(v)?v.a.statusText:""}catch(bn){xn=""}v.f=xn+" ["+v.X()+"]",as(v)}}finally{It(v)}}}function It(v,F){if(v.a){Yn(v);var Q=v.a,pe=v.s[0]?Ie:null;v.a=null,v.s=null,F||v.dispatchEvent("ready");try{Q.onreadystatechange=pe}catch(Le){}}}function Yn(v){v.a&&v.D&&(v.a.ontimeout=null),v.m&&(Ee.clearTimeout(v.m),v.m=null)}function Mi(v){return v.a?v.a.readyState:0}function si(v,F,Q){e:{for(pe in Q){var pe=!1;break e}pe=!0}pe||(Q=function(v){var F="";return mt(v,function(Q,pe){F+=pe,F+=":",F+=Q,F+="\r\n"}),F}(Q),"string"==typeof v?null!=Q&&encodeURIComponent(String(Q)):sr(v,F,Q))}function vo(v,F,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[v]||F}function io(v){this.pa=0,this.g=[],this.c=new Br,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=vo("failFast",!1,v),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=vo("baseRetryDelayMs",5e3,v),this.Ma=vo("retryDelaySeedMs",1e4,v),this.Ja=vo("forwardChannelMaxRetries",2,v),this.ma=vo("forwardChannelRequestTimeoutMs",2e4,v),this.Ka=v&&v.g||void 0,this.D=void 0,this.C=v&&v.supportsCrossDomainXhr||!1,this.J="",this.b=new Fe(v&&v.concurrentRequestLimit),this.ka=new ar,this.da=v&&v.fastHandshake||!1,this.Ga=v&&v.b||!1,v&&v.f&&(this.c.a=!1),v&&v.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&v&&v.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Ko(v){if(Oo(v),3==v.v){var F=v.R++,Q=yi(v.B);sr(Q,"SID",v.J),sr(Q,"RID",F),sr(Q,"TYPE","terminate"),Bi(v,Q),(F=new Si(v,v.c,F,void 0)).H=2,F.i=Ai(yi(Q)),Q=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(Q=Ee.navigator.sendBeacon(F.i.toString(),"")),!Q&&Ee.Image&&((new Image).src=F.i,Q=!0),Q||(F.a=$o(F.g,null),F.a.ba(F.i)),F.u=Ze(),Fn(F)}ls(v)}function zi(v){v.a&&(us(v),v.a.cancel(),v.a=null)}function Oo(v){zi(v),v.j&&(Ee.clearTimeout(v.j),v.j=null),Go(v),v.b.cancel(),v.h&&("number"==typeof v.h&&Ee.clearTimeout(v.h),v.h=null)}function Ho(v,F){v.g.push(new fe(v.La++,F)),3==v.v&&oo(v)}function oo(v){bt(v.b)||v.h||(v.h=!0,Rr(v.Ba,v),v.u=0)}function _r(v,F){var Q;Q=F?F.f:v.R++;var pe=yi(v.B);sr(pe,"SID",v.J),sr(pe,"RID",Q),sr(pe,"AID",v.P),Bi(v,pe),v.i&&v.l&&si(pe,v.i,v.l),Q=new Si(v,v.c,Q,v.u+1),null===v.i&&(Q.B=v.l),F&&(v.g=F.s.concat(v.g)),F=Xo(v,Q,1e3),Q.setTimeout(Math.round(.5*v.ma)+Math.round(.5*v.ma*Math.random())),Kn(v.b,Q),pi(Q,pe,F)}function Bi(v,F){v.f&&Gi({},function(Q,pe){sr(F,pe,Q)})}function Xo(v,F,Q){Q=Math.min(v.g.length,Q);var pe=v.f?nt(v.f.Ha,v.f,v):null;e:for(var Le=v.g,it=-1;;){var Wt=["count="+Q];-1==it?0<Q?Wt.push("ofs="+(it=Le[0].b)):it=0:Wt.push("ofs="+it);for(var xn=!0,bn=0;bn<Q;bn++){var O=Le[bn].b,P=Le[bn].a;if(0>(O-=it))it=Math.max(0,Le[bn].b-100),xn=!1;else try{Hr(P,Wt,"req"+O+"_")}catch(ie){pe&&pe(P)}}if(xn){pe=Wt.join("&");break e}}return v=v.g.splice(0,Q),F.s=v,pe}function Io(v){v.a||v.j||(v.U=1,Rr(v.Aa,v),v.o=0)}function xi(v){return!(v.a||v.j||3<=v.o||(v.U++,v.j=zr(nt(v.Aa,v),Yi(v,v.o)),v.o++,0))}function us(v){null!=v.s&&(Ee.clearTimeout(v.s),v.s=null)}function _s(v){v.a=new Si(v,v.c,"rpc",v.U),null===v.i&&(v.a.B=v.l),v.a.O=0;var F=yi(v.la);sr(F,"RID","rpc"),sr(F,"SID",v.J),sr(F,"CI",v.H?"0":"1"),sr(F,"AID",v.P),Bi(v,F),sr(F,"TYPE","xmlhttp"),v.i&&v.l&&si(F,v.i,v.l),v.D&&v.a.setTimeout(v.D);var Q=v.a;v=v.ga,Q.H=1,Q.i=Ai(yi(F)),Q.j=null,Q.I=!0,Mr(Q,v)}function Go(v){null!=v.m&&(Ee.clearTimeout(v.m),v.m=null)}function vs(v,F){var Q=null;if(v.a==F){Go(v),us(v),v.a=null;var pe=2}else{if(!mn(v.b,F))return;Q=F.s,Zn(v.b,F),pe=1}if(v.I=F.N,0!=v.v)if(F.b)if(1==pe){Q=F.j?F.j.length:0,F=Ze()-F.u;var Le=v.u;(pe=nn()).dispatchEvent(new Mo(pe,Q,F,Le)),oo(v)}else Io(v);else if(3==(Le=F.h)||0==Le&&0<v.I||!(1==pe&&function(v,F){return!(Qt(v.b)>=v.b.f-(v.h?1:0)||(v.h?(v.g=F.s.concat(v.g),0):1==v.v||2==v.v||v.u>=(v.Ia?0:v.Ja)||(v.h=zr(nt(v.Ba,v,F),Yi(v,v.u)),v.u++,0)))}(v,F)||2==pe&&xi(v)))switch(Q&&0<Q.length&&(F=v.b,F.c=F.c.concat(Q)),Le){case 1:qi(v,5);break;case 4:qi(v,10);break;case 3:qi(v,6);break;default:qi(v,2)}}function Yi(v,F){var Q=v.Fa+Math.floor(Math.random()*v.Ma);return v.f||(Q*=2),Q*F}function qi(v,F){if(v.c.info("Error code "+F),2==F){var Q=null;v.f&&(Q=null);var pe=nt(v.Xa,v);Q||(Q=new ti("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||$i(Q,"https"),Ai(Q)),function(v,F){var Q=new Br;if(Ee.Image){var pe=new Image;pe.onload=Te(Yr,Q,pe,"TestLoadImage: loaded",!0,F),pe.onerror=Te(Yr,Q,pe,"TestLoadImage: error",!1,F),pe.onabort=Te(Yr,Q,pe,"TestLoadImage: abort",!1,F),pe.ontimeout=Te(Yr,Q,pe,"TestLoadImage: timeout",!1,F),Ee.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=v}else F(!1)}(Q.toString(),pe)}else Pn(2);v.v=0,v.f&&v.f.ra(F),ls(v),Oo(v)}function ls(v){v.v=0,v.I=-1,v.f&&((0!=Nn(v.b).length||0!=v.g.length)&&(v.b.c.length=0,W(v.g),v.g.length=0),v.f.qa())}function cs(v,F,Q){var pe=function(v){return v instanceof ti?yi(v):new ti(v,void 0)}(Q);if(""!=pe.c)F&&to(pe,F+"."+pe.c),oi(pe,pe.h);else{var Le=Ee.location;pe=function(v,F,Q,pe){var Le=new ti(null,void 0);return v&&$i(Le,v),F&&to(Le,F),Q&&oi(Le,Q),pe&&(Le.g=pe),Le}(Le.protocol,F?F+"."+Le.hostname:Le.hostname,+Le.port,Q)}return v.W&&mt(v.W,function(it,Wt){sr(pe,Wt,it)}),Q=v.na,(F=v.A)&&Q&&sr(pe,F,Q),sr(pe,"VER",v.ha),Bi(v,pe),pe}function $o(v,F){if(F&&!v.C)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new lr(v.Ka)).F=v.C,F}function Ms(){}function Wo(){if(Ct&&!(10<=Number(Un)))throw Error("Environmental error: no available transport.")}function Xn(v,F){ln.call(this),this.a=new io(F),this.l=v,this.b=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.a.l=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.a&&(v?v["X-WebChannel-Client-Profile"]=F.a:v={"X-WebChannel-Client-Profile":F.a}),this.a.O=v,(v=F&&F.httpHeadersOverwriteParam)&&!oe(v)&&(this.a.i=v),this.h=F&&F.supportsCrossDomainXhr||!1,this.g=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!oe(F)&&(this.a.A=F,null!==(v=this.b)&&F in v&&F in(v=this.b)&&delete v[F]),this.f=new Er(this)}function ds(v){Xr.call(this);var F=v.__sm__;if(F){e:{for(var Q in F){v=Q;break e}v=void 0}(this.c=v)?(v=this.c,this.data=null!==F&&v in F?F[v]:void 0):this.data=F}else this.data=v}function kt(){jr.call(this),this.status=1}function Er(v){this.a=v}(Se=lr.prototype).ba=function(v,F,Q,pe){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+v);F=F?F.toUpperCase():"GET",this.B=v,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(v){var F;return(F=v.a)||(F=v.a={}),F}(this.H?this.H:ji),this.a.onreadystatechange=nt(this.za,this);try{this.A=!0,this.a.open(F,String(v),!0),this.A=!1}catch(it){return void ro(this,it)}v=Q||"";var Le=new eo(this.headers);pe&&Gi(pe,function(it,Wt){Le.set(Wt,it)}),pe=function(v){e:{for(var F=As,Q=v.length,pe="string"==typeof v?v.split(""):v,Le=0;Le<Q;Le++)if(Le in pe&&F.call(void 0,pe[Le],Le,v)){F=Le;break e}F=-1}return 0>F?null:"string"==typeof v?v.charAt(F):v[F]}(Le.L()),Q=Ee.FormData&&v instanceof Ee.FormData,!(0<=Dt(Wi,F))||pe||Q||Le.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Le.forEach(function(it,Wt){this.a.setRequestHeader(Wt,it)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yn(this),0<this.o&&((this.D=function(v){return Ct&&An(9)&&"number"==typeof v.timeout&&void 0!==v.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=nt(this.xa,this)):this.m=un(this.xa,this.o,this)),this.l=!0,this.a.send(v),this.l=!1}catch(it){ro(this,it)}},Se.xa=function(){void 0!==Ne&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Se.abort=function(v){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=v||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),It(this))},Se.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),It(this,!0)),lr.S.G.call(this)},Se.za=function(){this.j||(this.A||this.l||this.g?co(this):this.Ta())},Se.Ta=function(){co(this)},Se.X=function(){try{return 2<Mi(this)?this.a.status:-1}catch(v){return-1}},Se.$=function(){try{return this.a?this.a.responseText:""}catch(v){return""}},Se.Na=function(v){if(this.a){var F=this.a.responseText;return v&&0==F.indexOf(v)&&(F=F.substring(v.length)),Ro(F)}},Se.ua=function(){return this.h},Se.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Se=io.prototype).ha=8,Se.v=1,Se.Ba=function(v){if(this.h)if(this.h=null,1==this.v){if(!v){this.R=Math.floor(1e5*Math.random()),v=this.R++;var pe,F=new Si(this,this.c,v,void 0),Q=this.l;if(this.O&&(Q?Tt(Q=Vt(Q),this.O):Q=this.O),null===this.i&&(F.B=Q),this.da)e:{for(var Le=pe=0;Le<this.g.length;Le++){var it=this.g[Le];if(void 0===(it="__data__"in it.a&&"string"==typeof(it=it.a.__data__)?it.length:void 0))break;if(4096<(pe+=it)){pe=Le;break e}if(4096===pe||Le===this.g.length-1){pe=Le+1;break e}}pe=1e3}else pe=1e3;pe=Xo(this,F,pe),sr(Le=yi(this.B),"RID",v),sr(Le,"CVER",22),this.A&&sr(Le,"X-HTTP-Session-Id",this.A),Bi(this,Le),this.i&&Q&&si(Le,this.i,Q),Kn(this.b,F),this.Ga&&sr(Le,"TYPE","init"),this.da?(sr(Le,"$req",pe),sr(Le,"SID","null"),F.V=!0,pi(F,Le,null)):pi(F,Le,pe),this.v=2}}else 3==this.v&&(v?_r(this,v):0==this.g.length||bt(this.b)||_r(this))},Se.Aa=function(){if(this.j=null,_s(this),this.V&&!(this.F||null==this.a||0>=this.N)){var v=2*this.N;this.c.info("BP detection timer enabled: "+v),this.s=zr(nt(this.Sa,this),v)}},Se.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zi(this),_s(this))},Se.Ra=function(){null!=this.m&&(this.m=null,zi(this),xi(this),Pn(19))},Se.Xa=function(v){v?(this.c.info("Successfully pinged google.com"),Pn(2)):(this.c.info("Failed to ping google.com"),Pn(1))},(Se=Ms.prototype).ta=function(){},Se.sa=function(){},Se.ra=function(){},Se.qa=function(){},Se.Ha=function(){},Wo.prototype.a=function(v,F){return new Xn(v,F)},xt(Xn,ln),(Se=Xn.prototype).addEventListener=function(v,F,Q,pe){Xn.S.addEventListener.call(this,v,F,Q,pe)},Se.removeEventListener=function(v,F,Q,pe){Xn.S.removeEventListener.call(this,v,F,Q,pe)},Se.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var v=this.a,F=this.l,Q=this.b||void 0;Pn(0),v.fa=F,v.W=Q||{},v.H=v.T,v.B=cs(v,null,v.fa),oo(v)},Se.close=function(){Ko(this.a)},Se.Pa=function(v){if("string"==typeof v){var F={};F.__data__=v,Ho(this.a,F)}else this.g?((F={}).__data__=Tn(v),Ho(this.a,F)):Ho(this.a,v)},Se.G=function(){this.a.f=null,delete this.f,Ko(this.a),delete this.a,Xn.S.G.call(this)},xt(ds,Xr),xt(kt,jr),xt(Er,Ms),Er.prototype.ta=function(){this.a.dispatchEvent("a")},Er.prototype.sa=function(v){this.a.dispatchEvent(new ds(v))},Er.prototype.ra=function(v){this.a.dispatchEvent(new kt(v))},Er.prototype.qa=function(){this.a.dispatchEvent("b")},Wo.prototype.createWebChannel=Wo.prototype.a,Xn.prototype.send=Xn.prototype.Pa,Xn.prototype.open=Xn.prototype.Oa,Xn.prototype.close=Xn.prototype.close,ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,Zr.COMPLETE="complete",Ur.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ln.prototype.listen=ln.prototype.va,lr.prototype.listenOnce=lr.prototype.wa,lr.prototype.getLastError=lr.prototype.Qa,lr.prototype.getLastErrorCode=lr.prototype.ua,lr.prototype.getStatus=lr.prototype.X,lr.prototype.getResponseJson=lr.prototype.Na,lr.prototype.getResponseText=lr.prototype.$,lr.prototype.send=lr.prototype.ba;var Po=function(){return new Wo},zo=ni,ko=Zr,gr=Ur,bo=lr;const qr={createWebChannelTransport:Po,ErrorCode:ni,EventType:Zr,WebChannel:Ur,XhrIo:lr}},4395:(zt,Pe,ee)=>{"use strict";function u(Ne){return Ne&&"object"==typeof Ne&&"default"in Ne?Ne:{default:Ne}}var J=u(ee(6279));J.default.registerVersion("firebase","7.24.0","app"),zt.exports=J.default},6215:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{X:()=>J});var E=ee(9765),u=ee(7971);class J extends E.xQ{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Ne=super._subscribe(Se);return Ne&&!Ne.closed&&Se.next(this._value),Ne}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.N;return this._value}next(Se){super.next(this._value=Se)}}},1593:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{P:()=>Ee});var E=ee(9193),u=ee(5917),J=ee(7574);class Ee{constructor(ne,X,De){this.kind=ne,this.value=X,this.error=De,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,X,De){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return X&&X(this.error);case"C":return De&&De()}}accept(ne,X,De){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,X,De)}toObservable(){switch(this.kind){case"N":return(0,u.of)(this.value);case"E":return Ie=this.error,new J.y(X=>X.error(Ie));case"C":return(0,E.c)()}var Ie;throw new Error("unexpected notification kind value")}static createNext(ne){return void 0!==ne?new Ee("N",ne):Ee.undefinedValueNotification}static createError(ne){return new Ee("E",void 0,ne)}static createComplete(){return Ee.completeNotification}}Ee.completeNotification=new Ee("C"),Ee.undefinedValueNotification=new Ee("N",void 0)},7574:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{y:()=>De});var E=ee(7393),J=ee(9181),ke=ee(6490),Ne=ee(6554),Ee=ee(4487);var X=ee(2494);let De=(()=>{class ye{constructor(ct){this._isScalar=!1,ct&&(this._subscribe=ct)}lift(ct){const st=new ye;return st.source=this,st.operator=ct,st}subscribe(ct,st,nt){const{operator:Te}=this,Ze=function(ye,et,ct){if(ye){if(ye instanceof E.L)return ye;if(ye[J.b])return ye[J.b]()}return ye||et||ct?new E.L(ye,et,ct):new E.L(ke.c)}(ct,st,nt);if(Ze.add(Te?Te.call(Ze,this.source):this.source||X.v.useDeprecatedSynchronousErrorHandling&&!Ze.syncErrorThrowable?this._subscribe(Ze):this._trySubscribe(Ze)),X.v.useDeprecatedSynchronousErrorHandling&&Ze.syncErrorThrowable&&(Ze.syncErrorThrowable=!1,Ze.syncErrorThrown))throw Ze.syncErrorValue;return Ze}_trySubscribe(ct){try{return this._subscribe(ct)}catch(st){X.v.useDeprecatedSynchronousErrorHandling&&(ct.syncErrorThrown=!0,ct.syncErrorValue=st),function(ye){for(;ye;){const{closed:et,destination:ct,isStopped:st}=ye;if(et||st)return!1;ye=ct&&ct instanceof E.L?ct:null}return!0}(ct)?ct.error(st):console.warn(st)}}forEach(ct,st){return new(st=ge(st))((nt,Te)=>{let Ze;Ze=this.subscribe(xt=>{try{ct(xt)}catch(Ft){Te(Ft),Ze&&Ze.unsubscribe()}},Te,nt)})}_subscribe(ct){const{source:st}=this;return st&&st.subscribe(ct)}[Ne.L](){return this}pipe(...ct){return 0===ct.length?this:function(ye){return 0===ye.length?Ee.y:1===ye.length?ye[0]:function(ct){return ye.reduce((st,nt)=>nt(st),ct)}}(ct)(this)}toPromise(ct){return new(ct=ge(ct))((st,nt)=>{let Te;this.subscribe(Ze=>Te=Ze,Ze=>nt(Ze),()=>st(Te))})}}return ye.create=et=>new ye(et),ye})();function ge(ye){if(ye||(ye=X.v.Promise||Promise),!ye)throw new Error("no Promise impl found");return ye}},6490:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{c:()=>J});var E=ee(2494),u=ee(4449);const J={closed:!0,next(ke){},error(ke){if(E.v.useDeprecatedSynchronousErrorHandling)throw ke;(0,u.z)(ke)},complete(){}}},5197:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{L:()=>u});var E=ee(7393);class u extends E.L{notifyNext(ke,Se,Ne,Ee,Ie){this.destination.next(Se)}notifyError(ke,Se){this.destination.error(ke)}notifyComplete(ke){this.destination.complete()}}},9765:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{Yc:()=>Ee,xQ:()=>Ie});var E=ee(7574),u=ee(7393),J=ee(5319),ke=ee(7971),Se=ee(8858),Ne=ee(9181);class Ee extends u.L{constructor(De){super(De),this.destination=De}}let Ie=(()=>{class X extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ne.b](){return new Ee(this)}lift(ge){const ye=new ne(this,this);return ye.operator=ge,ye}next(ge){if(this.closed)throw new ke.N;if(!this.isStopped){const{observers:ye}=this,et=ye.length,ct=ye.slice();for(let st=0;st<et;st++)ct[st].next(ge)}}error(ge){if(this.closed)throw new ke.N;this.hasError=!0,this.thrownError=ge,this.isStopped=!0;const{observers:ye}=this,et=ye.length,ct=ye.slice();for(let st=0;st<et;st++)ct[st].error(ge);this.observers.length=0}complete(){if(this.closed)throw new ke.N;this.isStopped=!0;const{observers:ge}=this,ye=ge.length,et=ge.slice();for(let ct=0;ct<ye;ct++)et[ct].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ge){if(this.closed)throw new ke.N;return super._trySubscribe(ge)}_subscribe(ge){if(this.closed)throw new ke.N;return this.hasError?(ge.error(this.thrownError),J.w.EMPTY):this.isStopped?(ge.complete(),J.w.EMPTY):(this.observers.push(ge),new Se.W(this,ge))}asObservable(){const ge=new E.y;return ge.source=this,ge}}return X.create=(De,ge)=>new ne(De,ge),X})();class ne extends Ie{constructor(De,ge){super(),this.destination=De,this.source=ge}next(De){const{destination:ge}=this;ge&&ge.next&&ge.next(De)}error(De){const{destination:ge}=this;ge&&ge.error&&this.destination.error(De)}complete(){const{destination:De}=this;De&&De.complete&&this.destination.complete()}_subscribe(De){const{source:ge}=this;return ge?this.source.subscribe(De):J.w.EMPTY}}},8858:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{W:()=>u});var E=ee(5319);class u extends E.w{constructor(ke,Se){super(),this.subject=ke,this.subscriber=Se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ke=this.subject,Se=ke.observers;if(this.subject=null,!Se||0===Se.length||ke.isStopped||ke.closed)return;const Ne=Se.indexOf(this.subscriber);-1!==Ne&&Se.splice(Ne,1)}}},7393:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{L:()=>Ee});var E=ee(9105),u=ee(6490),J=ee(5319),ke=ee(9181),Se=ee(2494),Ne=ee(4449);class Ee extends J.w{constructor(X,De,ge){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.c;break;case 1:if(!X){this.destination=u.c;break}if("object"==typeof X){X instanceof Ee?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ie(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new Ie(this,X,De,ge)}}[ke.b](){return this}static create(X,De,ge){const ye=new Ee(X,De,ge);return ye.syncErrorThrowable=!1,ye}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class Ie extends Ee{constructor(X,De,ge,ye){super(),this._parentSubscriber=X;let et,ct=this;(0,E.m)(De)?et=De:De&&(et=De.next,ge=De.error,ye=De.complete,De!==u.c&&(ct=Object.create(De),(0,E.m)(ct.unsubscribe)&&this.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=this.unsubscribe.bind(this))),this._context=ct,this._next=et,this._error=ge,this._complete=ye}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:De}=this;Se.v.useDeprecatedSynchronousErrorHandling&&De.syncErrorThrowable?this.__tryOrSetError(De,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:De}=this,{useDeprecatedSynchronousErrorHandling:ge}=Se.v;if(this._error)ge&&De.syncErrorThrowable?(this.__tryOrSetError(De,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(De.syncErrorThrowable)ge?(De.syncErrorValue=X,De.syncErrorThrown=!0):(0,Ne.z)(X),this.unsubscribe();else{if(this.unsubscribe(),ge)throw X;(0,Ne.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const De=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,De),this.unsubscribe()):(this.__tryOrUnsub(De),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,De){try{X.call(this._context,De)}catch(ge){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw ge;(0,Ne.z)(ge)}}__tryOrSetError(X,De,ge){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{De.call(this._context,ge)}catch(ye){return Se.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=ye,X.syncErrorThrown=!0,!0):((0,Ne.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},5319:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{w:()=>Ne});var E=ee(9796),u=ee(1555),J=ee(9105);const Se=(()=>{function Ie(ne){return Error.call(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((X,De)=>`${De+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne,this}return Ie.prototype=Object.create(Error.prototype),Ie})();class Ne{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:De,_unsubscribe:ge,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof Ne)X.remove(this);else if(null!==X)for(let et=0;et<X.length;++et)X[et].remove(this);if((0,J.m)(ge)){De&&(this._unsubscribe=void 0);try{ge.call(this)}catch(et){ne=et instanceof Se?Ee(et.errors):[et]}}if((0,E.k)(ye)){let et=-1,ct=ye.length;for(;++et<ct;){const st=ye[et];if((0,u.K)(st))try{st.unsubscribe()}catch(nt){ne=ne||[],nt instanceof Se?ne=ne.concat(Ee(nt.errors)):ne.push(nt)}}}if(ne)throw new Se(ne)}add(ne){let X=ne;if(!ne)return Ne.EMPTY;switch(typeof ne){case"function":X=new Ne(ne);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof Ne)){const ye=X;X=new Ne,X._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:De}=X;if(null===De)X._parentOrParents=this;else if(De instanceof Ne){if(De===this)return X;X._parentOrParents=[De,this]}else{if(-1!==De.indexOf(this))return X;De.push(this)}const ge=this._subscriptions;return null===ge?this._subscriptions=[X]:ge.push(X),X}remove(ne){const X=this._subscriptions;if(X){const De=X.indexOf(ne);-1!==De&&X.splice(De,1)}}}var Ie;function Ee(Ie){return Ie.reduce((ne,X)=>ne.concat(X instanceof Se?X.errors:X),[])}Ne.EMPTY=((Ie=new Ne).closed=!0,Ie)},2494:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{v:()=>u});let E=!1;const u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const ke=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ke.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=J},get useDeprecatedSynchronousErrorHandling(){return E}}},5345:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{IY:()=>ke,Ds:()=>Ne,ft:()=>Ie});var E=ee(7393),u=ee(7574),J=ee(7444);class ke extends E.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ne extends E.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function Ie(ne,X){if(X.closed)return;if(ne instanceof u.y)return ne.subscribe(X);let De;try{De=(0,J.s)(ne)(X)}catch(ge){X.error(ge)}return De}},2441:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{c:()=>Se,N:()=>Ne});var E=ee(9765),u=ee(7574),J=ee(5319),ke=ee(1307);class Se extends u.y{constructor(De,ge){super(),this.source=De,this.subjectFactory=ge,this._refCount=0,this._isComplete=!1}_subscribe(De){return this.getSubject().subscribe(De)}getSubject(){const De=this._subject;return(!De||De.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let De=this._connection;return De||(this._isComplete=!1,De=this._connection=new J.w,De.add(this.source.subscribe(new Ee(this.getSubject(),this))),De.closed&&(this._connection=null,De=J.w.EMPTY)),De}refCount(){return(0,ke.x)()(this)}}const Ne=(()=>{const X=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class Ee extends E.Yc{constructor(De,ge){super(De),this.connectable=ge}_error(De){this._unsubscribe(),super._error(De)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const De=this.connectable;if(De){this.connectable=null;const ge=De._connection;De._refCount=0,De._subject=null,De._connection=null,ge&&ge.unsubscribe()}}}},9112:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{aj:()=>Ee});var E=ee(4869),u=ee(9796),J=ee(5197),ke=ee(509),Se=ee(6693);const Ne={};function Ee(...X){let De,ge;return(0,E.K)(X[X.length-1])&&(ge=X.pop()),"function"==typeof X[X.length-1]&&(De=X.pop()),1===X.length&&(0,u.k)(X[0])&&(X=X[0]),(0,Se.n)(X,ge).lift(new Ie(De))}class Ie{constructor(De){this.resultSelector=De}call(De,ge){return ge.subscribe(new ne(De,this.resultSelector))}}class ne extends J.L{constructor(De,ge){super(De),this.resultSelector=ge,this.active=0,this.values=[],this.observables=[]}_next(De){this.values.push(Ne),this.observables.push(De)}_complete(){const De=this.observables,ge=De.length;if(0===ge)this.destination.complete();else{this.active=ge,this.toRespond=ge;for(let ye=0;ye<ge;ye++)this.add((0,ke.D)(this,De[ye],void 0,ye))}}notifyComplete(De){0==(this.active-=1)&&this.destination.complete()}notifyNext(De,ge,ye){const et=this.values,st=this.toRespond?et[ye]===Ne?--this.toRespond:this.toRespond:0;et[ye]=ge,0===st&&(this.resultSelector?this._tryResultSelector(et):this.destination.next(et.slice()))}_tryResultSelector(De){let ge;try{ge=this.resultSelector.apply(this,De)}catch(ye){return void this.destination.error(ye)}this.destination.next(ge)}}},8071:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{z:()=>ke});var E=ee(5917),u=ee(3282);function ke(...Se){return(0,u.J)(1)((0,E.of)(...Se))}},9193:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{E:()=>u,c:()=>J});var E=ee(7574);const u=new E.y(Se=>Se.complete());function J(Se){return Se?function(Se){return new E.y(Ne=>Se.schedule(()=>Ne.complete()))}(Se):u}},4402:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{D:()=>ct});var E=ee(7574),u=ee(7444),J=ee(5319),ke=ee(6554),Ee=ee(4087),Ie=ee(377),De=ee(4072),ge=ee(9489);function ct(st,nt){return nt?function(st,nt){if(null!=st){if(function(st){return st&&"function"==typeof st[ke.L]}(st))return function(st,nt){return new E.y(Te=>{const Ze=new J.w;return Ze.add(nt.schedule(()=>{const xt=st[ke.L]();Ze.add(xt.subscribe({next(Ft){Ze.add(nt.schedule(()=>Te.next(Ft)))},error(Ft){Ze.add(nt.schedule(()=>Te.error(Ft)))},complete(){Ze.add(nt.schedule(()=>Te.complete()))}}))})),Ze})}(st,nt);if((0,De.t)(st))return function(st,nt){return new E.y(Te=>{const Ze=new J.w;return Ze.add(nt.schedule(()=>st.then(xt=>{Ze.add(nt.schedule(()=>{Te.next(xt),Ze.add(nt.schedule(()=>Te.complete()))}))},xt=>{Ze.add(nt.schedule(()=>Te.error(xt)))}))),Ze})}(st,nt);if((0,ge.z)(st))return(0,Ee.r)(st,nt);if(function(st){return st&&"function"==typeof st[Ie.hZ]}(st)||"string"==typeof st)return function(st,nt){if(!st)throw new Error("Iterable cannot be null");return new E.y(Te=>{const Ze=new J.w;let xt;return Ze.add(()=>{xt&&"function"==typeof xt.return&&xt.return()}),Ze.add(nt.schedule(()=>{xt=st[Ie.hZ](),Ze.add(nt.schedule(function(){if(Te.closed)return;let Ft,Gt;try{const Dt=xt.next();Ft=Dt.value,Gt=Dt.done}catch(Dt){return void Te.error(Dt)}Gt?Te.complete():(Te.next(Ft),this.schedule())}))})),Ze})}(st,nt)}throw new TypeError((null!==st&&typeof st||st)+" is not observable")}(st,nt):st instanceof E.y?st:new E.y((0,u.s)(st))}},6693:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{n:()=>ke});var E=ee(7574),u=ee(5015),J=ee(4087);function ke(Se,Ne){return Ne?(0,J.r)(Se,Ne):new E.y((0,u.V)(Se))}},6682:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{T:()=>Se});var E=ee(7574),u=ee(4869),J=ee(3282),ke=ee(6693);function Se(...Ne){let Ee=Number.POSITIVE_INFINITY,Ie=null,ne=Ne[Ne.length-1];return(0,u.K)(ne)?(Ie=Ne.pop(),Ne.length>1&&"number"==typeof Ne[Ne.length-1]&&(Ee=Ne.pop())):"number"==typeof ne&&(Ee=Ne.pop()),null===Ie&&1===Ne.length&&Ne[0]instanceof E.y?Ne[0]:(0,J.J)(Ee)((0,ke.n)(Ne,Ie))}},5917:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{of:()=>ke});var E=ee(4869),u=ee(6693),J=ee(4087);function ke(...Se){let Ne=Se[Se.length-1];return(0,E.K)(Ne)?(Se.pop(),(0,J.r)(Se,Ne)):(0,u.n)(Se)}},4612:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{b:()=>u});var E=ee(9773);function u(J,ke){return(0,E.zg)(J,ke,1)}},5242:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{d:()=>u});var E=ee(7393);function u(Se=null){return Ne=>Ne.lift(new J(Se))}class J{constructor(Ne){this.defaultValue=Ne}call(Ne,Ee){return Ee.subscribe(new ke(Ne,this.defaultValue))}}class ke extends E.L{constructor(Ne,Ee){super(Ne),this.defaultValue=Ee,this.isEmpty=!0}_next(Ne){this.isEmpty=!1,this.destination.next(Ne)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{h:()=>u});var E=ee(7393);function u(Se,Ne){return function(Ie){return Ie.lift(new J(Se,Ne))}}class J{constructor(Ne,Ee){this.predicate=Ne,this.thisArg=Ee}call(Ne,Ee){return Ee.subscribe(new ke(Ne,this.predicate,this.thisArg))}}class ke extends E.L{constructor(Ne,Ee,Ie){super(Ne),this.predicate=Ee,this.thisArg=Ie,this.count=0}_next(Ne){let Ee;try{Ee=this.predicate.call(this.thisArg,Ne,this.count++)}catch(Ie){return void this.destination.error(Ie)}Ee&&this.destination.next(Ne)}}},8049:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{P:()=>Ee});var E=ee(3410),u=ee(5435),J=ee(5257),ke=ee(5242),Se=ee(4635),Ne=ee(4487);function Ee(Ie,ne){const X=arguments.length>=2;return De=>De.pipe(Ie?(0,u.h)((ge,ye)=>Ie(ge,ye,De)):Ne.y,(0,J.q)(1),X?(0,ke.d)(ne):(0,Se.T)(()=>new E.K))}},8002:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{U:()=>u});var E=ee(7393);function u(Se,Ne){return function(Ie){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ie.lift(new J(Se,Ne))}}class J{constructor(Ne,Ee){this.project=Ne,this.thisArg=Ee}call(Ne,Ee){return Ee.subscribe(new ke(Ne,this.project,this.thisArg))}}class ke extends E.L{constructor(Ne,Ee,Ie){super(Ne),this.project=Ee,this.count=0,this.thisArg=Ie||this}_next(Ne){let Ee;try{Ee=this.project.call(this.thisArg,Ne,this.count++)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(Ee)}}},3282:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{J:()=>J});var E=ee(9773),u=ee(4487);function J(ke=Number.POSITIVE_INFINITY){return(0,E.zg)(u.y,ke)}},9773:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{zg:()=>ke});var E=ee(8002),u=ee(4402),J=ee(5345);function ke(Ie,ne,X=Number.POSITIVE_INFINITY){return"function"==typeof ne?De=>De.pipe(ke((ge,ye)=>(0,u.D)(Ie(ge,ye)).pipe((0,E.U)((et,ct)=>ne(ge,et,ye,ct))),X)):("number"==typeof ne&&(X=ne),De=>De.lift(new Se(Ie,X)))}class Se{constructor(ne,X=Number.POSITIVE_INFINITY){this.project=ne,this.concurrent=X}call(ne,X){return X.subscribe(new Ne(ne,this.project,this.concurrent))}}class Ne extends J.Ds{constructor(ne,X,De=Number.POSITIVE_INFINITY){super(ne),this.project=X,this.concurrent=De,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ne){this.active<this.concurrent?this._tryNext(ne):this.buffer.push(ne)}_tryNext(ne){let X;const De=this.index++;try{X=this.project(ne,De)}catch(ge){return void this.destination.error(ge)}this.active++,this._innerSub(X)}_innerSub(ne){const X=new J.IY(this),De=this.destination;De.add(X);const ge=(0,J.ft)(ne,X);ge!==X&&De.add(ge)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ne){this.destination.next(ne)}notifyComplete(){const ne=this.buffer;this.active--,ne.length>0?this._next(ne.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{QV:()=>J,ht:()=>Se});var E=ee(7393),u=ee(1593);function J(Ee,Ie=0){return function(X){return X.lift(new ke(Ee,Ie))}}class ke{constructor(Ie,ne=0){this.scheduler=Ie,this.delay=ne}call(Ie,ne){return ne.subscribe(new Se(Ie,this.scheduler,this.delay))}}class Se extends E.L{constructor(Ie,ne,X=0){super(Ie),this.scheduler=ne,this.delay=X}static dispatch(Ie){const{notification:ne,destination:X}=Ie;ne.observe(X),this.unsubscribe()}scheduleMessage(Ie){this.destination.add(this.scheduler.schedule(Se.dispatch,this.delay,new Ne(Ie,this.destination)))}_next(Ie){this.scheduleMessage(u.P.createNext(Ie))}_error(Ie){this.scheduleMessage(u.P.createError(Ie)),this.unsubscribe()}_complete(){this.scheduleMessage(u.P.createComplete()),this.unsubscribe()}}class Ne{constructor(Ie,ne){this.notification=Ie,this.destination=ne}}},1307:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{x:()=>u});var E=ee(7393);function u(){return function(Ne){return Ne.lift(new J(Ne))}}class J{constructor(Ne){this.connectable=Ne}call(Ne,Ee){const{connectable:Ie}=this;Ie._refCount++;const ne=new ke(Ne,Ie),X=Ee.subscribe(ne);return ne.closed||(ne.connection=Ie.connect()),X}}class ke extends E.L{constructor(Ne,Ee){super(Ne),this.connectable=Ee}_unsubscribe(){const{connectable:Ne}=this;if(!Ne)return void(this.connection=null);this.connectable=null;const Ee=Ne._refCount;if(Ee<=0)return void(this.connection=null);if(Ne._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:Ie}=this,ne=Ne._connection;this.connection=null,ne&&(!Ie||ne===Ie)&&ne.unsubscribe()}}},2145:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{R:()=>u});var E=ee(7393);function u(Se,Ne){let Ee=!1;return arguments.length>=2&&(Ee=!0),function(ne){return ne.lift(new J(Se,Ne,Ee))}}class J{constructor(Ne,Ee,Ie=!1){this.accumulator=Ne,this.seed=Ee,this.hasSeed=Ie}call(Ne,Ee){return Ee.subscribe(new ke(Ne,this.accumulator,this.seed,this.hasSeed))}}class ke extends E.L{constructor(Ne,Ee,Ie,ne){super(Ne),this.accumulator=Ee,this._seed=Ie,this.hasSeed=ne,this.index=0}get seed(){return this._seed}set seed(Ne){this.hasSeed=!0,this._seed=Ne}_next(Ne){if(this.hasSeed)return this._tryNext(Ne);this.seed=Ne,this.destination.next(Ne)}_tryNext(Ne){const Ee=this.index++;let Ie;try{Ie=this.accumulator(this.seed,Ne,Ee)}catch(ne){this.destination.error(ne)}this.seed=Ie,this.destination.next(Ie)}}},8819:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{B:()=>Ee});var E=ee(2441);var ke=ee(1307),Se=ee(9765);function Ne(){return new Se.xQ}function Ee(){return Ie=>(0,ke.x)()(function(Ie,ne){return function(De){let ge;ge="function"==typeof Ie?Ie:function(){return Ie};const ye=Object.create(De,E.N);return ye.source=De,ye.subjectFactory=ge,ye}}(Ne)(Ie))}},9761:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{O:()=>J});var E=ee(8071),u=ee(4869);function J(...ke){const Se=ke[ke.length-1];return(0,u.K)(Se)?(ke.pop(),Ne=>(0,E.z)(ke,Ne,Se)):Ne=>(0,E.z)(ke,Ne)}},3190:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{w:()=>ke});var E=ee(8002),u=ee(4402),J=ee(5345);function ke(Ee,Ie){return"function"==typeof Ie?ne=>ne.pipe(ke((X,De)=>(0,u.D)(Ee(X,De)).pipe((0,E.U)((ge,ye)=>Ie(X,ge,De,ye))))):ne=>ne.lift(new Se(Ee))}class Se{constructor(Ie){this.project=Ie}call(Ie,ne){return ne.subscribe(new Ne(Ie,this.project))}}class Ne extends J.Ds{constructor(Ie,ne){super(Ie),this.project=ne,this.index=0}_next(Ie){let ne;const X=this.index++;try{ne=this.project(Ie,X)}catch(De){return void this.destination.error(De)}this._innerSub(ne)}_innerSub(Ie){const ne=this.innerSubscription;ne&&ne.unsubscribe();const X=new J.IY(this),De=this.destination;De.add(X),this.innerSubscription=(0,J.ft)(Ie,X),this.innerSubscription!==X&&De.add(this.innerSubscription)}_complete(){const{innerSubscription:Ie}=this;(!Ie||Ie.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ie){this.destination.next(Ie)}}},5257:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{q:()=>ke});var E=ee(7393),u=ee(7108),J=ee(9193);function ke(Ee){return Ie=>0===Ee?(0,J.c)():Ie.lift(new Se(Ee))}class Se{constructor(Ie){if(this.total=Ie,this.total<0)throw new u.W}call(Ie,ne){return ne.subscribe(new Ne(Ie,this.total))}}class Ne extends E.L{constructor(Ie,ne){super(Ie),this.total=ne,this.count=0}_next(Ie){const ne=this.total,X=++this.count;X<=ne&&(this.destination.next(Ie),X===ne&&(this.destination.complete(),this.unsubscribe()))}}},8307:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{b:()=>ke});var E=ee(7393),u=ee(8640),J=ee(9105);function ke(Ee,Ie,ne){return function(De){return De.lift(new Se(Ee,Ie,ne))}}class Se{constructor(Ie,ne,X){this.nextOrObserver=Ie,this.error=ne,this.complete=X}call(Ie,ne){return ne.subscribe(new Ne(Ie,this.nextOrObserver,this.error,this.complete))}}class Ne extends E.L{constructor(Ie,ne,X,De){super(Ie),this._tapNext=u.Z,this._tapError=u.Z,this._tapComplete=u.Z,this._tapError=X||u.Z,this._tapComplete=De||u.Z,(0,J.m)(ne)?(this._context=this,this._tapNext=ne):ne&&(this._context=ne,this._tapNext=ne.next||u.Z,this._tapError=ne.error||u.Z,this._tapComplete=ne.complete||u.Z)}_next(Ie){try{this._tapNext.call(this._context,Ie)}catch(ne){return void this.destination.error(ne)}this.destination.next(Ie)}_error(Ie){try{this._tapError.call(this._context,Ie)}catch(ne){return void this.destination.error(ne)}this.destination.error(Ie)}_complete(){try{this._tapComplete.call(this._context)}catch(Ie){return void this.destination.error(Ie)}return this.destination.complete()}}},4635:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{T:()=>J});var E=ee(3410),u=ee(7393);function J(Ee=Ne){return Ie=>Ie.lift(new ke(Ee))}class ke{constructor(Ie){this.errorFactory=Ie}call(Ie,ne){return ne.subscribe(new Se(Ie,this.errorFactory))}}class Se extends u.L{constructor(Ie,ne){super(Ie),this.errorFactory=ne,this.hasValue=!1}_next(Ie){this.hasValue=!0,this.destination.next(Ie)}_complete(){if(this.hasValue)return this.destination.complete();{let Ie;try{Ie=this.errorFactory()}catch(ne){Ie=ne}this.destination.error(Ie)}}}function Ne(){return new E.K}},4087:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{r:()=>J});var E=ee(7574),u=ee(5319);function J(ke,Se){return new E.y(Ne=>{const Ee=new u.w;let Ie=0;return Ee.add(Se.schedule(function(){Ie!==ke.length?(Ne.next(ke[Ie++]),Ne.closed||Ee.add(this.schedule())):Ne.complete()})),Ee})}},6465:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{o:()=>J});var E=ee(5319);class u extends E.w{constructor(Se,Ne){super()}schedule(Se,Ne=0){return this}}class J extends u{constructor(Se,Ne){super(Se,Ne),this.scheduler=Se,this.work=Ne,this.pending=!1}schedule(Se,Ne=0){if(this.closed)return this;this.state=Se;const Ee=this.id,Ie=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Ie,Ee,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(Ie,this.id,Ne),this}requestAsyncId(Se,Ne,Ee=0){return setInterval(Se.flush.bind(Se,this),Ee)}recycleAsyncId(Se,Ne,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return Ne;clearInterval(Ne)}execute(Se,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Se,Ne);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ne){let Ie,Ee=!1;try{this.work(Se)}catch(ne){Ee=!0,Ie=!!ne&&ne||new Error(ne)}if(Ee)return this.unsubscribe(),Ie}_unsubscribe(){const Se=this.id,Ne=this.scheduler,Ee=Ne.actions,Ie=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ie&&Ee.splice(Ie,1),null!=Se&&(this.id=this.recycleAsyncId(Ne,Se,null)),this.delay=null}}},6102:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{v:()=>u});let E=(()=>{class J{constructor(Se,Ne=J.now){this.SchedulerAction=Se,this.now=Ne}schedule(Se,Ne=0,Ee){return new this.SchedulerAction(this,Se).schedule(Ee,Ne)}}return J.now=()=>Date.now(),J})();class u extends E{constructor(ke,Se=E.now){super(ke,()=>u.delegate&&u.delegate!==this?u.delegate.now():Se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ke,Se=0,Ne){return u.delegate&&u.delegate!==this?u.delegate.schedule(ke,Se,Ne):super.schedule(ke,Se,Ne)}flush(ke){const{actions:Se}=this;if(this.active)return void Se.push(ke);let Ne;this.active=!0;do{if(Ne=ke.execute(ke.state,ke.delay))break}while(ke=Se.shift());if(this.active=!1,Ne){for(;ke=Se.shift();)ke.unsubscribe();throw Ne}}}},3637:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{z:()=>J,P:()=>ke});var E=ee(6465);const J=new(ee(6102).v)(E.o),ke=J},7771:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{c:()=>Ne,N:()=>Se});var E=ee(6465),J=ee(6102);const Se=new class extends J.v{}(class extends E.o{constructor(Ie,ne){super(Ie,ne),this.scheduler=Ie,this.work=ne}schedule(Ie,ne=0){return ne>0?super.schedule(Ie,ne):(this.delay=ne,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,ne){return ne>0||this.closed?super.execute(Ie,ne):this._execute(Ie,ne)}requestAsyncId(Ie,ne,X=0){return null!==X&&X>0||null===X&&this.delay>0?super.requestAsyncId(Ie,ne,X):Ie.flush(this)}}),Ne=Se},377:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{hZ:()=>u});const u="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{W:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return J.prototype=Object.create(Error.prototype),J})()},3410:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{K:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return J.prototype=Object.create(Error.prototype),J})()},7971:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{N:()=>u});const u=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(zt,Pe,ee)=>{"use strict";function E(u){setTimeout(()=>{throw u},0)}ee.d(Pe,{z:()=>E})},4487:(zt,Pe,ee)=>{"use strict";function E(u){return u}ee.d(Pe,{y:()=>E})},9796:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{k:()=>E});const E=Array.isArray||(u=>u&&"number"==typeof u.length)},9489:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{z:()=>E});const E=u=>u&&"number"==typeof u.length&&"function"!=typeof u},9105:(zt,Pe,ee)=>{"use strict";function E(u){return"function"==typeof u}ee.d(Pe,{m:()=>E})},6561:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{k:()=>u});var E=ee(9796);function u(J){return!(0,E.k)(J)&&J-parseFloat(J)+1>=0}},1555:(zt,Pe,ee)=>{"use strict";function E(u){return null!==u&&"object"==typeof u}ee.d(Pe,{K:()=>E})},4072:(zt,Pe,ee)=>{"use strict";function E(u){return!!u&&"function"!=typeof u.subscribe&&"function"==typeof u.then}ee.d(Pe,{t:()=>E})},4869:(zt,Pe,ee)=>{"use strict";function E(u){return u&&"function"==typeof u.schedule}ee.d(Pe,{K:()=>E})},8640:(zt,Pe,ee)=>{"use strict";function E(){}ee.d(Pe,{Z:()=>E})},7444:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{s:()=>De});var E=ee(5015),u=ee(4449),ke=ee(377),Ne=ee(6554),Ie=ee(9489),ne=ee(4072),X=ee(1555);const De=ge=>{if(ge&&"function"==typeof ge[Ne.L])return(ge=>ye=>{const et=ge[Ne.L]();if("function"!=typeof et.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return et.subscribe(ye)})(ge);if((0,Ie.z)(ge))return(0,E.V)(ge);if((0,ne.t)(ge))return(ge=>ye=>(ge.then(et=>{ye.closed||(ye.next(et),ye.complete())},et=>ye.error(et)).then(null,u.z),ye))(ge);if(ge&&"function"==typeof ge[ke.hZ])return(ge=>ye=>{const et=ge[ke.hZ]();for(;;){let ct;try{ct=et.next()}catch(st){return ye.error(st),ye}if(ct.done){ye.complete();break}if(ye.next(ct.value),ye.closed)break}return"function"==typeof et.return&&ye.add(()=>{et.return&&et.return()}),ye})(ge);{const et=`You provided ${(0,X.K)(ge)?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(et)}}},5015:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{V:()=>E});const E=u=>J=>{for(let ke=0,Se=u.length;ke<Se&&!J.closed;ke++)J.next(u[ke]);J.complete()}},509:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{D:()=>Se});var E=ee(7393);class u extends E.L{constructor(Ee,Ie,ne){super(),this.parent=Ee,this.outerValue=Ie,this.outerIndex=ne,this.index=0}_next(Ee){this.parent.notifyNext(this.outerValue,Ee,this.outerIndex,this.index++,this)}_error(Ee){this.parent.notifyError(Ee,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var J=ee(7444),ke=ee(7574);function Se(Ne,Ee,Ie,ne,X=new u(Ne,Ie,ne)){if(!X.closed)return Ee instanceof ke.y?Ee.subscribe(X):(0,J.s)(Ee)(X)}},8259:function(zt){zt.exports=function(){"use strict";const Pe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ee="SweetAlert2:",u=O=>O.charAt(0).toUpperCase()+O.slice(1),J=O=>Array.prototype.slice.call(O),ke=O=>{console.warn("".concat(ee," ").concat("object"==typeof O?O.join(" "):O))},Se=O=>{console.error("".concat(ee," ").concat(O))},Ne=[],Ie=(O,P)=>{(O=>{Ne.includes(O)||(Ne.push(O),ke(O))})('"'.concat(O,'" is deprecated and will be removed in the next major release. Please use "').concat(P,'" instead.'))},ne=O=>"function"==typeof O?O():O,X=O=>O&&"function"==typeof O.toPromise,De=O=>X(O)?O.toPromise():Promise.resolve(O),ge=O=>O&&Promise.resolve(O)===O,et=O=>O instanceof Element||(O=>"object"==typeof O&&O.jquery)(O),nt=O=>{const P={};for(const ie in O)P[O[ie]]="swal2-"+O[ie];return P},Te=nt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Ze=nt(["success","warning","info","question","error"]),xt=()=>document.body.querySelector(".".concat(Te.container)),Ft=O=>{const P=xt();return P?P.querySelector(O):null},Gt=O=>Ft(".".concat(O)),Dt=()=>Gt(Te.popup),wt=()=>Gt(Te.icon),$=()=>Gt(Te.title),re=()=>Gt(Te["html-container"]),W=()=>Gt(Te.image),oe=()=>Gt(Te["progress-steps"]),de=()=>Gt(Te["validation-message"]),Z=()=>Ft(".".concat(Te.actions," .").concat(Te.confirm)),Re=()=>Ft(".".concat(Te.actions," .").concat(Te.deny)),Mt=()=>Ft(".".concat(Te.loader)),$e=()=>Ft(".".concat(Te.actions," .").concat(Te.cancel)),mt=()=>Gt(Te.actions),Vt=()=>Gt(Te.footer),rt=()=>Gt(Te["timer-progress-bar"]),Tt=()=>Gt(Te.close),_n=()=>{const O=J(Dt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((ie,Ve)=>(ie=parseInt(ie.getAttribute("tabindex")))>(Ve=parseInt(Ve.getAttribute("tabindex")))?1:ie<Ve?-1:0),P=J(Dt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(ie=>"-1"!==ie.getAttribute("tabindex"));return(O=>{const P=[];for(let ie=0;ie<O.length;ie++)-1===P.indexOf(O[ie])&&P.push(O[ie]);return P})(O.concat(P)).filter(ie=>Ae(ie))},fn=()=>!Ct()&&!document.body.classList.contains(Te["no-backdrop"]),Ct=()=>document.body.classList.contains(Te["toast-shown"]),tt={previousBodyPadding:null},Ye=(O,P)=>{if(O.textContent="",P){const Ve=(new DOMParser).parseFromString(P,"text/html");J(Ve.querySelector("head").childNodes).forEach(St=>{O.appendChild(St)}),J(Ve.querySelector("body").childNodes).forEach(St=>{O.appendChild(St)})}},Bt=(O,P)=>{if(!P)return!1;const ie=P.split(/\s+/);for(let Ve=0;Ve<ie.length;Ve++)if(!O.classList.contains(ie[Ve]))return!1;return!0},Zt=(O,P,ie)=>{if(((O,P)=>{J(O.classList).forEach(ie=>{!Object.values(Te).includes(ie)&&!Object.values(Ze).includes(ie)&&!Object.values(P.showClass).includes(ie)&&O.classList.remove(ie)})})(O,P),P.customClass&&P.customClass[ie]){if("string"!=typeof P.customClass[ie]&&!P.customClass[ie].forEach)return ke("Invalid type of customClass.".concat(ie,'! Expected string or iterable object, got "').concat(typeof P.customClass[ie],'"'));Rt(O,P.customClass[ie])}},Ut=(O,P)=>{if(!P)return null;switch(P){case"select":case"textarea":case"file":return $t(O,Te[P]);case"checkbox":return O.querySelector(".".concat(Te.checkbox," input"));case"radio":return O.querySelector(".".concat(Te.radio," input:checked"))||O.querySelector(".".concat(Te.radio," input:first-child"));case"range":return O.querySelector(".".concat(Te.range," input"));default:return $t(O,Te.input)}},Cn=O=>{if(O.focus(),"file"!==O.type){const P=O.value;O.value="",O.value=P}},Vn=(O,P,ie)=>{!O||!P||("string"==typeof P&&(P=P.split(/\s+/).filter(Boolean)),P.forEach(Ve=>{O.forEach?O.forEach(St=>{ie?St.classList.add(Ve):St.classList.remove(Ve)}):ie?O.classList.add(Ve):O.classList.remove(Ve)}))},Rt=(O,P)=>{Vn(O,P,!0)},An=(O,P)=>{Vn(O,P,!1)},$t=(O,P)=>{for(let ie=0;ie<O.childNodes.length;ie++)if(Bt(O.childNodes[ie],P))return O.childNodes[ie]},zn=(O,P,ie)=>{ie==="".concat(parseInt(ie))&&(ie=parseInt(ie)),ie||0===parseInt(ie)?O.style[P]="number"==typeof ie?"".concat(ie,"px"):ie:O.style.removeProperty(P)},Un=(O,P="flex")=>{O.style.display=P},Hn=O=>{O.style.display="none"},_t=(O,P,ie,Ve)=>{const St=O.querySelector(P);St&&(St.style[ie]=Ve)},ze=(O,P,ie)=>{P?Un(O,ie):Hn(O)},Ae=O=>!(!O||!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)),Et=O=>O.scrollHeight>O.clientHeight,Oe=O=>{const P=window.getComputedStyle(O),ie=parseFloat(P.getPropertyValue("animation-duration")||"0"),Ve=parseFloat(P.getPropertyValue("transition-duration")||"0");return ie>0||Ve>0},Ce=(O,P=!1)=>{const ie=rt();Ae(ie)&&(P&&(ie.style.transition="none",ie.style.width="100%"),setTimeout(()=>{ie.style.transition="width ".concat(O/1e3,"s linear"),ie.style.width="0%"},10))},Ke=()=>"undefined"==typeof window||"undefined"==typeof document,qe='\n <div aria-labelledby="'.concat(Te.title,'" aria-describedby="').concat(Te["html-container"],'" class="').concat(Te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Te.close,'"></button>\n   <ul class="').concat(Te["progress-steps"],'"></ul>\n   <div class="').concat(Te.icon,'"></div>\n   <img class="').concat(Te.image,'" />\n   <h2 class="').concat(Te.title,'" id="').concat(Te.title,'"></h2>\n   <div class="').concat(Te["html-container"],'" id="').concat(Te["html-container"],'"></div>\n   <input class="').concat(Te.input,'" />\n   <input type="file" class="').concat(Te.file,'" />\n   <div class="').concat(Te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Te.select,'"></select>\n   <div class="').concat(Te.radio,'"></div>\n   <label for="').concat(Te.checkbox,'" class="').concat(Te.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Te.label,'"></span>\n   </label>\n   <textarea class="').concat(Te.textarea,'"></textarea>\n   <div class="').concat(Te["validation-message"],'" id="').concat(Te["validation-message"],'"></div>\n   <div class="').concat(Te.actions,'">\n     <div class="').concat(Te.loader,'"></div>\n     <button type="button" class="').concat(Te.confirm,'"></button>\n     <button type="button" class="').concat(Te.deny,'"></button>\n     <button type="button" class="').concat(Te.cancel,'"></button>\n   </div>\n   <div class="').concat(Te.footer,'"></div>\n   <div class="').concat(Te["timer-progress-bar-container"],'">\n     <div class="').concat(Te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Lt=()=>{bn.isVisible()&&bn.resetValidationMessage()},rn=O=>{const P=(()=>{const O=xt();return!!O&&(O.remove(),An([document.documentElement,document.body],[Te["no-backdrop"],Te["toast-shown"],Te["has-column"]]),!0)})();if(Ke())return void Se("SweetAlert2 requires document to initialize");const ie=document.createElement("div");ie.className=Te.container,P&&Rt(ie,Te["no-transition"]),Ye(ie,qe);const Ve=(O=>"string"==typeof O?document.querySelector(O):O)(O.target);Ve.appendChild(ie),(O=>{const P=Dt();P.setAttribute("role",O.toast?"alert":"dialog"),P.setAttribute("aria-live",O.toast?"polite":"assertive"),O.toast||P.setAttribute("aria-modal","true")})(O),(O=>{"rtl"===window.getComputedStyle(O).direction&&Rt(xt(),Te.rtl)})(Ve),(()=>{const O=Dt(),P=$t(O,Te.input),ie=$t(O,Te.file),Ve=O.querySelector(".".concat(Te.range," input")),St=O.querySelector(".".concat(Te.range," output")),an=$t(O,Te.select),qn=O.querySelector(".".concat(Te.checkbox," input")),ci=$t(O,Te.textarea);P.oninput=Lt,ie.onchange=Lt,an.onchange=Lt,qn.onchange=Lt,ci.oninput=Lt,Ve.oninput=()=>{Lt(),St.value=Ve.value},Ve.onchange=()=>{Lt(),Ve.nextSibling.value=Ve.value}})()},Mn=(O,P)=>{O instanceof HTMLElement?P.appendChild(O):"object"==typeof O?kn(O,P):O&&Ye(P,O)},kn=(O,P)=>{O.jquery?vi(P,O):Ye(P,O.toString())},vi=(O,P)=>{if(O.textContent="",0 in P)for(let ie=0;ie in P;ie++)O.appendChild(P[ie].cloneNode(!0));else O.appendChild(P.cloneNode(!0))},nr=(()=>{if(Ke())return!1;const O=document.createElement("div"),P={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const ie in P)if(Object.prototype.hasOwnProperty.call(P,ie)&&void 0!==O.style[ie])return P[ie];return!1})(),Di=(O,P)=>{const ie=mt(),Ve=Mt(),St=Z(),an=Re(),qn=$e();P.showConfirmButton||P.showDenyButton||P.showCancelButton?Un(ie):Hn(ie),Zt(ie,P,"actions"),Vr(St,"confirm",P),Vr(an,"deny",P),Vr(qn,"cancel",P),function(O,P,ie,Ve){if(!Ve.buttonsStyling)return An([O,P,ie],Te.styled);Rt([O,P,ie],Te.styled),Ve.confirmButtonColor&&(O.style.backgroundColor=Ve.confirmButtonColor,Rt(O,Te["default-outline"])),Ve.denyButtonColor&&(P.style.backgroundColor=Ve.denyButtonColor,Rt(P,Te["default-outline"])),Ve.cancelButtonColor&&(ie.style.backgroundColor=Ve.cancelButtonColor,Rt(ie,Te["default-outline"]))}(St,an,qn,P),P.reverseButtons&&(ie.insertBefore(qn,Ve),ie.insertBefore(an,Ve),ie.insertBefore(St,Ve)),Ye(Ve,P.loaderHtml),Zt(Ve,P,"loader")};function Vr(O,P,ie){ze(O,ie["show".concat(u(P),"Button")],"inline-block"),Ye(O,ie["".concat(P,"ButtonText")]),O.setAttribute("aria-label",ie["".concat(P,"ButtonAriaLabel")]),O.className=Te[P],Zt(O,ie,"".concat(P,"Button")),Rt(O,ie["".concat(P,"ButtonClass")])}const Tn=(O,P)=>{const ie=xt();!ie||(function(O,P){"string"==typeof P?O.style.background=P:P||Rt([document.documentElement,document.body],Te["no-backdrop"])}(ie,P.backdrop),function(O,P){P in Te?Rt(O,Te[P]):(ke('The "position" parameter is not valid, defaulting to "center"'),Rt(O,Te.center))}(ie,P.position),function(O,P){if(P&&"string"==typeof P){const ie="grow-".concat(P);ie in Te&&Rt(O,Te[ie])}}(ie,P.grow),Zt(ie,P,"container"))};var In={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Gn=["input","file","range","select","radio","checkbox","textarea"],Ki=O=>{if(!ir[O.input])return Se('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(O.input,'"'));const P=ki(O.input),ie=ir[O.input](P,O);Un(ie),setTimeout(()=>{Cn(ie)})},Rr=(O,P)=>{const ie=Ut(Dt(),O);if(ie){(O=>{for(let P=0;P<O.attributes.length;P++){const ie=O.attributes[P].name;["type","value","style"].includes(ie)||O.removeAttribute(ie)}})(ie);for(const Ve in P)ie.setAttribute(Ve,P[Ve])}},hr=O=>{const P=ki(O.input);O.customClass&&Rt(P,O.customClass.input)},vr=(O,P)=>{(!O.placeholder||P.inputPlaceholder)&&(O.placeholder=P.inputPlaceholder)},br=(O,P,ie)=>{if(ie.inputLabel){O.id=Te.input;const Ve=document.createElement("label"),St=Te["input-label"];Ve.setAttribute("for",O.id),Ve.className=St,Rt(Ve,ie.customClass.inputLabel),Ve.innerText=ie.inputLabel,P.insertAdjacentElement("beforebegin",Ve)}},ki=O=>{const P=Te[O]?Te[O]:Te.input;return $t(Dt(),P)},ir={};ir.text=ir.email=ir.password=ir.number=ir.tel=ir.url=(O,P)=>("string"==typeof P.inputValue||"number"==typeof P.inputValue?O.value=P.inputValue:ge(P.inputValue)||ke('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof P.inputValue,'"')),br(O,O,P),vr(O,P),O.type=P.input,O),ir.file=(O,P)=>(br(O,O,P),vr(O,P),O),ir.range=(O,P)=>{const ie=O.querySelector("input"),Ve=O.querySelector("output");return ie.value=P.inputValue,ie.type=P.input,Ve.value=P.inputValue,br(ie,O,P),O},ir.select=(O,P)=>{if(O.textContent="",P.inputPlaceholder){const ie=document.createElement("option");Ye(ie,P.inputPlaceholder),ie.value="",ie.disabled=!0,ie.selected=!0,O.appendChild(ie)}return br(O,O,P),O},ir.radio=O=>(O.textContent="",O),ir.checkbox=(O,P)=>{const ie=Ut(Dt(),"checkbox");ie.value=1,ie.id=Te.checkbox,ie.checked=Boolean(P.inputValue);const Ve=O.querySelector("span");return Ye(Ve,P.inputPlaceholder),O},ir.textarea=(O,P)=>{O.value=P.inputValue,vr(O,P),br(O,O,P);return setTimeout(()=>{if("MutationObserver"in window){const Ve=parseInt(window.getComputedStyle(Dt()).width);new MutationObserver(()=>{const an=O.offsetWidth+(Ve=>parseInt(window.getComputedStyle(Ve).marginLeft)+parseInt(window.getComputedStyle(Ve).marginRight))(O);Dt().style.width=an>Ve?"".concat(an,"px"):null}).observe(O,{attributes:!0,attributeFilter:["style"]})}}),O};const jt=(O,P)=>{const ie=re();Zt(ie,P,"htmlContainer"),P.html?(Mn(P.html,ie),Un(ie,"block")):P.text?(ie.textContent=P.text,Un(ie,"block")):Hn(ie),((O,P)=>{const ie=Dt(),Ve=In.innerParams.get(O),St=!Ve||P.input!==Ve.input;Gn.forEach(an=>{const qn=Te[an],ci=$t(ie,qn);Rr(an,P.inputAttributes),ci.className=qn,St&&Hn(ci)}),P.input&&(St&&Ki(P),hr(P))})(O,P)},$r=(O,P)=>{for(const ie in Ze)P.icon!==ie&&An(O,Ze[ie]);Rt(O,Ze[P.icon]),Dr(O,P),wr(),Zt(O,P,"icon")},wr=()=>{const O=Dt(),P=window.getComputedStyle(O).getPropertyValue("background-color"),ie=O.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ve=0;Ve<ie.length;Ve++)ie[Ve].style.backgroundColor=P},Wr=(O,P)=>{O.textContent="",Ye(O,P.iconHtml?Fi(P.iconHtml):"success"===P.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===P.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Fi({question:"?",warning:"!",info:"i"}[P.icon]))},Dr=(O,P)=>{if(P.iconColor){O.style.color=P.iconColor,O.style.borderColor=P.iconColor;for(const ie of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])_t(O,ie,"backgroundColor",P.iconColor);_t(O,".swal2-success-ring","borderColor",P.iconColor)}},Fi=O=>'<div class="'.concat(Te["icon-content"],'">').concat(O,"</div>"),fr=(O,P)=>{const ie=oe();if(!P.progressSteps||0===P.progressSteps.length)return Hn(ie);Un(ie),ie.textContent="",P.currentProgressStep>=P.progressSteps.length&&ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.progressSteps.forEach((Ve,St)=>{const an=(O=>{const P=document.createElement("li");return Rt(P,Te["progress-step"]),Ye(P,O),P})(Ve);if(ie.appendChild(an),St===P.currentProgressStep&&Rt(an,Te["active-progress-step"]),St!==P.progressSteps.length-1){const qn=(O=>{const P=document.createElement("li");return Rt(P,Te["progress-step-line"]),O.progressStepsDistance&&(P.style.width=O.progressStepsDistance),P})(P);ie.appendChild(qn)}})},Tr=(O,P)=>{O.className="".concat(Te.popup," ").concat(Ae(O)?P.showClass.popup:""),P.toast?(Rt([document.documentElement,document.body],Te["toast-shown"]),Rt(O,Te.toast)):Rt(O,Te.modal),Zt(O,P,"popup"),"string"==typeof P.customClass&&Rt(O,P.customClass),P.icon&&Rt(O,Te["icon-".concat(P.icon)])},nn=(O,P)=>{((O,P)=>{const ie=xt(),Ve=Dt();P.toast?(zn(ie,"width",P.width),Ve.style.width="100%",Ve.insertBefore(Mt(),wt())):zn(Ve,"width",P.width),zn(Ve,"padding",P.padding),P.background&&(Ve.style.background=P.background),Hn(de()),Tr(Ve,P)})(0,P),Tn(0,P),fr(0,P),((O,P)=>{const ie=In.innerParams.get(O),Ve=wt();ie&&P.icon===ie.icon?(Wr(Ve,P),$r(Ve,P)):P.icon||P.iconHtml?P.icon&&-1===Object.keys(Ze).indexOf(P.icon)?(Se('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(P.icon,'"')),Hn(Ve)):(Un(Ve),Wr(Ve,P),$r(Ve,P),Rt(Ve,P.showClass.icon)):Hn(Ve)})(O,P),((O,P)=>{const ie=W();if(!P.imageUrl)return Hn(ie);Un(ie,""),ie.setAttribute("src",P.imageUrl),ie.setAttribute("alt",P.imageAlt),zn(ie,"width",P.imageWidth),zn(ie,"height",P.imageHeight),ie.className=Te.image,Zt(ie,P,"image")})(0,P),((O,P)=>{const ie=$();ze(ie,P.title||P.titleText,"block"),P.title&&Mn(P.title,ie),P.titleText&&(ie.innerText=P.titleText),Zt(ie,P,"title")})(0,P),((O,P)=>{const ie=Tt();Ye(ie,P.closeButtonHtml),Zt(ie,P,"closeButton"),ze(ie,P.showCloseButton),ie.setAttribute("aria-label",P.closeButtonAriaLabel)})(0,P),jt(O,P),Di(0,P),((O,P)=>{const ie=Vt();ze(ie,P.footer),P.footer&&Mn(P.footer,ie),Zt(ie,P,"footer")})(0,P),"function"==typeof P.didRender&&P.didRender(Dt())},or=()=>Z()&&Z().click();const ni=O=>{let P=Dt();P||bn.fire(),P=Dt();const ie=Mt();Ct()?Hn(wt()):Zr(P,O),Un(ie),P.setAttribute("data-loading",!0),P.setAttribute("aria-busy",!0),P.focus()},Zr=(O,P)=>{const ie=mt(),Ve=Mt();!P&&Ae(Z())&&(P=Z()),Un(ie),P&&(Hn(P),Ve.setAttribute("data-button-to-replace",P.className)),Ve.parentNode.insertBefore(Ve,P),Rt([O,ie],Te.loading)},dn={},Ui=O=>new Promise(P=>{if(!O)return P();const ie=window.scrollX,Ve=window.scrollY;dn.restoreFocusTimeout=setTimeout(()=>{dn.previousActiveElement&&dn.previousActiveElement.focus?(dn.previousActiveElement.focus(),dn.previousActiveElement=null):document.body&&document.body.focus(),P()},100),window.scrollTo(ie,Ve)}),jr=()=>{if(dn.timeout)return(()=>{const O=rt(),P=parseInt(window.getComputedStyle(O).width);O.style.removeProperty("transition"),O.style.width="100%";const ie=parseInt(window.getComputedStyle(O).width),Ve=parseInt(P/ie*100);O.style.removeProperty("transition"),O.style.width="".concat(Ve,"%")})(),dn.timeout.stop()},ji=()=>{if(dn.timeout){const O=dn.timeout.start();return Ce(O),O}};let ei=!1;const yo={};const Mr=O=>{for(let P=O.target;P&&P!==document;P=P.parentNode)for(const ie in yo){const Ve=P.getAttribute(ie);if(Ve)return void yo[ie].fire({template:Ve})}},wi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Zi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Fn={},gi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Xi=O=>Object.prototype.hasOwnProperty.call(wi,O),lo=O=>Fn[O],Jn=O=>{Xi(O)||ke('Unknown parameter "'.concat(O,'"'))},xo=O=>{gi.includes(O)&&ke('The parameter "'.concat(O,'" is incompatible with toasts'))},Gi=O=>{lo(O)&&Ie(O,lo(O))};var mi=Object.freeze({isValidParameter:Xi,isUpdatableParameter:O=>-1!==Zi.indexOf(O),isDeprecatedParameter:lo,argsToParams:O=>{const P={};return"object"!=typeof O[0]||et(O[0])?["title","html","icon"].forEach((ie,Ve)=>{const St=O[Ve];"string"==typeof St||et(St)?P[ie]=St:void 0!==St&&Se("Unexpected type of ".concat(ie,'! Expected "string" or "Element", got ').concat(typeof St))}):Object.assign(P,O[0]),P},isVisible:()=>Ae(Dt()),clickConfirm:or,clickDeny:()=>Re()&&Re().click(),clickCancel:()=>$e()&&$e().click(),getContainer:xt,getPopup:Dt,getTitle:$,getHtmlContainer:re,getImage:W,getIcon:wt,getInputLabel:()=>Gt(Te["input-label"]),getCloseButton:Tt,getActions:mt,getConfirmButton:Z,getDenyButton:Re,getCancelButton:$e,getLoader:Mt,getFooter:Vt,getTimerProgressBar:rt,getFocusableElements:_n,getValidationMessage:de,isLoading:()=>Dt().hasAttribute("data-loading"),fire:function(...O){return new this(...O)},mixin:function(O){return class extends(this){_main(Ve,St){return super._main(Ve,Object.assign({},O,St))}}},showLoading:ni,enableLoading:ni,getTimerLeft:()=>dn.timeout&&dn.timeout.getTimerLeft(),stopTimer:jr,resumeTimer:ji,toggleTimer:()=>{const O=dn.timeout;return O&&(O.running?jr():ji())},increaseTimer:O=>{if(dn.timeout){const P=dn.timeout.increase(O);return Ce(P,!0),P}},isTimerRunning:()=>dn.timeout&&dn.timeout.isRunning(),bindClickHandler:function(O="data-swal-template"){yo[O]=this,ei||(document.body.addEventListener("click",Mr),ei=!0)}});function ui(){const O=In.innerParams.get(this);if(!O)return;const P=In.domCache.get(this);Hn(P.loader),Ct()?O.icon&&Un(wt()):Sn(P),An([P.popup,P.actions],Te.loading),P.popup.removeAttribute("aria-busy"),P.popup.removeAttribute("data-loading"),P.confirmButton.disabled=!1,P.denyButton.disabled=!1,P.cancelButton.disabled=!1}const Sn=O=>{const P=O.popup.getElementsByClassName(O.loader.getAttribute("data-button-to-replace"));P.length?Un(P[0],"inline-block"):!Ae(Z())&&!Ae(Re())&&!Ae($e())&&Hn(O.actions)};const ti=()=>{null===tt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(tt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(tt.previousBodyPadding+(()=>{const O=document.createElement("div");O.className=Te["scrollbar-measure"],document.body.appendChild(O);const P=O.getBoundingClientRect().width-O.clientWidth;return document.body.removeChild(O),P})(),"px"))},to=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const P=44;Dt().scrollHeight>window.innerHeight-P&&(xt().style.paddingBottom="".concat(P,"px"))}},oi=()=>{const O=xt();let P;O.ontouchstart=ie=>{P=Ni(ie)},O.ontouchmove=ie=>{P&&(ie.preventDefault(),ie.stopPropagation())}},Ni=O=>{const P=O.target,ie=xt();return!(sr(O)||Ai(O)||P!==ie&&(Et(ie)||"INPUT"===P.tagName||"TEXTAREA"===P.tagName||Et(re())&&re().contains(P)))},sr=O=>O.touches&&O.touches.length&&"stylus"===O.touches[0].touchType,Ai=O=>O.touches&&O.touches.length>1,li=()=>{J(document.body.children).forEach(P=>{P.hasAttribute("data-previous-aria-hidden")?(P.setAttribute("aria-hidden",P.getAttribute("data-previous-aria-hidden")),P.removeAttribute("data-previous-aria-hidden")):P.removeAttribute("aria-hidden")})};var ri={swalPromiseResolve:new WeakMap};function Do(O,P,ie,Ve){Ct()?L(O,Ve):(Ui(ie).then(()=>L(O,Ve)),dn.keydownTarget.removeEventListener("keydown",dn.keydownHandler,{capture:dn.keydownListenerCapture}),dn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(P.setAttribute("style","display:none !important"),P.removeAttribute("class"),P.innerHTML=""):P.remove(),fn()&&(null!==tt.previousBodyPadding&&(document.body.style.paddingRight="".concat(tt.previousBodyPadding,"px"),tt.previousBodyPadding=null),(()=>{if(Bt(document.body,Te.iosfix)){const O=parseInt(document.body.style.top,10);An(document.body,Te.iosfix),document.body.style.top="",document.body.scrollTop=-1*O}})(),li()),An([document.documentElement,document.body],[Te.shown,Te["height-auto"],Te["no-backdrop"],Te["toast-shown"]])}function no(O){const P=Dt();if(!P)return;O=Pr(O);const ie=In.innerParams.get(this);if(!ie||Bt(P,ie.hideClass.popup))return;const Ve=ri.swalPromiseResolve.get(this);An(P,ie.showClass.popup),Rt(P,ie.hideClass.popup);const St=xt();An(St,ie.showClass.backdrop),Rt(St,ie.hideClass.backdrop),q(this,P,ie),Ve(O)}const Pr=O=>void 0===O?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},O),q=(O,P,ie)=>{const Ve=xt(),St=nr&&Oe(P);"function"==typeof ie.willClose&&ie.willClose(P),St?H(O,P,Ve,ie.returnFocus,ie.didClose):Do(O,Ve,ie.returnFocus,ie.didClose)},H=(O,P,ie,Ve,St)=>{dn.swalCloseEventFinishedCallback=Do.bind(null,O,ie,Ve,St),P.addEventListener(nr,function(an){an.target===P&&(dn.swalCloseEventFinishedCallback(),delete dn.swalCloseEventFinishedCallback)})},L=(O,P)=>{setTimeout(()=>{"function"==typeof P&&P.bind(O.params)(),O._destroy()})};function le(O,P,ie){const Ve=In.domCache.get(O);P.forEach(St=>{Ve[St].disabled=ie})}function ht(O,P){if(!O)return!1;if("radio"===O.type){const Ve=O.parentNode.parentNode.querySelectorAll("input");for(let St=0;St<Ve.length;St++)Ve[St].disabled=P}else O.disabled=P}class bt{constructor(P,ie){this.callback=P,this.remaining=ie,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(P){const ie=this.running;return ie&&this.stop(),this.remaining+=P,ie&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Qt={email:(O,P)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(O)?Promise.resolve():Promise.resolve(P||"Invalid email address"),url:(O,P)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(O)?Promise.resolve():Promise.resolve(P||"Invalid URL")};function Zn(O){(function(O){O.inputValidator||Object.keys(Qt).forEach(P=>{O.input===P&&(O.inputValidator=Qt[P])})})(O),O.showLoaderOnConfirm&&!O.preConfirm&&ke("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(O){(!O.target||"string"==typeof O.target&&!document.querySelector(O.target)||"string"!=typeof O.target&&!O.target.appendChild)&&(ke('Target parameter is not valid, defaulting to "body"'),O.target="body")}(O),"string"==typeof O.title&&(O.title=O.title.split("\n").join("<br />")),rn(O)}const Nn=["swal-title","swal-html","swal-footer"],ar=O=>{const P={};return J(O.querySelectorAll("swal-param")).forEach(ie=>{Cr(ie,["name","value"]);const Ve=ie.getAttribute("name");let St=ie.getAttribute("value");"boolean"==typeof wi[Ve]&&"false"===St&&(St=!1),"object"==typeof wi[Ve]&&(St=JSON.parse(St)),P[Ve]=St}),P},Hr=O=>{const P={};return J(O.querySelectorAll("swal-button")).forEach(ie=>{Cr(ie,["type","color","aria-label"]);const Ve=ie.getAttribute("type");P["".concat(Ve,"ButtonText")]=ie.innerHTML,P["show".concat(u(Ve),"Button")]=!0,ie.hasAttribute("color")&&(P["".concat(Ve,"ButtonColor")]=ie.getAttribute("color")),ie.hasAttribute("aria-label")&&(P["".concat(Ve,"ButtonAriaLabel")]=ie.getAttribute("aria-label"))}),P},Vi=O=>{const P={},ie=O.querySelector("swal-image");return ie&&(Cr(ie,["src","width","height","alt"]),ie.hasAttribute("src")&&(P.imageUrl=ie.getAttribute("src")),ie.hasAttribute("width")&&(P.imageWidth=ie.getAttribute("width")),ie.hasAttribute("height")&&(P.imageHeight=ie.getAttribute("height")),ie.hasAttribute("alt")&&(P.imageAlt=ie.getAttribute("alt"))),P},Yr=O=>{const P={},ie=O.querySelector("swal-icon");return ie&&(Cr(ie,["type","color"]),ie.hasAttribute("type")&&(P.icon=ie.getAttribute("type")),ie.hasAttribute("color")&&(P.iconColor=ie.getAttribute("color")),P.iconHtml=ie.innerHTML),P},Ro=O=>{const P={},ie=O.querySelector("swal-input");ie&&(Cr(ie,["type","label","placeholder","value"]),P.input=ie.getAttribute("type")||"text",ie.hasAttribute("label")&&(P.inputLabel=ie.getAttribute("label")),ie.hasAttribute("placeholder")&&(P.inputPlaceholder=ie.getAttribute("placeholder")),ie.hasAttribute("value")&&(P.inputValue=ie.getAttribute("value")));const Ve=O.querySelectorAll("swal-input-option");return Ve.length&&(P.inputOptions={},J(Ve).forEach(St=>{Cr(St,["value"]);const an=St.getAttribute("value");P.inputOptions[an]=St.innerHTML})),P},lr=(O,P)=>{const ie={};for(const Ve in P){const St=P[Ve],an=O.querySelector(St);an&&(Cr(an,[]),ie[St.replace(/^swal-/,"")]=an.innerHTML.trim())}return ie},qt=O=>{const P=Nn.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);J(O.children).forEach(ie=>{const Ve=ie.tagName.toLowerCase();-1===P.indexOf(Ve)&&ke("Unrecognized element <".concat(Ve,">"))})},Cr=(O,P)=>{J(O.attributes).forEach(ie=>{-1===P.indexOf(ie.name)&&ke(['Unrecognized attribute "'.concat(ie.name,'" on <').concat(O.tagName.toLowerCase(),">."),"".concat(P.length?"Allowed attributes are: ".concat(P.join(", ")):"To set the value, use HTML within the element.")])})},To=O=>{const P=xt(),ie=Dt();"function"==typeof O.willOpen&&O.willOpen(ie);const St=window.getComputedStyle(document.body).overflowY;co(P,ie,O),setTimeout(()=>{ro(P,ie)},10),fn()&&(as(P,O.scrollbarPadding,St),J(document.body.children).forEach(P=>{P===xt()||P.contains(xt())||(P.hasAttribute("aria-hidden")&&P.setAttribute("data-previous-aria-hidden",P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))})),!Ct()&&!dn.previousActiveElement&&(dn.previousActiveElement=document.activeElement),"function"==typeof O.didOpen&&setTimeout(()=>O.didOpen(ie)),An(P,Te["no-transition"])},As=O=>{const P=Dt();if(O.target!==P)return;const ie=xt();P.removeEventListener(nr,As),ie.style.overflowY="auto"},ro=(O,P)=>{nr&&Oe(P)?(O.style.overflowY="hidden",P.addEventListener(nr,As)):O.style.overflowY="auto"},as=(O,P,ie)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Bt(document.body,Te.iosfix)){const P=document.body.scrollTop;document.body.style.top="".concat(-1*P,"px"),Rt(document.body,Te.iosfix),oi(),to()}})(),P&&"hidden"!==ie&&ti(),setTimeout(()=>{O.scrollTop=0})},co=(O,P,ie)=>{Rt(O,ie.showClass.backdrop),P.style.setProperty("opacity","0","important"),Un(P,"grid"),setTimeout(()=>{Rt(P,ie.showClass.popup),P.style.removeProperty("opacity")},10),Rt([document.documentElement,document.body],Te.shown),ie.heightAuto&&ie.backdrop&&!ie.toast&&Rt([document.documentElement,document.body],Te["height-auto"])},Mi=O=>O.checked?1:0,Ir=O=>O.checked?O.value:null,si=O=>O.files.length?null!==O.getAttribute("multiple")?O.files:O.files[0]:null,vo=(O,P)=>{const ie=Dt(),Ve=St=>Ko[P.input](ie,zi(St),P);X(P.inputOptions)||ge(P.inputOptions)?(ni(Z()),De(P.inputOptions).then(St=>{O.hideLoading(),Ve(St)})):"object"==typeof P.inputOptions?Ve(P.inputOptions):Se("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof P.inputOptions))},io=(O,P)=>{const ie=O.getInput();Hn(ie),De(P.inputValue).then(Ve=>{ie.value="number"===P.input?parseFloat(Ve)||0:"".concat(Ve),Un(ie),ie.focus(),O.hideLoading()}).catch(Ve=>{Se("Error in inputValue promise: ".concat(Ve)),ie.value="",Un(ie),ie.focus(),O.hideLoading()})},Ko={select:(O,P,ie)=>{const Ve=$t(O,Te.select),St=(an,qn,ci)=>{const Ri=document.createElement("option");Ri.value=ci,Ye(Ri,qn),Ri.selected=Oo(ci,ie.inputValue),an.appendChild(Ri)};P.forEach(an=>{const qn=an[0],ci=an[1];if(Array.isArray(ci)){const Ri=document.createElement("optgroup");Ri.label=qn,Ri.disabled=!1,Ve.appendChild(Ri),ci.forEach(Fo=>St(Ri,Fo[1],Fo[0]))}else St(Ve,ci,qn)}),Ve.focus()},radio:(O,P,ie)=>{const Ve=$t(O,Te.radio);P.forEach(an=>{const qn=an[0],ci=an[1],Ri=document.createElement("input"),Fo=document.createElement("label");Ri.type="radio",Ri.name=Te.radio,Ri.value=qn,Oo(qn,ie.inputValue)&&(Ri.checked=!0);const la=document.createElement("span");Ye(la,ci),la.className=Te.label,Fo.appendChild(Ri),Fo.appendChild(la),Ve.appendChild(Fo)});const St=Ve.querySelectorAll("input");St.length&&St[0].focus()}},zi=O=>{const P=[];return"undefined"!=typeof Map&&O instanceof Map?O.forEach((ie,Ve)=>{let St=ie;"object"==typeof St&&(St=zi(St)),P.push([Ve,St])}):Object.keys(O).forEach(ie=>{let Ve=O[ie];"object"==typeof Ve&&(Ve=zi(Ve)),P.push([ie,Ve])}),P},Oo=(O,P)=>P&&P.toString()===O.toString(),_r=(O,P)=>{const ie=In.innerParams.get(O),Ve=((O,P)=>{const ie=O.getInput();if(!ie)return null;switch(P.input){case"checkbox":return Mi(ie);case"radio":return Ir(ie);case"file":return si(ie);default:return P.inputAutoTrim?ie.value.trim():ie.value}})(O,ie);ie.inputValidator?Bi(O,Ve,P):O.getInput().checkValidity()?"deny"===P?Xo(O,Ve):xi(O,Ve):(O.enableButtons(),O.showValidationMessage(ie.validationMessage))},Bi=(O,P,ie)=>{const Ve=In.innerParams.get(O);O.disableInput(),Promise.resolve().then(()=>De(Ve.inputValidator(P,Ve.validationMessage))).then(an=>{O.enableButtons(),O.enableInput(),an?O.showValidationMessage(an):"deny"===ie?Xo(O,P):xi(O,P)})},Xo=(O,P)=>{const ie=In.innerParams.get(O||void 0);ie.showLoaderOnDeny&&ni(Re()),ie.preDeny?Promise.resolve().then(()=>De(ie.preDeny(P,ie.validationMessage))).then(St=>{!1===St?O.hideLoading():O.closePopup({isDenied:!0,value:void 0===St?P:St})}):O.closePopup({isDenied:!0,value:P})},Io=(O,P)=>{O.closePopup({isConfirmed:!0,value:P})},xi=(O,P)=>{const ie=In.innerParams.get(O||void 0);ie.showLoaderOnConfirm&&ni(),ie.preConfirm?(O.resetValidationMessage(),Promise.resolve().then(()=>De(ie.preConfirm(P,ie.validationMessage))).then(St=>{Ae(de())||!1===St?O.hideLoading():Io(O,void 0===St?P:St)})):Io(O,P)},_s=(O,P,ie)=>{const Ve=_n();if(Ve.length)return(P+=ie)===Ve.length?P=0:-1===P&&(P=Ve.length-1),Ve[P].focus();Dt().focus()},Go=["ArrowRight","ArrowDown"],vs=["ArrowLeft","ArrowUp"],Yi=(O,P,ie)=>{const Ve=In.innerParams.get(O);!Ve||(Ve.stopKeydownPropagation&&P.stopPropagation(),"Enter"===P.key?qi(O,P,Ve):"Tab"===P.key?ls(P,Ve):[...Go,...vs].includes(P.key)?cs(P.key):"Escape"===P.key&&$o(P,Ve,ie))},qi=(O,P,ie)=>{if(!P.isComposing&&P.target&&O.getInput()&&P.target.outerHTML===O.getInput().outerHTML){if(["textarea","file"].includes(ie.input))return;or(),P.preventDefault()}},ls=(O,P)=>{const ie=O.target,Ve=_n();let St=-1;for(let an=0;an<Ve.length;an++)if(ie===Ve[an]){St=an;break}_s(0,St,O.shiftKey?-1:1),O.stopPropagation(),O.preventDefault()},cs=O=>{if(![Z(),Re(),$e()].includes(document.activeElement))return;const St=Go.includes(O)?"nextElementSibling":"previousElementSibling",an=document.activeElement[St];an&&an.focus()},$o=(O,P,ie)=>{ne(P.allowEscapeKey)&&(O.preventDefault(),ie(Pe.esc))},Wo=(O,P,ie)=>{P.popup.onclick=()=>{const Ve=In.innerParams.get(O);Ve.showConfirmButton||Ve.showDenyButton||Ve.showCancelButton||Ve.showCloseButton||Ve.timer||Ve.input||ie(Pe.close)}};let Xn=!1;const ds=O=>{O.popup.onmousedown=()=>{O.container.onmouseup=function(P){O.container.onmouseup=void 0,P.target===O.container&&(Xn=!0)}}},kt=O=>{O.container.onmousedown=()=>{O.popup.onmouseup=function(P){O.popup.onmouseup=void 0,(P.target===O.popup||O.popup.contains(P.target))&&(Xn=!0)}}},Er=(O,P,ie)=>{P.container.onclick=Ve=>{const St=In.innerParams.get(O);Xn?Xn=!1:Ve.target===P.container&&ne(St.allowOutsideClick)&&ie(Pe.backdrop)}};const zo=(O,P)=>{const ie=(O=>{const P="string"==typeof O.template?document.querySelector(O.template):O.template;if(!P)return{};const ie=P.content;return qt(ie),Object.assign(ar(ie),Hr(ie),Vi(ie),Yr(ie),Ro(ie),lr(ie,Nn))})(O),Ve=Object.assign({},wi,P,ie,O);return Ve.showClass=Object.assign({},wi.showClass,Ve.showClass),Ve.hideClass=Object.assign({},wi.hideClass,Ve.hideClass),Ve},ko=(O,P,ie)=>new Promise(Ve=>{const St=an=>{O.closePopup({isDismissed:!0,dismiss:an})};ri.swalPromiseResolve.set(O,Ve),P.confirmButton.onclick=()=>(O=>{const P=In.innerParams.get(O);O.disableButtons(),P.input?_r(O,"confirm"):xi(O,!0)})(O),P.denyButton.onclick=()=>(O=>{const P=In.innerParams.get(O);O.disableButtons(),P.returnInputValueOnDeny?_r(O,"deny"):Xo(O,!1)})(O),P.cancelButton.onclick=()=>((O,P)=>{O.disableButtons(),P(Pe.cancel)})(O,St),P.closeButton.onclick=()=>St(Pe.close),((O,P,ie)=>{In.innerParams.get(O).toast?Wo(O,P,ie):(ds(P),kt(P),Er(O,P,ie))})(O,P,St),((O,P,ie,Ve)=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1),ie.toast||(P.keydownHandler=St=>Yi(O,St,Ve),P.keydownTarget=ie.keydownListenerCapture?window:Dt(),P.keydownListenerCapture=ie.keydownListenerCapture,P.keydownTarget.addEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!0)})(O,dn,ie,St),((O,P)=>{"select"===P.input||"radio"===P.input?vo(O,P):["text","email","number","tel","textarea"].includes(P.input)&&(X(P.inputValue)||ge(P.inputValue))&&(ni(Z()),io(O,P))})(O,ie),To(ie),bo(dn,ie,St),Sr(P,ie),setTimeout(()=>{P.container.scrollTop=0})}),gr=O=>{const P={popup:Dt(),container:xt(),actions:mt(),confirmButton:Z(),denyButton:Re(),cancelButton:$e(),loader:Mt(),closeButton:Tt(),validationMessage:de(),progressSteps:oe()};return In.domCache.set(O,P),P},bo=(O,P,ie)=>{const Ve=rt();Hn(Ve),P.timer&&(O.timeout=new bt(()=>{ie("timer"),delete O.timeout},P.timer),P.timerProgressBar&&(Un(Ve),setTimeout(()=>{O.timeout&&O.timeout.running&&Ce(P.timer)})))},Sr=(O,P)=>{if(!P.toast){if(!ne(P.allowEnterKey))return v();qr(O,P)||_s(0,-1,1)}},qr=(O,P)=>P.focusDeny&&Ae(O.denyButton)?(O.denyButton.focus(),!0):P.focusCancel&&Ae(O.cancelButton)?(O.cancelButton.focus(),!0):!(!P.focusConfirm||!Ae(O.confirmButton)||(O.confirmButton.focus(),0)),v=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const pe=O=>{delete O.params,delete dn.keydownHandler,delete dn.keydownTarget,Le(In),Le(ri),delete dn.currentInstance},Le=O=>{for(const P in O)O[P]=new WeakMap};var it=Object.freeze({hideLoading:ui,disableLoading:ui,getInput:function(O){const P=In.innerParams.get(O||this),ie=In.domCache.get(O||this);return ie?Ut(ie.popup,P.input):null},close:no,closePopup:no,closeModal:no,closeToast:no,enableButtons:function(){le(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){le(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ht(this.getInput(),!1)},disableInput:function(){return ht(this.getInput(),!0)},showValidationMessage:function(O){const P=In.domCache.get(this),ie=In.innerParams.get(this);Ye(P.validationMessage,O),P.validationMessage.className=Te["validation-message"],ie.customClass&&ie.customClass.validationMessage&&Rt(P.validationMessage,ie.customClass.validationMessage),Un(P.validationMessage);const Ve=this.getInput();Ve&&(Ve.setAttribute("aria-invalid",!0),Ve.setAttribute("aria-describedby",Te["validation-message"]),Cn(Ve),Rt(Ve,Te.inputerror))},resetValidationMessage:function(){const O=In.domCache.get(this);O.validationMessage&&Hn(O.validationMessage);const P=this.getInput();P&&(P.removeAttribute("aria-invalid"),P.removeAttribute("aria-describedby"),An(P,Te.inputerror))},getProgressSteps:function(){return In.domCache.get(this).progressSteps},_main:function(O,P={}){(O=>{!O.backdrop&&O.allowOutsideClick&&ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const P in O)Jn(P),O.toast&&xo(P),Gi(P)})(Object.assign({},P,O)),dn.currentInstance&&(dn.currentInstance._destroy(),fn()&&li()),dn.currentInstance=this;const ie=zo(O,P);Zn(ie),Object.freeze(ie),dn.timeout&&(dn.timeout.stop(),delete dn.timeout),clearTimeout(dn.restoreFocusTimeout);const Ve=gr(this);return nn(this,ie),In.innerParams.set(this,ie),ko(this,Ve,ie)},update:function(O){const P=Dt(),ie=In.innerParams.get(this);if(!P||Bt(P,ie.hideClass.popup))return ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ve={};Object.keys(O).forEach(an=>{bn.isUpdatableParameter(an)?Ve[an]=O[an]:ke('Invalid parameter to update: "'.concat(an,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const St=Object.assign({},ie,Ve);nn(this,St),In.innerParams.set(this,St),Object.defineProperties(this,{params:{value:Object.assign({},this.params,O),writable:!1,enumerable:!0}})},_destroy:function(){const O=In.domCache.get(this),P=In.innerParams.get(this);!P||(O.popup&&dn.swalCloseEventFinishedCallback&&(dn.swalCloseEventFinishedCallback(),delete dn.swalCloseEventFinishedCallback),dn.deferDisposalTimer&&(clearTimeout(dn.deferDisposalTimer),delete dn.deferDisposalTimer),"function"==typeof P.didDestroy&&P.didDestroy(),pe(this))}});let Wt;class xn{constructor(...P){if("undefined"==typeof window)return;Wt=this;const ie=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:ie,writable:!1,enumerable:!0,configurable:!0}});const Ve=this._main(this.params);In.promise.set(this,Ve)}then(P){return In.promise.get(this).then(P)}finally(P){return In.promise.get(this).finally(P)}}Object.assign(xn.prototype,it),Object.assign(xn,mi),Object.keys(it).forEach(O=>{xn[O]=function(...P){if(Wt)return Wt[O](...P)}}),xn.DismissReason=Pe,xn.version="11.1.7";const bn=xn;return bn.default=bn,bn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Pe,ee){var E=Pe.createElement("style");if(Pe.getElementsByTagName("head")[0].appendChild(E),E.styleSheet)E.styleSheet.disabled||(E.styleSheet.cssText=ee);else try{E.innerHTML=ee}catch(u){E.innerText=ee}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3010:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{k:()=>Ne});var E=ee(7716),u=ee(3587),J=ee(7748),ke=ee(8583);function Se(Ee,Ie){if(1&Ee){const ne=E.EpF();E.TgZ(0,"div",8),E.TgZ(1,"div",9),E.TgZ(2,"div",10),E._UZ(3,"img",11),E.TgZ(4,"h1",12),E._uU(5),E.qZA(),E.qZA(),E.qZA(),E.TgZ(6,"div",13),E.NdJ("click",function(){const ge=E.CHM(ne).$implicit;return E.oxw().seleccionoPeli(ge.id)}),E.qZA(),E.qZA()}if(2&Ee){const ne=Ie.$implicit;E.xp6(3),E.s9C("src",ne.photoURL,E.LSH),E.xp6(2),E.Oqu(ne.nombre)}}let Ne=(()=>{class Ee{constructor(ne,X){this.datosApi=ne,this.peliSeleccionada=X,this.eventoSeleccionePeli=new E.vpe,this.firstMovie={id:694,nombre:"The Shining",tipo:"Terror",fechaEstreno:"1980-12-25",cantPublico:"3.000.000",photoURL:"https://librolibertate.files.wordpress.com/2019/10/the-shining-1.jpg"},this.movieListId=new Array,this.imageUrl="",this.movieName="",this.loadMovie(782),this.loadMovie(680),this.loadMovie(493922),this.loadMovie(550),this.obtenerLista(782),this.obtenerLista(493922),this.movieListId.push(this.firstMovie),this.pickedMovie=X}loadMovie(ne){this.datosApi.obtenerDatos(ne).subscribe(X=>{let De={id:694,nombre:"The shining",tipo:"Terror",fechaEstreno:"01/01/1990",cantPublico:"3.000.000",photoURL:"https://librolibertate.files.wordpress.com/2019/10/the-shining-1.jpg"};De.id=ne,De.nombre=X.title,De.cantPublico=X.popularity,De.fechaEstreno=X.release_date,De.tipo=X.genres[0].name,De.photoURL="https://www.themoviedb.org/t/p/w533_and_h300_bestv2/"+X.backdrop_path,this.movieListId.push(De)},X=>{console.log(X)})}obtenerLista(ne){this.datosApi.obtenerListaGenero(ne).subscribe(X=>{X.results.map(De=>{this.loadMovie(De.id)})},X=>{console.log(X)})}compare(ne,X){return ne.name<X.name?-1:ne.name>X.name?1:0}sortList(){this.movieListId.sort(this.compare)}seleccionoPeli(ne){this.pickedMovie=this.movieListId.find(X=>X.id===ne),this.eventoSeleccionePeli.emit(this.pickedMovie)}ngOnInit(){}}return Ee.\u0275fac=function(ne){return new(ne||Ee)(E.Y36(u.t),E.Y36(J.K))},Ee.\u0275cmp=E.Xpm({type:Ee,selectors:[["app-tabla-pelicula"]],outputs:{eventoSeleccionePeli:"eventoSeleccionePeli"},decls:11,vars:5,consts:[[1,"py-5","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light"],[1,"album","py-5","bg-light"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col movieCard",4,"ngFor","ngForOf"],[1,"col","movieCard"],[1,"card","shadow-sm"],[1,"foto"],["alt","",1,"poster",3,"src"],[1,"title"],["id","clickTarget",3,"click"]],template:function(ne,X){1&ne&&(E.TgZ(0,"main"),E.TgZ(1,"section",0),E.TgZ(2,"div",1),E.TgZ(3,"div",2),E.TgZ(4,"h1",3),E._uU(5,"Tabla Peliculas"),E.qZA(),E.qZA(),E.qZA(),E.qZA(),E.TgZ(6,"div",4),E.TgZ(7,"div",5),E.TgZ(8,"div",6),E.YNc(9,Se,7,2,"div",7),E.ALo(10,"slice"),E.qZA(),E.qZA(),E.qZA(),E.qZA()),2&ne&&(E.xp6(9),E.Q6J("ngForOf",E.Dn7(10,1,X.movieListId,0,9)))},directives:[ke.sg],pipes:[ke.OU],styles:[".foto[_ngcontent-%COMP%]{width:100%;height:225px;overflow:hidden}.poster[_ngcontent-%COMP%]{width:auto;height:100%;background-size:cover}.title[_ngcontent-%COMP%]{position:absolute;color:#fff;top:100px;left:20px;text-shadow:5px 5px 20px black}.movieCard[_ngcontent-%COMP%]{margin-bottom:10px}#clickTarget[_ngcontent-%COMP%]{width:100%;height:225px;position:absolute;top:0;left:0;cursor:pointer}"]}),Ee})()},3587:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{t:()=>J});var E=ee(7716),u=ee(1841);let J=(()=>{class ke{constructor(Ne){this.http=Ne}obtenerFrames(Ne){return this.http.get("https://api.themoviedb.org/3/movie/"+Ne+"/images?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}obtenerDatos(Ne){return this.http.get("https://api.themoviedb.org/3/movie/"+Ne+"?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}obtenerListaGenero(Ne){return this.http.get("https://api.themoviedb.org/3/movie/"+Ne+"/recommendations?api_key=f01de0fa0017ce1106e1fab2dd2685b7")}}return ke.\u0275fac=function(Ne){return new(Ne||ke)(E.LFG(u.eN))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},8251:(zt,Pe,ee)=>{"use strict";function E(Ie,ne,X,De,ge,ye,et){try{var ct=Ie[ye](et),st=ct.value}catch(nt){return void X(nt)}ct.done?ne(st):Promise.resolve(st).then(De,ge)}function u(Ie){return function(){var ne=this,X=arguments;return new Promise(function(De,ge){var ye=Ie.apply(ne,X);function et(st){E(ye,De,ge,et,ct,"next",st)}function ct(st){E(ye,De,ge,et,ct,"throw",st)}et(void 0)})}}ee.d(Pe,{V:()=>Ee});var J=ee(8002),ke=ee(7716),Se=ee(5346),Ne=ee(7262);let Ee=(()=>{class Ie{constructor(X,De){this.afAuth=X,this.afs=De,this.nameCollectionDB="actores",this.nameCollectionDB_2="usuarios",this.listaPuntajes=[],this.listaActores=[],this.usuarioId="",this.actorId=0,this.actoresCollection=De.collection(this.nameCollectionDB),this.usuariosCollection=De.collection(this.nameCollectionDB_2),this.afAuth.onAuthStateChanged(ge=>{this.currentUser=ge})}loadAllActores(){return this.actoresCollection.valueChanges().pipe((0,J.U)(X=>{this.listaActores=[];for(const De of X)this.listaActores.push(De);return this.listaActores}))}addActor(X,De,ge,ye){var et=this;return u(function*(){try{const ct={id:et.actorId,nombre:X,apellido:De,nacionalidad:ge,edad:ye};return et.actorId++,yield et.actoresCollection.add(ct)}catch(ct){throw new Error(ct.message)}})()}addUserCollection(X,De,ge,ye){var et=this;return u(function*(){var ct;try{const st={uid:null===(ct=et.currentUser)||void 0===ct?void 0:ct.uid,displayName:De,email:X,photoURL:ge,puntaje:ye};return yield et.usuariosCollection.add(st)}catch(st){throw new Error(st.message)}})()}updatePuntaje(X){var De=this;return u(function*(){try{if(De.currentUser){let ge=0;(yield De.afs.collection(De.nameCollectionDB_2).ref.where("email","==",De.currentUser.email).get()).forEach(et=>{console.log(et.data().puntaje),De.usuarioId=et.id,ge=et.data().puntaje+X}),yield De.afs.collection(De.nameCollectionDB_2).doc(`/${De.usuarioId}`).update({puntaje:ge})}}catch(ge){throw new Error(ge.message)}})()}obtenerUsuarios(){return this.usuariosCollection.valueChanges()}}return Ie.\u0275fac=function(X){return new(X||Ie)(ke.LFG(Se.z),ke.LFG(Ne.ST))},Ie.\u0275prov=ke.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},7748:(zt,Pe,ee)=>{"use strict";ee.d(Pe,{K:()=>u});var E=ee(7716);let u=(()=>{class J{constructor(){}}return J.\u0275fac=function(Se){return new(Se||J)},J.\u0275prov=E.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},654:(zt,Pe,ee)=>{"use strict";var E=ee(8583),u=ee(7716);class J extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ke extends J{static makeCurrent(){(0,E.HT)(new ke)}onAndCancel(y,s,g){return y.addEventListener(s,g,!1),()=>{y.removeEventListener(s,g,!1)}}dispatchEvent(y,s){y.dispatchEvent(s)}remove(y){y.parentNode&&y.parentNode.removeChild(y)}createElement(y,s){return(s=s||this.getDefaultDocument()).createElement(y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(y){return y.nodeType===Node.ELEMENT_NODE}isShadowRoot(y){return y instanceof DocumentFragment}getGlobalEventTarget(y,s){return"window"===s?window:"document"===s?y:"body"===s?y.body:null}getBaseHref(y){const s=(Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null);return null==s?null:function(f){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",f);const y=Ee.pathname;return"/"===y.charAt(0)?y:`/${y}`}(s)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(y){return(0,E.Mx)(document.cookie,y)}}let Ee,Se=null;const ne=new u.OlP("TRANSITION_ID"),De=[{provide:u.ip1,useFactory:function(f,y,s){return()=>{s.get(u.CZH).donePromise.then(()=>{const g=(0,E.q)(),I=y.querySelectorAll(`style[ng-transition="${f}"]`);for(let V=0;V<I.length;V++)g.remove(I[V])})}},deps:[ne,E.K0,u.zs3],multi:!0}];class ge{static init(){(0,u.VLi)(new ge)}addToWindow(y){u.dqk.getAngularTestability=(g,I=!0)=>{const V=y.findTestabilityInTree(g,I);if(null==V)throw new Error("Could not find testability for element.");return V},u.dqk.getAllAngularTestabilities=()=>y.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>y.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(g=>{const I=u.dqk.getAllAngularTestabilities();let V=I.length,we=!1;const Be=function(ft){we=we||ft,V--,0==V&&g(we)};I.forEach(function(ft){ft.whenStable(Be)})})}findTestabilityInTree(y,s,g){if(null==s)return null;const I=y.getTestability(s);return null!=I?I:g?(0,E.q)().isShadowRoot(s)?this.findTestabilityInTree(y,s.host,!0):this.findTestabilityInTree(y,s.parentElement,!0):null}}let ye=(()=>{class f{build(){return new XMLHttpRequest}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();const de=new u.OlP("EventManagerPlugins");let Z=(()=>{class f{constructor(s,g){this._zone=g,this._eventNameToPlugin=new Map,s.forEach(I=>I.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,g,I){return this._findPluginFor(g).addEventListener(s,g,I)}addGlobalEventListener(s,g,I){return this._findPluginFor(g).addGlobalEventListener(s,g,I)}getZone(){return this._zone}_findPluginFor(s){const g=this._eventNameToPlugin.get(s);if(g)return g;const I=this._plugins;for(let V=0;V<I.length;V++){const we=I[V];if(we.supports(s))return this._eventNameToPlugin.set(s,we),we}throw new Error(`No event manager plugin found for event ${s}`)}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(de),u.LFG(u.R0b))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();class Re{constructor(y){this._doc=y}addGlobalEventListener(y,s,g){const I=(0,E.q)().getGlobalEventTarget(this._doc,y);if(!I)throw new Error(`Unsupported event target ${I} for event ${s}`);return this.addEventListener(I,s,g)}}let Me=(()=>{class f{constructor(){this._stylesSet=new Set}addStyles(s){const g=new Set;s.forEach(I=>{this._stylesSet.has(I)||(this._stylesSet.add(I),g.add(I))}),this.onStylesAdded(g)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})(),Mt=(()=>{class f extends Me{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,g,I){s.forEach(V=>{const we=this._doc.createElement("style");we.textContent=V,I.push(g.appendChild(we))})}addHost(s){const g=[];this._addStylesToHost(this._stylesSet,s,g),this._hostNodes.set(s,g)}removeHost(s){const g=this._hostNodes.get(s);g&&g.forEach($e),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((g,I)=>{this._addStylesToHost(s,I,g)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach($e))}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(E.K0))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();function $e(f){(0,E.q)().remove(f)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=/%COMP%/g;function lt(f,y,s){for(let g=0;g<y.length;g++){let I=y[g];Array.isArray(I)?lt(f,I,s):(I=I.replace(Vt,f),s.push(I))}return s}function tt(f){return y=>{if("__ngUnwrap__"===y)return f;!1===f(y)&&(y.preventDefault(),y.returnValue=!1)}}let Bt=(()=>{class f{constructor(s,g,I){this.eventManager=s,this.sharedStylesHost=g,this.appId=I,this.rendererByCompId=new Map,this.defaultRenderer=new wn(s)}createRenderer(s,g){if(!s||!g)return this.defaultRenderer;switch(g.encapsulation){case u.ifc.Emulated:{let I=this.rendererByCompId.get(g.id);return I||(I=new Vn(this.eventManager,this.sharedStylesHost,g,this.appId),this.rendererByCompId.set(g.id,I)),I.applyToHost(s),I}case 1:case u.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,s,g);default:if(!this.rendererByCompId.has(g.id)){const I=lt(g.id,g.styles,[]);this.sharedStylesHost.addStyles(I),this.rendererByCompId.set(g.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(Z),u.LFG(Mt),u.LFG(u.AFp))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();class wn{constructor(y){this.eventManager=y,this.data=Object.create(null)}destroy(){}createElement(y,s){return s?document.createElementNS(mt[s]||s,y):document.createElement(y)}createComment(y){return document.createComment(y)}createText(y){return document.createTextNode(y)}appendChild(y,s){y.appendChild(s)}insertBefore(y,s,g){y&&y.insertBefore(s,g)}removeChild(y,s){y&&y.removeChild(s)}selectRootElement(y,s){let g="string"==typeof y?document.querySelector(y):y;if(!g)throw new Error(`The selector "${y}" did not match any elements`);return s||(g.textContent=""),g}parentNode(y){return y.parentNode}nextSibling(y){return y.nextSibling}setAttribute(y,s,g,I){if(I){s=I+":"+s;const V=mt[I];V?y.setAttributeNS(V,s,g):y.setAttribute(s,g)}else y.setAttribute(s,g)}removeAttribute(y,s,g){if(g){const I=mt[g];I?y.removeAttributeNS(I,s):y.removeAttribute(`${g}:${s}`)}else y.removeAttribute(s)}addClass(y,s){y.classList.add(s)}removeClass(y,s){y.classList.remove(s)}setStyle(y,s,g,I){I&(u.JOm.DashCase|u.JOm.Important)?y.style.setProperty(s,g,I&u.JOm.Important?"important":""):y.style[s]=g}removeStyle(y,s,g){g&u.JOm.DashCase?y.style.removeProperty(s):y.style[s]=""}setProperty(y,s,g){y[s]=g}setValue(y,s){y.nodeValue=s}listen(y,s,g){return"string"==typeof y?this.eventManager.addGlobalEventListener(y,s,tt(g)):this.eventManager.addEventListener(y,s,tt(g))}}class Vn extends wn{constructor(y,s,g,I){super(y),this.component=g;const V=lt(I+"-"+g.id,g.styles,[]);s.addStyles(V),this.contentAttr="_ngcontent-%COMP%".replace(Vt,I+"-"+g.id),this.hostAttr="_nghost-%COMP%".replace(Vt,I+"-"+g.id)}applyToHost(y){super.setAttribute(y,this.hostAttr,"")}createElement(y,s){const g=super.createElement(y,s);return super.setAttribute(g,this.contentAttr,""),g}}class Rt extends wn{constructor(y,s,g,I){super(y),this.sharedStylesHost=s,this.hostEl=g,this.shadowRoot=g.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const V=lt(I.id,I.styles,[]);for(let we=0;we<V.length;we++){const Be=document.createElement("style");Be.textContent=V[we],this.shadowRoot.appendChild(Be)}}nodeOrShadowRoot(y){return y===this.hostEl?this.shadowRoot:y}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(y,s){return super.appendChild(this.nodeOrShadowRoot(y),s)}insertBefore(y,s,g){return super.insertBefore(this.nodeOrShadowRoot(y),s,g)}removeChild(y,s){return super.removeChild(this.nodeOrShadowRoot(y),s)}parentNode(y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(y)))}}let An=(()=>{class f extends Re{constructor(s){super(s)}supports(s){return!0}addEventListener(s,g,I){return s.addEventListener(g,I,!1),()=>this.removeEventListener(s,g,I)}removeEventListener(s,g,I){return s.removeEventListener(g,I)}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(E.K0))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();const Oe=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pt={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let Yt=(()=>{class f extends Re{constructor(s){super(s)}supports(s){return null!=f.parseEventName(s)}addEventListener(s,g,I){const V=f.parseEventName(g),we=f.eventCallback(V.fullKey,I,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(s,V.domEventName,we))}static parseEventName(s){const g=s.toLowerCase().split("."),I=g.shift();if(0===g.length||"keydown"!==I&&"keyup"!==I)return null;const V=f._normalizeKey(g.pop());let we="";if(Oe.forEach(ft=>{const At=g.indexOf(ft);At>-1&&(g.splice(At,1),we+=ft+".")}),we+=V,0!=g.length||0===V.length)return null;const Be={};return Be.domEventName=I,Be.fullKey=we,Be}static getEventFullKey(s){let g="",I=function(f){let y=f.key;if(null==y){if(y=f.keyIdentifier,null==y)return"Unidentified";y.startsWith("U+")&&(y=String.fromCharCode(parseInt(y.substring(2),16)),3===f.location&&Ke.hasOwnProperty(y)&&(y=Ke[y]))}return Ue[y]||y}(s);return I=I.toLowerCase()," "===I?I="space":"."===I&&(I="dot"),Oe.forEach(V=>{V!=I&&Pt[V](s)&&(g+=V+".")}),g+=I,g}static eventCallback(s,g,I){return V=>{f.getEventFullKey(V)===s&&I.runGuarded(()=>g(V))}}static _normalizeKey(s){switch(s){case"esc":return"escape";default:return s}}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(E.K0))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();const Ar=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:E.bD},{provide:u.g9A,useValue:function(){ke.makeCurrent(),ge.init()},multi:!0},{provide:E.K0,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Tn=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:de,useClass:An,multi:!0,deps:[E.K0,u.R0b,u.Lbi]},{provide:de,useClass:Yt,multi:!0,deps:[E.K0]},[],{provide:Bt,useClass:Bt,deps:[Z,Mt,u.AFp]},{provide:u.FYo,useExisting:Bt},{provide:Me,useExisting:Mt},{provide:Mt,useClass:Mt,deps:[E.K0]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Z,useClass:Z,deps:[de,u.R0b]},{provide:E.JF,useClass:ye,deps:[]},[]];let In=(()=>{class f{constructor(s){if(s)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(s){return{ngModule:f,providers:[{provide:u.AFp,useValue:s.appId},{provide:ne,useExisting:u.AFp},De]}}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(f,12))},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({providers:Tn,imports:[E.ez,u.hGG]}),f})();"undefined"!=typeof window&&window;var pr=ee(665),fr=ee(7915),Eo=ee(7262),hi=ee(906),Tr=ee(8259),nn=ee.n(Tr),Bn=ee(5346),or=ee(8251);let $n=(()=>{class f{constructor(s,g,I,V){this.angularFireAuth=s,this.routes=g,this.afs=I,this.dbService=V,this.nameCollectionDB="usuarios",this.email="",this.userData=s.authState,this.angularFireAuth.onAuthStateChanged(we=>{this.currentUser=we}),this.usersCollection=I.collection(this.nameCollectionDB)}SignUp(s,g,I,V){this.angularFireAuth.createUserWithEmailAndPassword(s,g).then(we=>{console.log("You are Successfully signed up!",we),this.email=s,this.dbService.addUserCollection(s,I,V,0),this.routes.navigate(["/home"]),nn().fire({icon:"success",title:"Successful sign up!",text:"Welcome "+s,showConfirmButton:!1,timer:1500})}).catch(we=>{nn().fire({icon:"error",title:"Error",text:we.message,showConfirmButton:!1,timer:1500})})}SignIn(s,g){this.angularFireAuth.signInWithEmailAndPassword(s,g).then(I=>{console.log("You are in!"),this.email=s,this.routes.navigate(["/home"]),nn().fire({icon:"success",title:"Successful login!",text:"Welcome "+s,showConfirmButton:!1,timer:1500})}).catch(I=>{nn().fire({icon:"error",title:"Error",text:I.message,showConfirmButton:!1,timer:1500})})}SignOut(){this.angularFireAuth.signOut(),this.email="",nn().fire({icon:"warning",title:"Bye",text:"See you soon !",showConfirmButton:!1,timer:1500}),setTimeout(()=>{this.routes.navigate(["/home"])},1500)}getIsLoggedIn(){return sessionStorage.getItem("loggedUser")}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(Bn.z),u.LFG(hi.F0),u.LFG(Eo.ST),u.LFG(or.V))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Pn=(()=>{class f{constructor(s,g){this.authService=s,this.angularFireAuth=g,this.angularFireAuth.onAuthStateChanged(I=>{this.currentUser=I,this.currentUser&&(this.userEmail=this.currentUser.email)})}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)(u.Y36($n),u.Y36(Bn.z))},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-bienvenido"]],decls:2,vars:0,template:function(s,g){1&s&&(u.TgZ(0,"p"),u._uU(1,"Bienveido"),u.qZA())},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,a.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),f})();var Mo=ee(3010),zr=ee(7748);function ni(f,y){if(1&f&&(u.TgZ(0,"p",5),u._uU(1),u.qZA()),2&f){const s=u.oxw();u.xp6(1),u.hij("Titulo: ",s.movieRecibida.nombre,"")}}function Zr(f,y){if(1&f&&(u.TgZ(0,"p",5),u._uU(1),u.qZA()),2&f){const s=u.oxw();u.xp6(1),u.hij("Tipo: ",s.movieRecibida.tipo,"")}}function Ii(f,y){if(1&f&&(u.TgZ(0,"small",6),u._uU(1),u.qZA()),2&f){const s=u.oxw();u.xp6(1),u.hij("Estreno: ",s.movieRecibida.fechaEstreno,"")}}function dn(f,y){if(1&f&&(u.TgZ(0,"small",6),u._uU(1),u.qZA()),2&f){const s=u.oxw();u.xp6(1),u.hij("Publico: ",s.movieRecibida.cantPublico,"")}}let Ur=(()=>{class f{constructor(s){this.peliSeleccionada=s}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)(u.Y36(zr.K))},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-detalle-pelicula"]],inputs:{movieRecibida:"movieRecibida"},decls:7,vars:4,consts:[[1,"card-body"],["class","card-text",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["class","text-muted",4,"ngIf"],[1,"card-text"],[1,"text-muted"]],template:function(s,g){1&s&&(u.TgZ(0,"div",0),u.YNc(1,ni,2,1,"p",1),u.YNc(2,Zr,2,1,"p",1),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.YNc(5,Ii,2,1,"small",4),u.qZA(),u.YNc(6,dn,2,1,"small",4),u.qZA(),u.qZA()),2&s&&(u.xp6(1),u.Q6J("ngIf",g.movieRecibida),u.xp6(1),u.Q6J("ngIf",g.movieRecibida),u.xp6(3),u.Q6J("ngIf",g.movieRecibida),u.xp6(1),u.Q6J("ngIf",g.movieRecibida))},directives:[E.O5],styles:[""]}),f})();const Xr=[{path:"",redirectTo:"busqueda",pathMatch:"full"},{path:"bievenido",component:Pn},{path:"busqueda",component:(()=>{class f{constructor(){}cambiarPeli(s){this.peliActual=s}ngOnInit(){}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-busqueda"]],inputs:{peliRecibida:"peliRecibida"},decls:7,vars:1,consts:[[3,"eventoSeleccionePeli"],[1,"album","py-5","bg-light"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col","movieCard"],[1,"card","shadow-sm"],[3,"movieRecibida"]],template:function(s,g){1&s&&(u.TgZ(0,"app-tabla-pelicula",0),u.NdJ("eventoSeleccionePeli",function(V){return g.cambiarPeli(V)}),u.qZA(),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._UZ(6,"app-detalle-pelicula",6),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&s&&(u.xp6(6),u.Q6J("movieRecibida",g.peliActual))},directives:[Mo.k,Ur],styles:[""]}),f})()},{path:"peliculas",loadChildren:()=>ee.e(89).then(ee.bind(ee,2089)).then(f=>f.PeliculasModule)},{path:"actor",loadChildren:()=>ee.e(135).then(ee.bind(ee,2135)).then(f=>f.ActorModule)}];let ji=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[hi.Bz.forRoot(Xr)],hi.Bz]}),f})();function Hi(f,y){1&f&&(u.TgZ(0,"a",12),u._uU(1,"Login/Signup"),u.qZA())}function Si(f,y){if(1&f){const s=u.EpF();u.TgZ(0,"a",13),u.NdJ("click",function(){return u.CHM(s),u.oxw().signOut()}),u._uU(1,"Logout"),u.qZA()}}function Or(f,y){if(1&f&&(u.TgZ(0,"p",14),u._uU(1),u.qZA()),2&f){const s=u.oxw();u.xp6(1),u.hij("Bienvenida/o: ",s.userDisplayName,"")}}let ei=(()=>{class f{constructor(s,g,I){this.authService=s,this.angularFireAuth=g,this.DBdata=I,this.angularFireAuth.onAuthStateChanged(V=>{var we;this.currentUser=V,this.userDisplayName=null===(we=this.currentUser)||void 0===we?void 0:we.email})}ngOnInit(){}signOut(){this.authService.SignOut()}isUserLogged(){return!!this.currentUser}getUserLogged(){return this.currentUser}}return f.\u0275fac=function(s){return new(s||f)(u.Y36($n),u.Y36(Bn.z),u.Y36(or.V))},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-nav-bar"]],decls:18,vars:3,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["id","logo","xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#002BFF","role","img","viewBox","0 0 32 32","focusable","false",1,"d-block","mx-auto"],["d","M27.5,15.4c0.8-2.6,0.6-5.4-0.6-7.9L26,5.7c-0.2-0.3-0.6-0.5-0.9-0.4l-2.2,0.8c-2,0.7-3.8,1.9-5.3,3.5\n\tc-0.5-0.1-1.1-0.1-1.6-0.1c-0.6,0-1.1,0-1.6,0.1c-1.4-1.6-3.2-2.8-5.3-3.5L6.9,5.4C6.6,5.2,6.2,5.4,6,5.7L5.2,7.5\n\tC4,10,3.8,12.8,4.5,15.4c-0.4,0.8-0.6,1.7-0.6,2.7c0,4.7,5.4,8.6,12.1,8.6s12.1-3.8,12.1-8.6C28.1,17.2,27.9,16.3,27.5,15.4z\n\t M18.1,21.7l-1.6,1.4c-0.2,0.1-0.3,0.2-0.5,0.2c-0.2,0-0.4-0.1-0.5-0.2l-1.6-1.4c-0.6-0.5-0.2-1.4,0.5-1.4h3.2\n\tC18.3,20.3,18.7,21.2,18.1,21.7z",1,"st0"],["routerLink","/busqueda",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/actor/alta",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/ej1",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/error",1,"py-2","d-none","d-md-inline-block","buttonNav"],["class","py-2 d-none d-md-inline-block buttonNav","routerLink","/login",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav","id","logout",3,"click",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav",4,"ngIf"],["routerLink","/login",1,"py-2","d-none","d-md-inline-block","buttonNav"],["id","logout",1,"py-2","d-none","d-md-inline-block","buttonNav",3,"click"],[1,"py-2","d-none","d-md-inline-block","buttonNav"]],template:function(s,g){1&s&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"a",2),u.O4$(),u.TgZ(3,"svg",3),u.TgZ(4,"title"),u._uU(5,"Logo"),u.qZA(),u._UZ(6,"path",4),u.qZA(),u.qZA(),u.kcU(),u.TgZ(7,"a",5),u._uU(8,"Busqueda"),u.qZA(),u.TgZ(9,"a",6),u._uU(10,"Alta Actores"),u.qZA(),u.TgZ(11,"a",7),u._uU(12,"Ejercicio 1"),u.qZA(),u.TgZ(13,"a",8),u._uU(14,"Ejercicio 2"),u.qZA(),u.YNc(15,Hi,2,0,"a",9),u.YNc(16,Si,2,0,"a",10),u.YNc(17,Or,2,1,"p",11),u.qZA(),u.qZA()),2&s&&(u.xp6(15),u.Q6J("ngIf",!g.currentUser),u.xp6(1),u.Q6J("ngIf",g.currentUser),u.xp6(1),u.Q6J("ngIf",g.currentUser))},directives:[hi.yS,E.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{font-family:"Raleway"}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}#logout[_ngcontent-%COMP%]{color:salmon;cursor:pointer}.site-header[_ngcontent-%COMP%]{background-color:#1f2732e6;height:70px}.buttonNav[_ngcontent-%COMP%]{text-decoration:none;font-family:"Raleway";font-weight:400;font-size:17px;padding:0 35px;margin-top:9px;letter-spacing:.05em;color:#66fcf1}.buttonNav[_ngcontent-%COMP%]:hover{color:#c5c6c8}.st0[_ngcontent-%COMP%]{fill:#66fcf1}.st0[_ngcontent-%COMP%]:hover{fill:#c5c6c8}#logo[_ngcontent-%COMP%]{margin-top:5px}']}),f})(),yo=(()=>{class f{constructor(){this.title="my-app",this.edadUno=0,this.edadDos=0,this.promedio=0}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-root"]],decls:2,vars:0,template:function(s,g){1&s&&(u._UZ(0,"app-nav-bar"),u._UZ(1,"router-outlet"))},directives:[ei,hi.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#0f1014;font-family:"Raleway"}#navBar[_ngcontent-%COMP%]{width:150px;background-color:#2e1284;height:100%;position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;font-family:"Vollkorn";font-weight:400;font-size:16px;padding-top:20px}.navItem[_ngcontent-%COMP%]{padding:15px 0;color:#fffaff;text-decoration:none;display:flex;flex-direction:column;align-items:center;border-bottom:solid 1px rgba(251,241,231,.5);width:100%}.navItem[_ngcontent-%COMP%]:hover{opacity:.5}.navIcon[_ngcontent-%COMP%]{width:35px;height:auto;fill:azure}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}']}),f})();const pi_firebaseConfig={apiKey:"AIzaSyCnTq9tZXg8rOShB4Umkxj0V94t9qo9JT8",authDomain:"yanina-perez-labiv.firebaseapp.com",databaseURL:"https://yanina-perez-labiv-default-rtdb.firebaseio.com",projectId:"yanina-perez-labiv",storageBucket:"yanina-perez-labiv.appspot.com",messagingSenderId:"1024446828734",appId:"1:1024446828734:web:e4dd40ffa1eb8959a70eef"};var Mr=ee(7574),wi=ee(9193),Zi=ee(5917),Fn=ee(9765),gi=ee(9796),Xi=ee(9105),yr=ee(8002);function Jn(f,y,s,g){return(0,Xi.m)(s)&&(g=s,s=void 0),g?Jn(f,y,s).pipe((0,yr.U)(I=>(0,gi.k)(I)?g(...I):g(I))):new Mr.y(I=>{xo(f,y,function(we){I.next(arguments.length>1?Array.prototype.slice.call(arguments):we)},I,s)})}function xo(f,y,s,g,I){let V;if(function(f){return f&&"function"==typeof f.addEventListener&&"function"==typeof f.removeEventListener}(f)){const we=f;f.addEventListener(y,s,I),V=()=>we.removeEventListener(y,s,I)}else if(function(f){return f&&"function"==typeof f.on&&"function"==typeof f.off}(f)){const we=f;f.on(y,s),V=()=>we.off(y,s)}else if(function(f){return f&&"function"==typeof f.addListener&&"function"==typeof f.removeListener}(f)){const we=f;f.addListener(y,s),V=()=>we.removeListener(y,s)}else{if(!f||!f.length)throw new TypeError("Invalid event target");for(let we=0,Be=f.length;we<Be;we++)xo(f[we],y,s,g,I)}g.add(V)}var ui=ee(3637),Sn=ee(6561),_o=ee(4869);function yi(f){const{index:y,period:s,subscriber:g}=f;if(g.next(y),!g.closed){if(-1===s)return g.complete();f.index=y+1,this.schedule(f,s)}}var $i=ee(6693),to=ee(5197),oi=ee(509);class sr{call(y,s){return s.subscribe(new Ai(y))}}class Ai extends to.L{constructor(y){super(y),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(y){this.observables.push(y)}_complete(){const y=this.observables,s=y.length;if(0===s)this.destination.complete();else{for(let g=0;g<s&&!this.hasFirst;g++){const V=(0,oi.D)(this,y[g],void 0,g);this.subscriptions&&this.subscriptions.push(V),this.add(V)}this.observables=null}}notifyNext(y,s,g){if(!this.hasFirst){this.hasFirst=!0;for(let I=0;I<this.subscriptions.length;I++)if(I!==g){let V=this.subscriptions[I];V.unsubscribe(),this.remove(V)}this.subscriptions=null}this.destination.next(s)}}ee(6215),ee(9112);var li=ee(8640);new Mr.y(li.Z);var ii=ee(7393),no=ee(377),Pr=ee(5345);function q(...f){const y=f[f.length-1];return"function"==typeof y&&f.pop(),(0,$i.n)(f,void 0).lift(new H(y))}class H{constructor(y){this.resultSelector=y}call(y,s){return s.subscribe(new L(y,this.resultSelector))}}class L extends ii.L{constructor(y,s,g=Object.create(null)){super(y),this.resultSelector=s,this.iterators=[],this.active=0,this.resultSelector="function"==typeof s?s:void 0}_next(y){const s=this.iterators;(0,gi.k)(y)?s.push(new ht(y)):s.push("function"==typeof y[no.hZ]?new le(y[no.hZ]()):new Jt(this.destination,this,y))}_complete(){const y=this.iterators,s=y.length;if(this.unsubscribe(),0!==s){this.active=s;for(let g=0;g<s;g++){let I=y[g];I.stillUnsubscribed?this.destination.add(I.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const y=this.iterators,s=y.length,g=this.destination;for(let we=0;we<s;we++){let Be=y[we];if("function"==typeof Be.hasValue&&!Be.hasValue())return}let I=!1;const V=[];for(let we=0;we<s;we++){let Be=y[we],ft=Be.next();if(Be.hasCompleted()&&(I=!0),ft.done)return void g.complete();V.push(ft.value)}this.resultSelector?this._tryresultSelector(V):g.next(V),I&&g.complete()}_tryresultSelector(y){let s;try{s=this.resultSelector.apply(this,y)}catch(g){return void this.destination.error(g)}this.destination.next(s)}}class le{constructor(y){this.iterator=y,this.nextResult=y.next()}hasValue(){return!0}next(){const y=this.nextResult;return this.nextResult=this.iterator.next(),y}hasCompleted(){const y=this.nextResult;return Boolean(y&&y.done)}}class ht{constructor(y){this.array=y,this.index=0,this.length=0,this.length=y.length}[no.hZ](){return this}next(y){const s=this.index++;return s<this.length?{value:this.array[s],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Jt extends Pr.Ds{constructor(y,s,g){super(y),this.parent=s,this.observable=g,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[no.hZ](){return this}next(){const y=this.buffer;return 0===y.length&&this.isComplete?{value:null,done:!0}:{value:y.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(y){this.buffer.push(y),this.parent.checkIterators()}subscribe(){return(0,Pr.ft)(this.observable,new Pr.IY(this))}}var U=ee(6682),ae=ee(8071);function fe(f){return y=>y.lift(new Fe(f))}class Fe{constructor(y){this.notifier=y}call(y,s){const g=new pt(y),I=(0,Pr.ft)(this.notifier,new Pr.IY(g));return I&&!g.seenValue?(g.add(I),s.subscribe(g)):g}}class pt extends Pr.Ds{constructor(y){super(y),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var bt=ee(5435),Qt=ee(5257);ee(9761);class Zn{constructor(y,s){this.compare=y,this.keySelector=s}call(y,s){return s.subscribe(new Nn(y,this.compare,this.keySelector))}}class Nn extends ii.L{constructor(y,s,g){super(y),this.keySelector=g,this.hasKey=!1,"function"==typeof s&&(this.compare=s)}compare(y,s){return y===s}_next(y){let s;try{const{keySelector:I}=this;s=I?I(y):y}catch(I){return this.destination.error(I)}let g=!1;if(this.hasKey)try{const{compare:I}=this;g=I(this.key,s)}catch(I){return this.destination.error(I)}else this.hasKey=!0;g||(this.key=s,this.destination.next(y))}}var Wn=ee(3190),ar=ee(8307);function Hr(...f){return y=>{let s;return"function"==typeof f[f.length-1]&&(s=f.pop()),y.lift(new Vi(f,s))}}class Vi{constructor(y,s){this.observables=y,this.project=s}call(y,s){return s.subscribe(new Yr(y,this.observables,this.project))}}class Yr extends to.L{constructor(y,s,g){super(y),this.observables=s,this.project=g,this.toRespond=[];const I=s.length;this.values=new Array(I);for(let V=0;V<I;V++)this.toRespond.push(V);for(let V=0;V<I;V++)this.add((0,oi.D)(this,s[V],void 0,V))}notifyNext(y,s,g){this.values[g]=s;const I=this.toRespond;if(I.length>0){const V=I.indexOf(g);-1!==V&&I.splice(V,1)}}notifyComplete(){}_next(y){if(0===this.toRespond.length){const s=[y,...this.values];this.project?this._tryProject(s):this.destination.next(s)}}_tryProject(y){let s;try{s=this.project.apply(this,y)}catch(g){return void this.destination.error(g)}this.destination.next(s)}}ee(1593),ee(9773);var It=ee(8819);const Oo=["*"],pe=["dialog"];function kr(f){return null!=f}function ts(f){return(f||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(f){let y=this;if(!document.documentElement.contains(y))return null;do{if(y.matches(f))return y;y=y.parentElement||y.parentNode}while(null!==y&&1===y.nodeType);return null});const hs={animation:!0,transitionTimerDelayMs:5};let Oi=(()=>{class f{constructor(){this.animation=hs.animation}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=u.Yz7({factory:function(){return new f},token:f,providedIn:"root"}),f})();const fo=()=>{},{transitionTimerDelayMs:Tu}=hs,Da=new Map,ho=(f,y,s,g)=>{let I=g.context||{};const V=Da.get(y);if(V)switch(g.runningTransition){case"continue":return wi.E;case"stop":f.run(()=>V.transition$.complete()),I=Object.assign(V.context,I),Da.delete(y)}const we=s(y,g.animation,I)||fo;if(!g.animation||"none"===window.getComputedStyle(y).transitionProperty)return f.run(()=>we()),(0,Zi.of)(void 0).pipe(function(f){return y=>new Mr.y(s=>y.subscribe(we=>f.run(()=>s.next(we)),we=>f.run(()=>s.error(we)),()=>f.run(()=>s.complete())))}(f));const Be=new Fn.xQ,ft=new Fn.xQ,At=Be.pipe(function(...f){return y=>(0,ae.z)(y,(0,Zi.of)(...f))}(!0));Da.set(y,{transition$:Be,complete:()=>{ft.next(),ft.complete()},context:I});const Kt=function(f){const{transitionDelay:y,transitionDuration:s}=window.getComputedStyle(f);return 1e3*(parseFloat(y)+parseFloat(s))}(y);return f.runOutsideAngular(()=>{const yn=Jn(y,"transitionend").pipe(fe(At),(0,bt.h)(({target:On})=>On===y));(function(...f){if(1===f.length){if(!(0,gi.k)(f[0]))return f[0];f=f[0]}return(0,$i.n)(f,void 0).lift(new sr)})(function(f=0,y,s){let g=-1;return(0,Sn.k)(y)?g=Number(y)<1?1:Number(y):(0,_o.K)(y)&&(s=y),(0,_o.K)(s)||(s=ui.P),new Mr.y(I=>{const V=(0,Sn.k)(f)?f:+f-s.now();return s.schedule(yi,V,{index:0,period:g,subscriber:I})})}(Kt+Tu).pipe(fe(At)),yn,ft).pipe(fe(At)).subscribe(()=>{Da.delete(y),f.run(()=>{we(),Be.next(),Be.complete()})})}),Be.asObservable()};let rs=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),_l=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),zs=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({}),f})(),Yu=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),da=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({}),f})();var mr=(()=>{return(f=mr||(mr={}))[f.Tab=9]="Tab",f[f.Enter=13]="Enter",f[f.Escape=27]="Escape",f[f.Space=32]="Space",f[f.PageUp=33]="PageUp",f[f.PageDown=34]="PageDown",f[f.End=35]="End",f[f.Home=36]="Home",f[f.ArrowLeft=37]="ArrowLeft",f[f.ArrowUp=38]="ArrowUp",f[f.ArrowRight=39]="ArrowRight",f[f.ArrowDown=40]="ArrowDown",mr;var f})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ma=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Rl(f){const y=Array.from(f.querySelectorAll(Ma)).filter(s=>-1!==s.tabIndex);return[y[0],y[y.length-1]]}new class{getAllStyles(y){return window.getComputedStyle(y)}getStyle(y,s){return this.getAllStyles(y)[s]}isStaticPositioned(y){return"static"===(this.getStyle(y,"position")||"static")}offsetParent(y){let s=y.offsetParent||document.documentElement;for(;s&&s!==document.documentElement&&this.isStaticPositioned(s);)s=s.offsetParent;return s||document.documentElement}position(y,s=!0){let g,I={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(y,"position"))g=y.getBoundingClientRect(),g={top:g.top,bottom:g.bottom,left:g.left,right:g.right,height:g.height,width:g.width};else{const V=this.offsetParent(y);g=this.offset(y,!1),V!==document.documentElement&&(I=this.offset(V,!1)),I.top+=V.clientTop,I.left+=V.clientLeft}return g.top-=I.top,g.bottom-=I.top,g.left-=I.left,g.right-=I.left,s&&(g.top=Math.round(g.top),g.bottom=Math.round(g.bottom),g.left=Math.round(g.left),g.right=Math.round(g.right)),g}offset(y,s=!0){const g=y.getBoundingClientRect(),I_top=window.pageYOffset-document.documentElement.clientTop,I_left=window.pageXOffset-document.documentElement.clientLeft;let V={height:g.height||y.offsetHeight,width:g.width||y.offsetWidth,top:g.top+I_top,bottom:g.bottom+I_top,left:g.left+I_left,right:g.right+I_left};return s&&(V.height=Math.round(V.height),V.width=Math.round(V.width),V.top=Math.round(V.top),V.bottom=Math.round(V.bottom),V.left=Math.round(V.left),V.right=Math.round(V.right)),V}positionElements(y,s,g,I){const[V="top",we="center"]=g.split("-"),Be=I?this.offset(y,!1):this.position(y,!1),ft=this.getAllStyles(s),At=parseFloat(ft.marginTop),Kt=parseFloat(ft.marginBottom),yn=parseFloat(ft.marginLeft),pn=parseFloat(ft.marginRight);let On=0,xr=0;switch(V){case"top":On=Be.top-(s.offsetHeight+At+Kt);break;case"bottom":On=Be.top+Be.height;break;case"left":xr=Be.left-(s.offsetWidth+yn+pn);break;case"right":xr=Be.left+Be.width}switch(we){case"top":On=Be.top;break;case"bottom":On=Be.top+Be.height-s.offsetHeight;break;case"left":xr=Be.left;break;case"right":xr=Be.left+Be.width-s.offsetWidth;break;case"center":"top"===V||"bottom"===V?xr=Be.left+Be.width/2-s.offsetWidth/2:On=Be.top+Be.height/2-s.offsetHeight/2}s.style.transform=`translate(${Math.round(xr)}px, ${Math.round(On)}px)`;const Fr=s.getBoundingClientRect(),Uo=document.documentElement,Ts=window.innerHeight||Uo.clientHeight,go=window.innerWidth||Uo.clientWidth;return Fr.left>=0&&Fr.top>=0&&Fr.right<=go&&Fr.bottom<=Ts}},new Date(1882,10,12),new Date(2174,10,25);let Pu=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez,pr.u5]]}),f})(),Pa=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({}),f})(),is=(()=>{class f{constructor(s){this._ngbConfig=s,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(Oi))},f.\u0275prov=u.Yz7({factory:function(){return new f(u.LFG(Oi))},token:f,providedIn:"root"}),f})();class ia{constructor(y,s,g){this.nodes=y,this.viewRef=s,this.componentRef=g}}const Ed=()=>{};let Dd=(()=>{class f{constructor(s){this._document=s}compensate(){const s=this._getWidth();return this._isPresent(s)?this._adjustBody(s):Ed}_adjustBody(s){const g=this._document.body,I=g.style.paddingRight,V=parseFloat(window.getComputedStyle(g)["padding-right"]);return g.style["padding-right"]=`${V+s}px`,()=>g.style["padding-right"]=I}_isPresent(s){const g=this._document.body.getBoundingClientRect();return window.innerWidth-(g.left+g.right)>=s-.1*s}_getWidth(){const s=this._document.createElement("div");s.className="modal-scrollbar-measure";const g=this._document.body;g.appendChild(s);const I=s.getBoundingClientRect().width-s.clientWidth;return g.removeChild(s),I}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(E.K0))},f.\u0275prov=u.Yz7({factory:function(){return new f(u.LFG(E.K0))},token:f,providedIn:"root"}),f})(),mc=(()=>{class f{constructor(s,g){this._el=s,this._zone=g}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Qt.q)(1)).subscribe(()=>{ho(this._zone,this._el.nativeElement,(s,g)=>{g&&ts(s),s.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ho(this._zone,this._el.nativeElement,({classList:s})=>s.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return f.\u0275fac=function(s){return new(s||f)(u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(s,g){2&s&&(u.Tol("modal-backdrop"+(g.backdropClass?" "+g.backdropClass:"")),u.ekj("show",!g.animation)("fade",g.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(s,g){},encapsulation:2}),f})();class Wl{close(y){}dismiss(y){}}class a{constructor(y,s,g,I){this._windowCmptRef=y,this._contentRef=s,this._backdropCmptRef=g,this._beforeDismiss=I,this._closed=new Fn.xQ,this._dismissed=new Fn.xQ,this._hidden=new Fn.xQ,y.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,we)=>{this._resolve=V,this._reject=we}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(fe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(fe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(y){this._windowCmptRef&&(this._closed.next(y),this._resolve(y),this._removeModalElements())}_dismiss(y){this._dismissed.next(y),this._reject(y),this._removeModalElements()}dismiss(y){if(this._windowCmptRef)if(this._beforeDismiss){const s=this._beforeDismiss();s&&s.then?s.then(g=>{!1!==g&&this._dismiss(y)},()=>{}):!1!==s&&this._dismiss(y)}else this._dismiss(y)}_removeModalElements(){const y=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Zi.of)(void 0);y.subscribe(()=>{const{nativeElement:g}=this._windowCmptRef.location;g.parentNode.removeChild(g),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:g}=this._backdropCmptRef.location;g.parentNode.removeChild(g),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),q(y,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var r=(()=>{return(f=r||(r={}))[f.BACKDROP_CLICK=0]="BACKDROP_CLICK",f[f.ESC=1]="ESC",r;var f})();let o=(()=>{class f{constructor(s,g,I){this._document=s,this._elRef=g,this._zone=I,this._closed$=new Fn.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Fn.xQ,this.hidden=new Fn.xQ}dismiss(s){this.dismissEvent.emit(s)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Qt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:s}=this._elRef,g={animation:this.animation,runningTransition:"stop"},we=q(ho(this._zone,s,()=>s.classList.remove("show"),g),ho(this._zone,this._dialogEl.nativeElement,()=>{},g));return we.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),we}_show(){const s={animation:this.animation,runningTransition:"continue"};q(ho(this._zone,this._elRef.nativeElement,(V,we)=>{we&&ts(V),V.classList.add("show")},s),ho(this._zone,this._dialogEl.nativeElement,()=>{},s)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:s}=this._elRef;this._zone.runOutsideAngular(()=>{Jn(s,"keydown").pipe(fe(this._closed$),(0,bt.h)(I=>I.which===mr.Escape)).subscribe(I=>{this.keyboard?requestAnimationFrame(()=>{I.defaultPrevented||this._zone.run(()=>this.dismiss(r.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let g=!1;Jn(this._dialogEl.nativeElement,"mousedown").pipe(fe(this._closed$),(0,ar.b)(()=>g=!1),(0,Wn.w)(()=>Jn(s,"mouseup").pipe(fe(this._closed$),(0,Qt.q)(1))),(0,bt.h)(({target:I})=>s===I)).subscribe(()=>{g=!0}),Jn(s,"click").pipe(fe(this._closed$)).subscribe(({target:I})=>{s===I&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!g&&this._zone.run(()=>this.dismiss(r.BACKDROP_CLICK))),g=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:s}=this._elRef;if(!s.contains(document.activeElement)){const g=s.querySelector("[ngbAutofocus]"),I=Rl(s)[0];(g||I||s).focus()}}_restoreFocus(){const s=this._document.body,g=this._elWithFocus;let I;I=g&&g.focus&&s.contains(g)?g:s,this._zone.runOutsideAngular(()=>{setTimeout(()=>I.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ho(this._zone,this._elRef.nativeElement,({classList:s})=>(s.add("modal-static"),()=>s.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return f.\u0275fac=function(s){return new(s||f)(u.Y36(E.K0),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ngb-modal-window"]],viewQuery:function(s,g){if(1&s&&u.Gf(pe,7),2&s){let I;u.iGM(I=u.CRH())&&(g._dialogEl=I.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(s,g){2&s&&(u.uIk("aria-modal",!0)("aria-labelledby",g.ariaLabelledBy)("aria-describedby",g.ariaDescribedBy),u.Tol("modal d-block"+(g.windowClass?" "+g.windowClass:"")),u.ekj("fade",g.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Oo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(s,g){1&s&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&s&&u.Tol("modal-dialog"+(g.size?" modal-"+g.size:"")+(g.centered?" modal-dialog-centered":"")+(g.scrollable?" modal-dialog-scrollable":"")+(g.modalDialogClass?" "+g.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),f})(),d=(()=>{class f{constructor(s,g,I,V,we,Be){this._applicationRef=s,this._injector=g,this._document=I,this._scrollBar=V,this._rendererFactory=we,this._ngZone=Be,this._activeWindowCmptHasChanged=new Fn.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ft=this._windowCmpts[this._windowCmpts.length-1];((f,y,s,g=!1)=>{f.runOutsideAngular(()=>{const I=Jn(y,"focusin").pipe(fe(s),(0,yr.U)(V=>V.target));Jn(y,"keydown").pipe(fe(s),(0,bt.h)(V=>V.which===mr.Tab),Hr(I)).subscribe(([V,we])=>{const[Be,ft]=Rl(y);(we===Be||we===y)&&V.shiftKey&&(ft.focus(),V.preventDefault()),we===ft&&!V.shiftKey&&(Be.focus(),V.preventDefault())}),g&&Jn(y,"click").pipe(fe(s),Hr(I),(0,yr.U)(V=>V[1])).subscribe(V=>V.focus())})})(this._ngZone,ft.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ft.location.nativeElement)}})}open(s,g,I,V){const we=V.container instanceof HTMLElement?V.container:kr(V.container)?this._document.querySelector(V.container):this._document.body,Be=this._rendererFactory.createRenderer(null,null),ft=this._scrollBar.compensate(),At=()=>{this._modalRefs.length||(Be.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!we)throw new Error(`The specified modal container "${V.container||"body"}" was not found in the DOM.`);const Kt=new Wl,yn=this._getContentRef(s,V.injector||g,I,Kt,V);let pn=!1!==V.backdrop?this._attachBackdrop(s,we):void 0,On=this._attachWindowComponent(s,we,yn),xr=new a(On,yn,pn,V.beforeDismiss);return this._registerModalRef(xr),this._registerWindowCmpt(On),xr.result.then(ft,ft),xr.result.then(At,At),Kt.close=Fr=>{xr.close(Fr)},Kt.dismiss=Fr=>{xr.dismiss(Fr)},this._applyWindowOptions(On.instance,V),1===this._modalRefs.length&&Be.addClass(this._document.body,"modal-open"),pn&&pn.instance&&(this._applyBackdropOptions(pn.instance,V),pn.changeDetectorRef.detectChanges()),On.changeDetectorRef.detectChanges(),xr}get activeInstances(){return this._activeInstances}dismissAll(s){this._modalRefs.forEach(g=>g.dismiss(s))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(s,g){let V=s.resolveComponentFactory(mc).create(this._injector);return this._applicationRef.attachView(V.hostView),g.appendChild(V.location.nativeElement),V}_attachWindowComponent(s,g,I){let we=s.resolveComponentFactory(o).create(this._injector,I.nodes);return this._applicationRef.attachView(we.hostView),g.appendChild(we.location.nativeElement),we}_applyWindowOptions(s,g){this._windowAttributes.forEach(I=>{kr(g[I])&&(s[I]=g[I])})}_applyBackdropOptions(s,g){this._backdropAttributes.forEach(I=>{kr(g[I])&&(s[I]=g[I])})}_getContentRef(s,g,I,V,we){return I?I instanceof u.Rgc?this._createFromTemplateRef(I,V):function(f){return"string"==typeof f}(I)?this._createFromString(I):this._createFromComponent(s,g,I,V,we):new ia([])}_createFromTemplateRef(s,g){const V=s.createEmbeddedView({$implicit:g,close(we){g.close(we)},dismiss(we){g.dismiss(we)}});return this._applicationRef.attachView(V),new ia([V.rootNodes],V)}_createFromString(s){const g=this._document.createTextNode(`${s}`);return new ia([[g]])}_createFromComponent(s,g,I,V,we){const Be=s.resolveComponentFactory(I),ft=u.zs3.create({providers:[{provide:Wl,useValue:V}],parent:g}),At=Be.create(ft),Kt=At.location.nativeElement;return we.scrollable&&Kt.classList.add("component-host-scrollable"),this._applicationRef.attachView(At.hostView),new ia([[Kt]],At.hostView,At)}_setAriaHidden(s){const g=s.parentElement;g&&s!==this._document.body&&(Array.from(g.children).forEach(I=>{I!==s&&"SCRIPT"!==I.nodeName&&(this._ariaHiddenValues.set(I,I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))}),this._setAriaHidden(g))}_revertAriaHidden(){this._ariaHiddenValues.forEach((s,g)=>{s?g.setAttribute("aria-hidden",s):g.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(s){const g=()=>{const I=this._modalRefs.indexOf(s);I>-1&&(this._modalRefs.splice(I,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(s),this._activeInstances.emit(this._modalRefs),s.result.then(g,g)}_registerWindowCmpt(s){this._windowCmpts.push(s),this._activeWindowCmptHasChanged.next(),s.onDestroy(()=>{const g=this._windowCmpts.indexOf(s);g>-1&&(this._windowCmpts.splice(g,1),this._activeWindowCmptHasChanged.next())})}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(E.K0),u.LFG(Dd),u.LFG(u.FYo),u.LFG(u.R0b))},f.\u0275prov=u.Yz7({factory:function(){return new f(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(E.K0),u.LFG(Dd),u.LFG(u.FYo),u.LFG(u.R0b))},token:f,providedIn:"root"}),f})(),m=(()=>{class f{constructor(s,g,I,V){this._moduleCFR=s,this._injector=g,this._modalStack=I,this._config=V}open(s,g={}){const I=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),g);return this._modalStack.open(this._moduleCFR,this._injector,s,I)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(s){this._modalStack.dismissAll(s)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(d),u.LFG(is))},f.\u0275prov=u.Yz7({factory:function(){return new f(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(d),u.LFG(is))},token:f,providedIn:"root"}),f})(),C=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({providers:[m]}),f})(),er=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),ul=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),zl=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),Sd=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),Nd=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),Pf=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),Lf=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})(),Bf=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({}),f})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let tr=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[E.ez]]}),f})();const $f=[rs,_l,zs,Yu,da,Pu,Pa,C,er,ul,zl,Sd,Nd,Pf,Lf,Bf,tr];let Wf=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[$f,rs,_l,zs,Yu,da,Pu,Pa,C,er,ul,zl,Sd,Nd,Pf,Lf,Bf,tr]}),f})();var ql=ee(2145);class zf{constructor(y){this.predicate=y}call(y,s){return s.subscribe(new Qh(y,this.predicate))}}class Qh extends ii.L{constructor(y,s){super(y),this.predicate=s,this.skipping=!0,this.index=0}_next(y){const s=this.destination;this.skipping&&this.tryCallPredicate(y),this.skipping||s.next(y)}tryCallPredicate(y){try{const s=this.predicate(y,this.index++);this.skipping=Boolean(s)}catch(s){this.destination.error(s)}}}var wc=ee(4614),Fa=ee(4395),xd=ee.n(Fa);function Jh(f){return null==f}function Od(f){return"function"==typeof f.set}function Kh(f,y){return Od(y)?y:f.ref(y)}function _a(f,y){if(function(f){return"string"==typeof f}(f))return y.stringCase();if(Od(f))return y.firebaseCase();if(function(f){return"function"==typeof f.exportVal}(f))return y.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof f)}function mu(f,y,s="on",g=ui.z){return new Mr.y(I=>{let V=null;return V=f[s](y,(we,Be)=>{g.schedule(()=>{I.next({snapshot:we,prevKey:Be})}),"once"===s&&g.schedule(()=>I.complete())},we=>{g.schedule(()=>I.error(we))}),"on"===s?{unsubscribe(){null!=V&&f.off(y,V)}}:{unsubscribe(){}}}).pipe((0,yr.U)(I=>{const{snapshot:V,prevKey:we}=I;let Be=null;return V.exists()&&(Be=V.key),{type:y,payload:V,prevKey:we,key:Be}}),(0,It.B)())}function Zh(f,y){const s=f.length;for(let g=0;g<s;g++)if(f[g].payload.key===y)return g;return-1}function qf(f,y){const{payload:s,prevKey:g,key:I}=y,V=Zh(f,I),we=function(f,y){if(Jh(y))return 0;{const s=Zh(f,y);return-1===s?f.length:s+1}}(f,g);switch(y.type){case"value":if(y.payload&&y.payload.exists()){let Be=null;y.payload.forEach(ft=>{const At={payload:ft,type:"value",prevKey:Be,key:ft.key};return Be=ft.key,f=[...f,At],!1})}return f;case"child_added":if(V>-1){const Be=f[V-1];(Be&&Be.key||null)!==g&&(f=f.filter(ft=>ft.payload.key!==s.key)).splice(we,0,y)}else{if(null==g)return[y,...f];(f=f.slice()).splice(we,0,y)}return f;case"child_removed":return f.filter(Be=>Be.payload.key!==s.key);case"child_changed":return f.map(Be=>Be.payload.key===I?y:Be);case"child_moved":if(V>-1){const Be=f.splice(V,1)[0];return(f=f.slice()).splice(we,0,Be),f}return f;default:return f}}function ep(f){return(Jh(f)||0===f.length)&&(f=["child_added","child_removed","child_changed","child_moved"]),f}function Qf(f,y,s){return function(f,y,s){return mu(f,"value","once",s).pipe((0,Wn.w)(g=>{const I=[(0,Zi.of)(g)];return y.forEach(V=>I.push(mu(f,V,"on",s))),(0,U.T)(...I).pipe((0,ql.R)(qf,[]))}),function(f,y){return s=>s.lift(new Zn(f,y))}())}(f,y=ep(y),s)}function tp(f,y,s){const g=(y=ep(y)).map(I=>mu(f,I,"on",s));return(0,U.T)(...g)}function ip(f,y){return function(g,I){return _a(g,{stringCase:()=>f.child(g)[y](I),firebaseCase:()=>g[y](I),snapshotCase:()=>g.ref[y](I)})}}function um(f){return function(s){return s?_a(s,{stringCase:()=>f.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):f.remove()}}function op(f,y){return function(){return mu(f,"value","on",y)}}const sp=new u.OlP("angularfire2.realtimeDatabaseURL");let dm=(()=>{class f{constructor(s,g,I,V,we){this.schedulers=new fr.HU(we),this.keepUnstableUntilFirst=(0,fr.ss)(this.schedulers),this.database=we.runOutsideAngular(()=>{const Be=(0,fr.on)(s,we,g);return wc.registerDatabase&&(0,wc.registerDatabase)(xd()),Be.database(I||void 0)})}list(s,g){const I=Kh(this.database,s);let V=I;return g&&(V=g(I)),function(f,y){const s=y.schedulers.outsideAngular,g=y.schedulers.ngZone.run(()=>f.ref);return{query:f,update:ip(g,"update"),set:ip(g,"set"),push:I=>g.push(I),remove:um(g),snapshotChanges:I=>Qf(f,I,s).pipe(y.keepUnstableUntilFirst),stateChanges:I=>tp(f,I,s).pipe(y.keepUnstableUntilFirst),auditTrail:I=>function(f,y,s){return function(f,y,s){return function(f,y){return mu(f,"value","on",y).pipe((0,yr.U)(s=>{let g;return s.payload.forEach(I=>(g=I.key,!1)),{data:s,lastKeyToLoad:g}}))}(f,s).pipe(Hr(y),(0,yr.U)(([I,V])=>{const we=I.lastKeyToLoad,Be=V.map(ft=>ft.key);return{actions:V,lastKeyToLoad:we,loadedKeys:Be}}),function(f){return y=>y.lift(new zf(f))}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,yr.U)(I=>I.actions))}(f,tp(f,y).pipe((0,ql.R)((I,V)=>[...I,V],[])),s)}(f,I,s).pipe(y.keepUnstableUntilFirst),valueChanges:I=>Qf(f,I,s).pipe((0,yr.U)(we=>we.map(Be=>Be.payload.val())),y.keepUnstableUntilFirst)}}(V,this)}object(s){return function(f,y){return{query:f,snapshotChanges:()=>op(f,y.schedulers.outsideAngular)().pipe(y.keepUnstableUntilFirst),update:s=>f.ref.update(s),set:s=>f.ref.set(s),remove:()=>f.ref.remove(),valueChanges:()=>op(f,y.schedulers.outsideAngular)().pipe(y.keepUnstableUntilFirst,(0,yr.U)(g=>g.payload.exists()?g.payload.val():null))}}(Kh(this.database,s),this)}createPushId(){return this.database.ref().push().key}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(fr.Dh),u.LFG(fr.xv,8),u.LFG(sp,8),u.LFG(u.Lbi),u.LFG(u.R0b))},f.\u0275prov=(0,u.Yz7)({factory:function(){return new f((0,u.LFG)(fr.Dh),(0,u.LFG)(fr.xv,8),(0,u.LFG)(sp,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b))},token:f,providedIn:"any"}),f})(),fm=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({providers:[dm]}),f})();var hm=ee(1841);let pm=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f,bootstrap:[yo]}),f.\u0275inj=u.cJS({providers:[$n],imports:[[In,ji,pr.u5,fr.hO.initializeApp(pi_firebaseConfig),Eo.yb,Wf,fm,hm.JF]]}),f})();(0,u.G48)(),Ar().bootstrapModule(pm).catch(f=>console.error(f))},7796:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{__extends:()=>u,__assign:()=>J,__rest:()=>ke,__decorate:()=>Se,__param:()=>Ne,__metadata:()=>Ee,__awaiter:()=>Ie,__generator:()=>ne,__createBinding:()=>X,__exportStar:()=>De,__values:()=>ge,__read:()=>ye,__spread:()=>et,__spreadArrays:()=>ct,__await:()=>st,__asyncGenerator:()=>nt,__asyncDelegator:()=>Te,__asyncValues:()=>Ze,__makeTemplateObject:()=>xt,__importStar:()=>Ft,__importDefault:()=>Gt,__classPrivateFieldGet:()=>Dt,__classPrivateFieldSet:()=>wt});var E=function($,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var de in oe)oe.hasOwnProperty(de)&&(W[de]=oe[de])})($,re)};function u($,re){function W(){this.constructor=$}E($,re),$.prototype=null===re?Object.create(re):(W.prototype=re.prototype,new W)}var J=function(){return(J=Object.assign||function(re){for(var W,oe=1,de=arguments.length;oe<de;oe++)for(var Z in W=arguments[oe])Object.prototype.hasOwnProperty.call(W,Z)&&(re[Z]=W[Z]);return re}).apply(this,arguments)};function ke($,re){var W={};for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&re.indexOf(oe)<0&&(W[oe]=$[oe]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols($);de<oe.length;de++)re.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call($,oe[de])&&(W[oe[de]]=$[oe[de]])}return W}function Se($,re,W,oe){var Re,de=arguments.length,Z=de<3?re:null===oe?oe=Object.getOwnPropertyDescriptor(re,W):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,re,W,oe);else for(var Me=$.length-1;Me>=0;Me--)(Re=$[Me])&&(Z=(de<3?Re(Z):de>3?Re(re,W,Z):Re(re,W))||Z);return de>3&&Z&&Object.defineProperty(re,W,Z),Z}function Ne($,re){return function(W,oe){re(W,oe,$)}}function Ee($,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,re)}function Ie($,re,W,oe){return new(W||(W=Promise))(function(Z,Re){function Me(mt){try{$e(oe.next(mt))}catch(Vt){Re(Vt)}}function Mt(mt){try{$e(oe.throw(mt))}catch(Vt){Re(Vt)}}function $e(mt){mt.done?Z(mt.value):function(Z){return Z instanceof W?Z:new W(function(Re){Re(Z)})}(mt.value).then(Me,Mt)}$e((oe=oe.apply($,re||[])).next())})}function ne($,re){var oe,de,Z,Re,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Re={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Me($e){return function(mt){return function($e){if(oe)throw new TypeError("Generator is already executing.");for(;W;)try{if(oe=1,de&&(Z=2&$e[0]?de.return:$e[0]?de.throw||((Z=de.return)&&Z.call(de),0):de.next)&&!(Z=Z.call(de,$e[1])).done)return Z;switch(de=0,Z&&($e=[2&$e[0],Z.value]),$e[0]){case 0:case 1:Z=$e;break;case 4:return W.label++,{value:$e[1],done:!1};case 5:W.label++,de=$e[1],$e=[0];continue;case 7:$e=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===$e[0]||2===$e[0])){W=0;continue}if(3===$e[0]&&(!Z||$e[1]>Z[0]&&$e[1]<Z[3])){W.label=$e[1];break}if(6===$e[0]&&W.label<Z[1]){W.label=Z[1],Z=$e;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push($e);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}$e=re.call($,W)}catch(mt){$e=[6,mt],de=0}finally{oe=Z=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,mt])}}}function X($,re,W,oe){void 0===oe&&(oe=W),$[oe]=re[W]}function De($,re){for(var W in $)"default"!==W&&!re.hasOwnProperty(W)&&(re[W]=$[W])}function ge($){var re="function"==typeof Symbol&&Symbol.iterator,W=re&&$[re],oe=0;if(W)return W.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&oe>=$.length&&($=void 0),{value:$&&$[oe++],done:!$}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,re){var W="function"==typeof Symbol&&$[Symbol.iterator];if(!W)return $;var de,Re,oe=W.call($),Z=[];try{for(;(void 0===re||re-- >0)&&!(de=oe.next()).done;)Z.push(de.value)}catch(Me){Re={error:Me}}finally{try{de&&!de.done&&(W=oe.return)&&W.call(oe)}finally{if(Re)throw Re.error}}return Z}function et(){for(var $=[],re=0;re<arguments.length;re++)$=$.concat(ye(arguments[re]));return $}function ct(){for(var $=0,re=0,W=arguments.length;re<W;re++)$+=arguments[re].length;var oe=Array($),de=0;for(re=0;re<W;re++)for(var Z=arguments[re],Re=0,Me=Z.length;Re<Me;Re++,de++)oe[de]=Z[Re];return oe}function st($){return this instanceof st?(this.v=$,this):new st($)}function nt($,re,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=W.apply($,re||[]),Z=[];return de={},Re("next"),Re("throw"),Re("return"),de[Symbol.asyncIterator]=function(){return this},de;function Re(rt){oe[rt]&&(de[rt]=function(Tt){return new Promise(function(cn,_n){Z.push([rt,Tt,cn,_n])>1||Me(rt,Tt)})})}function Me(rt,Tt){try{!function(rt){rt.value instanceof st?Promise.resolve(rt.value.v).then($e,mt):Vt(Z[0][2],rt)}(oe[rt](Tt))}catch(cn){Vt(Z[0][3],cn)}}function $e(rt){Me("next",rt)}function mt(rt){Me("throw",rt)}function Vt(rt,Tt){rt(Tt),Z.shift(),Z.length&&Me(Z[0][0],Z[0][1])}}function Te($){var re,W;return re={},oe("next"),oe("throw",function(de){throw de}),oe("return"),re[Symbol.iterator]=function(){return this},re;function oe(de,Z){re[de]=$[de]?function(Re){return(W=!W)?{value:st($[de](Re)),done:"return"===de}:Z?Z(Re):Re}:Z}}function Ze($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,re=$[Symbol.asyncIterator];return re?re.call($):($=ge($),W={},oe("next"),oe("throw"),oe("return"),W[Symbol.asyncIterator]=function(){return this},W);function oe(Z){W[Z]=$[Z]&&function(Re){return new Promise(function(Me,Mt){!function(Z,Re,Me,Mt){Promise.resolve(Mt).then(function($e){Z({value:$e,done:Me})},Re)}(Me,Mt,(Re=$[Z](Re)).done,Re.value)})}}}function xt($,re){return Object.defineProperty?Object.defineProperty($,"raw",{value:re}):$.raw=re,$}function Ft($){if($&&$.__esModule)return $;var re={};if(null!=$)for(var W in $)Object.hasOwnProperty.call($,W)&&(re[W]=$[W]);return re.default=$,re}function Gt($){return $&&$.__esModule?$:{default:$}}function Dt($,re){if(!re.has($))throw new TypeError("attempted to get private field on non-instance");return re.get($)}function wt($,re,W){if(!re.has($))throw new TypeError("attempted to set private field on non-instance");return re.set($,W),W}},5385:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{__extends:()=>u,__assign:()=>J,__rest:()=>ke,__decorate:()=>Se,__param:()=>Ne,__metadata:()=>Ee,__awaiter:()=>Ie,__generator:()=>ne,__createBinding:()=>X,__exportStar:()=>De,__values:()=>ge,__read:()=>ye,__spread:()=>et,__spreadArrays:()=>ct,__await:()=>st,__asyncGenerator:()=>nt,__asyncDelegator:()=>Te,__asyncValues:()=>Ze,__makeTemplateObject:()=>xt,__importStar:()=>Ft,__importDefault:()=>Gt,__classPrivateFieldGet:()=>Dt,__classPrivateFieldSet:()=>wt});var E=function($,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var de in oe)oe.hasOwnProperty(de)&&(W[de]=oe[de])})($,re)};function u($,re){function W(){this.constructor=$}E($,re),$.prototype=null===re?Object.create(re):(W.prototype=re.prototype,new W)}var J=function(){return(J=Object.assign||function(re){for(var W,oe=1,de=arguments.length;oe<de;oe++)for(var Z in W=arguments[oe])Object.prototype.hasOwnProperty.call(W,Z)&&(re[Z]=W[Z]);return re}).apply(this,arguments)};function ke($,re){var W={};for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&re.indexOf(oe)<0&&(W[oe]=$[oe]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols($);de<oe.length;de++)re.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call($,oe[de])&&(W[oe[de]]=$[oe[de]])}return W}function Se($,re,W,oe){var Re,de=arguments.length,Z=de<3?re:null===oe?oe=Object.getOwnPropertyDescriptor(re,W):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,re,W,oe);else for(var Me=$.length-1;Me>=0;Me--)(Re=$[Me])&&(Z=(de<3?Re(Z):de>3?Re(re,W,Z):Re(re,W))||Z);return de>3&&Z&&Object.defineProperty(re,W,Z),Z}function Ne($,re){return function(W,oe){re(W,oe,$)}}function Ee($,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,re)}function Ie($,re,W,oe){return new(W||(W=Promise))(function(Z,Re){function Me(mt){try{$e(oe.next(mt))}catch(Vt){Re(Vt)}}function Mt(mt){try{$e(oe.throw(mt))}catch(Vt){Re(Vt)}}function $e(mt){mt.done?Z(mt.value):function(Z){return Z instanceof W?Z:new W(function(Re){Re(Z)})}(mt.value).then(Me,Mt)}$e((oe=oe.apply($,re||[])).next())})}function ne($,re){var oe,de,Z,Re,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Re={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Me($e){return function(mt){return function($e){if(oe)throw new TypeError("Generator is already executing.");for(;W;)try{if(oe=1,de&&(Z=2&$e[0]?de.return:$e[0]?de.throw||((Z=de.return)&&Z.call(de),0):de.next)&&!(Z=Z.call(de,$e[1])).done)return Z;switch(de=0,Z&&($e=[2&$e[0],Z.value]),$e[0]){case 0:case 1:Z=$e;break;case 4:return W.label++,{value:$e[1],done:!1};case 5:W.label++,de=$e[1],$e=[0];continue;case 7:$e=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===$e[0]||2===$e[0])){W=0;continue}if(3===$e[0]&&(!Z||$e[1]>Z[0]&&$e[1]<Z[3])){W.label=$e[1];break}if(6===$e[0]&&W.label<Z[1]){W.label=Z[1],Z=$e;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push($e);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}$e=re.call($,W)}catch(mt){$e=[6,mt],de=0}finally{oe=Z=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,mt])}}}function X($,re,W,oe){void 0===oe&&(oe=W),$[oe]=re[W]}function De($,re){for(var W in $)"default"!==W&&!re.hasOwnProperty(W)&&(re[W]=$[W])}function ge($){var re="function"==typeof Symbol&&Symbol.iterator,W=re&&$[re],oe=0;if(W)return W.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&oe>=$.length&&($=void 0),{value:$&&$[oe++],done:!$}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,re){var W="function"==typeof Symbol&&$[Symbol.iterator];if(!W)return $;var de,Re,oe=W.call($),Z=[];try{for(;(void 0===re||re-- >0)&&!(de=oe.next()).done;)Z.push(de.value)}catch(Me){Re={error:Me}}finally{try{de&&!de.done&&(W=oe.return)&&W.call(oe)}finally{if(Re)throw Re.error}}return Z}function et(){for(var $=[],re=0;re<arguments.length;re++)$=$.concat(ye(arguments[re]));return $}function ct(){for(var $=0,re=0,W=arguments.length;re<W;re++)$+=arguments[re].length;var oe=Array($),de=0;for(re=0;re<W;re++)for(var Z=arguments[re],Re=0,Me=Z.length;Re<Me;Re++,de++)oe[de]=Z[Re];return oe}function st($){return this instanceof st?(this.v=$,this):new st($)}function nt($,re,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=W.apply($,re||[]),Z=[];return de={},Re("next"),Re("throw"),Re("return"),de[Symbol.asyncIterator]=function(){return this},de;function Re(rt){oe[rt]&&(de[rt]=function(Tt){return new Promise(function(cn,_n){Z.push([rt,Tt,cn,_n])>1||Me(rt,Tt)})})}function Me(rt,Tt){try{!function(rt){rt.value instanceof st?Promise.resolve(rt.value.v).then($e,mt):Vt(Z[0][2],rt)}(oe[rt](Tt))}catch(cn){Vt(Z[0][3],cn)}}function $e(rt){Me("next",rt)}function mt(rt){Me("throw",rt)}function Vt(rt,Tt){rt(Tt),Z.shift(),Z.length&&Me(Z[0][0],Z[0][1])}}function Te($){var re,W;return re={},oe("next"),oe("throw",function(de){throw de}),oe("return"),re[Symbol.iterator]=function(){return this},re;function oe(de,Z){re[de]=$[de]?function(Re){return(W=!W)?{value:st($[de](Re)),done:"return"===de}:Z?Z(Re):Re}:Z}}function Ze($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,re=$[Symbol.asyncIterator];return re?re.call($):($=ge($),W={},oe("next"),oe("throw"),oe("return"),W[Symbol.asyncIterator]=function(){return this},W);function oe(Z){W[Z]=$[Z]&&function(Re){return new Promise(function(Me,Mt){!function(Z,Re,Me,Mt){Promise.resolve(Mt).then(function($e){Z({value:$e,done:Me})},Re)}(Me,Mt,(Re=$[Z](Re)).done,Re.value)})}}}function xt($,re){return Object.defineProperty?Object.defineProperty($,"raw",{value:re}):$.raw=re,$}function Ft($){if($&&$.__esModule)return $;var re={};if(null!=$)for(var W in $)Object.hasOwnProperty.call($,W)&&(re[W]=$[W]);return re.default=$,re}function Gt($){return $&&$.__esModule?$:{default:$}}function Dt($,re){if(!re.has($))throw new TypeError("attempted to get private field on non-instance");return re.get($)}function wt($,re,W){if(!re.has($))throw new TypeError("attempted to set private field on non-instance");return re.set($,W),W}},209:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{__extends:()=>u,__assign:()=>J,__rest:()=>ke,__decorate:()=>Se,__param:()=>Ne,__metadata:()=>Ee,__awaiter:()=>Ie,__generator:()=>ne,__createBinding:()=>X,__exportStar:()=>De,__values:()=>ge,__read:()=>ye,__spread:()=>et,__spreadArrays:()=>ct,__await:()=>st,__asyncGenerator:()=>nt,__asyncDelegator:()=>Te,__asyncValues:()=>Ze,__makeTemplateObject:()=>xt,__importStar:()=>Ft,__importDefault:()=>Gt,__classPrivateFieldGet:()=>Dt,__classPrivateFieldSet:()=>wt});var E=function($,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var de in oe)oe.hasOwnProperty(de)&&(W[de]=oe[de])})($,re)};function u($,re){function W(){this.constructor=$}E($,re),$.prototype=null===re?Object.create(re):(W.prototype=re.prototype,new W)}var J=function(){return(J=Object.assign||function(re){for(var W,oe=1,de=arguments.length;oe<de;oe++)for(var Z in W=arguments[oe])Object.prototype.hasOwnProperty.call(W,Z)&&(re[Z]=W[Z]);return re}).apply(this,arguments)};function ke($,re){var W={};for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&re.indexOf(oe)<0&&(W[oe]=$[oe]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols($);de<oe.length;de++)re.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call($,oe[de])&&(W[oe[de]]=$[oe[de]])}return W}function Se($,re,W,oe){var Re,de=arguments.length,Z=de<3?re:null===oe?oe=Object.getOwnPropertyDescriptor(re,W):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,re,W,oe);else for(var Me=$.length-1;Me>=0;Me--)(Re=$[Me])&&(Z=(de<3?Re(Z):de>3?Re(re,W,Z):Re(re,W))||Z);return de>3&&Z&&Object.defineProperty(re,W,Z),Z}function Ne($,re){return function(W,oe){re(W,oe,$)}}function Ee($,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,re)}function Ie($,re,W,oe){return new(W||(W=Promise))(function(Z,Re){function Me(mt){try{$e(oe.next(mt))}catch(Vt){Re(Vt)}}function Mt(mt){try{$e(oe.throw(mt))}catch(Vt){Re(Vt)}}function $e(mt){mt.done?Z(mt.value):function(Z){return Z instanceof W?Z:new W(function(Re){Re(Z)})}(mt.value).then(Me,Mt)}$e((oe=oe.apply($,re||[])).next())})}function ne($,re){var oe,de,Z,Re,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Re={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Me($e){return function(mt){return function($e){if(oe)throw new TypeError("Generator is already executing.");for(;W;)try{if(oe=1,de&&(Z=2&$e[0]?de.return:$e[0]?de.throw||((Z=de.return)&&Z.call(de),0):de.next)&&!(Z=Z.call(de,$e[1])).done)return Z;switch(de=0,Z&&($e=[2&$e[0],Z.value]),$e[0]){case 0:case 1:Z=$e;break;case 4:return W.label++,{value:$e[1],done:!1};case 5:W.label++,de=$e[1],$e=[0];continue;case 7:$e=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===$e[0]||2===$e[0])){W=0;continue}if(3===$e[0]&&(!Z||$e[1]>Z[0]&&$e[1]<Z[3])){W.label=$e[1];break}if(6===$e[0]&&W.label<Z[1]){W.label=Z[1],Z=$e;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push($e);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}$e=re.call($,W)}catch(mt){$e=[6,mt],de=0}finally{oe=Z=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,mt])}}}function X($,re,W,oe){void 0===oe&&(oe=W),$[oe]=re[W]}function De($,re){for(var W in $)"default"!==W&&!re.hasOwnProperty(W)&&(re[W]=$[W])}function ge($){var re="function"==typeof Symbol&&Symbol.iterator,W=re&&$[re],oe=0;if(W)return W.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&oe>=$.length&&($=void 0),{value:$&&$[oe++],done:!$}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,re){var W="function"==typeof Symbol&&$[Symbol.iterator];if(!W)return $;var de,Re,oe=W.call($),Z=[];try{for(;(void 0===re||re-- >0)&&!(de=oe.next()).done;)Z.push(de.value)}catch(Me){Re={error:Me}}finally{try{de&&!de.done&&(W=oe.return)&&W.call(oe)}finally{if(Re)throw Re.error}}return Z}function et(){for(var $=[],re=0;re<arguments.length;re++)$=$.concat(ye(arguments[re]));return $}function ct(){for(var $=0,re=0,W=arguments.length;re<W;re++)$+=arguments[re].length;var oe=Array($),de=0;for(re=0;re<W;re++)for(var Z=arguments[re],Re=0,Me=Z.length;Re<Me;Re++,de++)oe[de]=Z[Re];return oe}function st($){return this instanceof st?(this.v=$,this):new st($)}function nt($,re,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=W.apply($,re||[]),Z=[];return de={},Re("next"),Re("throw"),Re("return"),de[Symbol.asyncIterator]=function(){return this},de;function Re(rt){oe[rt]&&(de[rt]=function(Tt){return new Promise(function(cn,_n){Z.push([rt,Tt,cn,_n])>1||Me(rt,Tt)})})}function Me(rt,Tt){try{!function(rt){rt.value instanceof st?Promise.resolve(rt.value.v).then($e,mt):Vt(Z[0][2],rt)}(oe[rt](Tt))}catch(cn){Vt(Z[0][3],cn)}}function $e(rt){Me("next",rt)}function mt(rt){Me("throw",rt)}function Vt(rt,Tt){rt(Tt),Z.shift(),Z.length&&Me(Z[0][0],Z[0][1])}}function Te($){var re,W;return re={},oe("next"),oe("throw",function(de){throw de}),oe("return"),re[Symbol.iterator]=function(){return this},re;function oe(de,Z){re[de]=$[de]?function(Re){return(W=!W)?{value:st($[de](Re)),done:"return"===de}:Z?Z(Re):Re}:Z}}function Ze($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,re=$[Symbol.asyncIterator];return re?re.call($):($=ge($),W={},oe("next"),oe("throw"),oe("return"),W[Symbol.asyncIterator]=function(){return this},W);function oe(Z){W[Z]=$[Z]&&function(Re){return new Promise(function(Me,Mt){!function(Z,Re,Me,Mt){Promise.resolve(Mt).then(function($e){Z({value:$e,done:Me})},Re)}(Me,Mt,(Re=$[Z](Re)).done,Re.value)})}}}function xt($,re){return Object.defineProperty?Object.defineProperty($,"raw",{value:re}):$.raw=re,$}function Ft($){if($&&$.__esModule)return $;var re={};if(null!=$)for(var W in $)Object.hasOwnProperty.call($,W)&&(re[W]=$[W]);return re.default=$,re}function Gt($){return $&&$.__esModule?$:{default:$}}function Dt($,re){if(!re.has($))throw new TypeError("attempted to get private field on non-instance");return re.get($)}function wt($,re,W){if(!re.has($))throw new TypeError("attempted to set private field on non-instance");return re.set($,W),W}},5704:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{__extends:()=>u,__assign:()=>J,__rest:()=>ke,__decorate:()=>Se,__param:()=>Ne,__metadata:()=>Ee,__awaiter:()=>Ie,__generator:()=>ne,__createBinding:()=>X,__exportStar:()=>De,__values:()=>ge,__read:()=>ye,__spread:()=>et,__spreadArrays:()=>ct,__await:()=>st,__asyncGenerator:()=>nt,__asyncDelegator:()=>Te,__asyncValues:()=>Ze,__makeTemplateObject:()=>xt,__importStar:()=>Ft,__importDefault:()=>Gt,__classPrivateFieldGet:()=>Dt,__classPrivateFieldSet:()=>wt});var E=function($,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var de in oe)oe.hasOwnProperty(de)&&(W[de]=oe[de])})($,re)};function u($,re){function W(){this.constructor=$}E($,re),$.prototype=null===re?Object.create(re):(W.prototype=re.prototype,new W)}var J=function(){return(J=Object.assign||function(re){for(var W,oe=1,de=arguments.length;oe<de;oe++)for(var Z in W=arguments[oe])Object.prototype.hasOwnProperty.call(W,Z)&&(re[Z]=W[Z]);return re}).apply(this,arguments)};function ke($,re){var W={};for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&re.indexOf(oe)<0&&(W[oe]=$[oe]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols($);de<oe.length;de++)re.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call($,oe[de])&&(W[oe[de]]=$[oe[de]])}return W}function Se($,re,W,oe){var Re,de=arguments.length,Z=de<3?re:null===oe?oe=Object.getOwnPropertyDescriptor(re,W):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,re,W,oe);else for(var Me=$.length-1;Me>=0;Me--)(Re=$[Me])&&(Z=(de<3?Re(Z):de>3?Re(re,W,Z):Re(re,W))||Z);return de>3&&Z&&Object.defineProperty(re,W,Z),Z}function Ne($,re){return function(W,oe){re(W,oe,$)}}function Ee($,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,re)}function Ie($,re,W,oe){return new(W||(W=Promise))(function(Z,Re){function Me(mt){try{$e(oe.next(mt))}catch(Vt){Re(Vt)}}function Mt(mt){try{$e(oe.throw(mt))}catch(Vt){Re(Vt)}}function $e(mt){mt.done?Z(mt.value):function(Z){return Z instanceof W?Z:new W(function(Re){Re(Z)})}(mt.value).then(Me,Mt)}$e((oe=oe.apply($,re||[])).next())})}function ne($,re){var oe,de,Z,Re,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Re={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Me($e){return function(mt){return function($e){if(oe)throw new TypeError("Generator is already executing.");for(;W;)try{if(oe=1,de&&(Z=2&$e[0]?de.return:$e[0]?de.throw||((Z=de.return)&&Z.call(de),0):de.next)&&!(Z=Z.call(de,$e[1])).done)return Z;switch(de=0,Z&&($e=[2&$e[0],Z.value]),$e[0]){case 0:case 1:Z=$e;break;case 4:return W.label++,{value:$e[1],done:!1};case 5:W.label++,de=$e[1],$e=[0];continue;case 7:$e=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===$e[0]||2===$e[0])){W=0;continue}if(3===$e[0]&&(!Z||$e[1]>Z[0]&&$e[1]<Z[3])){W.label=$e[1];break}if(6===$e[0]&&W.label<Z[1]){W.label=Z[1],Z=$e;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push($e);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}$e=re.call($,W)}catch(mt){$e=[6,mt],de=0}finally{oe=Z=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,mt])}}}function X($,re,W,oe){void 0===oe&&(oe=W),$[oe]=re[W]}function De($,re){for(var W in $)"default"!==W&&!re.hasOwnProperty(W)&&(re[W]=$[W])}function ge($){var re="function"==typeof Symbol&&Symbol.iterator,W=re&&$[re],oe=0;if(W)return W.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&oe>=$.length&&($=void 0),{value:$&&$[oe++],done:!$}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,re){var W="function"==typeof Symbol&&$[Symbol.iterator];if(!W)return $;var de,Re,oe=W.call($),Z=[];try{for(;(void 0===re||re-- >0)&&!(de=oe.next()).done;)Z.push(de.value)}catch(Me){Re={error:Me}}finally{try{de&&!de.done&&(W=oe.return)&&W.call(oe)}finally{if(Re)throw Re.error}}return Z}function et(){for(var $=[],re=0;re<arguments.length;re++)$=$.concat(ye(arguments[re]));return $}function ct(){for(var $=0,re=0,W=arguments.length;re<W;re++)$+=arguments[re].length;var oe=Array($),de=0;for(re=0;re<W;re++)for(var Z=arguments[re],Re=0,Me=Z.length;Re<Me;Re++,de++)oe[de]=Z[Re];return oe}function st($){return this instanceof st?(this.v=$,this):new st($)}function nt($,re,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=W.apply($,re||[]),Z=[];return de={},Re("next"),Re("throw"),Re("return"),de[Symbol.asyncIterator]=function(){return this},de;function Re(rt){oe[rt]&&(de[rt]=function(Tt){return new Promise(function(cn,_n){Z.push([rt,Tt,cn,_n])>1||Me(rt,Tt)})})}function Me(rt,Tt){try{!function(rt){rt.value instanceof st?Promise.resolve(rt.value.v).then($e,mt):Vt(Z[0][2],rt)}(oe[rt](Tt))}catch(cn){Vt(Z[0][3],cn)}}function $e(rt){Me("next",rt)}function mt(rt){Me("throw",rt)}function Vt(rt,Tt){rt(Tt),Z.shift(),Z.length&&Me(Z[0][0],Z[0][1])}}function Te($){var re,W;return re={},oe("next"),oe("throw",function(de){throw de}),oe("return"),re[Symbol.iterator]=function(){return this},re;function oe(de,Z){re[de]=$[de]?function(Re){return(W=!W)?{value:st($[de](Re)),done:"return"===de}:Z?Z(Re):Re}:Z}}function Ze($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,re=$[Symbol.asyncIterator];return re?re.call($):($=ge($),W={},oe("next"),oe("throw"),oe("return"),W[Symbol.asyncIterator]=function(){return this},W);function oe(Z){W[Z]=$[Z]&&function(Re){return new Promise(function(Me,Mt){!function(Z,Re,Me,Mt){Promise.resolve(Mt).then(function($e){Z({value:$e,done:Me})},Re)}(Me,Mt,(Re=$[Z](Re)).done,Re.value)})}}}function xt($,re){return Object.defineProperty?Object.defineProperty($,"raw",{value:re}):$.raw=re,$}function Ft($){if($&&$.__esModule)return $;var re={};if(null!=$)for(var W in $)Object.hasOwnProperty.call($,W)&&(re[W]=$[W]);return re.default=$,re}function Gt($){return $&&$.__esModule?$:{default:$}}function Dt($,re){if(!re.has($))throw new TypeError("attempted to get private field on non-instance");return re.get($)}function wt($,re,W){if(!re.has($))throw new TypeError("attempted to set private field on non-instance");return re.set($,W),W}},5057:(zt,Pe,ee)=>{"use strict";ee.r(Pe),ee.d(Pe,{__extends:()=>u,__assign:()=>J,__rest:()=>ke,__decorate:()=>Se,__param:()=>Ne,__metadata:()=>Ee,__awaiter:()=>Ie,__generator:()=>ne,__createBinding:()=>X,__exportStar:()=>De,__values:()=>ge,__read:()=>ye,__spread:()=>et,__spreadArrays:()=>ct,__await:()=>st,__asyncGenerator:()=>nt,__asyncDelegator:()=>Te,__asyncValues:()=>Ze,__makeTemplateObject:()=>xt,__importStar:()=>Ft,__importDefault:()=>Gt,__classPrivateFieldGet:()=>Dt,__classPrivateFieldSet:()=>wt});var E=function($,re){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var de in oe)oe.hasOwnProperty(de)&&(W[de]=oe[de])})($,re)};function u($,re){function W(){this.constructor=$}E($,re),$.prototype=null===re?Object.create(re):(W.prototype=re.prototype,new W)}var J=function(){return(J=Object.assign||function(re){for(var W,oe=1,de=arguments.length;oe<de;oe++)for(var Z in W=arguments[oe])Object.prototype.hasOwnProperty.call(W,Z)&&(re[Z]=W[Z]);return re}).apply(this,arguments)};function ke($,re){var W={};for(var oe in $)Object.prototype.hasOwnProperty.call($,oe)&&re.indexOf(oe)<0&&(W[oe]=$[oe]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols($);de<oe.length;de++)re.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call($,oe[de])&&(W[oe[de]]=$[oe[de]])}return W}function Se($,re,W,oe){var Re,de=arguments.length,Z=de<3?re:null===oe?oe=Object.getOwnPropertyDescriptor(re,W):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,re,W,oe);else for(var Me=$.length-1;Me>=0;Me--)(Re=$[Me])&&(Z=(de<3?Re(Z):de>3?Re(re,W,Z):Re(re,W))||Z);return de>3&&Z&&Object.defineProperty(re,W,Z),Z}function Ne($,re){return function(W,oe){re(W,oe,$)}}function Ee($,re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata($,re)}function Ie($,re,W,oe){return new(W||(W=Promise))(function(Z,Re){function Me(mt){try{$e(oe.next(mt))}catch(Vt){Re(Vt)}}function Mt(mt){try{$e(oe.throw(mt))}catch(Vt){Re(Vt)}}function $e(mt){mt.done?Z(mt.value):function(Z){return Z instanceof W?Z:new W(function(Re){Re(Z)})}(mt.value).then(Me,Mt)}$e((oe=oe.apply($,re||[])).next())})}function ne($,re){var oe,de,Z,Re,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Re={next:Me(0),throw:Me(1),return:Me(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Me($e){return function(mt){return function($e){if(oe)throw new TypeError("Generator is already executing.");for(;W;)try{if(oe=1,de&&(Z=2&$e[0]?de.return:$e[0]?de.throw||((Z=de.return)&&Z.call(de),0):de.next)&&!(Z=Z.call(de,$e[1])).done)return Z;switch(de=0,Z&&($e=[2&$e[0],Z.value]),$e[0]){case 0:case 1:Z=$e;break;case 4:return W.label++,{value:$e[1],done:!1};case 5:W.label++,de=$e[1],$e=[0];continue;case 7:$e=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===$e[0]||2===$e[0])){W=0;continue}if(3===$e[0]&&(!Z||$e[1]>Z[0]&&$e[1]<Z[3])){W.label=$e[1];break}if(6===$e[0]&&W.label<Z[1]){W.label=Z[1],Z=$e;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push($e);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}$e=re.call($,W)}catch(mt){$e=[6,mt],de=0}finally{oe=Z=0}if(5&$e[0])throw $e[1];return{value:$e[0]?$e[1]:void 0,done:!0}}([$e,mt])}}}function X($,re,W,oe){void 0===oe&&(oe=W),$[oe]=re[W]}function De($,re){for(var W in $)"default"!==W&&!re.hasOwnProperty(W)&&(re[W]=$[W])}function ge($){var re="function"==typeof Symbol&&Symbol.iterator,W=re&&$[re],oe=0;if(W)return W.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&oe>=$.length&&($=void 0),{value:$&&$[oe++],done:!$}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye($,re){var W="function"==typeof Symbol&&$[Symbol.iterator];if(!W)return $;var de,Re,oe=W.call($),Z=[];try{for(;(void 0===re||re-- >0)&&!(de=oe.next()).done;)Z.push(de.value)}catch(Me){Re={error:Me}}finally{try{de&&!de.done&&(W=oe.return)&&W.call(oe)}finally{if(Re)throw Re.error}}return Z}function et(){for(var $=[],re=0;re<arguments.length;re++)$=$.concat(ye(arguments[re]));return $}function ct(){for(var $=0,re=0,W=arguments.length;re<W;re++)$+=arguments[re].length;var oe=Array($),de=0;for(re=0;re<W;re++)for(var Z=arguments[re],Re=0,Me=Z.length;Re<Me;Re++,de++)oe[de]=Z[Re];return oe}function st($){return this instanceof st?(this.v=$,this):new st($)}function nt($,re,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=W.apply($,re||[]),Z=[];return de={},Re("next"),Re("throw"),Re("return"),de[Symbol.asyncIterator]=function(){return this},de;function Re(rt){oe[rt]&&(de[rt]=function(Tt){return new Promise(function(cn,_n){Z.push([rt,Tt,cn,_n])>1||Me(rt,Tt)})})}function Me(rt,Tt){try{!function(rt){rt.value instanceof st?Promise.resolve(rt.value.v).then($e,mt):Vt(Z[0][2],rt)}(oe[rt](Tt))}catch(cn){Vt(Z[0][3],cn)}}function $e(rt){Me("next",rt)}function mt(rt){Me("throw",rt)}function Vt(rt,Tt){rt(Tt),Z.shift(),Z.length&&Me(Z[0][0],Z[0][1])}}function Te($){var re,W;return re={},oe("next"),oe("throw",function(de){throw de}),oe("return"),re[Symbol.iterator]=function(){return this},re;function oe(de,Z){re[de]=$[de]?function(Re){return(W=!W)?{value:st($[de](Re)),done:"return"===de}:Z?Z(Re):Re}:Z}}function Ze($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,re=$[Symbol.asyncIterator];return re?re.call($):($=ge($),W={},oe("next"),oe("throw"),oe("return"),W[Symbol.asyncIterator]=function(){return this},W);function oe(Z){W[Z]=$[Z]&&function(Re){return new Promise(function(Me,Mt){!function(Z,Re,Me,Mt){Promise.resolve(Mt).then(function($e){Z({value:$e,done:Me})},Re)}(Me,Mt,(Re=$[Z](Re)).done,Re.value)})}}}function xt($,re){return Object.defineProperty?Object.defineProperty($,"raw",{value:re}):$.raw=re,$}function Ft($){if($&&$.__esModule)return $;var re={};if(null!=$)for(var W in $)Object.hasOwnProperty.call($,W)&&(re[W]=$[W]);return re.default=$,re}function Gt($){return $&&$.__esModule?$:{default:$}}function Dt($,re){if(!re.has($))throw new TypeError("attempted to get private field on non-instance");return re.get($)}function wt($,re,W){if(!re.has($))throw new TypeError("attempted to set private field on non-instance");return re.set($,W),W}}},zt=>{zt(zt.s=654)}]);